/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@deriv/shared"), require("@deriv/translations"));
	else if(typeof define === 'function' && define.amd)
		define(["@deriv/shared", "@deriv/translations"], factory);
	else if(typeof exports === 'object')
		exports["@deriv/bot-trade-engine"] = factory(require("@deriv/shared"), require("@deriv/translations"));
	else
		root["@deriv/bot-trade-engine"] = factory(root["@deriv/shared"], root["@deriv/translations"]);
})(self, (__WEBPACK_EXTERNAL_MODULE__deriv_shared__, __WEBPACK_EXTERNAL_MODULE__deriv_translations__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/@datadog/browser-core/esm/boot/init.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/boot/init.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defineGlobal\": () => (/* binding */ defineGlobal),\n/* harmony export */   \"makePublicApi\": () => (/* binding */ makePublicApi)\n/* harmony export */ });\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/catchUserErrors */ \"../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\n\n\nfunction makePublicApi(stub) {\n    var publicApi = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.assign)({\n        version: \"4.50.1\",\n        // This API method is intentionally not monitored, since the only thing executed is the\n        // user-provided 'callback'.  All SDK usages executed in the callback should be monitored, and\n        // we don't want to interfere with the user uncaught exceptions.\n        onReady: function (callback) {\n            callback();\n        },\n    }, stub);\n    // Add a \"hidden\" property to set debug mode. We define it that way to hide it\n    // as much as possible but of course it's not a real protection.\n    Object.defineProperty(publicApi, '_setDebug', {\n        get: function () {\n            return _tools_monitor__WEBPACK_IMPORTED_MODULE_1__.setDebugMode;\n        },\n        enumerable: false,\n    });\n    return publicApi;\n}\nfunction defineGlobal(global, name, api) {\n    var existingGlobalVariable = global[name];\n    global[name] = api;\n    if (existingGlobalVariable && existingGlobalVariable.q) {\n        existingGlobalVariable.q.forEach(function (fn) { return (0,_tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__.catchUserErrors)(fn, 'onReady callback threw an error:')(); });\n    }\n}\n//# sourceMappingURL=init.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYm9vdC9pbml0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9ib290L2luaXQuanM/ZDhjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYXRjaFVzZXJFcnJvcnMgfSBmcm9tICcuLi90b29scy9jYXRjaFVzZXJFcnJvcnMnO1xuaW1wb3J0IHsgc2V0RGVidWdNb2RlIH0gZnJvbSAnLi4vdG9vbHMvbW9uaXRvcic7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQdWJsaWNBcGkoc3R1Yikge1xuICAgIHZhciBwdWJsaWNBcGkgPSBhc3NpZ24oe1xuICAgICAgICB2ZXJzaW9uOiBcIjQuNTAuMVwiLFxuICAgICAgICAvLyBUaGlzIEFQSSBtZXRob2QgaXMgaW50ZW50aW9uYWxseSBub3QgbW9uaXRvcmVkLCBzaW5jZSB0aGUgb25seSB0aGluZyBleGVjdXRlZCBpcyB0aGVcbiAgICAgICAgLy8gdXNlci1wcm92aWRlZCAnY2FsbGJhY2snLiAgQWxsIFNESyB1c2FnZXMgZXhlY3V0ZWQgaW4gdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBtb25pdG9yZWQsIGFuZFxuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGludGVyZmVyZSB3aXRoIHRoZSB1c2VyIHVuY2F1Z2h0IGV4Y2VwdGlvbnMuXG4gICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSxcbiAgICB9LCBzdHViKTtcbiAgICAvLyBBZGQgYSBcImhpZGRlblwiIHByb3BlcnR5IHRvIHNldCBkZWJ1ZyBtb2RlLiBXZSBkZWZpbmUgaXQgdGhhdCB3YXkgdG8gaGlkZSBpdFxuICAgIC8vIGFzIG11Y2ggYXMgcG9zc2libGUgYnV0IG9mIGNvdXJzZSBpdCdzIG5vdCBhIHJlYWwgcHJvdGVjdGlvbi5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHVibGljQXBpLCAnX3NldERlYnVnJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXREZWJ1Z01vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIHJldHVybiBwdWJsaWNBcGk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lR2xvYmFsKGdsb2JhbCwgbmFtZSwgYXBpKSB7XG4gICAgdmFyIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUgPSBnbG9iYWxbbmFtZV07XG4gICAgZ2xvYmFsW25hbWVdID0gYXBpO1xuICAgIGlmIChleGlzdGluZ0dsb2JhbFZhcmlhYmxlICYmIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUucSkge1xuICAgICAgICBleGlzdGluZ0dsb2JhbFZhcmlhYmxlLnEuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGNhdGNoVXNlckVycm9ycyhmbiwgJ29uUmVhZHkgY2FsbGJhY2sgdGhyZXcgYW4gZXJyb3I6JykoKTsgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/boot/init.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addEventListener\": () => (/* binding */ addEventListener),\n/* harmony export */   \"addEventListeners\": () => (/* binding */ addEventListeners)\n/* harmony export */ });\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/getZoneJsOriginalValue */ \"../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\");\n\n\n/**\n * Add an event listener to an event target object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n */\nfunction addEventListener(configuration, eventTarget, eventName, listener, options) {\n    return addEventListeners(configuration, eventTarget, [eventName], listener, options);\n}\n/**\n * Add event listeners to an event target object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are listened\n */\nfunction addEventListeners(_, eventTarget, eventNames, listener, _a) {\n    var _b = _a === void 0 ? {} : _a, once = _b.once, capture = _b.capture, passive = _b.passive;\n    var listenerWithMonitor = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(once\n        ? function (event) {\n            stop();\n            listener(event);\n        }\n        : listener);\n    var options = passive ? { capture: capture, passive: passive } : capture;\n    var add = (0,_tools_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_1__.getZoneJsOriginalValue)(eventTarget, 'addEventListener');\n    eventNames.forEach(function (eventName) { return add.call(eventTarget, eventName, listenerWithMonitor, options); });\n    function stop() {\n        var remove = (0,_tools_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_1__.getZoneJsOriginalValue)(eventTarget, 'removeEventListener');\n        eventNames.forEach(function (eventName) { return remove.call(eventTarget, eventName, listenerWithMonitor, options); });\n    }\n    return {\n        stop: stop,\n    };\n}\n//# sourceMappingURL=addEventListener.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9hZGRFdmVudExpc3RlbmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9hZGRFdmVudExpc3RlbmVyLmpzPzNhMzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZSB9IGZyb20gJy4uL3Rvb2xzL2dldFpvbmVKc09yaWdpbmFsVmFsdWUnO1xuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYW4gZXZlbnQgdGFyZ2V0IG9iamVjdCAoV2luZG93LCBFbGVtZW50LCBtb2NrIG9iamVjdC4uLikuICBUaGlzIHByb3ZpZGVzXG4gKiBhIGZldyBjb252ZW5pZW5jZXMgY29tcGFyZWQgdG8gdXNpbmcgYGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgZGlyZWN0bHk6XG4gKlxuICogKiBzdXBwb3J0cyBJRTExIGJ5OiB1c2luZyBhbiBvcHRpb24gb2JqZWN0IG9ubHkgaWYgbmVlZGVkIGFuZCBlbXVsYXRpbmcgdGhlIGBvbmNlYCBvcHRpb25cbiAqXG4gKiAqIHdyYXBzIHRoZSBsaXN0ZW5lciB3aXRoIGEgYG1vbml0b3JgIGZ1bmN0aW9uXG4gKlxuICogKiByZXR1cm5zIGEgYHN0b3BgIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoY29uZmlndXJhdGlvbiwgZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcnMoY29uZmlndXJhdGlvbiwgZXZlbnRUYXJnZXQsIFtldmVudE5hbWVdLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG4vKipcbiAqIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYW4gZXZlbnQgdGFyZ2V0IG9iamVjdCAoV2luZG93LCBFbGVtZW50LCBtb2NrIG9iamVjdC4uLikuICBUaGlzIHByb3ZpZGVzXG4gKiBhIGZldyBjb252ZW5pZW5jZXMgY29tcGFyZWQgdG8gdXNpbmcgYGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgZGlyZWN0bHk6XG4gKlxuICogKiBzdXBwb3J0cyBJRTExIGJ5OiB1c2luZyBhbiBvcHRpb24gb2JqZWN0IG9ubHkgaWYgbmVlZGVkIGFuZCBlbXVsYXRpbmcgdGhlIGBvbmNlYCBvcHRpb25cbiAqXG4gKiAqIHdyYXBzIHRoZSBsaXN0ZW5lciB3aXRoIGEgYG1vbml0b3JgIGZ1bmN0aW9uXG4gKlxuICogKiByZXR1cm5zIGEgYHN0b3BgIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAqXG4gKiAqIHdpdGggYG9uY2U6IHRydWVgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLCBldmVuIGlmIGRpZmZlcmVudCBldmVudHMgYXJlIGxpc3RlbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyhfLCBldmVudFRhcmdldCwgZXZlbnROYW1lcywgbGlzdGVuZXIsIF9hKSB7XG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uY2UgPSBfYi5vbmNlLCBjYXB0dXJlID0gX2IuY2FwdHVyZSwgcGFzc2l2ZSA9IF9iLnBhc3NpdmU7XG4gICAgdmFyIGxpc3RlbmVyV2l0aE1vbml0b3IgPSBtb25pdG9yKG9uY2VcbiAgICAgICAgPyBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICA6IGxpc3RlbmVyKTtcbiAgICB2YXIgb3B0aW9ucyA9IHBhc3NpdmUgPyB7IGNhcHR1cmU6IGNhcHR1cmUsIHBhc3NpdmU6IHBhc3NpdmUgfSA6IGNhcHR1cmU7XG4gICAgdmFyIGFkZCA9IGdldFpvbmVKc09yaWdpbmFsVmFsdWUoZXZlbnRUYXJnZXQsICdhZGRFdmVudExpc3RlbmVyJyk7XG4gICAgZXZlbnROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHsgcmV0dXJuIGFkZC5jYWxsKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGxpc3RlbmVyV2l0aE1vbml0b3IsIG9wdGlvbnMpOyB9KTtcbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB2YXIgcmVtb3ZlID0gZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZShldmVudFRhcmdldCwgJ3JlbW92ZUV2ZW50TGlzdGVuZXInKTtcbiAgICAgICAgZXZlbnROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHsgcmV0dXJuIHJlbW92ZS5jYWxsKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGxpc3RlbmVyV2l0aE1vbml0b3IsIG9wdGlvbnMpOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogc3RvcCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkRXZlbnRMaXN0ZW5lci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/browser/cookie.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/cookie.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"areCookiesAuthorized\": () => (/* binding */ areCookiesAuthorized),\n/* harmony export */   \"deleteCookie\": () => (/* binding */ deleteCookie),\n/* harmony export */   \"getCookie\": () => (/* binding */ getCookie),\n/* harmony export */   \"getCurrentSite\": () => (/* binding */ getCurrentSite),\n/* harmony export */   \"setCookie\": () => (/* binding */ setCookie)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/stringUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n\n\n\nfunction setCookie(name, value, expireDelay, options) {\n    var date = new Date();\n    date.setTime(date.getTime() + expireDelay);\n    var expires = \"expires=\".concat(date.toUTCString());\n    var sameSite = options && options.crossSite ? 'none' : 'strict';\n    var domain = options && options.domain ? \";domain=\".concat(options.domain) : '';\n    var secure = options && options.secure ? ';secure' : '';\n    document.cookie = \"\".concat(name, \"=\").concat(value, \";\").concat(expires, \";path=/;samesite=\").concat(sameSite).concat(domain).concat(secure);\n}\nfunction getCookie(name) {\n    return (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(document.cookie, name);\n}\nfunction deleteCookie(name, options) {\n    setCookie(name, '', 0, options);\n}\nfunction areCookiesAuthorized(options) {\n    if (document.cookie === undefined || document.cookie === null) {\n        return false;\n    }\n    try {\n        // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n        // the test cookie lifetime\n        var testCookieName = \"dd_cookie_test_\".concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)());\n        var testCookieValue = 'test';\n        setCookie(testCookieName, testCookieValue, _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE, options);\n        var isCookieCorrectlySet = getCookie(testCookieName) === testCookieValue;\n        deleteCookie(testCookieName, options);\n        return isCookieCorrectlySet;\n    }\n    catch (error) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.error(error);\n        return false;\n    }\n}\n/**\n * No API to retrieve it, number of levels for subdomain and suffix are unknown\n * strategy: find the minimal domain on which cookies are allowed to be set\n * https://web.dev/same-site-same-origin/#site\n */\nvar getCurrentSiteCache;\nfunction getCurrentSite() {\n    if (getCurrentSiteCache === undefined) {\n        // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n        // the test cookie lifetime\n        var testCookieName = \"dd_site_test_\".concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)());\n        var testCookieValue = 'test';\n        var domainLevels = window.location.hostname.split('.');\n        var candidateDomain = domainLevels.pop();\n        while (domainLevels.length && !getCookie(testCookieName)) {\n            candidateDomain = \"\".concat(domainLevels.pop(), \".\").concat(candidateDomain);\n            setCookie(testCookieName, testCookieValue, _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND, { domain: candidateDomain });\n        }\n        deleteCookie(testCookieName, { domain: candidateDomain });\n        getCurrentSiteCache = candidateDomain;\n    }\n    return getCurrentSiteCache;\n}\n//# sourceMappingURL=cookie.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9jb29raWUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2Jyb3dzZXIvY29va2llLmpzP2ZiZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uL3Rvb2xzL2Rpc3BsYXknO1xuaW1wb3J0IHsgT05FX01JTlVURSwgT05FX1NFQ09ORCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZSwgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvc3RyaW5nVXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZXhwaXJlRGVsYXksIG9wdGlvbnMpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgZXhwaXJlRGVsYXkpO1xuICAgIHZhciBleHBpcmVzID0gXCJleHBpcmVzPVwiLmNvbmNhdChkYXRlLnRvVVRDU3RyaW5nKCkpO1xuICAgIHZhciBzYW1lU2l0ZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jcm9zc1NpdGUgPyAnbm9uZScgOiAnc3RyaWN0JztcbiAgICB2YXIgZG9tYWluID0gb3B0aW9ucyAmJiBvcHRpb25zLmRvbWFpbiA/IFwiO2RvbWFpbj1cIi5jb25jYXQob3B0aW9ucy5kb21haW4pIDogJyc7XG4gICAgdmFyIHNlY3VyZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZWN1cmUgPyAnO3NlY3VyZScgOiAnJztcbiAgICBkb2N1bWVudC5jb29raWUgPSBcIlwiLmNvbmNhdChuYW1lLCBcIj1cIikuY29uY2F0KHZhbHVlLCBcIjtcIikuY29uY2F0KGV4cGlyZXMsIFwiO3BhdGg9LztzYW1lc2l0ZT1cIikuY29uY2F0KHNhbWVTaXRlKS5jb25jYXQoZG9tYWluKS5jb25jYXQoc2VjdXJlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICAgIHJldHVybiBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZShkb2N1bWVudC5jb29raWUsIG5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNvb2tpZShuYW1lLCBvcHRpb25zKSB7XG4gICAgc2V0Q29va2llKG5hbWUsICcnLCAwLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcmVDb29raWVzQXV0aG9yaXplZChvcHRpb25zKSB7XG4gICAgaWYgKGRvY3VtZW50LmNvb2tpZSA9PT0gdW5kZWZpbmVkIHx8IGRvY3VtZW50LmNvb2tpZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIFVzZSBhIHVuaXF1ZSBjb29raWUgbmFtZSB0byBhdm9pZCBpc3N1ZXMgd2hlbiB0aGUgU0RLIGlzIGluaXRpYWxpemVkIG11bHRpcGxlIHRpbWVzIGR1cmluZ1xuICAgICAgICAvLyB0aGUgdGVzdCBjb29raWUgbGlmZXRpbWVcbiAgICAgICAgdmFyIHRlc3RDb29raWVOYW1lID0gXCJkZF9jb29raWVfdGVzdF9cIi5jb25jYXQoZ2VuZXJhdGVVVUlEKCkpO1xuICAgICAgICB2YXIgdGVzdENvb2tpZVZhbHVlID0gJ3Rlc3QnO1xuICAgICAgICBzZXRDb29raWUodGVzdENvb2tpZU5hbWUsIHRlc3RDb29raWVWYWx1ZSwgT05FX01JTlVURSwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBpc0Nvb2tpZUNvcnJlY3RseVNldCA9IGdldENvb2tpZSh0ZXN0Q29va2llTmFtZSkgPT09IHRlc3RDb29raWVWYWx1ZTtcbiAgICAgICAgZGVsZXRlQ29va2llKHRlc3RDb29raWVOYW1lLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGlzQ29va2llQ29ycmVjdGx5U2V0O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIE5vIEFQSSB0byByZXRyaWV2ZSBpdCwgbnVtYmVyIG9mIGxldmVscyBmb3Igc3ViZG9tYWluIGFuZCBzdWZmaXggYXJlIHVua25vd25cbiAqIHN0cmF0ZWd5OiBmaW5kIHRoZSBtaW5pbWFsIGRvbWFpbiBvbiB3aGljaCBjb29raWVzIGFyZSBhbGxvd2VkIHRvIGJlIHNldFxuICogaHR0cHM6Ly93ZWIuZGV2L3NhbWUtc2l0ZS1zYW1lLW9yaWdpbi8jc2l0ZVxuICovXG52YXIgZ2V0Q3VycmVudFNpdGVDYWNoZTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50U2l0ZSgpIHtcbiAgICBpZiAoZ2V0Q3VycmVudFNpdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFVzZSBhIHVuaXF1ZSBjb29raWUgbmFtZSB0byBhdm9pZCBpc3N1ZXMgd2hlbiB0aGUgU0RLIGlzIGluaXRpYWxpemVkIG11bHRpcGxlIHRpbWVzIGR1cmluZ1xuICAgICAgICAvLyB0aGUgdGVzdCBjb29raWUgbGlmZXRpbWVcbiAgICAgICAgdmFyIHRlc3RDb29raWVOYW1lID0gXCJkZF9zaXRlX3Rlc3RfXCIuY29uY2F0KGdlbmVyYXRlVVVJRCgpKTtcbiAgICAgICAgdmFyIHRlc3RDb29raWVWYWx1ZSA9ICd0ZXN0JztcbiAgICAgICAgdmFyIGRvbWFpbkxldmVscyA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgY2FuZGlkYXRlRG9tYWluID0gZG9tYWluTGV2ZWxzLnBvcCgpO1xuICAgICAgICB3aGlsZSAoZG9tYWluTGV2ZWxzLmxlbmd0aCAmJiAhZ2V0Q29va2llKHRlc3RDb29raWVOYW1lKSkge1xuICAgICAgICAgICAgY2FuZGlkYXRlRG9tYWluID0gXCJcIi5jb25jYXQoZG9tYWluTGV2ZWxzLnBvcCgpLCBcIi5cIikuY29uY2F0KGNhbmRpZGF0ZURvbWFpbik7XG4gICAgICAgICAgICBzZXRDb29raWUodGVzdENvb2tpZU5hbWUsIHRlc3RDb29raWVWYWx1ZSwgT05FX1NFQ09ORCwgeyBkb21haW46IGNhbmRpZGF0ZURvbWFpbiB9KTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGVDb29raWUodGVzdENvb2tpZU5hbWUsIHsgZG9tYWluOiBjYW5kaWRhdGVEb21haW4gfSk7XG4gICAgICAgIGdldEN1cnJlbnRTaXRlQ2FjaGUgPSBjYW5kaWRhdGVEb21haW47XG4gICAgfVxuICAgIHJldHVybiBnZXRDdXJyZW50U2l0ZUNhY2hlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29va2llLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/browser/cookie.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initFetchObservable\": () => (/* binding */ initFetchObservable)\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/instrumentMethod */ \"../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils/urlPolyfill */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n\n\n\n\n\nvar fetchObservable;\nfunction initFetchObservable() {\n    if (!fetchObservable) {\n        fetchObservable = createFetchObservable();\n    }\n    return fetchObservable;\n}\nfunction createFetchObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        if (!window.fetch) {\n            return;\n        }\n        var stop = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethod)(window, 'fetch', function (originalFetch) {\n            return function (input, init) {\n                var responsePromise;\n                var context = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(beforeSend, null, [observable, input, init]);\n                if (context) {\n                    responsePromise = originalFetch.call(this, context.input, context.init);\n                    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(afterSend, null, [observable, responsePromise, context]);\n                }\n                else {\n                    responsePromise = originalFetch.call(this, input, init);\n                }\n                return responsePromise;\n            };\n        }).stop;\n        return stop;\n    });\n    return observable;\n}\nfunction beforeSend(observable, input, init) {\n    var method = (init && init.method) || (input instanceof Request && input.method) || 'GET';\n    var url = input instanceof Request ? input.url : (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__.normalizeUrl)(String(input));\n    var startClocks = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__.clocksNow)();\n    var context = {\n        state: 'start',\n        init: init,\n        input: input,\n        method: method,\n        startClocks: startClocks,\n        url: url,\n    };\n    observable.notify(context);\n    return context;\n}\nfunction afterSend(observable, responsePromise, startContext) {\n    var reportFetch = function (response) {\n        var context = startContext;\n        context.state = 'resolve';\n        if ('stack' in response || response instanceof Error) {\n            context.status = 0;\n            context.isAborted = response instanceof DOMException && response.code === DOMException.ABORT_ERR;\n            context.error = response;\n        }\n        else if ('status' in response) {\n            context.response = response;\n            context.responseType = response.type;\n            context.status = response.status;\n            context.isAborted = false;\n        }\n        observable.notify(context);\n    };\n    responsePromise.then((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(reportFetch), (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(reportFetch));\n}\n//# sourceMappingURL=fetchObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9mZXRjaE9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL2ZldGNoT2JzZXJ2YWJsZS5qcz83OWJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluc3RydW1lbnRNZXRob2QgfSBmcm9tICcuLi90b29scy9pbnN0cnVtZW50TWV0aG9kJztcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQsIG1vbml0b3IgfSBmcm9tICcuLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBub3JtYWxpemVVcmwgfSBmcm9tICcuLi90b29scy91dGlscy91cmxQb2x5ZmlsbCc7XG52YXIgZmV0Y2hPYnNlcnZhYmxlO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRGZXRjaE9ic2VydmFibGUoKSB7XG4gICAgaWYgKCFmZXRjaE9ic2VydmFibGUpIHtcbiAgICAgICAgZmV0Y2hPYnNlcnZhYmxlID0gY3JlYXRlRmV0Y2hPYnNlcnZhYmxlKCk7XG4gICAgfVxuICAgIHJldHVybiBmZXRjaE9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVGZXRjaE9ic2VydmFibGUoKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghd2luZG93LmZldGNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0b3AgPSBpbnN0cnVtZW50TWV0aG9kKHdpbmRvdywgJ2ZldGNoJywgZnVuY3Rpb24gKG9yaWdpbmFsRmV0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGluaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VQcm9taXNlO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gY2FsbE1vbml0b3JlZChiZWZvcmVTZW5kLCBudWxsLCBbb2JzZXJ2YWJsZSwgaW5wdXQsIGluaXRdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVByb21pc2UgPSBvcmlnaW5hbEZldGNoLmNhbGwodGhpcywgY29udGV4dC5pbnB1dCwgY29udGV4dC5pbml0KTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbE1vbml0b3JlZChhZnRlclNlbmQsIG51bGwsIFtvYnNlcnZhYmxlLCByZXNwb25zZVByb21pc2UsIGNvbnRleHRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBpbnB1dCwgaW5pdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZVByb21pc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KS5zdG9wO1xuICAgICAgICByZXR1cm4gc3RvcDtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGJlZm9yZVNlbmQob2JzZXJ2YWJsZSwgaW5wdXQsIGluaXQpIHtcbiAgICB2YXIgbWV0aG9kID0gKGluaXQgJiYgaW5pdC5tZXRob2QpIHx8IChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QgJiYgaW5wdXQubWV0aG9kKSB8fCAnR0VUJztcbiAgICB2YXIgdXJsID0gaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gaW5wdXQudXJsIDogbm9ybWFsaXplVXJsKFN0cmluZyhpbnB1dCkpO1xuICAgIHZhciBzdGFydENsb2NrcyA9IGNsb2Nrc05vdygpO1xuICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICBzdGF0ZTogJ3N0YXJ0JyxcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgaW5wdXQ6IGlucHV0LFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgc3RhcnRDbG9ja3M6IHN0YXJ0Q2xvY2tzLFxuICAgICAgICB1cmw6IHVybCxcbiAgICB9O1xuICAgIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gYWZ0ZXJTZW5kKG9ic2VydmFibGUsIHJlc3BvbnNlUHJvbWlzZSwgc3RhcnRDb250ZXh0KSB7XG4gICAgdmFyIHJlcG9ydEZldGNoID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gc3RhcnRDb250ZXh0O1xuICAgICAgICBjb250ZXh0LnN0YXRlID0gJ3Jlc29sdmUnO1xuICAgICAgICBpZiAoJ3N0YWNrJyBpbiByZXNwb25zZSB8fCByZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0YXR1cyA9IDA7XG4gICAgICAgICAgICBjb250ZXh0LmlzQWJvcnRlZCA9IHJlc3BvbnNlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIHJlc3BvbnNlLmNvZGUgPT09IERPTUV4Y2VwdGlvbi5BQk9SVF9FUlI7XG4gICAgICAgICAgICBjb250ZXh0LmVycm9yID0gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJ3N0YXR1cycgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2VUeXBlID0gcmVzcG9uc2UudHlwZTtcbiAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgY29udGV4dC5pc0Fib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShjb250ZXh0KTtcbiAgICB9O1xuICAgIHJlc3BvbnNlUHJvbWlzZS50aGVuKG1vbml0b3IocmVwb3J0RmV0Y2gpLCBtb25pdG9yKHJlcG9ydEZldGNoKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaE9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PageExitReason\": () => (/* binding */ PageExitReason),\n/* harmony export */   \"createPageExitObservable\": () => (/* binding */ createPageExitObservable),\n/* harmony export */   \"isPageExitReason\": () => (/* binding */ isPageExitReason)\n/* harmony export */ });\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/experimentalFeatures */ \"../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _addEventListener__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./addEventListener */ \"../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\n\n\n\n\nvar PageExitReason = {\n    HIDDEN: 'visibility_hidden',\n    UNLOADING: 'before_unload',\n    PAGEHIDE: 'page_hide',\n    FROZEN: 'page_frozen',\n};\nfunction createPageExitObservable(configuration) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var pagehideEnabled = (0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_1__.isExperimentalFeatureEnabled)(_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_1__.ExperimentalFeature.PAGEHIDE);\n        var stopListeners = (0,_addEventListener__WEBPACK_IMPORTED_MODULE_2__.addEventListeners)(configuration, window, [\"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */, \"freeze\" /* DOM_EVENT.FREEZE */, \"pagehide\" /* DOM_EVENT.PAGE_HIDE */], function (event) {\n            if (event.type === \"pagehide\" /* DOM_EVENT.PAGE_HIDE */ && pagehideEnabled) {\n                /**\n                 * Only event that detect page unload events while being compatible with the back/forward cache (bfcache)\n                 */\n                observable.notify({ reason: PageExitReason.PAGEHIDE });\n            }\n            else if (event.type === \"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */ && document.visibilityState === 'hidden') {\n                /**\n                 * Only event that guarantee to fire on mobile devices when the page transitions to background state\n                 * (e.g. when user switches to a different application, goes to homescreen, etc), or is being unloaded.\n                 */\n                observable.notify({ reason: PageExitReason.HIDDEN });\n            }\n            else if (event.type === \"freeze\" /* DOM_EVENT.FREEZE */) {\n                /**\n                 * After transitioning in background a tab can be freezed to preserve resources. (cf: https://developer.chrome.com/blog/page-lifecycle-api)\n                 * Allow to collect events happening between hidden and frozen state.\n                 */\n                observable.notify({ reason: PageExitReason.FROZEN });\n            }\n        }, { capture: true }).stop;\n        var stopBeforeUnloadListener = _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_3__.noop;\n        if (!pagehideEnabled) {\n            stopBeforeUnloadListener = (0,_addEventListener__WEBPACK_IMPORTED_MODULE_2__.addEventListener)(configuration, window, \"beforeunload\" /* DOM_EVENT.BEFORE_UNLOAD */, function () {\n                observable.notify({ reason: PageExitReason.UNLOADING });\n            }).stop;\n        }\n        return function () {\n            stopListeners();\n            stopBeforeUnloadListener();\n        };\n    });\n    return observable;\n}\nfunction isPageExitReason(reason) {\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.includes)((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.objectValues)(PageExitReason), reason);\n}\n//# sourceMappingURL=pageExitObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9wYWdlRXhpdE9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9wYWdlRXhpdE9ic2VydmFibGUuanM/OGY3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkLCBFeHBlcmltZW50YWxGZWF0dXJlIH0gZnJvbSAnLi4vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgb2JqZWN0VmFsdWVzLCBpbmNsdWRlcyB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvZnVuY3Rpb25VdGlscyc7XG5pbXBvcnQgeyBhZGRFdmVudExpc3RlbmVycywgYWRkRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vYWRkRXZlbnRMaXN0ZW5lcic7XG5leHBvcnQgdmFyIFBhZ2VFeGl0UmVhc29uID0ge1xuICAgIEhJRERFTjogJ3Zpc2liaWxpdHlfaGlkZGVuJyxcbiAgICBVTkxPQURJTkc6ICdiZWZvcmVfdW5sb2FkJyxcbiAgICBQQUdFSElERTogJ3BhZ2VfaGlkZScsXG4gICAgRlJPWkVOOiAncGFnZV9mcm96ZW4nLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYWdlRXhpdE9ic2VydmFibGUoY29uZmlndXJhdGlvbikge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFnZWhpZGVFbmFibGVkID0gaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZChFeHBlcmltZW50YWxGZWF0dXJlLlBBR0VISURFKTtcbiAgICAgICAgdmFyIHN0b3BMaXN0ZW5lcnMgPSBhZGRFdmVudExpc3RlbmVycyhjb25maWd1cmF0aW9uLCB3aW5kb3csIFtcInZpc2liaWxpdHljaGFuZ2VcIiAvKiBET01fRVZFTlQuVklTSUJJTElUWV9DSEFOR0UgKi8sIFwiZnJlZXplXCIgLyogRE9NX0VWRU5ULkZSRUVaRSAqLywgXCJwYWdlaGlkZVwiIC8qIERPTV9FVkVOVC5QQUdFX0hJREUgKi9dLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcInBhZ2VoaWRlXCIgLyogRE9NX0VWRU5ULlBBR0VfSElERSAqLyAmJiBwYWdlaGlkZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPbmx5IGV2ZW50IHRoYXQgZGV0ZWN0IHBhZ2UgdW5sb2FkIGV2ZW50cyB3aGlsZSBiZWluZyBjb21wYXRpYmxlIHdpdGggdGhlIGJhY2svZm9yd2FyZCBjYWNoZSAoYmZjYWNoZSlcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeSh7IHJlYXNvbjogUGFnZUV4aXRSZWFzb24uUEFHRUhJREUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSBcInZpc2liaWxpdHljaGFuZ2VcIiAvKiBET01fRVZFTlQuVklTSUJJTElUWV9DSEFOR0UgKi8gJiYgZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIE9ubHkgZXZlbnQgdGhhdCBndWFyYW50ZWUgdG8gZmlyZSBvbiBtb2JpbGUgZGV2aWNlcyB3aGVuIHRoZSBwYWdlIHRyYW5zaXRpb25zIHRvIGJhY2tncm91bmQgc3RhdGVcbiAgICAgICAgICAgICAgICAgKiAoZS5nLiB3aGVuIHVzZXIgc3dpdGNoZXMgdG8gYSBkaWZmZXJlbnQgYXBwbGljYXRpb24sIGdvZXMgdG8gaG9tZXNjcmVlbiwgZXRjKSwgb3IgaXMgYmVpbmcgdW5sb2FkZWQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoeyByZWFzb246IFBhZ2VFeGl0UmVhc29uLkhJRERFTiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwiZnJlZXplXCIgLyogRE9NX0VWRU5ULkZSRUVaRSAqLykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEFmdGVyIHRyYW5zaXRpb25pbmcgaW4gYmFja2dyb3VuZCBhIHRhYiBjYW4gYmUgZnJlZXplZCB0byBwcmVzZXJ2ZSByZXNvdXJjZXMuIChjZjogaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9ibG9nL3BhZ2UtbGlmZWN5Y2xlLWFwaSlcbiAgICAgICAgICAgICAgICAgKiBBbGxvdyB0byBjb2xsZWN0IGV2ZW50cyBoYXBwZW5pbmcgYmV0d2VlbiBoaWRkZW4gYW5kIGZyb3plbiBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeSh7IHJlYXNvbjogUGFnZUV4aXRSZWFzb24uRlJPWkVOIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7IGNhcHR1cmU6IHRydWUgfSkuc3RvcDtcbiAgICAgICAgdmFyIHN0b3BCZWZvcmVVbmxvYWRMaXN0ZW5lciA9IG5vb3A7XG4gICAgICAgIGlmICghcGFnZWhpZGVFbmFibGVkKSB7XG4gICAgICAgICAgICBzdG9wQmVmb3JlVW5sb2FkTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKGNvbmZpZ3VyYXRpb24sIHdpbmRvdywgXCJiZWZvcmV1bmxvYWRcIiAvKiBET01fRVZFTlQuQkVGT1JFX1VOTE9BRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KHsgcmVhc29uOiBQYWdlRXhpdFJlYXNvbi5VTkxPQURJTkcgfSk7XG4gICAgICAgICAgICB9KS5zdG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBzdG9wQmVmb3JlVW5sb2FkTGlzdGVuZXIoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1BhZ2VFeGl0UmVhc29uKHJlYXNvbikge1xuICAgIHJldHVybiBpbmNsdWRlcyhvYmplY3RWYWx1ZXMoUGFnZUV4aXRSZWFzb24pLCByZWFzb24pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZUV4aXRPYnNlcnZhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initXhrObservable\": () => (/* binding */ initXhrObservable)\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/instrumentMethod */ \"../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/utils/urlPolyfill */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/objectUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _addEventListener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./addEventListener */ \"../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\n\n\n\n\n\nvar xhrObservable;\nvar xhrContexts = new WeakMap();\nfunction initXhrObservable(configuration) {\n    if (!xhrObservable) {\n        xhrObservable = createXhrObservable(configuration);\n    }\n    return xhrObservable;\n}\nfunction createXhrObservable(configuration) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var stopInstrumentingStart = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'open', {\n            before: openXhr,\n        }).stop;\n        var stopInstrumentingSend = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'send', {\n            before: function () {\n                sendXhr.call(this, configuration, observable);\n            },\n        }).stop;\n        var stopInstrumentingAbort = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'abort', {\n            before: abortXhr,\n        }).stop;\n        return function () {\n            stopInstrumentingStart();\n            stopInstrumentingSend();\n            stopInstrumentingAbort();\n        };\n    });\n    return observable;\n}\nfunction openXhr(method, url) {\n    xhrContexts.set(this, {\n        state: 'open',\n        method: method,\n        url: (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_2__.normalizeUrl)(String(url)),\n    });\n}\nfunction sendXhr(configuration, observable) {\n    var _this = this;\n    var context = xhrContexts.get(this);\n    if (!context) {\n        return;\n    }\n    var startContext = context;\n    startContext.state = 'start';\n    startContext.startTime = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.relativeNow)();\n    startContext.startClocks = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.clocksNow)();\n    startContext.isAborted = false;\n    startContext.xhr = this;\n    var hasBeenReported = false;\n    var stopInstrumentingOnReadyStateChange = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(this, 'onreadystatechange', {\n        before: function () {\n            if (this.readyState === XMLHttpRequest.DONE) {\n                // Try to report the XHR as soon as possible, because the XHR may be mutated by the\n                // application during a future event. For example, Angular is calling .abort() on\n                // completed requests during a onreadystatechange event, so the status becomes '0'\n                // before the request is collected.\n                onEnd();\n            }\n        },\n    }).stop;\n    var onEnd = function () {\n        unsubscribeLoadEndListener();\n        stopInstrumentingOnReadyStateChange();\n        if (hasBeenReported) {\n            return;\n        }\n        hasBeenReported = true;\n        var completeContext = context;\n        completeContext.state = 'complete';\n        completeContext.duration = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.elapsed)(startContext.startClocks.timeStamp, (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)());\n        completeContext.status = _this.status;\n        observable.notify((0,_tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_4__.shallowClone)(completeContext));\n    };\n    var unsubscribeLoadEndListener = (0,_addEventListener__WEBPACK_IMPORTED_MODULE_5__.addEventListener)(configuration, this, 'loadend', onEnd).stop;\n    observable.notify(startContext);\n}\nfunction abortXhr() {\n    var context = xhrContexts.get(this);\n    if (context) {\n        context.isAborted = true;\n    }\n}\n//# sourceMappingURL=xhrObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci94aHJPYnNlcnZhYmxlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci94aHJPYnNlcnZhYmxlLmpzP2FmMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJy4uL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgZWxhcHNlZCwgcmVsYXRpdmVOb3csIGNsb2Nrc05vdywgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3VybFBvbHlmaWxsJztcbmltcG9ydCB7IHNoYWxsb3dDbG9uZSB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL29iamVjdFV0aWxzJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL2FkZEV2ZW50TGlzdGVuZXInO1xudmFyIHhock9ic2VydmFibGU7XG52YXIgeGhyQ29udGV4dHMgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRYaHJPYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoIXhock9ic2VydmFibGUpIHtcbiAgICAgICAgeGhyT2JzZXJ2YWJsZSA9IGNyZWF0ZVhock9ic2VydmFibGUoY29uZmlndXJhdGlvbik7XG4gICAgfVxuICAgIHJldHVybiB4aHJPYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gY3JlYXRlWGhyT2JzZXJ2YWJsZShjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdG9wSW5zdHJ1bWVudGluZ1N0YXJ0ID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbChYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsICdvcGVuJywge1xuICAgICAgICAgICAgYmVmb3JlOiBvcGVuWGhyLFxuICAgICAgICB9KS5zdG9wO1xuICAgICAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdTZW5kID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbChYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsICdzZW5kJywge1xuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VuZFhoci5jYWxsKHRoaXMsIGNvbmZpZ3VyYXRpb24sIG9ic2VydmFibGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nQWJvcnQgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSwgJ2Fib3J0Jywge1xuICAgICAgICAgICAgYmVmb3JlOiBhYm9ydFhocixcbiAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nU3RhcnQoKTtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nU2VuZCgpO1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdBYm9ydCgpO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gb3BlblhocihtZXRob2QsIHVybCkge1xuICAgIHhockNvbnRleHRzLnNldCh0aGlzLCB7XG4gICAgICAgIHN0YXRlOiAnb3BlbicsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICB1cmw6IG5vcm1hbGl6ZVVybChTdHJpbmcodXJsKSksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZW5kWGhyKGNvbmZpZ3VyYXRpb24sIG9ic2VydmFibGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBjb250ZXh0ID0geGhyQ29udGV4dHMuZ2V0KHRoaXMpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzdGFydENvbnRleHQgPSBjb250ZXh0O1xuICAgIHN0YXJ0Q29udGV4dC5zdGF0ZSA9ICdzdGFydCc7XG4gICAgc3RhcnRDb250ZXh0LnN0YXJ0VGltZSA9IHJlbGF0aXZlTm93KCk7XG4gICAgc3RhcnRDb250ZXh0LnN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7XG4gICAgc3RhcnRDb250ZXh0LmlzQWJvcnRlZCA9IGZhbHNlO1xuICAgIHN0YXJ0Q29udGV4dC54aHIgPSB0aGlzO1xuICAgIHZhciBoYXNCZWVuUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdPblJlYWR5U3RhdGVDaGFuZ2UgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKHRoaXMsICdvbnJlYWR5c3RhdGVjaGFuZ2UnLCB7XG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byByZXBvcnQgdGhlIFhIUiBhcyBzb29uIGFzIHBvc3NpYmxlLCBiZWNhdXNlIHRoZSBYSFIgbWF5IGJlIG11dGF0ZWQgYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gYXBwbGljYXRpb24gZHVyaW5nIGEgZnV0dXJlIGV2ZW50LiBGb3IgZXhhbXBsZSwgQW5ndWxhciBpcyBjYWxsaW5nIC5hYm9ydCgpIG9uXG4gICAgICAgICAgICAgICAgLy8gY29tcGxldGVkIHJlcXVlc3RzIGR1cmluZyBhIG9ucmVhZHlzdGF0ZWNoYW5nZSBldmVudCwgc28gdGhlIHN0YXR1cyBiZWNvbWVzICcwJ1xuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgcmVxdWVzdCBpcyBjb2xsZWN0ZWQuXG4gICAgICAgICAgICAgICAgb25FbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KS5zdG9wO1xuICAgIHZhciBvbkVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5zdWJzY3JpYmVMb2FkRW5kTGlzdGVuZXIoKTtcbiAgICAgICAgc3RvcEluc3RydW1lbnRpbmdPblJlYWR5U3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgaWYgKGhhc0JlZW5SZXBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhc0JlZW5SZXBvcnRlZCA9IHRydWU7XG4gICAgICAgIHZhciBjb21wbGV0ZUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb21wbGV0ZUNvbnRleHQuc3RhdGUgPSAnY29tcGxldGUnO1xuICAgICAgICBjb21wbGV0ZUNvbnRleHQuZHVyYXRpb24gPSBlbGFwc2VkKHN0YXJ0Q29udGV4dC5zdGFydENsb2Nrcy50aW1lU3RhbXAsIHRpbWVTdGFtcE5vdygpKTtcbiAgICAgICAgY29tcGxldGVDb250ZXh0LnN0YXR1cyA9IF90aGlzLnN0YXR1cztcbiAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoc2hhbGxvd0Nsb25lKGNvbXBsZXRlQ29udGV4dCkpO1xuICAgIH07XG4gICAgdmFyIHVuc3Vic2NyaWJlTG9hZEVuZExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcihjb25maWd1cmF0aW9uLCB0aGlzLCAnbG9hZGVuZCcsIG9uRW5kKS5zdG9wO1xuICAgIG9ic2VydmFibGUubm90aWZ5KHN0YXJ0Q29udGV4dCk7XG59XG5mdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICB2YXIgY29udGV4dCA9IHhockNvbnRleHRzLmdldCh0aGlzKTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmlzQWJvcnRlZCA9IHRydWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eGhyT2JzZXJ2YWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultPrivacyLevel\": () => (/* binding */ DefaultPrivacyLevel),\n/* harmony export */   \"serializeConfiguration\": () => (/* binding */ serializeConfiguration),\n/* harmony export */   \"validateAndBuildConfiguration\": () => (/* binding */ validateAndBuildConfiguration)\n/* harmony export */ });\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/catchUserErrors */ \"../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/experimentalFeatures */ \"../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/numberUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/objectUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _session_sessionStore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../session/sessionStore */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\");\n/* harmony import */ var _transportConfiguration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transportConfiguration */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js\");\n\n\n\n\n\n\n\n\n\n\nvar DefaultPrivacyLevel = {\n    ALLOW: 'allow',\n    MASK: 'mask',\n    MASK_USER_INPUT: 'mask-user-input',\n};\nfunction validateAndBuildConfiguration(initConfiguration) {\n    var _a, _b, _c;\n    if (!initConfiguration || !initConfiguration.clientToken) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Client Token is not configured, we will not send any data.');\n        return;\n    }\n    var sessionSampleRate = (_a = initConfiguration.sessionSampleRate) !== null && _a !== void 0 ? _a : initConfiguration.sampleRate;\n    if (sessionSampleRate !== undefined && !(0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(sessionSampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Session Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.telemetrySampleRate !== undefined && !(0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(initConfiguration.telemetrySampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Telemetry Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.telemetryConfigurationSampleRate !== undefined &&\n        !(0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(initConfiguration.telemetryConfigurationSampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Telemetry Configuration Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    // Set the experimental feature flags as early as possible, so we can use them in most places\n    if (Array.isArray(initConfiguration.enableExperimentalFeatures)) {\n        (0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.addExperimentalFeatures)(initConfiguration.enableExperimentalFeatures.filter(function (flag) {\n            return (0,_tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_3__.objectHasValue)(_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.ExperimentalFeature, flag);\n        }));\n    }\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.assign)({\n        beforeSend: initConfiguration.beforeSend && (0,_tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_5__.catchUserErrors)(initConfiguration.beforeSend, 'beforeSend threw an error:'),\n        sessionStoreStrategyType: (0,_session_sessionStore__WEBPACK_IMPORTED_MODULE_6__.selectSessionStoreStrategyType)(initConfiguration),\n        sessionSampleRate: sessionSampleRate !== null && sessionSampleRate !== void 0 ? sessionSampleRate : 100,\n        telemetrySampleRate: (_b = initConfiguration.telemetrySampleRate) !== null && _b !== void 0 ? _b : 20,\n        telemetryConfigurationSampleRate: (_c = initConfiguration.telemetryConfigurationSampleRate) !== null && _c !== void 0 ? _c : 5,\n        service: initConfiguration.service,\n        silentMultipleInit: !!initConfiguration.silentMultipleInit,\n        /**\n         * beacon payload max queue size implementation is 64kb\n         * ensure that we leave room for logs, rum and potential other users\n         */\n        batchBytesLimit: 16 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_7__.ONE_KIBI_BYTE,\n        eventRateLimiterThreshold: 3000,\n        maxTelemetryEventsPerPage: 15,\n        /**\n         * flush automatically, aim to be lower than ALB connection timeout\n         * to maximize connection reuse.\n         */\n        flushTimeout: (30 * _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_8__.ONE_SECOND),\n        /**\n         * Logs intake limit\n         */\n        batchMessagesLimit: 50,\n        messageBytesLimit: 256 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_7__.ONE_KIBI_BYTE,\n    }, (0,_transportConfiguration__WEBPACK_IMPORTED_MODULE_9__.computeTransportConfiguration)(initConfiguration));\n}\nfunction serializeConfiguration(initConfiguration) {\n    var _a, _b;\n    var proxy = (_a = initConfiguration.proxy) !== null && _a !== void 0 ? _a : initConfiguration.proxyUrl;\n    return {\n        session_sample_rate: (_b = initConfiguration.sessionSampleRate) !== null && _b !== void 0 ? _b : initConfiguration.sampleRate,\n        telemetry_sample_rate: initConfiguration.telemetrySampleRate,\n        telemetry_configuration_sample_rate: initConfiguration.telemetryConfigurationSampleRate,\n        use_before_send: !!initConfiguration.beforeSend,\n        use_cross_site_session_cookie: initConfiguration.useCrossSiteSessionCookie,\n        use_secure_session_cookie: initConfiguration.useSecureSessionCookie,\n        use_proxy: proxy !== undefined ? !!proxy : undefined,\n        silent_multiple_init: initConfiguration.silentMultipleInit,\n        track_session_across_subdomains: initConfiguration.trackSessionAcrossSubdomains,\n        track_resources: initConfiguration.trackResources,\n        track_long_task: initConfiguration.trackLongTasks,\n        allow_fallback_to_local_storage: !!initConfiguration.allowFallbackToLocalStorage,\n        store_contexts_across_pages: !!initConfiguration.storeContextsAcrossPages,\n    };\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vY29uZmlndXJhdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9jb25maWd1cmF0aW9uLmpzPzE2MDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2F0Y2hVc2VyRXJyb3JzIH0gZnJvbSAnLi4vLi4vdG9vbHMvY2F0Y2hVc2VyRXJyb3JzJztcbmltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi8uLi90b29scy9kaXNwbGF5JztcbmltcG9ydCB7IEV4cGVyaW1lbnRhbEZlYXR1cmUsIGFkZEV4cGVyaW1lbnRhbEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgT05FX1NFQ09ORCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBpc1BlcmNlbnRhZ2UgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9udW1iZXJVdGlscyc7XG5pbXBvcnQgeyBPTkVfS0lCSV9CWVRFIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzJztcbmltcG9ydCB7IG9iamVjdEhhc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvb2JqZWN0VXRpbHMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IHNlbGVjdFNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvblN0b3JlJztcbmltcG9ydCB7IGNvbXB1dGVUcmFuc3BvcnRDb25maWd1cmF0aW9uIH0gZnJvbSAnLi90cmFuc3BvcnRDb25maWd1cmF0aW9uJztcbmV4cG9ydCB2YXIgRGVmYXVsdFByaXZhY3lMZXZlbCA9IHtcbiAgICBBTExPVzogJ2FsbG93JyxcbiAgICBNQVNLOiAnbWFzaycsXG4gICAgTUFTS19VU0VSX0lOUFVUOiAnbWFzay11c2VyLWlucHV0Jyxcbn07XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uIHx8ICFpbml0Q29uZmlndXJhdGlvbi5jbGllbnRUb2tlbikge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdDbGllbnQgVG9rZW4gaXMgbm90IGNvbmZpZ3VyZWQsIHdlIHdpbGwgbm90IHNlbmQgYW55IGRhdGEuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlc3Npb25TYW1wbGVSYXRlID0gKF9hID0gaW5pdENvbmZpZ3VyYXRpb24uc2Vzc2lvblNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGluaXRDb25maWd1cmF0aW9uLnNhbXBsZVJhdGU7XG4gICAgaWYgKHNlc3Npb25TYW1wbGVSYXRlICE9PSB1bmRlZmluZWQgJiYgIWlzUGVyY2VudGFnZShzZXNzaW9uU2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignU2Vzc2lvbiBTYW1wbGUgUmF0ZSBzaG91bGQgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignVGVsZW1ldHJ5IFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlDb25maWd1cmF0aW9uU2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5Q29uZmlndXJhdGlvblNhbXBsZVJhdGUpKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoJ1RlbGVtZXRyeSBDb25maWd1cmF0aW9uIFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldCB0aGUgZXhwZXJpbWVudGFsIGZlYXR1cmUgZmxhZ3MgYXMgZWFybHkgYXMgcG9zc2libGUsIHNvIHdlIGNhbiB1c2UgdGhlbSBpbiBtb3N0IHBsYWNlc1xuICAgIGlmIChBcnJheS5pc0FycmF5KGluaXRDb25maWd1cmF0aW9uLmVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzKSkge1xuICAgICAgICBhZGRFeHBlcmltZW50YWxGZWF0dXJlcyhpbml0Q29uZmlndXJhdGlvbi5lbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcy5maWx0ZXIoZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3RIYXNWYWx1ZShFeHBlcmltZW50YWxGZWF0dXJlLCBmbGFnKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgYmVmb3JlU2VuZDogaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCAmJiBjYXRjaFVzZXJFcnJvcnMoaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCwgJ2JlZm9yZVNlbmQgdGhyZXcgYW4gZXJyb3I6JyksXG4gICAgICAgIHNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZTogc2VsZWN0U2Vzc2lvblN0b3JlU3RyYXRlZ3lUeXBlKGluaXRDb25maWd1cmF0aW9uKSxcbiAgICAgICAgc2Vzc2lvblNhbXBsZVJhdGU6IHNlc3Npb25TYW1wbGVSYXRlICE9PSBudWxsICYmIHNlc3Npb25TYW1wbGVSYXRlICE9PSB2b2lkIDAgPyBzZXNzaW9uU2FtcGxlUmF0ZSA6IDEwMCxcbiAgICAgICAgdGVsZW1ldHJ5U2FtcGxlUmF0ZTogKF9iID0gaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMjAsXG4gICAgICAgIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb25TYW1wbGVSYXRlOiAoX2MgPSBpbml0Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlDb25maWd1cmF0aW9uU2FtcGxlUmF0ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogNSxcbiAgICAgICAgc2VydmljZTogaW5pdENvbmZpZ3VyYXRpb24uc2VydmljZSxcbiAgICAgICAgc2lsZW50TXVsdGlwbGVJbml0OiAhIWluaXRDb25maWd1cmF0aW9uLnNpbGVudE11bHRpcGxlSW5pdCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGJlYWNvbiBwYXlsb2FkIG1heCBxdWV1ZSBzaXplIGltcGxlbWVudGF0aW9uIGlzIDY0a2JcbiAgICAgICAgICogZW5zdXJlIHRoYXQgd2UgbGVhdmUgcm9vbSBmb3IgbG9ncywgcnVtIGFuZCBwb3RlbnRpYWwgb3RoZXIgdXNlcnNcbiAgICAgICAgICovXG4gICAgICAgIGJhdGNoQnl0ZXNMaW1pdDogMTYgKiBPTkVfS0lCSV9CWVRFLFxuICAgICAgICBldmVudFJhdGVMaW1pdGVyVGhyZXNob2xkOiAzMDAwLFxuICAgICAgICBtYXhUZWxlbWV0cnlFdmVudHNQZXJQYWdlOiAxNSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZsdXNoIGF1dG9tYXRpY2FsbHksIGFpbSB0byBiZSBsb3dlciB0aGFuIEFMQiBjb25uZWN0aW9uIHRpbWVvdXRcbiAgICAgICAgICogdG8gbWF4aW1pemUgY29ubmVjdGlvbiByZXVzZS5cbiAgICAgICAgICovXG4gICAgICAgIGZsdXNoVGltZW91dDogKDMwICogT05FX1NFQ09ORCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2dzIGludGFrZSBsaW1pdFxuICAgICAgICAgKi9cbiAgICAgICAgYmF0Y2hNZXNzYWdlc0xpbWl0OiA1MCxcbiAgICAgICAgbWVzc2FnZUJ5dGVzTGltaXQ6IDI1NiAqIE9ORV9LSUJJX0JZVEUsXG4gICAgfSwgY29tcHV0ZVRyYW5zcG9ydENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB2YXIgcHJveHkgPSAoX2EgPSBpbml0Q29uZmlndXJhdGlvbi5wcm94eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogaW5pdENvbmZpZ3VyYXRpb24ucHJveHlVcmw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbl9zYW1wbGVfcmF0ZTogKF9iID0gaW5pdENvbmZpZ3VyYXRpb24uc2Vzc2lvblNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGluaXRDb25maWd1cmF0aW9uLnNhbXBsZVJhdGUsXG4gICAgICAgIHRlbGVtZXRyeV9zYW1wbGVfcmF0ZTogaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSxcbiAgICAgICAgdGVsZW1ldHJ5X2NvbmZpZ3VyYXRpb25fc2FtcGxlX3JhdGU6IGluaXRDb25maWd1cmF0aW9uLnRlbGVtZXRyeUNvbmZpZ3VyYXRpb25TYW1wbGVSYXRlLFxuICAgICAgICB1c2VfYmVmb3JlX3NlbmQ6ICEhaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCxcbiAgICAgICAgdXNlX2Nyb3NzX3NpdGVfc2Vzc2lvbl9jb29raWU6IGluaXRDb25maWd1cmF0aW9uLnVzZUNyb3NzU2l0ZVNlc3Npb25Db29raWUsXG4gICAgICAgIHVzZV9zZWN1cmVfc2Vzc2lvbl9jb29raWU6IGluaXRDb25maWd1cmF0aW9uLnVzZVNlY3VyZVNlc3Npb25Db29raWUsXG4gICAgICAgIHVzZV9wcm94eTogcHJveHkgIT09IHVuZGVmaW5lZCA/ICEhcHJveHkgOiB1bmRlZmluZWQsXG4gICAgICAgIHNpbGVudF9tdWx0aXBsZV9pbml0OiBpbml0Q29uZmlndXJhdGlvbi5zaWxlbnRNdWx0aXBsZUluaXQsXG4gICAgICAgIHRyYWNrX3Nlc3Npb25fYWNyb3NzX3N1YmRvbWFpbnM6IGluaXRDb25maWd1cmF0aW9uLnRyYWNrU2Vzc2lvbkFjcm9zc1N1YmRvbWFpbnMsXG4gICAgICAgIHRyYWNrX3Jlc291cmNlczogaW5pdENvbmZpZ3VyYXRpb24udHJhY2tSZXNvdXJjZXMsXG4gICAgICAgIHRyYWNrX2xvbmdfdGFzazogaW5pdENvbmZpZ3VyYXRpb24udHJhY2tMb25nVGFza3MsXG4gICAgICAgIGFsbG93X2ZhbGxiYWNrX3RvX2xvY2FsX3N0b3JhZ2U6ICEhaW5pdENvbmZpZ3VyYXRpb24uYWxsb3dGYWxsYmFja1RvTG9jYWxTdG9yYWdlLFxuICAgICAgICBzdG9yZV9jb250ZXh0c19hY3Jvc3NfcGFnZXM6ICEhaW5pdENvbmZpZ3VyYXRpb24uc3RvcmVDb250ZXh0c0Fjcm9zc1BhZ2VzLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWd1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ENDPOINTS\": () => (/* binding */ ENDPOINTS),\n/* harmony export */   \"createEndpointBuilder\": () => (/* binding */ createEndpointBuilder)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/urlPolyfill */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/experimentalFeatures */ \"../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./intakeSites */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\n\n\n\n\nvar ENDPOINTS = {\n    logs: 'logs',\n    rum: 'rum',\n    sessionReplay: 'session-replay',\n};\nvar INTAKE_TRACKS = {\n    logs: 'logs',\n    rum: 'rum',\n    sessionReplay: 'replay',\n};\nfunction createEndpointBuilder(initConfiguration, endpointType, configurationTags) {\n    var buildUrlWithParameters = createEndpointUrlWithParametersBuilder(initConfiguration, endpointType);\n    return {\n        build: function (api, payload) {\n            var parameters = buildEndpointParameters(initConfiguration, endpointType, configurationTags, api, payload);\n            return buildUrlWithParameters(parameters);\n        },\n        urlPrefix: buildUrlWithParameters(''),\n        endpointType: endpointType,\n    };\n}\n/**\n * Create a function used to build a full endpoint url from provided parameters. The goal of this\n * function is to pre-compute some parts of the URL to avoid re-computing everything on every\n * request, as only parameters are changing.\n */\nfunction createEndpointUrlWithParametersBuilder(initConfiguration, endpointType) {\n    var path = \"/api/v2/\".concat(INTAKE_TRACKS[endpointType]);\n    var proxy = initConfiguration.proxy, proxyUrl = initConfiguration.proxyUrl;\n    if (proxy) {\n        var normalizedProxyUrl_1 = (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_0__.normalizeUrl)(proxy);\n        return function (parameters) { return \"\".concat(normalizedProxyUrl_1, \"?ddforward=\").concat(encodeURIComponent(\"\".concat(path, \"?\").concat(parameters))); };\n    }\n    var host = buildEndpointHost(initConfiguration, endpointType);\n    if (proxy === undefined && proxyUrl) {\n        // TODO: remove this in a future major.\n        var normalizedProxyUrl_2 = (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_0__.normalizeUrl)(proxyUrl);\n        return function (parameters) {\n            return \"\".concat(normalizedProxyUrl_2, \"?ddforward=\").concat(encodeURIComponent(\"https://\".concat(host).concat(path, \"?\").concat(parameters)));\n        };\n    }\n    return function (parameters) { return \"https://\".concat(host).concat(path, \"?\").concat(parameters); };\n}\nfunction buildEndpointHost(initConfiguration, endpointType) {\n    var _a = initConfiguration.site, site = _a === void 0 ? _intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_US1 : _a, internalAnalyticsSubdomain = initConfiguration.internalAnalyticsSubdomain;\n    if (internalAnalyticsSubdomain && site === _intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_US1) {\n        return \"\".concat(internalAnalyticsSubdomain, \".\").concat(_intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_US1);\n    }\n    var domainParts = site.split('.');\n    var extension = domainParts.pop();\n    var subdomain = site !== _intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_AP1 ? \"\".concat(ENDPOINTS[endpointType], \".\") : '';\n    return \"\".concat(subdomain, \"browser-intake-\").concat(domainParts.join('-'), \".\").concat(extension);\n}\n/**\n * Build parameters to be used for an intake request. Parameters should be re-built for each\n * request, as they change randomly.\n */\nfunction buildEndpointParameters(_a, endpointType, configurationTags, api, _b) {\n    var clientToken = _a.clientToken, internalAnalyticsSubdomain = _a.internalAnalyticsSubdomain;\n    var retry = _b.retry, flushReason = _b.flushReason, encoding = _b.encoding;\n    var tags = [\"sdk_version:\".concat(\"4.50.1\"), \"api:\".concat(api)].concat(configurationTags);\n    if (flushReason && (0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)(_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.ExperimentalFeature.COLLECT_FLUSH_REASON)) {\n        tags.push(\"flush_reason:\".concat(flushReason));\n    }\n    if (retry) {\n        tags.push(\"retry_count:\".concat(retry.count), \"retry_after:\".concat(retry.lastFailureStatus));\n    }\n    var parameters = [\n        'ddsource=browser',\n        \"ddtags=\".concat(encodeURIComponent(tags.join(','))),\n        \"dd-api-key=\".concat(clientToken),\n        \"dd-evp-origin-version=\".concat(encodeURIComponent(\"4.50.1\")),\n        'dd-evp-origin=browser',\n        \"dd-request-id=\".concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_3__.generateUUID)()),\n    ];\n    if (encoding) {\n        parameters.push(\"dd-evp-encoding=\".concat(encoding));\n    }\n    if (endpointType === 'rum') {\n        parameters.push(\"batch_time=\".concat((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)()));\n    }\n    if (internalAnalyticsSubdomain) {\n        parameters.reverse();\n    }\n    return parameters.join('&');\n}\n//# sourceMappingURL=endpointBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vZW5kcG9pbnRCdWlsZGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vZW5kcG9pbnRCdWlsZGVyLmpzPzU5N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3VybFBvbHlmaWxsJztcbmltcG9ydCB7IEV4cGVyaW1lbnRhbEZlYXR1cmUsIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQgfSBmcm9tICcuLi8uLi90b29scy9leHBlcmltZW50YWxGZWF0dXJlcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5pbXBvcnQgeyBJTlRBS0VfU0lURV9BUDEsIElOVEFLRV9TSVRFX1VTMSB9IGZyb20gJy4vaW50YWtlU2l0ZXMnO1xuZXhwb3J0IHZhciBFTkRQT0lOVFMgPSB7XG4gICAgbG9nczogJ2xvZ3MnLFxuICAgIHJ1bTogJ3J1bScsXG4gICAgc2Vzc2lvblJlcGxheTogJ3Nlc3Npb24tcmVwbGF5Jyxcbn07XG52YXIgSU5UQUtFX1RSQUNLUyA9IHtcbiAgICBsb2dzOiAnbG9ncycsXG4gICAgcnVtOiAncnVtJyxcbiAgICBzZXNzaW9uUmVwbGF5OiAncmVwbGF5Jyxcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW5kcG9pbnRCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCBlbmRwb2ludFR5cGUsIGNvbmZpZ3VyYXRpb25UYWdzKSB7XG4gICAgdmFyIGJ1aWxkVXJsV2l0aFBhcmFtZXRlcnMgPSBjcmVhdGVFbmRwb2ludFVybFdpdGhQYXJhbWV0ZXJzQnVpbGRlcihpbml0Q29uZmlndXJhdGlvbiwgZW5kcG9pbnRUeXBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBidWlsZDogZnVuY3Rpb24gKGFwaSwgcGF5bG9hZCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBidWlsZEVuZHBvaW50UGFyYW1ldGVycyhpbml0Q29uZmlndXJhdGlvbiwgZW5kcG9pbnRUeXBlLCBjb25maWd1cmF0aW9uVGFncywgYXBpLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIHJldHVybiBidWlsZFVybFdpdGhQYXJhbWV0ZXJzKHBhcmFtZXRlcnMpO1xuICAgICAgICB9LFxuICAgICAgICB1cmxQcmVmaXg6IGJ1aWxkVXJsV2l0aFBhcmFtZXRlcnMoJycpLFxuICAgICAgICBlbmRwb2ludFR5cGU6IGVuZHBvaW50VHlwZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB1c2VkIHRvIGJ1aWxkIGEgZnVsbCBlbmRwb2ludCB1cmwgZnJvbSBwcm92aWRlZCBwYXJhbWV0ZXJzLiBUaGUgZ29hbCBvZiB0aGlzXG4gKiBmdW5jdGlvbiBpcyB0byBwcmUtY29tcHV0ZSBzb21lIHBhcnRzIG9mIHRoZSBVUkwgdG8gYXZvaWQgcmUtY29tcHV0aW5nIGV2ZXJ5dGhpbmcgb24gZXZlcnlcbiAqIHJlcXVlc3QsIGFzIG9ubHkgcGFyYW1ldGVycyBhcmUgY2hhbmdpbmcuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVuZHBvaW50VXJsV2l0aFBhcmFtZXRlcnNCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCBlbmRwb2ludFR5cGUpIHtcbiAgICB2YXIgcGF0aCA9IFwiL2FwaS92Mi9cIi5jb25jYXQoSU5UQUtFX1RSQUNLU1tlbmRwb2ludFR5cGVdKTtcbiAgICB2YXIgcHJveHkgPSBpbml0Q29uZmlndXJhdGlvbi5wcm94eSwgcHJveHlVcmwgPSBpbml0Q29uZmlndXJhdGlvbi5wcm94eVVybDtcbiAgICBpZiAocHJveHkpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRQcm94eVVybF8xID0gbm9ybWFsaXplVXJsKHByb3h5KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7IHJldHVybiBcIlwiLmNvbmNhdChub3JtYWxpemVkUHJveHlVcmxfMSwgXCI/ZGRmb3J3YXJkPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KFwiXCIuY29uY2F0KHBhdGgsIFwiP1wiKS5jb25jYXQocGFyYW1ldGVycykpKTsgfTtcbiAgICB9XG4gICAgdmFyIGhvc3QgPSBidWlsZEVuZHBvaW50SG9zdChpbml0Q29uZmlndXJhdGlvbiwgZW5kcG9pbnRUeXBlKTtcbiAgICBpZiAocHJveHkgPT09IHVuZGVmaW5lZCAmJiBwcm94eVVybCkge1xuICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBpbiBhIGZ1dHVyZSBtYWpvci5cbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRQcm94eVVybF8yID0gbm9ybWFsaXplVXJsKHByb3h5VXJsKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQobm9ybWFsaXplZFByb3h5VXJsXzIsIFwiP2RkZm9yd2FyZD1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChcImh0dHBzOi8vXCIuY29uY2F0KGhvc3QpLmNvbmNhdChwYXRoLCBcIj9cIikuY29uY2F0KHBhcmFtZXRlcnMpKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAocGFyYW1ldGVycykgeyByZXR1cm4gXCJodHRwczovL1wiLmNvbmNhdChob3N0KS5jb25jYXQocGF0aCwgXCI/XCIpLmNvbmNhdChwYXJhbWV0ZXJzKTsgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkRW5kcG9pbnRIb3N0KGluaXRDb25maWd1cmF0aW9uLCBlbmRwb2ludFR5cGUpIHtcbiAgICB2YXIgX2EgPSBpbml0Q29uZmlndXJhdGlvbi5zaXRlLCBzaXRlID0gX2EgPT09IHZvaWQgMCA/IElOVEFLRV9TSVRFX1VTMSA6IF9hLCBpbnRlcm5hbEFuYWx5dGljc1N1YmRvbWFpbiA9IGluaXRDb25maWd1cmF0aW9uLmludGVybmFsQW5hbHl0aWNzU3ViZG9tYWluO1xuICAgIGlmIChpbnRlcm5hbEFuYWx5dGljc1N1YmRvbWFpbiAmJiBzaXRlID09PSBJTlRBS0VfU0lURV9VUzEpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGludGVybmFsQW5hbHl0aWNzU3ViZG9tYWluLCBcIi5cIikuY29uY2F0KElOVEFLRV9TSVRFX1VTMSk7XG4gICAgfVxuICAgIHZhciBkb21haW5QYXJ0cyA9IHNpdGUuc3BsaXQoJy4nKTtcbiAgICB2YXIgZXh0ZW5zaW9uID0gZG9tYWluUGFydHMucG9wKCk7XG4gICAgdmFyIHN1YmRvbWFpbiA9IHNpdGUgIT09IElOVEFLRV9TSVRFX0FQMSA/IFwiXCIuY29uY2F0KEVORFBPSU5UU1tlbmRwb2ludFR5cGVdLCBcIi5cIikgOiAnJztcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoc3ViZG9tYWluLCBcImJyb3dzZXItaW50YWtlLVwiKS5jb25jYXQoZG9tYWluUGFydHMuam9pbignLScpLCBcIi5cIikuY29uY2F0KGV4dGVuc2lvbik7XG59XG4vKipcbiAqIEJ1aWxkIHBhcmFtZXRlcnMgdG8gYmUgdXNlZCBmb3IgYW4gaW50YWtlIHJlcXVlc3QuIFBhcmFtZXRlcnMgc2hvdWxkIGJlIHJlLWJ1aWx0IGZvciBlYWNoXG4gKiByZXF1ZXN0LCBhcyB0aGV5IGNoYW5nZSByYW5kb21seS5cbiAqL1xuZnVuY3Rpb24gYnVpbGRFbmRwb2ludFBhcmFtZXRlcnMoX2EsIGVuZHBvaW50VHlwZSwgY29uZmlndXJhdGlvblRhZ3MsIGFwaSwgX2IpIHtcbiAgICB2YXIgY2xpZW50VG9rZW4gPSBfYS5jbGllbnRUb2tlbiwgaW50ZXJuYWxBbmFseXRpY3NTdWJkb21haW4gPSBfYS5pbnRlcm5hbEFuYWx5dGljc1N1YmRvbWFpbjtcbiAgICB2YXIgcmV0cnkgPSBfYi5yZXRyeSwgZmx1c2hSZWFzb24gPSBfYi5mbHVzaFJlYXNvbiwgZW5jb2RpbmcgPSBfYi5lbmNvZGluZztcbiAgICB2YXIgdGFncyA9IFtcInNka192ZXJzaW9uOlwiLmNvbmNhdChcIjQuNTAuMVwiKSwgXCJhcGk6XCIuY29uY2F0KGFwaSldLmNvbmNhdChjb25maWd1cmF0aW9uVGFncyk7XG4gICAgaWYgKGZsdXNoUmVhc29uICYmIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoRXhwZXJpbWVudGFsRmVhdHVyZS5DT0xMRUNUX0ZMVVNIX1JFQVNPTikpIHtcbiAgICAgICAgdGFncy5wdXNoKFwiZmx1c2hfcmVhc29uOlwiLmNvbmNhdChmbHVzaFJlYXNvbikpO1xuICAgIH1cbiAgICBpZiAocmV0cnkpIHtcbiAgICAgICAgdGFncy5wdXNoKFwicmV0cnlfY291bnQ6XCIuY29uY2F0KHJldHJ5LmNvdW50KSwgXCJyZXRyeV9hZnRlcjpcIi5jb25jYXQocmV0cnkubGFzdEZhaWx1cmVTdGF0dXMpKTtcbiAgICB9XG4gICAgdmFyIHBhcmFtZXRlcnMgPSBbXG4gICAgICAgICdkZHNvdXJjZT1icm93c2VyJyxcbiAgICAgICAgXCJkZHRhZ3M9XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0YWdzLmpvaW4oJywnKSkpLFxuICAgICAgICBcImRkLWFwaS1rZXk9XCIuY29uY2F0KGNsaWVudFRva2VuKSxcbiAgICAgICAgXCJkZC1ldnAtb3JpZ2luLXZlcnNpb249XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChcIjQuNTAuMVwiKSksXG4gICAgICAgICdkZC1ldnAtb3JpZ2luPWJyb3dzZXInLFxuICAgICAgICBcImRkLXJlcXVlc3QtaWQ9XCIuY29uY2F0KGdlbmVyYXRlVVVJRCgpKSxcbiAgICBdO1xuICAgIGlmIChlbmNvZGluZykge1xuICAgICAgICBwYXJhbWV0ZXJzLnB1c2goXCJkZC1ldnAtZW5jb2Rpbmc9XCIuY29uY2F0KGVuY29kaW5nKSk7XG4gICAgfVxuICAgIGlmIChlbmRwb2ludFR5cGUgPT09ICdydW0nKSB7XG4gICAgICAgIHBhcmFtZXRlcnMucHVzaChcImJhdGNoX3RpbWU9XCIuY29uY2F0KHRpbWVTdGFtcE5vdygpKSk7XG4gICAgfVxuICAgIGlmIChpbnRlcm5hbEFuYWx5dGljc1N1YmRvbWFpbikge1xuICAgICAgICBwYXJhbWV0ZXJzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtZXRlcnMuam9pbignJicpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5kcG9pbnRCdWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"INTAKE_SITE_AP1\": () => (/* binding */ INTAKE_SITE_AP1),\n/* harmony export */   \"INTAKE_SITE_EU1\": () => (/* binding */ INTAKE_SITE_EU1),\n/* harmony export */   \"INTAKE_SITE_STAGING\": () => (/* binding */ INTAKE_SITE_STAGING),\n/* harmony export */   \"INTAKE_SITE_US1\": () => (/* binding */ INTAKE_SITE_US1),\n/* harmony export */   \"INTAKE_SITE_US1_FED\": () => (/* binding */ INTAKE_SITE_US1_FED)\n/* harmony export */ });\nvar INTAKE_SITE_STAGING = 'datad0g.com';\nvar INTAKE_SITE_US1 = 'datadoghq.com';\nvar INTAKE_SITE_EU1 = 'datadoghq.eu';\nvar INTAKE_SITE_AP1 = 'ap1.datadoghq.com';\nvar INTAKE_SITE_US1_FED = 'ddog-gov.com';\n//# sourceMappingURL=intakeSites.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vaW50YWtlU2l0ZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi9pbnRha2VTaXRlcy5qcz8yZDUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgSU5UQUtFX1NJVEVfU1RBR0lORyA9ICdkYXRhZDBnLmNvbSc7XG5leHBvcnQgdmFyIElOVEFLRV9TSVRFX1VTMSA9ICdkYXRhZG9naHEuY29tJztcbmV4cG9ydCB2YXIgSU5UQUtFX1NJVEVfRVUxID0gJ2RhdGFkb2docS5ldSc7XG5leHBvcnQgdmFyIElOVEFLRV9TSVRFX0FQMSA9ICdhcDEuZGF0YWRvZ2hxLmNvbSc7XG5leHBvcnQgdmFyIElOVEFLRV9TSVRFX1VTMV9GRUQgPSAnZGRvZy1nb3YuY29tJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGFrZVNpdGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TAG_SIZE_LIMIT\": () => (/* binding */ TAG_SIZE_LIMIT),\n/* harmony export */   \"buildTag\": () => (/* binding */ buildTag),\n/* harmony export */   \"buildTags\": () => (/* binding */ buildTags)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n\nvar TAG_SIZE_LIMIT = 200;\nfunction buildTags(configuration) {\n    var env = configuration.env, service = configuration.service, version = configuration.version, datacenter = configuration.datacenter;\n    var tags = [];\n    if (env) {\n        tags.push(buildTag('env', env));\n    }\n    if (service) {\n        tags.push(buildTag('service', service));\n    }\n    if (version) {\n        tags.push(buildTag('version', version));\n    }\n    if (datacenter) {\n        tags.push(buildTag('datacenter', datacenter));\n    }\n    return tags;\n}\nvar FORBIDDEN_CHARACTERS = /[^a-z0-9_:./-]/;\nfunction buildTag(key, rawValue) {\n    // See https://docs.datadoghq.com/getting_started/tagging/#defining-tags for tags syntax. Note\n    // that the backend may not follow the exact same rules, so we only want to display an informal\n    // warning.\n    var valueSizeLimit = TAG_SIZE_LIMIT - key.length - 1;\n    if (rawValue.length > valueSizeLimit || FORBIDDEN_CHARACTERS.test(rawValue)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.warn(\"\".concat(key, \" value doesn't meet tag requirements and will be sanitized\"));\n    }\n    // Let the backend do most of the sanitization, but still make sure multiple tags can't be crafted\n    // by forging a value containing commas.\n    var sanitizedValue = rawValue.replace(/,/g, '_');\n    return \"\".concat(key, \":\").concat(sanitizedValue);\n}\n//# sourceMappingURL=tags.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vdGFncy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi90YWdzLmpzPzJlNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uLy4uL3Rvb2xzL2Rpc3BsYXknO1xuZXhwb3J0IHZhciBUQUdfU0laRV9MSU1JVCA9IDIwMDtcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRhZ3MoY29uZmlndXJhdGlvbikge1xuICAgIHZhciBlbnYgPSBjb25maWd1cmF0aW9uLmVudiwgc2VydmljZSA9IGNvbmZpZ3VyYXRpb24uc2VydmljZSwgdmVyc2lvbiA9IGNvbmZpZ3VyYXRpb24udmVyc2lvbiwgZGF0YWNlbnRlciA9IGNvbmZpZ3VyYXRpb24uZGF0YWNlbnRlcjtcbiAgICB2YXIgdGFncyA9IFtdO1xuICAgIGlmIChlbnYpIHtcbiAgICAgICAgdGFncy5wdXNoKGJ1aWxkVGFnKCdlbnYnLCBlbnYpKTtcbiAgICB9XG4gICAgaWYgKHNlcnZpY2UpIHtcbiAgICAgICAgdGFncy5wdXNoKGJ1aWxkVGFnKCdzZXJ2aWNlJywgc2VydmljZSkpO1xuICAgIH1cbiAgICBpZiAodmVyc2lvbikge1xuICAgICAgICB0YWdzLnB1c2goYnVpbGRUYWcoJ3ZlcnNpb24nLCB2ZXJzaW9uKSk7XG4gICAgfVxuICAgIGlmIChkYXRhY2VudGVyKSB7XG4gICAgICAgIHRhZ3MucHVzaChidWlsZFRhZygnZGF0YWNlbnRlcicsIGRhdGFjZW50ZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhZ3M7XG59XG52YXIgRk9SQklEREVOX0NIQVJBQ1RFUlMgPSAvW15hLXowLTlfOi4vLV0vO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVGFnKGtleSwgcmF3VmFsdWUpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9kb2NzLmRhdGFkb2docS5jb20vZ2V0dGluZ19zdGFydGVkL3RhZ2dpbmcvI2RlZmluaW5nLXRhZ3MgZm9yIHRhZ3Mgc3ludGF4LiBOb3RlXG4gICAgLy8gdGhhdCB0aGUgYmFja2VuZCBtYXkgbm90IGZvbGxvdyB0aGUgZXhhY3Qgc2FtZSBydWxlcywgc28gd2Ugb25seSB3YW50IHRvIGRpc3BsYXkgYW4gaW5mb3JtYWxcbiAgICAvLyB3YXJuaW5nLlxuICAgIHZhciB2YWx1ZVNpemVMaW1pdCA9IFRBR19TSVpFX0xJTUlUIC0ga2V5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKHJhd1ZhbHVlLmxlbmd0aCA+IHZhbHVlU2l6ZUxpbWl0IHx8IEZPUkJJRERFTl9DSEFSQUNURVJTLnRlc3QocmF3VmFsdWUpKSB7XG4gICAgICAgIGRpc3BsYXkud2FybihcIlwiLmNvbmNhdChrZXksIFwiIHZhbHVlIGRvZXNuJ3QgbWVldCB0YWcgcmVxdWlyZW1lbnRzIGFuZCB3aWxsIGJlIHNhbml0aXplZFwiKSk7XG4gICAgfVxuICAgIC8vIExldCB0aGUgYmFja2VuZCBkbyBtb3N0IG9mIHRoZSBzYW5pdGl6YXRpb24sIGJ1dCBzdGlsbCBtYWtlIHN1cmUgbXVsdGlwbGUgdGFncyBjYW4ndCBiZSBjcmFmdGVkXG4gICAgLy8gYnkgZm9yZ2luZyBhIHZhbHVlIGNvbnRhaW5pbmcgY29tbWFzLlxuICAgIHZhciBzYW5pdGl6ZWRWYWx1ZSA9IHJhd1ZhbHVlLnJlcGxhY2UoLywvZywgJ18nKTtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoa2V5LCBcIjpcIikuY29uY2F0KHNhbml0aXplZFZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeTransportConfiguration\": () => (/* binding */ computeTransportConfiguration)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./endpointBuilder */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\");\n/* harmony import */ var _tags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tags */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./intakeSites */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\n\n\n\nfunction computeTransportConfiguration(initConfiguration) {\n    var tags = (0,_tags__WEBPACK_IMPORTED_MODULE_0__.buildTags)(initConfiguration);\n    var endpointBuilders = computeEndpointBuilders(initConfiguration, tags);\n    var intakeUrlPrefixes = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.objectValues)(endpointBuilders).map(function (builder) { return builder.urlPrefix; });\n    var replicaConfiguration = computeReplicaConfiguration(initConfiguration, intakeUrlPrefixes, tags);\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.assign)({\n        isIntakeUrl: function (url) { return intakeUrlPrefixes.some(function (intakeEndpoint) { return url.indexOf(intakeEndpoint) === 0; }); },\n        replica: replicaConfiguration,\n        site: initConfiguration.site || _intakeSites__WEBPACK_IMPORTED_MODULE_2__.INTAKE_SITE_US1,\n    }, endpointBuilders);\n}\nfunction computeEndpointBuilders(initConfiguration, tags) {\n    return {\n        logsEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'logs', tags),\n        rumEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'rum', tags),\n        sessionReplayEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'sessionReplay', tags),\n    };\n}\nfunction computeReplicaConfiguration(initConfiguration, intakeUrlPrefixes, tags) {\n    if (!initConfiguration.replica) {\n        return;\n    }\n    var replicaConfiguration = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.assign)({}, initConfiguration, {\n        site: _intakeSites__WEBPACK_IMPORTED_MODULE_2__.INTAKE_SITE_US1,\n        clientToken: initConfiguration.replica.clientToken,\n    });\n    var replicaEndpointBuilders = {\n        logsEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(replicaConfiguration, 'logs', tags),\n        rumEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(replicaConfiguration, 'rum', tags),\n    };\n    intakeUrlPrefixes.push.apply(intakeUrlPrefixes, (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.objectValues)(replicaEndpointBuilders).map(function (builder) { return builder.urlPrefix; }));\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.assign)({ applicationId: initConfiguration.replica.applicationId }, replicaEndpointBuilders);\n}\n//# sourceMappingURL=transportConfiguration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vdHJhbnNwb3J0Q29uZmlndXJhdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi90cmFuc3BvcnRDb25maWd1cmF0aW9uLmpzP2RkYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JqZWN0VmFsdWVzLCBhc3NpZ24gfSBmcm9tICcuLi8uLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgY3JlYXRlRW5kcG9pbnRCdWlsZGVyIH0gZnJvbSAnLi9lbmRwb2ludEJ1aWxkZXInO1xuaW1wb3J0IHsgYnVpbGRUYWdzIH0gZnJvbSAnLi90YWdzJztcbmltcG9ydCB7IElOVEFLRV9TSVRFX1VTMSB9IGZyb20gJy4vaW50YWtlU2l0ZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUcmFuc3BvcnRDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIHRhZ3MgPSBidWlsZFRhZ3MoaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgIHZhciBlbmRwb2ludEJ1aWxkZXJzID0gY29tcHV0ZUVuZHBvaW50QnVpbGRlcnMoaW5pdENvbmZpZ3VyYXRpb24sIHRhZ3MpO1xuICAgIHZhciBpbnRha2VVcmxQcmVmaXhlcyA9IG9iamVjdFZhbHVlcyhlbmRwb2ludEJ1aWxkZXJzKS5tYXAoZnVuY3Rpb24gKGJ1aWxkZXIpIHsgcmV0dXJuIGJ1aWxkZXIudXJsUHJlZml4OyB9KTtcbiAgICB2YXIgcmVwbGljYUNvbmZpZ3VyYXRpb24gPSBjb21wdXRlUmVwbGljYUNvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24sIGludGFrZVVybFByZWZpeGVzLCB0YWdzKTtcbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgaXNJbnRha2VVcmw6IGZ1bmN0aW9uICh1cmwpIHsgcmV0dXJuIGludGFrZVVybFByZWZpeGVzLnNvbWUoZnVuY3Rpb24gKGludGFrZUVuZHBvaW50KSB7IHJldHVybiB1cmwuaW5kZXhPZihpbnRha2VFbmRwb2ludCkgPT09IDA7IH0pOyB9LFxuICAgICAgICByZXBsaWNhOiByZXBsaWNhQ29uZmlndXJhdGlvbixcbiAgICAgICAgc2l0ZTogaW5pdENvbmZpZ3VyYXRpb24uc2l0ZSB8fCBJTlRBS0VfU0lURV9VUzEsXG4gICAgfSwgZW5kcG9pbnRCdWlsZGVycyk7XG59XG5mdW5jdGlvbiBjb21wdXRlRW5kcG9pbnRCdWlsZGVycyhpbml0Q29uZmlndXJhdGlvbiwgdGFncykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvZ3NFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihpbml0Q29uZmlndXJhdGlvbiwgJ2xvZ3MnLCB0YWdzKSxcbiAgICAgICAgcnVtRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIoaW5pdENvbmZpZ3VyYXRpb24sICdydW0nLCB0YWdzKSxcbiAgICAgICAgc2Vzc2lvblJlcGxheUVuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCAnc2Vzc2lvblJlcGxheScsIHRhZ3MpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjb21wdXRlUmVwbGljYUNvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24sIGludGFrZVVybFByZWZpeGVzLCB0YWdzKSB7XG4gICAgaWYgKCFpbml0Q29uZmlndXJhdGlvbi5yZXBsaWNhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJlcGxpY2FDb25maWd1cmF0aW9uID0gYXNzaWduKHt9LCBpbml0Q29uZmlndXJhdGlvbiwge1xuICAgICAgICBzaXRlOiBJTlRBS0VfU0lURV9VUzEsXG4gICAgICAgIGNsaWVudFRva2VuOiBpbml0Q29uZmlndXJhdGlvbi5yZXBsaWNhLmNsaWVudFRva2VuLFxuICAgIH0pO1xuICAgIHZhciByZXBsaWNhRW5kcG9pbnRCdWlsZGVycyA9IHtcbiAgICAgICAgbG9nc0VuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKHJlcGxpY2FDb25maWd1cmF0aW9uLCAnbG9ncycsIHRhZ3MpLFxuICAgICAgICBydW1FbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihyZXBsaWNhQ29uZmlndXJhdGlvbiwgJ3J1bScsIHRhZ3MpLFxuICAgIH07XG4gICAgaW50YWtlVXJsUHJlZml4ZXMucHVzaC5hcHBseShpbnRha2VVcmxQcmVmaXhlcywgb2JqZWN0VmFsdWVzKHJlcGxpY2FFbmRwb2ludEJ1aWxkZXJzKS5tYXAoZnVuY3Rpb24gKGJ1aWxkZXIpIHsgcmV0dXJuIGJ1aWxkZXIudXJsUHJlZml4OyB9KSk7XG4gICAgcmV0dXJuIGFzc2lnbih7IGFwcGxpY2F0aW9uSWQ6IGluaXRDb25maWd1cmF0aW9uLnJlcGxpY2EuYXBwbGljYXRpb25JZCB9LCByZXBsaWNhRW5kcG9pbnRCdWlsZGVycyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc3BvcnRDb25maWd1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initConsoleObservable\": () => (/* binding */ initConsoleObservable),\n/* harmony export */   \"resetConsoleObservable\": () => (/* binding */ resetConsoleObservable)\n/* harmony export */ });\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tracekit */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _error_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/error */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/serialisation/sanitize */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n\n\n\n\n\nvar consoleObservablesByApi = {};\nfunction initConsoleObservable(apis) {\n    var consoleObservables = apis.map(function (api) {\n        if (!consoleObservablesByApi[api]) {\n            consoleObservablesByApi[api] = createConsoleObservable(api);\n        }\n        return consoleObservablesByApi[api];\n    });\n    return _tools_observable__WEBPACK_IMPORTED_MODULE_0__.mergeObservables.apply(void 0, consoleObservables);\n}\nfunction resetConsoleObservable() {\n    consoleObservablesByApi = {};\n}\nfunction createConsoleObservable(api) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var originalConsoleApi = _tools_display__WEBPACK_IMPORTED_MODULE_1__.globalConsole[api];\n        _tools_display__WEBPACK_IMPORTED_MODULE_1__.globalConsole[api] = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            originalConsoleApi.apply(console, params);\n            var handlingStack = (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.createHandlingStack)();\n            (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(function () {\n                observable.notify(buildConsoleLog(params, api, handlingStack));\n            });\n        };\n        return function () {\n            _tools_display__WEBPACK_IMPORTED_MODULE_1__.globalConsole[api] = originalConsoleApi;\n        };\n    });\n    return observable;\n}\nfunction buildConsoleLog(params, api, handlingStack) {\n    // Todo: remove console error prefix in the next major version\n    var message = params.map(function (param) { return formatConsoleParameters(param); }).join(' ');\n    var stack;\n    var fingerprint;\n    if (api === _tools_display__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error) {\n        var firstErrorParam = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.find)(params, function (param) { return param instanceof Error; });\n        stack = firstErrorParam ? (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.toStackTraceString)((0,_tracekit__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(firstErrorParam)) : undefined;\n        fingerprint = (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.tryToGetFingerprint)(firstErrorParam);\n        message = \"console error: \".concat(message);\n    }\n    return {\n        api: api,\n        message: message,\n        stack: stack,\n        handlingStack: handlingStack,\n        fingerprint: fingerprint,\n    };\n}\nfunction formatConsoleParameters(param) {\n    if (typeof param === 'string') {\n        return (0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_6__.sanitize)(param);\n    }\n    if (param instanceof Error) {\n        return (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.formatErrorMessage)((0,_tracekit__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(param));\n    }\n    return (0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_7__.jsonStringify)((0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_6__.sanitize)(param), undefined, 2);\n}\n//# sourceMappingURL=consoleObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnNvbGUvY29uc29sZU9ic2VydmFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnNvbGUvY29uc29sZU9ic2VydmFibGUuanM/MTQxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4uL3RyYWNla2l0JztcbmltcG9ydCB7IGNyZWF0ZUhhbmRsaW5nU3RhY2ssIGZvcm1hdEVycm9yTWVzc2FnZSwgdG9TdGFja1RyYWNlU3RyaW5nLCB0cnlUb0dldEZpbmdlcnByaW50IH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgbWVyZ2VPYnNlcnZhYmxlcywgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgQ29uc29sZUFwaU5hbWUsIGdsb2JhbENvbnNvbGUgfSBmcm9tICcuLi8uLi90b29scy9kaXNwbGF5JztcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQgfSBmcm9tICcuLi8uLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IHNhbml0aXplIH0gZnJvbSAnLi4vLi4vdG9vbHMvc2VyaWFsaXNhdGlvbi9zYW5pdGl6ZSc7XG5pbXBvcnQgeyBmaW5kIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGpzb25TdHJpbmdpZnkgfSBmcm9tICcuLi8uLi90b29scy9zZXJpYWxpc2F0aW9uL2pzb25TdHJpbmdpZnknO1xudmFyIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpID0ge307XG5leHBvcnQgZnVuY3Rpb24gaW5pdENvbnNvbGVPYnNlcnZhYmxlKGFwaXMpIHtcbiAgICB2YXIgY29uc29sZU9ic2VydmFibGVzID0gYXBpcy5tYXAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICBpZiAoIWNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpW2FwaV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpW2FwaV0gPSBjcmVhdGVDb25zb2xlT2JzZXJ2YWJsZShhcGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25zb2xlT2JzZXJ2YWJsZXNCeUFwaVthcGldO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZU9ic2VydmFibGVzLmFwcGx5KHZvaWQgMCwgY29uc29sZU9ic2VydmFibGVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvbnNvbGVPYnNlcnZhYmxlKCkge1xuICAgIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpID0ge307XG59XG5mdW5jdGlvbiBjcmVhdGVDb25zb2xlT2JzZXJ2YWJsZShhcGkpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsQ29uc29sZUFwaSA9IGdsb2JhbENvbnNvbGVbYXBpXTtcbiAgICAgICAgZ2xvYmFsQ29uc29sZVthcGldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9yaWdpbmFsQ29uc29sZUFwaS5hcHBseShjb25zb2xlLCBwYXJhbXMpO1xuICAgICAgICAgICAgdmFyIGhhbmRsaW5nU3RhY2sgPSBjcmVhdGVIYW5kbGluZ1N0YWNrKCk7XG4gICAgICAgICAgICBjYWxsTW9uaXRvcmVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShidWlsZENvbnNvbGVMb2cocGFyYW1zLCBhcGksIGhhbmRsaW5nU3RhY2spKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2xvYmFsQ29uc29sZVthcGldID0gb3JpZ2luYWxDb25zb2xlQXBpO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gYnVpbGRDb25zb2xlTG9nKHBhcmFtcywgYXBpLCBoYW5kbGluZ1N0YWNrKSB7XG4gICAgLy8gVG9kbzogcmVtb3ZlIGNvbnNvbGUgZXJyb3IgcHJlZml4IGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAgICB2YXIgbWVzc2FnZSA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBmb3JtYXRDb25zb2xlUGFyYW1ldGVycyhwYXJhbSk7IH0pLmpvaW4oJyAnKTtcbiAgICB2YXIgc3RhY2s7XG4gICAgdmFyIGZpbmdlcnByaW50O1xuICAgIGlmIChhcGkgPT09IENvbnNvbGVBcGlOYW1lLmVycm9yKSB7XG4gICAgICAgIHZhciBmaXJzdEVycm9yUGFyYW0gPSBmaW5kKHBhcmFtcywgZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBwYXJhbSBpbnN0YW5jZW9mIEVycm9yOyB9KTtcbiAgICAgICAgc3RhY2sgPSBmaXJzdEVycm9yUGFyYW0gPyB0b1N0YWNrVHJhY2VTdHJpbmcoY29tcHV0ZVN0YWNrVHJhY2UoZmlyc3RFcnJvclBhcmFtKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGZpbmdlcnByaW50ID0gdHJ5VG9HZXRGaW5nZXJwcmludChmaXJzdEVycm9yUGFyYW0pO1xuICAgICAgICBtZXNzYWdlID0gXCJjb25zb2xlIGVycm9yOiBcIi5jb25jYXQobWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFwaTogYXBpLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgICAgIGhhbmRsaW5nU3RhY2s6IGhhbmRsaW5nU3RhY2ssXG4gICAgICAgIGZpbmdlcnByaW50OiBmaW5nZXJwcmludCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZm9ybWF0Q29uc29sZVBhcmFtZXRlcnMocGFyYW0pIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc2FuaXRpemUocGFyYW0pO1xuICAgIH1cbiAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZm9ybWF0RXJyb3JNZXNzYWdlKGNvbXB1dGVTdGFja1RyYWNlKHBhcmFtKSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uU3RyaW5naWZ5KHNhbml0aXplKHBhcmFtKSwgdW5kZWZpbmVkLCAyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnNvbGVPYnNlcnZhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/context/contextManager.js":
/*!*************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/context/contextManager.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BYTES_COMPUTATION_THROTTLING_DELAY\": () => (/* binding */ BYTES_COMPUTATION_THROTTLING_DELAY),\n/* harmony export */   \"createContextManager\": () => (/* binding */ createContextManager)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _tools_mergeInto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/mergeInto */ \"../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _tools_utils_typeUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/utils/typeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n/* harmony import */ var _tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/serialisation/sanitize */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _heavyCustomerDataWarning__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./heavyCustomerDataWarning */ \"../../node_modules/@datadog/browser-core/esm/domain/context/heavyCustomerDataWarning.js\");\n\n\n\n\n\n\n\n\nvar BYTES_COMPUTATION_THROTTLING_DELAY = 200;\nfunction createContextManager(customerDataType, computeBytesCountImpl) {\n    if (computeBytesCountImpl === void 0) { computeBytesCountImpl = _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.computeBytesCount; }\n    var context = {};\n    var bytesCountCache;\n    var alreadyWarned = false;\n    var changeObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable();\n    // Throttle the bytes computation to minimize the impact on performance.\n    // Especially useful if the user call context APIs synchronously multiple times in a row\n    var computeBytesCountThrottled = (0,_tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_2__.throttle)(function (context) {\n        bytesCountCache = computeBytesCountImpl((0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_3__.jsonStringify)(context));\n        if (!alreadyWarned) {\n            alreadyWarned = (0,_heavyCustomerDataWarning__WEBPACK_IMPORTED_MODULE_4__.warnIfCustomerDataLimitReached)(bytesCountCache, customerDataType);\n        }\n    }, BYTES_COMPUTATION_THROTTLING_DELAY).throttled;\n    var contextManager = {\n        getBytesCount: function () { return bytesCountCache; },\n        /** @deprecated use getContext instead */\n        get: function () { return context; },\n        /** @deprecated use setContextProperty instead */\n        add: function (key, value) {\n            context[key] = value;\n            computeBytesCountThrottled(context);\n            changeObservable.notify();\n        },\n        /** @deprecated renamed to removeContextProperty */\n        remove: function (key) {\n            delete context[key];\n            computeBytesCountThrottled(context);\n            changeObservable.notify();\n        },\n        /** @deprecated use setContext instead */\n        set: function (newContext) {\n            context = newContext;\n            computeBytesCountThrottled(context);\n            changeObservable.notify();\n        },\n        getContext: function () { return (0,_tools_mergeInto__WEBPACK_IMPORTED_MODULE_5__.deepClone)(context); },\n        setContext: function (newContext) {\n            if ((0,_tools_utils_typeUtils__WEBPACK_IMPORTED_MODULE_6__.getType)(newContext) === 'object') {\n                context = (0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_7__.sanitize)(newContext);\n                computeBytesCountThrottled(context);\n            }\n            else {\n                contextManager.clearContext();\n            }\n            changeObservable.notify();\n        },\n        setContextProperty: function (key, property) {\n            context[key] = (0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_7__.sanitize)(property);\n            computeBytesCountThrottled(context);\n            changeObservable.notify();\n        },\n        removeContextProperty: function (key) {\n            delete context[key];\n            computeBytesCountThrottled(context);\n            changeObservable.notify();\n        },\n        clearContext: function () {\n            context = {};\n            bytesCountCache = 0;\n            changeObservable.notify();\n        },\n        changeObservable: changeObservable,\n    };\n    return contextManager;\n}\n//# sourceMappingURL=contextManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnRleHQvY29udGV4dE1hbmFnZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnRleHQvY29udGV4dE1hbmFnZXIuanM/Mzk2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlQnl0ZXNDb3VudCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL2J5dGVVdGlscyc7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL2Z1bmN0aW9uVXRpbHMnO1xuaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAnLi4vLi4vdG9vbHMvbWVyZ2VJbnRvJztcbmltcG9ydCB7IGdldFR5cGUgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90eXBlVXRpbHMnO1xuaW1wb3J0IHsganNvblN0cmluZ2lmeSB9IGZyb20gJy4uLy4uL3Rvb2xzL3NlcmlhbGlzYXRpb24vanNvblN0cmluZ2lmeSc7XG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4uLy4uL3Rvb2xzL3NlcmlhbGlzYXRpb24vc2FuaXRpemUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgd2FybklmQ3VzdG9tZXJEYXRhTGltaXRSZWFjaGVkIH0gZnJvbSAnLi9oZWF2eUN1c3RvbWVyRGF0YVdhcm5pbmcnO1xuZXhwb3J0IHZhciBCWVRFU19DT01QVVRBVElPTl9USFJPVFRMSU5HX0RFTEFZID0gMjAwO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHRNYW5hZ2VyKGN1c3RvbWVyRGF0YVR5cGUsIGNvbXB1dGVCeXRlc0NvdW50SW1wbCkge1xuICAgIGlmIChjb21wdXRlQnl0ZXNDb3VudEltcGwgPT09IHZvaWQgMCkgeyBjb21wdXRlQnl0ZXNDb3VudEltcGwgPSBjb21wdXRlQnl0ZXNDb3VudDsgfVxuICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgdmFyIGJ5dGVzQ291bnRDYWNoZTtcbiAgICB2YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xuICAgIHZhciBjaGFuZ2VPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAvLyBUaHJvdHRsZSB0aGUgYnl0ZXMgY29tcHV0YXRpb24gdG8gbWluaW1pemUgdGhlIGltcGFjdCBvbiBwZXJmb3JtYW5jZS5cbiAgICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBpZiB0aGUgdXNlciBjYWxsIGNvbnRleHQgQVBJcyBzeW5jaHJvbm91c2x5IG11bHRpcGxlIHRpbWVzIGluIGEgcm93XG4gICAgdmFyIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkID0gdGhyb3R0bGUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgYnl0ZXNDb3VudENhY2hlID0gY29tcHV0ZUJ5dGVzQ291bnRJbXBsKGpzb25TdHJpbmdpZnkoY29udGV4dCkpO1xuICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcbiAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB3YXJuSWZDdXN0b21lckRhdGFMaW1pdFJlYWNoZWQoYnl0ZXNDb3VudENhY2hlLCBjdXN0b21lckRhdGFUeXBlKTtcbiAgICAgICAgfVxuICAgIH0sIEJZVEVTX0NPTVBVVEFUSU9OX1RIUk9UVExJTkdfREVMQVkpLnRocm90dGxlZDtcbiAgICB2YXIgY29udGV4dE1hbmFnZXIgPSB7XG4gICAgICAgIGdldEJ5dGVzQ291bnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ5dGVzQ291bnRDYWNoZTsgfSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBnZXRDb250ZXh0IGluc3RlYWQgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb250ZXh0OyB9LFxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIHNldENvbnRleHRQcm9wZXJ0eSBpbnN0ZWFkICovXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRleHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgY29tcHV0ZUJ5dGVzQ291bnRUaHJvdHRsZWQoY29udGV4dCk7XG4gICAgICAgICAgICBjaGFuZ2VPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgcmVuYW1lZCB0byByZW1vdmVDb250ZXh0UHJvcGVydHkgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBkZWxldGUgY29udGV4dFtrZXldO1xuICAgICAgICAgICAgY29tcHV0ZUJ5dGVzQ291bnRUaHJvdHRsZWQoY29udGV4dCk7XG4gICAgICAgICAgICBjaGFuZ2VPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIHNldENvbnRleHQgaW5zdGVhZCAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdDb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3Q29udGV4dDtcbiAgICAgICAgICAgIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkKGNvbnRleHQpO1xuICAgICAgICAgICAgY2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnkoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVlcENsb25lKGNvbnRleHQpOyB9LFxuICAgICAgICBzZXRDb250ZXh0OiBmdW5jdGlvbiAobmV3Q29udGV4dCkge1xuICAgICAgICAgICAgaWYgKGdldFR5cGUobmV3Q29udGV4dCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IHNhbml0aXplKG5ld0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dE1hbmFnZXIuY2xlYXJDb250ZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFuZ2VPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDb250ZXh0UHJvcGVydHk6IGZ1bmN0aW9uIChrZXksIHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjb250ZXh0W2tleV0gPSBzYW5pdGl6ZShwcm9wZXJ0eSk7XG4gICAgICAgICAgICBjb21wdXRlQnl0ZXNDb3VudFRocm90dGxlZChjb250ZXh0KTtcbiAgICAgICAgICAgIGNoYW5nZU9ic2VydmFibGUubm90aWZ5KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUNvbnRleHRQcm9wZXJ0eTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbnRleHRba2V5XTtcbiAgICAgICAgICAgIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkKGNvbnRleHQpO1xuICAgICAgICAgICAgY2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnkoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJDb250ZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0ge307XG4gICAgICAgICAgICBieXRlc0NvdW50Q2FjaGUgPSAwO1xuICAgICAgICAgICAgY2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnkoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hhbmdlT2JzZXJ2YWJsZTogY2hhbmdlT2JzZXJ2YWJsZSxcbiAgICB9O1xuICAgIHJldHVybiBjb250ZXh0TWFuYWdlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHRNYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/context/contextManager.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/context/heavyCustomerDataWarning.js":
/*!***********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/context/heavyCustomerDataWarning.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CUSTOMER_DATA_BYTES_LIMIT\": () => (/* binding */ CUSTOMER_DATA_BYTES_LIMIT),\n/* harmony export */   \"warnIfCustomerDataLimitReached\": () => (/* binding */ warnIfCustomerDataLimitReached)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\nvar _a;\n\n\n// RUM and logs batch bytes limit is 16KB\n// ensure that we leave room for other event attributes and maintain a decent amount of event per batch\n// (3KB (customer data) + 1KB (other attributes)) * 4 (events per batch) = 16KB\nvar CUSTOMER_DATA_BYTES_LIMIT = 3 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\nvar CustomerDataLabel = (_a = {},\n    _a[0 /* CustomerDataType.FeatureFlag */] = 'feature flag evaluation',\n    _a[1 /* CustomerDataType.User */] = 'user',\n    _a[2 /* CustomerDataType.GlobalContext */] = 'global context',\n    _a[3 /* CustomerDataType.LoggerContext */] = 'logger context',\n    _a);\nfunction warnIfCustomerDataLimitReached(bytesCount, customerDataType) {\n    if (bytesCount > CUSTOMER_DATA_BYTES_LIMIT) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_1__.display.warn(\"The \".concat(CustomerDataLabel[customerDataType], \" data exceeds the recommended \").concat(CUSTOMER_DATA_BYTES_LIMIT / _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE, \"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-3kib-warning\"));\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=heavyCustomerDataWarning.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnRleHQvaGVhdnlDdXN0b21lckRhdGFXYXJuaW5nLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29udGV4dC9oZWF2eUN1c3RvbWVyRGF0YVdhcm5pbmcuanM/MGZmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2E7XG5pbXBvcnQgeyBPTkVfS0lCSV9CWVRFIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzJztcbmltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi8uLi90b29scy9kaXNwbGF5Jztcbi8vIFJVTSBhbmQgbG9ncyBiYXRjaCBieXRlcyBsaW1pdCBpcyAxNktCXG4vLyBlbnN1cmUgdGhhdCB3ZSBsZWF2ZSByb29tIGZvciBvdGhlciBldmVudCBhdHRyaWJ1dGVzIGFuZCBtYWludGFpbiBhIGRlY2VudCBhbW91bnQgb2YgZXZlbnQgcGVyIGJhdGNoXG4vLyAoM0tCIChjdXN0b21lciBkYXRhKSArIDFLQiAob3RoZXIgYXR0cmlidXRlcykpICogNCAoZXZlbnRzIHBlciBiYXRjaCkgPSAxNktCXG5leHBvcnQgdmFyIENVU1RPTUVSX0RBVEFfQllURVNfTElNSVQgPSAzICogT05FX0tJQklfQllURTtcbnZhciBDdXN0b21lckRhdGFMYWJlbCA9IChfYSA9IHt9LFxuICAgIF9hWzAgLyogQ3VzdG9tZXJEYXRhVHlwZS5GZWF0dXJlRmxhZyAqL10gPSAnZmVhdHVyZSBmbGFnIGV2YWx1YXRpb24nLFxuICAgIF9hWzEgLyogQ3VzdG9tZXJEYXRhVHlwZS5Vc2VyICovXSA9ICd1c2VyJyxcbiAgICBfYVsyIC8qIEN1c3RvbWVyRGF0YVR5cGUuR2xvYmFsQ29udGV4dCAqL10gPSAnZ2xvYmFsIGNvbnRleHQnLFxuICAgIF9hWzMgLyogQ3VzdG9tZXJEYXRhVHlwZS5Mb2dnZXJDb250ZXh0ICovXSA9ICdsb2dnZXIgY29udGV4dCcsXG4gICAgX2EpO1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm5JZkN1c3RvbWVyRGF0YUxpbWl0UmVhY2hlZChieXRlc0NvdW50LCBjdXN0b21lckRhdGFUeXBlKSB7XG4gICAgaWYgKGJ5dGVzQ291bnQgPiBDVVNUT01FUl9EQVRBX0JZVEVTX0xJTUlUKSB7XG4gICAgICAgIGRpc3BsYXkud2FybihcIlRoZSBcIi5jb25jYXQoQ3VzdG9tZXJEYXRhTGFiZWxbY3VzdG9tZXJEYXRhVHlwZV0sIFwiIGRhdGEgZXhjZWVkcyB0aGUgcmVjb21tZW5kZWQgXCIpLmNvbmNhdChDVVNUT01FUl9EQVRBX0JZVEVTX0xJTUlUIC8gT05FX0tJQklfQllURSwgXCJLaUIgdGhyZXNob2xkLiBNb3JlIGRldGFpbHM6IGh0dHBzOi8vZG9jcy5kYXRhZG9naHEuY29tL3JlYWxfdXNlcl9tb25pdG9yaW5nL2Jyb3dzZXIvdHJvdWJsZXNob290aW5nLyNjdXN0b21lci1kYXRhLWV4Y2VlZHMtdGhlLXJlY29tbWVuZGVkLTNraWItd2FybmluZ1wiKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWF2eUN1c3RvbWVyRGF0YVdhcm5pbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/context/heavyCustomerDataWarning.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/context/storedContextManager.js":
/*!*******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/context/storedContextManager.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildStorageKey\": () => (/* binding */ buildStorageKey),\n/* harmony export */   \"createStoredContextManager\": () => (/* binding */ createStoredContextManager),\n/* harmony export */   \"removeStorageListeners\": () => (/* binding */ removeStorageListeners)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../browser/addEventListener */ \"../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _contextManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contextManager */ \"../../node_modules/@datadog/browser-core/esm/domain/context/contextManager.js\");\n\n\n\nvar CONTEXT_STORE_KEY_PREFIX = '_dd_c';\nvar storageListeners = [];\nfunction createStoredContextManager(configuration, productKey, customerDataType, computeBytesCountImpl) {\n    if (computeBytesCountImpl === void 0) { computeBytesCountImpl = _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.computeBytesCount; }\n    var storageKey = buildStorageKey(productKey, customerDataType);\n    var contextManager = (0,_contextManager__WEBPACK_IMPORTED_MODULE_1__.createContextManager)(customerDataType, computeBytesCountImpl);\n    synchronizeWithStorage();\n    storageListeners.push((0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_2__.addEventListener)(configuration, window, \"storage\" /* DOM_EVENT.STORAGE */, function (_a) {\n        var key = _a.key;\n        if (storageKey === key) {\n            synchronizeWithStorage();\n        }\n    }));\n    contextManager.changeObservable.subscribe(dumpToStorage);\n    return contextManager;\n    function synchronizeWithStorage() {\n        var rawContext = localStorage.getItem(storageKey);\n        var context = rawContext !== null ? JSON.parse(rawContext) : {};\n        contextManager.setContext(context);\n    }\n    function dumpToStorage() {\n        localStorage.setItem(storageKey, JSON.stringify(contextManager.getContext()));\n    }\n}\nfunction buildStorageKey(productKey, customerDataType) {\n    return \"\".concat(CONTEXT_STORE_KEY_PREFIX, \"_\").concat(productKey, \"_\").concat(customerDataType);\n}\nfunction removeStorageListeners() {\n    storageListeners.map(function (listener) { return listener.stop(); });\n}\n//# sourceMappingURL=storedContextManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnRleHQvc3RvcmVkQ29udGV4dE1hbmFnZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vY29udGV4dC9zdG9yZWRDb250ZXh0TWFuYWdlci5qcz9hOTc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXB1dGVCeXRlc0NvdW50IH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9icm93c2VyL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dE1hbmFnZXIgfSBmcm9tICcuL2NvbnRleHRNYW5hZ2VyJztcbnZhciBDT05URVhUX1NUT1JFX0tFWV9QUkVGSVggPSAnX2RkX2MnO1xudmFyIHN0b3JhZ2VMaXN0ZW5lcnMgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yZWRDb250ZXh0TWFuYWdlcihjb25maWd1cmF0aW9uLCBwcm9kdWN0S2V5LCBjdXN0b21lckRhdGFUeXBlLCBjb21wdXRlQnl0ZXNDb3VudEltcGwpIHtcbiAgICBpZiAoY29tcHV0ZUJ5dGVzQ291bnRJbXBsID09PSB2b2lkIDApIHsgY29tcHV0ZUJ5dGVzQ291bnRJbXBsID0gY29tcHV0ZUJ5dGVzQ291bnQ7IH1cbiAgICB2YXIgc3RvcmFnZUtleSA9IGJ1aWxkU3RvcmFnZUtleShwcm9kdWN0S2V5LCBjdXN0b21lckRhdGFUeXBlKTtcbiAgICB2YXIgY29udGV4dE1hbmFnZXIgPSBjcmVhdGVDb250ZXh0TWFuYWdlcihjdXN0b21lckRhdGFUeXBlLCBjb21wdXRlQnl0ZXNDb3VudEltcGwpO1xuICAgIHN5bmNocm9uaXplV2l0aFN0b3JhZ2UoKTtcbiAgICBzdG9yYWdlTGlzdGVuZXJzLnB1c2goYWRkRXZlbnRMaXN0ZW5lcihjb25maWd1cmF0aW9uLCB3aW5kb3csIFwic3RvcmFnZVwiIC8qIERPTV9FVkVOVC5TVE9SQUdFICovLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGtleSA9IF9hLmtleTtcbiAgICAgICAgaWYgKHN0b3JhZ2VLZXkgPT09IGtleSkge1xuICAgICAgICAgICAgc3luY2hyb25pemVXaXRoU3RvcmFnZSgpO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIGNvbnRleHRNYW5hZ2VyLmNoYW5nZU9ic2VydmFibGUuc3Vic2NyaWJlKGR1bXBUb1N0b3JhZ2UpO1xuICAgIHJldHVybiBjb250ZXh0TWFuYWdlcjtcbiAgICBmdW5jdGlvbiBzeW5jaHJvbml6ZVdpdGhTdG9yYWdlKCkge1xuICAgICAgICB2YXIgcmF3Q29udGV4dCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHJhd0NvbnRleHQgIT09IG51bGwgPyBKU09OLnBhcnNlKHJhd0NvbnRleHQpIDoge307XG4gICAgICAgIGNvbnRleHRNYW5hZ2VyLnNldENvbnRleHQoY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGR1bXBUb1N0b3JhZ2UoKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGNvbnRleHRNYW5hZ2VyLmdldENvbnRleHQoKSkpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFN0b3JhZ2VLZXkocHJvZHVjdEtleSwgY3VzdG9tZXJEYXRhVHlwZSkge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChDT05URVhUX1NUT1JFX0tFWV9QUkVGSVgsIFwiX1wiKS5jb25jYXQocHJvZHVjdEtleSwgXCJfXCIpLmNvbmNhdChjdXN0b21lckRhdGFUeXBlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTdG9yYWdlTGlzdGVuZXJzKCkge1xuICAgIHN0b3JhZ2VMaXN0ZW5lcnMubWFwKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIuc3RvcCgpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0b3JlZENvbnRleHRNYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/context/storedContextManager.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/error/error.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/error/error.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NO_ERROR_STACK_PRESENT_MESSAGE\": () => (/* binding */ NO_ERROR_STACK_PRESENT_MESSAGE),\n/* harmony export */   \"computeRawError\": () => (/* binding */ computeRawError),\n/* harmony export */   \"createHandlingStack\": () => (/* binding */ createHandlingStack),\n/* harmony export */   \"flattenErrorCauses\": () => (/* binding */ flattenErrorCauses),\n/* harmony export */   \"formatErrorMessage\": () => (/* binding */ formatErrorMessage),\n/* harmony export */   \"getFileFromStackTraceString\": () => (/* binding */ getFileFromStackTraceString),\n/* harmony export */   \"toStackTraceString\": () => (/* binding */ toStackTraceString),\n/* harmony export */   \"tryToGetFingerprint\": () => (/* binding */ tryToGetFingerprint)\n/* harmony export */ });\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tracekit */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/serialisation/sanitize */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n\n\nvar NO_ERROR_STACK_PRESENT_MESSAGE = 'No stack, consider using an instance of Error';\nfunction computeRawError(_a) {\n    var stackTrace = _a.stackTrace, originalError = _a.originalError, handlingStack = _a.handlingStack, startClocks = _a.startClocks, nonErrorPrefix = _a.nonErrorPrefix, source = _a.source, handling = _a.handling;\n    var isErrorInstance = originalError instanceof Error;\n    var message = computeMessage(stackTrace, isErrorInstance, nonErrorPrefix, originalError);\n    var stack = hasUsableStack(isErrorInstance, stackTrace)\n        ? toStackTraceString(stackTrace)\n        : NO_ERROR_STACK_PRESENT_MESSAGE;\n    var causes = isErrorInstance ? flattenErrorCauses(originalError, source) : undefined;\n    var type = stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.name;\n    var fingerprint = tryToGetFingerprint(originalError);\n    return {\n        startClocks: startClocks,\n        source: source,\n        handling: handling,\n        handlingStack: handlingStack,\n        originalError: originalError,\n        type: type,\n        message: message,\n        stack: stack,\n        causes: causes,\n        fingerprint: fingerprint,\n    };\n}\nfunction computeMessage(stackTrace, isErrorInstance, nonErrorPrefix, originalError) {\n    // Favor stackTrace message only if tracekit has really been able to extract something meaningful (message + name)\n    // TODO rework tracekit integration to avoid scattering error building logic\n    return (stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.message) && (stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.name)\n        ? stackTrace.message\n        : !isErrorInstance\n            ? \"\".concat(nonErrorPrefix, \" \").concat((0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)((0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_1__.sanitize)(originalError)))\n            : 'Empty message';\n}\nfunction hasUsableStack(isErrorInstance, stackTrace) {\n    if (stackTrace === undefined) {\n        return false;\n    }\n    if (isErrorInstance) {\n        return true;\n    }\n    // handle cases where tracekit return stack = [] or stack = [{url: undefined, line: undefined, column: undefined}]\n    // TODO rework tracekit integration to avoid generating those unusable stack\n    return stackTrace.stack.length > 0 && (stackTrace.stack.length > 1 || stackTrace.stack[0].url !== undefined);\n}\nfunction tryToGetFingerprint(originalError) {\n    return originalError instanceof Error && 'dd_fingerprint' in originalError\n        ? String(originalError.dd_fingerprint)\n        : undefined;\n}\nfunction toStackTraceString(stack) {\n    var result = formatErrorMessage(stack);\n    stack.stack.forEach(function (frame) {\n        var func = frame.func === '?' ? '<anonymous>' : frame.func;\n        var args = frame.args && frame.args.length > 0 ? \"(\".concat(frame.args.join(', '), \")\") : '';\n        var line = frame.line ? \":\".concat(frame.line) : '';\n        var column = frame.line && frame.column ? \":\".concat(frame.column) : '';\n        result += \"\\n  at \".concat(func).concat(args, \" @ \").concat(frame.url).concat(line).concat(column);\n    });\n    return result;\n}\nfunction getFileFromStackTraceString(stack) {\n    var _a;\n    return (_a = /@ (.+)/.exec(stack)) === null || _a === void 0 ? void 0 : _a[1];\n}\nfunction formatErrorMessage(stack) {\n    return \"\".concat(stack.name || 'Error', \": \").concat(stack.message);\n}\n/**\n Creates a stacktrace without SDK internal frames.\n \n Constraints:\n - Has to be called at the utmost position of the call stack.\n - No monitored function should encapsulate it, that is why we need to use callMonitored inside it.\n */\nfunction createHandlingStack() {\n    /**\n     * Skip the two internal frames:\n     * - SDK API (console.error, ...)\n     * - this function\n     * in order to keep only the user calls\n     */\n    var internalFramesToSkip = 2;\n    var error = new Error();\n    var formattedStack;\n    // IE needs to throw the error to fill in the stack trace\n    if (!error.stack) {\n        try {\n            throw error;\n        }\n        catch (e) {\n            (0,_tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_2__.noop)();\n        }\n    }\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(function () {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_4__.computeStackTrace)(error);\n        stackTrace.stack = stackTrace.stack.slice(internalFramesToSkip);\n        formattedStack = toStackTraceString(stackTrace);\n    });\n    return formattedStack;\n}\nfunction flattenErrorCauses(error, parentSource) {\n    var currentError = error;\n    var causes = [];\n    while ((currentError === null || currentError === void 0 ? void 0 : currentError.cause) instanceof Error && causes.length < 10) {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_4__.computeStackTrace)(currentError.cause);\n        causes.push({\n            message: currentError.cause.message,\n            source: parentSource,\n            type: stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.name,\n            stack: stackTrace && toStackTraceString(stackTrace),\n        });\n        currentError = currentError.cause;\n    }\n    return causes.length ? causes : undefined;\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL2Vycm9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9lcnJvci9lcnJvci5qcz84YjMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi4vdHJhY2VraXQnO1xuaW1wb3J0IHsgY2FsbE1vbml0b3JlZCB9IGZyb20gJy4uLy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgc2FuaXRpemUgfSBmcm9tICcuLi8uLi90b29scy9zZXJpYWxpc2F0aW9uL3Nhbml0aXplJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9mdW5jdGlvblV0aWxzJztcbmltcG9ydCB7IGpzb25TdHJpbmdpZnkgfSBmcm9tICcuLi8uLi90b29scy9zZXJpYWxpc2F0aW9uL2pzb25TdHJpbmdpZnknO1xuZXhwb3J0IHZhciBOT19FUlJPUl9TVEFDS19QUkVTRU5UX01FU1NBR0UgPSAnTm8gc3RhY2ssIGNvbnNpZGVyIHVzaW5nIGFuIGluc3RhbmNlIG9mIEVycm9yJztcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmF3RXJyb3IoX2EpIHtcbiAgICB2YXIgc3RhY2tUcmFjZSA9IF9hLnN0YWNrVHJhY2UsIG9yaWdpbmFsRXJyb3IgPSBfYS5vcmlnaW5hbEVycm9yLCBoYW5kbGluZ1N0YWNrID0gX2EuaGFuZGxpbmdTdGFjaywgc3RhcnRDbG9ja3MgPSBfYS5zdGFydENsb2Nrcywgbm9uRXJyb3JQcmVmaXggPSBfYS5ub25FcnJvclByZWZpeCwgc291cmNlID0gX2Euc291cmNlLCBoYW5kbGluZyA9IF9hLmhhbmRsaW5nO1xuICAgIHZhciBpc0Vycm9ySW5zdGFuY2UgPSBvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3I7XG4gICAgdmFyIG1lc3NhZ2UgPSBjb21wdXRlTWVzc2FnZShzdGFja1RyYWNlLCBpc0Vycm9ySW5zdGFuY2UsIG5vbkVycm9yUHJlZml4LCBvcmlnaW5hbEVycm9yKTtcbiAgICB2YXIgc3RhY2sgPSBoYXNVc2FibGVTdGFjayhpc0Vycm9ySW5zdGFuY2UsIHN0YWNrVHJhY2UpXG4gICAgICAgID8gdG9TdGFja1RyYWNlU3RyaW5nKHN0YWNrVHJhY2UpXG4gICAgICAgIDogTk9fRVJST1JfU1RBQ0tfUFJFU0VOVF9NRVNTQUdFO1xuICAgIHZhciBjYXVzZXMgPSBpc0Vycm9ySW5zdGFuY2UgPyBmbGF0dGVuRXJyb3JDYXVzZXMob3JpZ2luYWxFcnJvciwgc291cmNlKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdHlwZSA9IHN0YWNrVHJhY2UgPT09IG51bGwgfHwgc3RhY2tUcmFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhY2tUcmFjZS5uYW1lO1xuICAgIHZhciBmaW5nZXJwcmludCA9IHRyeVRvR2V0RmluZ2VycHJpbnQob3JpZ2luYWxFcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRDbG9ja3M6IHN0YXJ0Q2xvY2tzLFxuICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgaGFuZGxpbmc6IGhhbmRsaW5nLFxuICAgICAgICBoYW5kbGluZ1N0YWNrOiBoYW5kbGluZ1N0YWNrLFxuICAgICAgICBvcmlnaW5hbEVycm9yOiBvcmlnaW5hbEVycm9yLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgICAgIGNhdXNlczogY2F1c2VzLFxuICAgICAgICBmaW5nZXJwcmludDogZmluZ2VycHJpbnQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVNZXNzYWdlKHN0YWNrVHJhY2UsIGlzRXJyb3JJbnN0YW5jZSwgbm9uRXJyb3JQcmVmaXgsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICAvLyBGYXZvciBzdGFja1RyYWNlIG1lc3NhZ2Ugb25seSBpZiB0cmFjZWtpdCBoYXMgcmVhbGx5IGJlZW4gYWJsZSB0byBleHRyYWN0IHNvbWV0aGluZyBtZWFuaW5nZnVsIChtZXNzYWdlICsgbmFtZSlcbiAgICAvLyBUT0RPIHJld29yayB0cmFjZWtpdCBpbnRlZ3JhdGlvbiB0byBhdm9pZCBzY2F0dGVyaW5nIGVycm9yIGJ1aWxkaW5nIGxvZ2ljXG4gICAgcmV0dXJuIChzdGFja1RyYWNlID09PSBudWxsIHx8IHN0YWNrVHJhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YWNrVHJhY2UubWVzc2FnZSkgJiYgKHN0YWNrVHJhY2UgPT09IG51bGwgfHwgc3RhY2tUcmFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhY2tUcmFjZS5uYW1lKVxuICAgICAgICA/IHN0YWNrVHJhY2UubWVzc2FnZVxuICAgICAgICA6ICFpc0Vycm9ySW5zdGFuY2VcbiAgICAgICAgICAgID8gXCJcIi5jb25jYXQobm9uRXJyb3JQcmVmaXgsIFwiIFwiKS5jb25jYXQoanNvblN0cmluZ2lmeShzYW5pdGl6ZShvcmlnaW5hbEVycm9yKSkpXG4gICAgICAgICAgICA6ICdFbXB0eSBtZXNzYWdlJztcbn1cbmZ1bmN0aW9uIGhhc1VzYWJsZVN0YWNrKGlzRXJyb3JJbnN0YW5jZSwgc3RhY2tUcmFjZSkge1xuICAgIGlmIChzdGFja1RyYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvckluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBoYW5kbGUgY2FzZXMgd2hlcmUgdHJhY2VraXQgcmV0dXJuIHN0YWNrID0gW10gb3Igc3RhY2sgPSBbe3VybDogdW5kZWZpbmVkLCBsaW5lOiB1bmRlZmluZWQsIGNvbHVtbjogdW5kZWZpbmVkfV1cbiAgICAvLyBUT0RPIHJld29yayB0cmFjZWtpdCBpbnRlZ3JhdGlvbiB0byBhdm9pZCBnZW5lcmF0aW5nIHRob3NlIHVudXNhYmxlIHN0YWNrXG4gICAgcmV0dXJuIHN0YWNrVHJhY2Uuc3RhY2subGVuZ3RoID4gMCAmJiAoc3RhY2tUcmFjZS5zdGFjay5sZW5ndGggPiAxIHx8IHN0YWNrVHJhY2Uuc3RhY2tbMF0udXJsICE9PSB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyeVRvR2V0RmluZ2VycHJpbnQob3JpZ2luYWxFcnJvcikge1xuICAgIHJldHVybiBvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgJ2RkX2ZpbmdlcnByaW50JyBpbiBvcmlnaW5hbEVycm9yXG4gICAgICAgID8gU3RyaW5nKG9yaWdpbmFsRXJyb3IuZGRfZmluZ2VycHJpbnQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvU3RhY2tUcmFjZVN0cmluZyhzdGFjaykge1xuICAgIHZhciByZXN1bHQgPSBmb3JtYXRFcnJvck1lc3NhZ2Uoc3RhY2spO1xuICAgIHN0YWNrLnN0YWNrLmZvckVhY2goZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gZnJhbWUuZnVuYyA9PT0gJz8nID8gJzxhbm9ueW1vdXM+JyA6IGZyYW1lLmZ1bmM7XG4gICAgICAgIHZhciBhcmdzID0gZnJhbWUuYXJncyAmJiBmcmFtZS5hcmdzLmxlbmd0aCA+IDAgPyBcIihcIi5jb25jYXQoZnJhbWUuYXJncy5qb2luKCcsICcpLCBcIilcIikgOiAnJztcbiAgICAgICAgdmFyIGxpbmUgPSBmcmFtZS5saW5lID8gXCI6XCIuY29uY2F0KGZyYW1lLmxpbmUpIDogJyc7XG4gICAgICAgIHZhciBjb2x1bW4gPSBmcmFtZS5saW5lICYmIGZyYW1lLmNvbHVtbiA/IFwiOlwiLmNvbmNhdChmcmFtZS5jb2x1bW4pIDogJyc7XG4gICAgICAgIHJlc3VsdCArPSBcIlxcbiAgYXQgXCIuY29uY2F0KGZ1bmMpLmNvbmNhdChhcmdzLCBcIiBAIFwiKS5jb25jYXQoZnJhbWUudXJsKS5jb25jYXQobGluZSkuY29uY2F0KGNvbHVtbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRnJvbVN0YWNrVHJhY2VTdHJpbmcoc3RhY2spIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IC9AICguKykvLmV4ZWMoc3RhY2spKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMV07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3JNZXNzYWdlKHN0YWNrKSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KHN0YWNrLm5hbWUgfHwgJ0Vycm9yJywgXCI6IFwiKS5jb25jYXQoc3RhY2subWVzc2FnZSk7XG59XG4vKipcbiBDcmVhdGVzIGEgc3RhY2t0cmFjZSB3aXRob3V0IFNESyBpbnRlcm5hbCBmcmFtZXMuXG4gXG4gQ29uc3RyYWludHM6XG4gLSBIYXMgdG8gYmUgY2FsbGVkIGF0IHRoZSB1dG1vc3QgcG9zaXRpb24gb2YgdGhlIGNhbGwgc3RhY2suXG4gLSBObyBtb25pdG9yZWQgZnVuY3Rpb24gc2hvdWxkIGVuY2Fwc3VsYXRlIGl0LCB0aGF0IGlzIHdoeSB3ZSBuZWVkIHRvIHVzZSBjYWxsTW9uaXRvcmVkIGluc2lkZSBpdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhbmRsaW5nU3RhY2soKSB7XG4gICAgLyoqXG4gICAgICogU2tpcCB0aGUgdHdvIGludGVybmFsIGZyYW1lczpcbiAgICAgKiAtIFNESyBBUEkgKGNvbnNvbGUuZXJyb3IsIC4uLilcbiAgICAgKiAtIHRoaXMgZnVuY3Rpb25cbiAgICAgKiBpbiBvcmRlciB0byBrZWVwIG9ubHkgdGhlIHVzZXIgY2FsbHNcbiAgICAgKi9cbiAgICB2YXIgaW50ZXJuYWxGcmFtZXNUb1NraXAgPSAyO1xuICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuICAgIHZhciBmb3JtYXR0ZWRTdGFjaztcbiAgICAvLyBJRSBuZWVkcyB0byB0aHJvdyB0aGUgZXJyb3IgdG8gZmlsbCBpbiB0aGUgc3RhY2sgdHJhY2VcbiAgICBpZiAoIWVycm9yLnN0YWNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbm9vcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbGxNb25pdG9yZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhY2tUcmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yKTtcbiAgICAgICAgc3RhY2tUcmFjZS5zdGFjayA9IHN0YWNrVHJhY2Uuc3RhY2suc2xpY2UoaW50ZXJuYWxGcmFtZXNUb1NraXApO1xuICAgICAgICBmb3JtYXR0ZWRTdGFjayA9IHRvU3RhY2tUcmFjZVN0cmluZyhzdGFja1RyYWNlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybWF0dGVkU3RhY2s7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkVycm9yQ2F1c2VzKGVycm9yLCBwYXJlbnRTb3VyY2UpIHtcbiAgICB2YXIgY3VycmVudEVycm9yID0gZXJyb3I7XG4gICAgdmFyIGNhdXNlcyA9IFtdO1xuICAgIHdoaWxlICgoY3VycmVudEVycm9yID09PSBudWxsIHx8IGN1cnJlbnRFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudEVycm9yLmNhdXNlKSBpbnN0YW5jZW9mIEVycm9yICYmIGNhdXNlcy5sZW5ndGggPCAxMCkge1xuICAgICAgICB2YXIgc3RhY2tUcmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGN1cnJlbnRFcnJvci5jYXVzZSk7XG4gICAgICAgIGNhdXNlcy5wdXNoKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGN1cnJlbnRFcnJvci5jYXVzZS5tZXNzYWdlLFxuICAgICAgICAgICAgc291cmNlOiBwYXJlbnRTb3VyY2UsXG4gICAgICAgICAgICB0eXBlOiBzdGFja1RyYWNlID09PSBudWxsIHx8IHN0YWNrVHJhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YWNrVHJhY2UubmFtZSxcbiAgICAgICAgICAgIHN0YWNrOiBzdGFja1RyYWNlICYmIHRvU3RhY2tUcmFjZVN0cmluZyhzdGFja1RyYWNlKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGN1cnJlbnRFcnJvciA9IGN1cnJlbnRFcnJvci5jYXVzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNhdXNlcy5sZW5ndGggPyBjYXVzZXMgOiB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/error/error.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ErrorSource\": () => (/* binding */ ErrorSource)\n/* harmony export */ });\nvar ErrorSource = {\n    AGENT: 'agent',\n    CONSOLE: 'console',\n    CUSTOM: 'custom',\n    LOGGER: 'logger',\n    NETWORK: 'network',\n    SOURCE: 'source',\n    REPORT: 'report',\n};\n//# sourceMappingURL=error.types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL2Vycm9yLnR5cGVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9lcnJvci9lcnJvci50eXBlcy5qcz9iZGVkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgRXJyb3JTb3VyY2UgPSB7XG4gICAgQUdFTlQ6ICdhZ2VudCcsXG4gICAgQ09OU09MRTogJ2NvbnNvbGUnLFxuICAgIENVU1RPTTogJ2N1c3RvbScsXG4gICAgTE9HR0VSOiAnbG9nZ2VyJyxcbiAgICBORVRXT1JLOiAnbmV0d29yaycsXG4gICAgU09VUkNFOiAnc291cmNlJyxcbiAgICBSRVBPUlQ6ICdyZXBvcnQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLnR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"trackRuntimeError\": () => (/* binding */ trackRuntimeError)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tracekit */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _error_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error.types */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\n\n\n\nfunction trackRuntimeError(errorObservable) {\n    return (0,_tracekit__WEBPACK_IMPORTED_MODULE_0__.startUnhandledErrorCollection)(function (stackTrace, originalError) {\n        errorObservable.notify((0,_error__WEBPACK_IMPORTED_MODULE_1__.computeRawError)({\n            stackTrace: stackTrace,\n            originalError: originalError,\n            startClocks: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n            nonErrorPrefix: \"Uncaught\" /* NonErrorPrefix.UNCAUGHT */,\n            source: _error_types__WEBPACK_IMPORTED_MODULE_3__.ErrorSource.SOURCE,\n            handling: \"unhandled\" /* ErrorHandling.UNHANDLED */,\n        }));\n    });\n}\n//# sourceMappingURL=trackRuntimeError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL3RyYWNrUnVudGltZUVycm9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9lcnJvci90cmFja1J1bnRpbWVFcnJvci5qcz80MTA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBzdGFydFVuaGFuZGxlZEVycm9yQ29sbGVjdGlvbiB9IGZyb20gJy4uL3RyYWNla2l0JztcbmltcG9ydCB7IGNvbXB1dGVSYXdFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgRXJyb3JTb3VyY2UgfSBmcm9tICcuL2Vycm9yLnR5cGVzJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1J1bnRpbWVFcnJvcihlcnJvck9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gc3RhcnRVbmhhbmRsZWRFcnJvckNvbGxlY3Rpb24oZnVuY3Rpb24gKHN0YWNrVHJhY2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgZXJyb3JPYnNlcnZhYmxlLm5vdGlmeShjb21wdXRlUmF3RXJyb3Ioe1xuICAgICAgICAgICAgc3RhY2tUcmFjZTogc3RhY2tUcmFjZSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IG9yaWdpbmFsRXJyb3IsXG4gICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICBub25FcnJvclByZWZpeDogXCJVbmNhdWdodFwiIC8qIE5vbkVycm9yUHJlZml4LlVOQ0FVR0hUICovLFxuICAgICAgICAgICAgc291cmNlOiBFcnJvclNvdXJjZS5TT1VSQ0UsXG4gICAgICAgICAgICBoYW5kbGluZzogXCJ1bmhhbmRsZWRcIiAvKiBFcnJvckhhbmRsaW5nLlVOSEFORExFRCAqLyxcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tSdW50aW1lRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createEventRateLimiter\": () => (/* binding */ createEventRateLimiter)\n/* harmony export */ });\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _error_error_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/error.types */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\n\n\nfunction createEventRateLimiter(eventType, limit, onLimitReached) {\n    var eventCount = 0;\n    var allowNextEvent = false;\n    return {\n        isLimitReached: function () {\n            if (eventCount === 0) {\n                (0,_tools_timer__WEBPACK_IMPORTED_MODULE_0__.setTimeout)(function () {\n                    eventCount = 0;\n                }, _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE);\n            }\n            eventCount += 1;\n            if (eventCount <= limit || allowNextEvent) {\n                allowNextEvent = false;\n                return false;\n            }\n            if (eventCount === limit + 1) {\n                allowNextEvent = true;\n                try {\n                    onLimitReached({\n                        message: \"Reached max number of \".concat(eventType, \"s by minute: \").concat(limit),\n                        source: _error_error_types__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.AGENT,\n                        startClocks: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.clocksNow)(),\n                    });\n                }\n                finally {\n                    allowNextEvent = false;\n                }\n            }\n            return true;\n        },\n    };\n}\n//# sourceMappingURL=createEventRateLimiter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2V2ZW50UmF0ZUxpbWl0ZXIvY3JlYXRlRXZlbnRSYXRlTGltaXRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2V2ZW50UmF0ZUxpbWl0ZXIvY3JlYXRlRXZlbnRSYXRlTGltaXRlci5qcz83Y2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICcuLi8uLi90b29scy90aW1lcic7XG5pbXBvcnQgeyBjbG9ja3NOb3csIE9ORV9NSU5VVEUgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90aW1lVXRpbHMnO1xuaW1wb3J0IHsgRXJyb3JTb3VyY2UgfSBmcm9tICcuLi9lcnJvci9lcnJvci50eXBlcyc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnRSYXRlTGltaXRlcihldmVudFR5cGUsIGxpbWl0LCBvbkxpbWl0UmVhY2hlZCkge1xuICAgIHZhciBldmVudENvdW50ID0gMDtcbiAgICB2YXIgYWxsb3dOZXh0RXZlbnQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0xpbWl0UmVhY2hlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgfSwgT05FX01JTlVURSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudENvdW50ICs9IDE7XG4gICAgICAgICAgICBpZiAoZXZlbnRDb3VudCA8PSBsaW1pdCB8fCBhbGxvd05leHRFdmVudCkge1xuICAgICAgICAgICAgICAgIGFsbG93TmV4dEV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50Q291bnQgPT09IGxpbWl0ICsgMSkge1xuICAgICAgICAgICAgICAgIGFsbG93TmV4dEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkxpbWl0UmVhY2hlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlJlYWNoZWQgbWF4IG51bWJlciBvZiBcIi5jb25jYXQoZXZlbnRUeXBlLCBcInMgYnkgbWludXRlOiBcIikuY29uY2F0KGxpbWl0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuQUdFTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dOZXh0RXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXZlbnRSYXRlTGltaXRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RawReportType\": () => (/* binding */ RawReportType),\n/* harmony export */   \"initReportObservable\": () => (/* binding */ initReportObservable)\n/* harmony export */ });\n/* harmony import */ var _error_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/error */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../browser/addEventListener */ \"../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n\n\n\n\n\n\nvar RawReportType = {\n    intervention: 'intervention',\n    deprecation: 'deprecation',\n    cspViolation: 'csp_violation',\n};\nfunction initReportObservable(configuration, apis) {\n    var observables = [];\n    if ((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.includes)(apis, RawReportType.cspViolation)) {\n        observables.push(createCspViolationReportObservable(configuration));\n    }\n    var reportTypes = apis.filter(function (api) { return api !== RawReportType.cspViolation; });\n    if (reportTypes.length) {\n        observables.push(createReportObservable(reportTypes));\n    }\n    return _tools_observable__WEBPACK_IMPORTED_MODULE_1__.mergeObservables.apply(void 0, observables);\n}\nfunction createReportObservable(reportTypes) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        if (!window.ReportingObserver) {\n            return;\n        }\n        var handleReports = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (reports, _) {\n            return reports.forEach(function (report) {\n                observable.notify(buildRawReportFromReport(report));\n            });\n        });\n        var observer = new window.ReportingObserver(handleReports, {\n            types: reportTypes,\n            buffered: true,\n        });\n        observer.observe();\n        return function () {\n            observer.disconnect();\n        };\n    });\n    return observable;\n}\nfunction createCspViolationReportObservable(configuration) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        var stop = (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(configuration, document, \"securitypolicyviolation\" /* DOM_EVENT.SECURITY_POLICY_VIOLATION */, function (event) {\n            observable.notify(buildRawReportFromCspViolation(event));\n        }).stop;\n        return stop;\n    });\n    return observable;\n}\nfunction buildRawReportFromReport(_a) {\n    var type = _a.type, body = _a.body;\n    return {\n        type: type,\n        subtype: body.id,\n        message: \"\".concat(type, \": \").concat(body.message),\n        stack: buildStack(body.id, body.message, body.sourceFile, body.lineNumber, body.columnNumber),\n    };\n}\nfunction buildRawReportFromCspViolation(event) {\n    var type = RawReportType.cspViolation;\n    var message = \"'\".concat(event.blockedURI, \"' blocked by '\").concat(event.effectiveDirective, \"' directive\");\n    return {\n        type: RawReportType.cspViolation,\n        subtype: event.effectiveDirective,\n        message: \"\".concat(type, \": \").concat(message),\n        stack: buildStack(event.effectiveDirective, event.originalPolicy\n            ? \"\".concat(message, \" of the policy \\\"\").concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_4__.safeTruncate)(event.originalPolicy, 100, '...'), \"\\\"\")\n            : 'no policy', event.sourceFile, event.lineNumber, event.columnNumber),\n    };\n}\nfunction buildStack(name, message, sourceFile, lineNumber, columnNumber) {\n    return sourceFile\n        ? (0,_error_error__WEBPACK_IMPORTED_MODULE_5__.toStackTraceString)({\n            name: name,\n            message: message,\n            stack: [\n                {\n                    func: '?',\n                    url: sourceFile,\n                    line: lineNumber !== null && lineNumber !== void 0 ? lineNumber : undefined,\n                    column: columnNumber !== null && columnNumber !== void 0 ? columnNumber : undefined,\n                },\n            ],\n        })\n        : undefined;\n}\n//# sourceMappingURL=reportObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3JlcG9ydC9yZXBvcnRPYnNlcnZhYmxlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3JlcG9ydC9yZXBvcnRPYnNlcnZhYmxlLmpzP2VjNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9TdGFja1RyYWNlU3RyaW5nIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uLy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgbWVyZ2VPYnNlcnZhYmxlcywgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgYWRkRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvYWRkRXZlbnRMaXN0ZW5lcic7XG5pbXBvcnQgeyBpbmNsdWRlcyB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG5pbXBvcnQgeyBzYWZlVHJ1bmNhdGUgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5leHBvcnQgdmFyIFJhd1JlcG9ydFR5cGUgPSB7XG4gICAgaW50ZXJ2ZW50aW9uOiAnaW50ZXJ2ZW50aW9uJyxcbiAgICBkZXByZWNhdGlvbjogJ2RlcHJlY2F0aW9uJyxcbiAgICBjc3BWaW9sYXRpb246ICdjc3BfdmlvbGF0aW9uJyxcbn07XG5leHBvcnQgZnVuY3Rpb24gaW5pdFJlcG9ydE9ic2VydmFibGUoY29uZmlndXJhdGlvbiwgYXBpcykge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGlmIChpbmNsdWRlcyhhcGlzLCBSYXdSZXBvcnRUeXBlLmNzcFZpb2xhdGlvbikpIHtcbiAgICAgICAgb2JzZXJ2YWJsZXMucHVzaChjcmVhdGVDc3BWaW9sYXRpb25SZXBvcnRPYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb24pKTtcbiAgICB9XG4gICAgdmFyIHJlcG9ydFR5cGVzID0gYXBpcy5maWx0ZXIoZnVuY3Rpb24gKGFwaSkgeyByZXR1cm4gYXBpICE9PSBSYXdSZXBvcnRUeXBlLmNzcFZpb2xhdGlvbjsgfSk7XG4gICAgaWYgKHJlcG9ydFR5cGVzLmxlbmd0aCkge1xuICAgICAgICBvYnNlcnZhYmxlcy5wdXNoKGNyZWF0ZVJlcG9ydE9ic2VydmFibGUocmVwb3J0VHlwZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlT2JzZXJ2YWJsZXMuYXBwbHkodm9pZCAwLCBvYnNlcnZhYmxlcyk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXBvcnRPYnNlcnZhYmxlKHJlcG9ydFR5cGVzKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghd2luZG93LlJlcG9ydGluZ09ic2VydmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZVJlcG9ydHMgPSBtb25pdG9yKGZ1bmN0aW9uIChyZXBvcnRzLCBfKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShidWlsZFJhd1JlcG9ydEZyb21SZXBvcnQocmVwb3J0KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyB3aW5kb3cuUmVwb3J0aW5nT2JzZXJ2ZXIoaGFuZGxlUmVwb3J0cywge1xuICAgICAgICAgICAgdHlwZXM6IHJlcG9ydFR5cGVzLFxuICAgICAgICAgICAgYnVmZmVyZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVDc3BWaW9sYXRpb25SZXBvcnRPYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0b3AgPSBhZGRFdmVudExpc3RlbmVyKGNvbmZpZ3VyYXRpb24sIGRvY3VtZW50LCBcInNlY3VyaXR5cG9saWN5dmlvbGF0aW9uXCIgLyogRE9NX0VWRU5ULlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04gKi8sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoYnVpbGRSYXdSZXBvcnRGcm9tQ3NwVmlvbGF0aW9uKGV2ZW50KSk7XG4gICAgICAgIH0pLnN0b3A7XG4gICAgICAgIHJldHVybiBzdG9wO1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gYnVpbGRSYXdSZXBvcnRGcm9tUmVwb3J0KF9hKSB7XG4gICAgdmFyIHR5cGUgPSBfYS50eXBlLCBib2R5ID0gX2EuYm9keTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBzdWJ0eXBlOiBib2R5LmlkLFxuICAgICAgICBtZXNzYWdlOiBcIlwiLmNvbmNhdCh0eXBlLCBcIjogXCIpLmNvbmNhdChib2R5Lm1lc3NhZ2UpLFxuICAgICAgICBzdGFjazogYnVpbGRTdGFjayhib2R5LmlkLCBib2R5Lm1lc3NhZ2UsIGJvZHkuc291cmNlRmlsZSwgYm9keS5saW5lTnVtYmVyLCBib2R5LmNvbHVtbk51bWJlciksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkUmF3UmVwb3J0RnJvbUNzcFZpb2xhdGlvbihldmVudCkge1xuICAgIHZhciB0eXBlID0gUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb247XG4gICAgdmFyIG1lc3NhZ2UgPSBcIidcIi5jb25jYXQoZXZlbnQuYmxvY2tlZFVSSSwgXCInIGJsb2NrZWQgYnkgJ1wiKS5jb25jYXQoZXZlbnQuZWZmZWN0aXZlRGlyZWN0aXZlLCBcIicgZGlyZWN0aXZlXCIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJhd1JlcG9ydFR5cGUuY3NwVmlvbGF0aW9uLFxuICAgICAgICBzdWJ0eXBlOiBldmVudC5lZmZlY3RpdmVEaXJlY3RpdmUsXG4gICAgICAgIG1lc3NhZ2U6IFwiXCIuY29uY2F0KHR5cGUsIFwiOiBcIikuY29uY2F0KG1lc3NhZ2UpLFxuICAgICAgICBzdGFjazogYnVpbGRTdGFjayhldmVudC5lZmZlY3RpdmVEaXJlY3RpdmUsIGV2ZW50Lm9yaWdpbmFsUG9saWN5XG4gICAgICAgICAgICA/IFwiXCIuY29uY2F0KG1lc3NhZ2UsIFwiIG9mIHRoZSBwb2xpY3kgXFxcIlwiKS5jb25jYXQoc2FmZVRydW5jYXRlKGV2ZW50Lm9yaWdpbmFsUG9saWN5LCAxMDAsICcuLi4nKSwgXCJcXFwiXCIpXG4gICAgICAgICAgICA6ICdubyBwb2xpY3knLCBldmVudC5zb3VyY2VGaWxlLCBldmVudC5saW5lTnVtYmVyLCBldmVudC5jb2x1bW5OdW1iZXIpLFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZFN0YWNrKG5hbWUsIG1lc3NhZ2UsIHNvdXJjZUZpbGUsIGxpbmVOdW1iZXIsIGNvbHVtbk51bWJlcikge1xuICAgIHJldHVybiBzb3VyY2VGaWxlXG4gICAgICAgID8gdG9TdGFja1RyYWNlU3RyaW5nKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmM6ICc/JyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBzb3VyY2VGaWxlLFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBsaW5lTnVtYmVyICE9PSBudWxsICYmIGxpbmVOdW1iZXIgIT09IHZvaWQgMCA/IGxpbmVOdW1iZXIgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uTnVtYmVyICE9PSBudWxsICYmIGNvbHVtbk51bWJlciAhPT0gdm9pZCAwID8gY29sdW1uTnVtYmVyIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydE9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LOGS_SESSION_KEY\": () => (/* binding */ LOGS_SESSION_KEY),\n/* harmony export */   \"OLD_LOGS_COOKIE_NAME\": () => (/* binding */ OLD_LOGS_COOKIE_NAME),\n/* harmony export */   \"OLD_RUM_COOKIE_NAME\": () => (/* binding */ OLD_RUM_COOKIE_NAME),\n/* harmony export */   \"OLD_SESSION_COOKIE_NAME\": () => (/* binding */ OLD_SESSION_COOKIE_NAME),\n/* harmony export */   \"RUM_SESSION_KEY\": () => (/* binding */ RUM_SESSION_KEY),\n/* harmony export */   \"tryOldCookiesMigration\": () => (/* binding */ tryOldCookiesMigration)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/cookie */ \"../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _storeStrategies_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storeStrategies/sessionStoreStrategy */ \"../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionStoreStrategy.js\");\n/* harmony import */ var _sessionState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sessionState */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js\");\n\n\n\nvar OLD_SESSION_COOKIE_NAME = '_dd';\nvar OLD_RUM_COOKIE_NAME = '_dd_r';\nvar OLD_LOGS_COOKIE_NAME = '_dd_l';\n// duplicate values to avoid dependency issues\nvar RUM_SESSION_KEY = 'rum';\nvar LOGS_SESSION_KEY = 'logs';\n/**\n * This migration should remain in the codebase as long as older versions are available/live\n * to allow older sdk versions to be upgraded to newer versions without compatibility issues.\n */\nfunction tryOldCookiesMigration(cookieStoreStrategy) {\n    var sessionString = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(_storeStrategies_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_1__.SESSION_STORE_KEY);\n    if (!sessionString) {\n        var oldSessionId = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_SESSION_COOKIE_NAME);\n        var oldRumType = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_RUM_COOKIE_NAME);\n        var oldLogsType = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_LOGS_COOKIE_NAME);\n        var session = {};\n        if (oldSessionId) {\n            session.id = oldSessionId;\n        }\n        if (oldLogsType && /^[01]$/.test(oldLogsType)) {\n            session[LOGS_SESSION_KEY] = oldLogsType;\n        }\n        if (oldRumType && /^[012]$/.test(oldRumType)) {\n            session[RUM_SESSION_KEY] = oldRumType;\n        }\n        if (!(0,_sessionState__WEBPACK_IMPORTED_MODULE_2__.isSessionInExpiredState)(session)) {\n            (0,_sessionState__WEBPACK_IMPORTED_MODULE_2__.expandSessionState)(session);\n            cookieStoreStrategy.persistSession(session);\n        }\n    }\n}\n//# sourceMappingURL=oldCookiesMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vb2xkQ29va2llc01pZ3JhdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9vbGRDb29raWVzTWlncmF0aW9uLmpzPzFiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuaW1wb3J0IHsgU0VTU0lPTl9TVE9SRV9LRVkgfSBmcm9tICcuL3N0b3JlU3RyYXRlZ2llcy9zZXNzaW9uU3RvcmVTdHJhdGVneSc7XG5pbXBvcnQgeyBleHBhbmRTZXNzaW9uU3RhdGUsIGlzU2Vzc2lvbkluRXhwaXJlZFN0YXRlIH0gZnJvbSAnLi9zZXNzaW9uU3RhdGUnO1xuZXhwb3J0IHZhciBPTERfU0VTU0lPTl9DT09LSUVfTkFNRSA9ICdfZGQnO1xuZXhwb3J0IHZhciBPTERfUlVNX0NPT0tJRV9OQU1FID0gJ19kZF9yJztcbmV4cG9ydCB2YXIgT0xEX0xPR1NfQ09PS0lFX05BTUUgPSAnX2RkX2wnO1xuLy8gZHVwbGljYXRlIHZhbHVlcyB0byBhdm9pZCBkZXBlbmRlbmN5IGlzc3Vlc1xuZXhwb3J0IHZhciBSVU1fU0VTU0lPTl9LRVkgPSAncnVtJztcbmV4cG9ydCB2YXIgTE9HU19TRVNTSU9OX0tFWSA9ICdsb2dzJztcbi8qKlxuICogVGhpcyBtaWdyYXRpb24gc2hvdWxkIHJlbWFpbiBpbiB0aGUgY29kZWJhc2UgYXMgbG9uZyBhcyBvbGRlciB2ZXJzaW9ucyBhcmUgYXZhaWxhYmxlL2xpdmVcbiAqIHRvIGFsbG93IG9sZGVyIHNkayB2ZXJzaW9ucyB0byBiZSB1cGdyYWRlZCB0byBuZXdlciB2ZXJzaW9ucyB3aXRob3V0IGNvbXBhdGliaWxpdHkgaXNzdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5T2xkQ29va2llc01pZ3JhdGlvbihjb29raWVTdG9yZVN0cmF0ZWd5KSB7XG4gICAgdmFyIHNlc3Npb25TdHJpbmcgPSBnZXRDb29raWUoU0VTU0lPTl9TVE9SRV9LRVkpO1xuICAgIGlmICghc2Vzc2lvblN0cmluZykge1xuICAgICAgICB2YXIgb2xkU2Vzc2lvbklkID0gZ2V0Q29va2llKE9MRF9TRVNTSU9OX0NPT0tJRV9OQU1FKTtcbiAgICAgICAgdmFyIG9sZFJ1bVR5cGUgPSBnZXRDb29raWUoT0xEX1JVTV9DT09LSUVfTkFNRSk7XG4gICAgICAgIHZhciBvbGRMb2dzVHlwZSA9IGdldENvb2tpZShPTERfTE9HU19DT09LSUVfTkFNRSk7XG4gICAgICAgIHZhciBzZXNzaW9uID0ge307XG4gICAgICAgIGlmIChvbGRTZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIHNlc3Npb24uaWQgPSBvbGRTZXNzaW9uSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZExvZ3NUeXBlICYmIC9eWzAxXSQvLnRlc3Qob2xkTG9nc1R5cGUpKSB7XG4gICAgICAgICAgICBzZXNzaW9uW0xPR1NfU0VTU0lPTl9LRVldID0gb2xkTG9nc1R5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZFJ1bVR5cGUgJiYgL15bMDEyXSQvLnRlc3Qob2xkUnVtVHlwZSkpIHtcbiAgICAgICAgICAgIHNlc3Npb25bUlVNX1NFU1NJT05fS0VZXSA9IG9sZFJ1bVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1Nlc3Npb25JbkV4cGlyZWRTdGF0ZShzZXNzaW9uKSkge1xuICAgICAgICAgICAgZXhwYW5kU2Vzc2lvblN0YXRlKHNlc3Npb24pO1xuICAgICAgICAgICAgY29va2llU3RvcmVTdHJhdGVneS5wZXJzaXN0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9sZENvb2tpZXNNaWdyYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SESSION_EXPIRATION_DELAY\": () => (/* binding */ SESSION_EXPIRATION_DELAY),\n/* harmony export */   \"SESSION_TIME_OUT_DELAY\": () => (/* binding */ SESSION_TIME_OUT_DELAY)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\nvar SESSION_TIME_OUT_DELAY = 4 * _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_HOUR;\nvar SESSION_EXPIRATION_DELAY = 15 * _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\n//# sourceMappingURL=sessionConstants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbkNvbnN0YW50cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL3Nlc3Npb25Db25zdGFudHMuanM/MzAxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPTkVfSE9VUiwgT05FX01JTlVURSB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5leHBvcnQgdmFyIFNFU1NJT05fVElNRV9PVVRfREVMQVkgPSA0ICogT05FX0hPVVI7XG5leHBvcnQgdmFyIFNFU1NJT05fRVhQSVJBVElPTl9ERUxBWSA9IDE1ICogT05FX01JTlVURTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb25Db25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js":
/*!*************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VISIBILITY_CHECK_DELAY\": () => (/* binding */ VISIBILITY_CHECK_DELAY),\n/* harmony export */   \"startSessionManager\": () => (/* binding */ startSessionManager),\n/* harmony export */   \"stopSessionManager\": () => (/* binding */ stopSessionManager)\n/* harmony export */ });\n/* harmony import */ var _tools_valueHistory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/valueHistory */ \"../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../browser/addEventListener */ \"../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionConstants */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _sessionStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sessionStore */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\");\n\n\n\n\n\n\nvar VISIBILITY_CHECK_DELAY = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\nvar SESSION_CONTEXT_TIMEOUT_DELAY = _sessionConstants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TIME_OUT_DELAY;\nvar stopCallbacks = [];\nfunction startSessionManager(configuration, productKey, computeSessionState) {\n    // TODO - Improve configuration type and remove assertion\n    var sessionStore = (0,_sessionStore__WEBPACK_IMPORTED_MODULE_2__.startSessionStore)(configuration.sessionStoreStrategyType, productKey, computeSessionState);\n    stopCallbacks.push(function () { return sessionStore.stop(); });\n    var sessionContextHistory = new _tools_valueHistory__WEBPACK_IMPORTED_MODULE_3__.ValueHistory(SESSION_CONTEXT_TIMEOUT_DELAY);\n    stopCallbacks.push(function () { return sessionContextHistory.stop(); });\n    sessionStore.renewObservable.subscribe(function () {\n        sessionContextHistory.add(buildSessionContext(), (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.relativeNow)());\n    });\n    sessionStore.expireObservable.subscribe(function () {\n        sessionContextHistory.closeActive((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.relativeNow)());\n    });\n    sessionStore.expandOrRenewSession();\n    sessionContextHistory.add(buildSessionContext(), (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.clocksOrigin)().relative);\n    trackActivity(configuration, function () { return sessionStore.expandOrRenewSession(); });\n    trackVisibility(configuration, function () { return sessionStore.expandSession(); });\n    function buildSessionContext() {\n        return {\n            id: sessionStore.getSession().id,\n            trackingType: sessionStore.getSession()[productKey],\n        };\n    }\n    return {\n        findActiveSession: function (startTime) { return sessionContextHistory.find(startTime); },\n        renewObservable: sessionStore.renewObservable,\n        expireObservable: sessionStore.expireObservable,\n        expire: sessionStore.expire,\n    };\n}\nfunction stopSessionManager() {\n    stopCallbacks.forEach(function (e) { return e(); });\n    stopCallbacks = [];\n}\nfunction trackActivity(configuration, expandOrRenewSession) {\n    var stop = (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_4__.addEventListeners)(configuration, window, [\"click\" /* DOM_EVENT.CLICK */, \"touchstart\" /* DOM_EVENT.TOUCH_START */, \"keydown\" /* DOM_EVENT.KEY_DOWN */, \"scroll\" /* DOM_EVENT.SCROLL */], expandOrRenewSession, { capture: true, passive: true }).stop;\n    stopCallbacks.push(stop);\n}\nfunction trackVisibility(configuration, expandSession) {\n    var expandSessionWhenVisible = function () {\n        if (document.visibilityState === 'visible') {\n            expandSession();\n        }\n    };\n    var stop = (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_4__.addEventListener)(configuration, document, \"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */, expandSessionWhenVisible).stop;\n    stopCallbacks.push(stop);\n    var visibilityCheckInterval = (0,_tools_timer__WEBPACK_IMPORTED_MODULE_5__.setInterval)(expandSessionWhenVisible, VISIBILITY_CHECK_DELAY);\n    stopCallbacks.push(function () {\n        (0,_tools_timer__WEBPACK_IMPORTED_MODULE_5__.clearInterval)(visibilityCheckInterval);\n    });\n}\n//# sourceMappingURL=sessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbk1hbmFnZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbk1hbmFnZXIuanM/OTkwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWx1ZUhpc3RvcnkgfSBmcm9tICcuLi8uLi90b29scy92YWx1ZUhpc3RvcnknO1xuaW1wb3J0IHsgcmVsYXRpdmVOb3csIGNsb2Nrc09yaWdpbiwgT05FX01JTlVURSB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyLCBhZGRFdmVudExpc3RlbmVycyB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvYWRkRXZlbnRMaXN0ZW5lcic7XG5pbXBvcnQgeyBjbGVhckludGVydmFsLCBzZXRJbnRlcnZhbCB9IGZyb20gJy4uLy4uL3Rvb2xzL3RpbWVyJztcbmltcG9ydCB7IFNFU1NJT05fVElNRV9PVVRfREVMQVkgfSBmcm9tICcuL3Nlc3Npb25Db25zdGFudHMnO1xuaW1wb3J0IHsgc3RhcnRTZXNzaW9uU3RvcmUgfSBmcm9tICcuL3Nlc3Npb25TdG9yZSc7XG5leHBvcnQgdmFyIFZJU0lCSUxJVFlfQ0hFQ0tfREVMQVkgPSBPTkVfTUlOVVRFO1xudmFyIFNFU1NJT05fQ09OVEVYVF9USU1FT1VUX0RFTEFZID0gU0VTU0lPTl9USU1FX09VVF9ERUxBWTtcbnZhciBzdG9wQ2FsbGJhY2tzID0gW107XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uLCBwcm9kdWN0S2V5LCBjb21wdXRlU2Vzc2lvblN0YXRlKSB7XG4gICAgLy8gVE9ETyAtIEltcHJvdmUgY29uZmlndXJhdGlvbiB0eXBlIGFuZCByZW1vdmUgYXNzZXJ0aW9uXG4gICAgdmFyIHNlc3Npb25TdG9yZSA9IHN0YXJ0U2Vzc2lvblN0b3JlKGNvbmZpZ3VyYXRpb24uc2Vzc2lvblN0b3JlU3RyYXRlZ3lUeXBlLCBwcm9kdWN0S2V5LCBjb21wdXRlU2Vzc2lvblN0YXRlKTtcbiAgICBzdG9wQ2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvblN0b3JlLnN0b3AoKTsgfSk7XG4gICAgdmFyIHNlc3Npb25Db250ZXh0SGlzdG9yeSA9IG5ldyBWYWx1ZUhpc3RvcnkoU0VTU0lPTl9DT05URVhUX1RJTUVPVVRfREVMQVkpO1xuICAgIHN0b3BDYWxsYmFja3MucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uQ29udGV4dEhpc3Rvcnkuc3RvcCgpOyB9KTtcbiAgICBzZXNzaW9uU3RvcmUucmVuZXdPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlc3Npb25Db250ZXh0SGlzdG9yeS5hZGQoYnVpbGRTZXNzaW9uQ29udGV4dCgpLCByZWxhdGl2ZU5vdygpKTtcbiAgICB9KTtcbiAgICBzZXNzaW9uU3RvcmUuZXhwaXJlT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXNzaW9uQ29udGV4dEhpc3RvcnkuY2xvc2VBY3RpdmUocmVsYXRpdmVOb3coKSk7XG4gICAgfSk7XG4gICAgc2Vzc2lvblN0b3JlLmV4cGFuZE9yUmVuZXdTZXNzaW9uKCk7XG4gICAgc2Vzc2lvbkNvbnRleHRIaXN0b3J5LmFkZChidWlsZFNlc3Npb25Db250ZXh0KCksIGNsb2Nrc09yaWdpbigpLnJlbGF0aXZlKTtcbiAgICB0cmFja0FjdGl2aXR5KGNvbmZpZ3VyYXRpb24sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlc3Npb25TdG9yZS5leHBhbmRPclJlbmV3U2Vzc2lvbigpOyB9KTtcbiAgICB0cmFja1Zpc2liaWxpdHkoY29uZmlndXJhdGlvbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvblN0b3JlLmV4cGFuZFNlc3Npb24oKTsgfSk7XG4gICAgZnVuY3Rpb24gYnVpbGRTZXNzaW9uQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBzZXNzaW9uU3RvcmUuZ2V0U2Vzc2lvbigpLmlkLFxuICAgICAgICAgICAgdHJhY2tpbmdUeXBlOiBzZXNzaW9uU3RvcmUuZ2V0U2Vzc2lvbigpW3Byb2R1Y3RLZXldLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kQWN0aXZlU2Vzc2lvbjogZnVuY3Rpb24gKHN0YXJ0VGltZSkgeyByZXR1cm4gc2Vzc2lvbkNvbnRleHRIaXN0b3J5LmZpbmQoc3RhcnRUaW1lKTsgfSxcbiAgICAgICAgcmVuZXdPYnNlcnZhYmxlOiBzZXNzaW9uU3RvcmUucmVuZXdPYnNlcnZhYmxlLFxuICAgICAgICBleHBpcmVPYnNlcnZhYmxlOiBzZXNzaW9uU3RvcmUuZXhwaXJlT2JzZXJ2YWJsZSxcbiAgICAgICAgZXhwaXJlOiBzZXNzaW9uU3RvcmUuZXhwaXJlLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcFNlc3Npb25NYW5hZ2VyKCkge1xuICAgIHN0b3BDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSgpOyB9KTtcbiAgICBzdG9wQ2FsbGJhY2tzID0gW107XG59XG5mdW5jdGlvbiB0cmFja0FjdGl2aXR5KGNvbmZpZ3VyYXRpb24sIGV4cGFuZE9yUmVuZXdTZXNzaW9uKSB7XG4gICAgdmFyIHN0b3AgPSBhZGRFdmVudExpc3RlbmVycyhjb25maWd1cmF0aW9uLCB3aW5kb3csIFtcImNsaWNrXCIgLyogRE9NX0VWRU5ULkNMSUNLICovLCBcInRvdWNoc3RhcnRcIiAvKiBET01fRVZFTlQuVE9VQ0hfU1RBUlQgKi8sIFwia2V5ZG93blwiIC8qIERPTV9FVkVOVC5LRVlfRE9XTiAqLywgXCJzY3JvbGxcIiAvKiBET01fRVZFTlQuU0NST0xMICovXSwgZXhwYW5kT3JSZW5ld1Nlc3Npb24sIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KS5zdG9wO1xuICAgIHN0b3BDYWxsYmFja3MucHVzaChzdG9wKTtcbn1cbmZ1bmN0aW9uIHRyYWNrVmlzaWJpbGl0eShjb25maWd1cmF0aW9uLCBleHBhbmRTZXNzaW9uKSB7XG4gICAgdmFyIGV4cGFuZFNlc3Npb25XaGVuVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgICBleHBhbmRTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdG9wID0gYWRkRXZlbnRMaXN0ZW5lcihjb25maWd1cmF0aW9uLCBkb2N1bWVudCwgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIgLyogRE9NX0VWRU5ULlZJU0lCSUxJVFlfQ0hBTkdFICovLCBleHBhbmRTZXNzaW9uV2hlblZpc2libGUpLnN0b3A7XG4gICAgc3RvcENhbGxiYWNrcy5wdXNoKHN0b3ApO1xuICAgIHZhciB2aXNpYmlsaXR5Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGV4cGFuZFNlc3Npb25XaGVuVmlzaWJsZSwgVklTSUJJTElUWV9DSEVDS19ERUxBWSk7XG4gICAgc3RvcENhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh2aXNpYmlsaXR5Q2hlY2tJbnRlcnZhbCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uTWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"expandSessionState\": () => (/* binding */ expandSessionState),\n/* harmony export */   \"isSessionInExpiredState\": () => (/* binding */ isSessionInExpiredState),\n/* harmony export */   \"toSessionState\": () => (/* binding */ toSessionState),\n/* harmony export */   \"toSessionString\": () => (/* binding */ toSessionString)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/objectUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sessionConstants */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n\n\n\n\nvar SESSION_ENTRY_REGEXP = /^([a-z]+)=([a-z0-9-]+)$/;\nvar SESSION_ENTRY_SEPARATOR = '&';\nfunction isSessionInExpiredState(session) {\n    return (0,_tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(session);\n}\nfunction expandSessionState(session) {\n    session.expire = String((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.dateNow)() + _sessionConstants__WEBPACK_IMPORTED_MODULE_2__.SESSION_EXPIRATION_DELAY);\n}\nfunction toSessionString(session) {\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_3__.objectEntries)(session)\n        .map(function (_a) {\n        var key = _a[0], value = _a[1];\n        return \"\".concat(key, \"=\").concat(value);\n    })\n        .join(SESSION_ENTRY_SEPARATOR);\n}\nfunction toSessionState(sessionString) {\n    var session = {};\n    if (isValidSessionString(sessionString)) {\n        sessionString.split(SESSION_ENTRY_SEPARATOR).forEach(function (entry) {\n            var matches = SESSION_ENTRY_REGEXP.exec(entry);\n            if (matches !== null) {\n                var key = matches[1], value = matches[2];\n                session[key] = value;\n            }\n        });\n    }\n    return session;\n}\nfunction isValidSessionString(sessionString) {\n    return (!!sessionString &&\n        (sessionString.indexOf(SESSION_ENTRY_SEPARATOR) !== -1 || SESSION_ENTRY_REGEXP.test(sessionString)));\n}\n//# sourceMappingURL=sessionState.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0YXRlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL3Nlc3Npb25TdGF0ZS5qcz82NjEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRW1wdHlPYmplY3QgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9vYmplY3RVdGlscyc7XG5pbXBvcnQgeyBvYmplY3RFbnRyaWVzIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGRhdGVOb3cgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90aW1lVXRpbHMnO1xuaW1wb3J0IHsgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZIH0gZnJvbSAnLi9zZXNzaW9uQ29uc3RhbnRzJztcbnZhciBTRVNTSU9OX0VOVFJZX1JFR0VYUCA9IC9eKFthLXpdKyk9KFthLXowLTktXSspJC87XG52YXIgU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IgPSAnJic7XG5leHBvcnQgZnVuY3Rpb24gaXNTZXNzaW9uSW5FeHBpcmVkU3RhdGUoc2Vzc2lvbikge1xuICAgIHJldHVybiBpc0VtcHR5T2JqZWN0KHNlc3Npb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZFNlc3Npb25TdGF0ZShzZXNzaW9uKSB7XG4gICAgc2Vzc2lvbi5leHBpcmUgPSBTdHJpbmcoZGF0ZU5vdygpICsgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1Nlc3Npb25TdHJpbmcoc2Vzc2lvbikge1xuICAgIHJldHVybiBvYmplY3RFbnRyaWVzKHNlc3Npb24pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBrZXkgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGtleSwgXCI9XCIpLmNvbmNhdCh2YWx1ZSk7XG4gICAgfSlcbiAgICAgICAgLmpvaW4oU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvU2Vzc2lvblN0YXRlKHNlc3Npb25TdHJpbmcpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IHt9O1xuICAgIGlmIChpc1ZhbGlkU2Vzc2lvblN0cmluZyhzZXNzaW9uU3RyaW5nKSkge1xuICAgICAgICBzZXNzaW9uU3RyaW5nLnNwbGl0KFNFU1NJT05fRU5UUllfU0VQQVJBVE9SKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBTRVNTSU9OX0VOVFJZX1JFR0VYUC5leGVjKGVudHJ5KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IG1hdGNoZXNbMV0sIHZhbHVlID0gbWF0Y2hlc1syXTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZXNzaW9uO1xufVxuZnVuY3Rpb24gaXNWYWxpZFNlc3Npb25TdHJpbmcoc2Vzc2lvblN0cmluZykge1xuICAgIHJldHVybiAoISFzZXNzaW9uU3RyaW5nICYmXG4gICAgICAgIChzZXNzaW9uU3RyaW5nLmluZGV4T2YoU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IpICE9PSAtMSB8fCBTRVNTSU9OX0VOVFJZX1JFR0VYUC50ZXN0KHNlc3Npb25TdHJpbmcpKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uU3RhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"STORAGE_POLL_DELAY\": () => (/* binding */ STORAGE_POLL_DELAY),\n/* harmony export */   \"selectSessionStoreStrategyType\": () => (/* binding */ selectSessionStoreStrategyType),\n/* harmony export */   \"startSessionStore\": () => (/* binding */ startSessionStore)\n/* harmony export */ });\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tools/utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sessionConstants */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _storeStrategies_sessionInCookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storeStrategies/sessionInCookie */ \"../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInCookie.js\");\n/* harmony import */ var _storeStrategies_sessionInLocalStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./storeStrategies/sessionInLocalStorage */ \"../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInLocalStorage.js\");\n/* harmony import */ var _sessionStoreOperations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sessionStoreOperations */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionStoreOperations.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Every second, the storage will be polled to check for any change that can occur\n * to the session state in another browser tab, or another window.\n * This value has been determined from our previous cookie-only implementation.\n */\nvar STORAGE_POLL_DELAY = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;\n/**\n * Checks if cookies are available as the preferred storage\n * Else, checks if LocalStorage is allowed and available\n */\nfunction selectSessionStoreStrategyType(initConfiguration) {\n    var sessionStoreStrategyType = (0,_storeStrategies_sessionInCookie__WEBPACK_IMPORTED_MODULE_1__.selectCookieStrategy)(initConfiguration);\n    if (!sessionStoreStrategyType && initConfiguration.allowFallbackToLocalStorage) {\n        sessionStoreStrategyType = (0,_storeStrategies_sessionInLocalStorage__WEBPACK_IMPORTED_MODULE_2__.selectLocalStorageStrategy)();\n    }\n    return sessionStoreStrategyType;\n}\n/**\n * Different session concepts:\n * - tracked, the session has an id and is updated along the user navigation\n * - not tracked, the session does not have an id but it is updated along the user navigation\n * - inactive, no session in store or session expired, waiting for a renew session\n */\nfunction startSessionStore(sessionStoreStrategyType, productKey, computeSessionState) {\n    var renewObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_3__.Observable();\n    var expireObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_3__.Observable();\n    var sessionStoreStrategy = sessionStoreStrategyType.type === 'Cookie'\n        ? (0,_storeStrategies_sessionInCookie__WEBPACK_IMPORTED_MODULE_1__.initCookieStrategy)(sessionStoreStrategyType.cookieOptions)\n        : (0,_storeStrategies_sessionInLocalStorage__WEBPACK_IMPORTED_MODULE_2__.initLocalStorageStrategy)();\n    var clearSession = sessionStoreStrategy.clearSession, retrieveSession = sessionStoreStrategy.retrieveSession;\n    var watchSessionTimeoutId = (0,_tools_timer__WEBPACK_IMPORTED_MODULE_4__.setInterval)(watchSession, STORAGE_POLL_DELAY);\n    var sessionCache = retrieveActiveSession();\n    function expandOrRenewSession() {\n        var isTracked;\n        (0,_sessionStoreOperations__WEBPACK_IMPORTED_MODULE_5__.processSessionStoreOperations)({\n            process: function (sessionState) {\n                var synchronizedSession = synchronizeSession(sessionState);\n                isTracked = expandOrRenewSessionState(synchronizedSession);\n                return synchronizedSession;\n            },\n            after: function (sessionState) {\n                if (isTracked && !hasSessionInCache()) {\n                    renewSessionInCache(sessionState);\n                }\n                sessionCache = sessionState;\n            },\n        }, sessionStoreStrategy);\n    }\n    function expandSession() {\n        (0,_sessionStoreOperations__WEBPACK_IMPORTED_MODULE_5__.processSessionStoreOperations)({\n            process: function (sessionState) { return (hasSessionInCache() ? synchronizeSession(sessionState) : undefined); },\n        }, sessionStoreStrategy);\n    }\n    /**\n     * allows two behaviors:\n     * - if the session is active, synchronize the session cache without updating the session store\n     * - if the session is not active, clear the session store and expire the session cache\n     */\n    function watchSession() {\n        (0,_sessionStoreOperations__WEBPACK_IMPORTED_MODULE_5__.processSessionStoreOperations)({\n            process: function (sessionState) { return (!isActiveSession(sessionState) ? {} : undefined); },\n            after: synchronizeSession,\n        }, sessionStoreStrategy);\n    }\n    function synchronizeSession(sessionState) {\n        if (!isActiveSession(sessionState)) {\n            sessionState = {};\n        }\n        if (hasSessionInCache()) {\n            if (isSessionInCacheOutdated(sessionState)) {\n                expireSessionInCache();\n            }\n            else {\n                sessionCache = sessionState;\n            }\n        }\n        return sessionState;\n    }\n    function expandOrRenewSessionState(sessionState) {\n        var _a = computeSessionState(sessionState[productKey]), trackingType = _a.trackingType, isTracked = _a.isTracked;\n        sessionState[productKey] = trackingType;\n        if (isTracked && !sessionState.id) {\n            sessionState.id = (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_6__.generateUUID)();\n            sessionState.created = String((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.dateNow)());\n        }\n        return isTracked;\n    }\n    function hasSessionInCache() {\n        return sessionCache[productKey] !== undefined;\n    }\n    function isSessionInCacheOutdated(sessionState) {\n        return sessionCache.id !== sessionState.id || sessionCache[productKey] !== sessionState[productKey];\n    }\n    function expireSessionInCache() {\n        sessionCache = {};\n        expireObservable.notify();\n    }\n    function renewSessionInCache(sessionState) {\n        sessionCache = sessionState;\n        renewObservable.notify();\n    }\n    function retrieveActiveSession() {\n        var session = retrieveSession();\n        if (isActiveSession(session)) {\n            return session;\n        }\n        return {};\n    }\n    function isActiveSession(sessionState) {\n        // created and expire can be undefined for versions which was not storing them\n        // these checks could be removed when older versions will not be available/live anymore\n        return ((sessionState.created === undefined || (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.dateNow)() - Number(sessionState.created) < _sessionConstants__WEBPACK_IMPORTED_MODULE_7__.SESSION_TIME_OUT_DELAY) &&\n            (sessionState.expire === undefined || (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.dateNow)() < Number(sessionState.expire)));\n    }\n    return {\n        expandOrRenewSession: (0,_tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_8__.throttle)(expandOrRenewSession, STORAGE_POLL_DELAY).throttled,\n        expandSession: expandSession,\n        getSession: function () { return sessionCache; },\n        renewObservable: renewObservable,\n        expireObservable: expireObservable,\n        expire: function () {\n            clearSession();\n            synchronizeSession({});\n        },\n        stop: function () {\n            (0,_tools_timer__WEBPACK_IMPORTED_MODULE_4__.clearInterval)(watchSessionTimeoutId);\n        },\n    };\n}\n//# sourceMappingURL=sessionStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlLmpzP2FiNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xlYXJJbnRlcnZhbCwgc2V0SW50ZXJ2YWwgfSBmcm9tICcuLi8uLi90b29scy90aW1lcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPTkVfU0VDT05ELCBkYXRlTm93IH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvZnVuY3Rpb25VdGlscyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5pbXBvcnQgeyBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZIH0gZnJvbSAnLi9zZXNzaW9uQ29uc3RhbnRzJztcbmltcG9ydCB7IHNlbGVjdENvb2tpZVN0cmF0ZWd5LCBpbml0Q29va2llU3RyYXRlZ3kgfSBmcm9tICcuL3N0b3JlU3RyYXRlZ2llcy9zZXNzaW9uSW5Db29raWUnO1xuaW1wb3J0IHsgaW5pdExvY2FsU3RvcmFnZVN0cmF0ZWd5LCBzZWxlY3RMb2NhbFN0b3JhZ2VTdHJhdGVneSB9IGZyb20gJy4vc3RvcmVTdHJhdGVnaWVzL3Nlc3Npb25JbkxvY2FsU3RvcmFnZSc7XG5pbXBvcnQgeyBwcm9jZXNzU2Vzc2lvblN0b3JlT3BlcmF0aW9ucyB9IGZyb20gJy4vc2Vzc2lvblN0b3JlT3BlcmF0aW9ucyc7XG4vKipcbiAqIEV2ZXJ5IHNlY29uZCwgdGhlIHN0b3JhZ2Ugd2lsbCBiZSBwb2xsZWQgdG8gY2hlY2sgZm9yIGFueSBjaGFuZ2UgdGhhdCBjYW4gb2NjdXJcbiAqIHRvIHRoZSBzZXNzaW9uIHN0YXRlIGluIGFub3RoZXIgYnJvd3NlciB0YWIsIG9yIGFub3RoZXIgd2luZG93LlxuICogVGhpcyB2YWx1ZSBoYXMgYmVlbiBkZXRlcm1pbmVkIGZyb20gb3VyIHByZXZpb3VzIGNvb2tpZS1vbmx5IGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgdmFyIFNUT1JBR0VfUE9MTF9ERUxBWSA9IE9ORV9TRUNPTkQ7XG4vKipcbiAqIENoZWNrcyBpZiBjb29raWVzIGFyZSBhdmFpbGFibGUgYXMgdGhlIHByZWZlcnJlZCBzdG9yYWdlXG4gKiBFbHNlLCBjaGVja3MgaWYgTG9jYWxTdG9yYWdlIGlzIGFsbG93ZWQgYW5kIGF2YWlsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0U2Vzc2lvblN0b3JlU3RyYXRlZ3lUeXBlKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIHNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZSA9IHNlbGVjdENvb2tpZVN0cmF0ZWd5KGluaXRDb25maWd1cmF0aW9uKTtcbiAgICBpZiAoIXNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZSAmJiBpbml0Q29uZmlndXJhdGlvbi5hbGxvd0ZhbGxiYWNrVG9Mb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JlU3RyYXRlZ3lUeXBlID0gc2VsZWN0TG9jYWxTdG9yYWdlU3RyYXRlZ3koKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZTtcbn1cbi8qKlxuICogRGlmZmVyZW50IHNlc3Npb24gY29uY2VwdHM6XG4gKiAtIHRyYWNrZWQsIHRoZSBzZXNzaW9uIGhhcyBhbiBpZCBhbmQgaXMgdXBkYXRlZCBhbG9uZyB0aGUgdXNlciBuYXZpZ2F0aW9uXG4gKiAtIG5vdCB0cmFja2VkLCB0aGUgc2Vzc2lvbiBkb2VzIG5vdCBoYXZlIGFuIGlkIGJ1dCBpdCBpcyB1cGRhdGVkIGFsb25nIHRoZSB1c2VyIG5hdmlnYXRpb25cbiAqIC0gaW5hY3RpdmUsIG5vIHNlc3Npb24gaW4gc3RvcmUgb3Igc2Vzc2lvbiBleHBpcmVkLCB3YWl0aW5nIGZvciBhIHJlbmV3IHNlc3Npb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvblN0b3JlKHNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZSwgcHJvZHVjdEtleSwgY29tcHV0ZVNlc3Npb25TdGF0ZSkge1xuICAgIHZhciByZW5ld09ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHZhciBleHBpcmVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICB2YXIgc2Vzc2lvblN0b3JlU3RyYXRlZ3kgPSBzZXNzaW9uU3RvcmVTdHJhdGVneVR5cGUudHlwZSA9PT0gJ0Nvb2tpZSdcbiAgICAgICAgPyBpbml0Q29va2llU3RyYXRlZ3koc2Vzc2lvblN0b3JlU3RyYXRlZ3lUeXBlLmNvb2tpZU9wdGlvbnMpXG4gICAgICAgIDogaW5pdExvY2FsU3RvcmFnZVN0cmF0ZWd5KCk7XG4gICAgdmFyIGNsZWFyU2Vzc2lvbiA9IHNlc3Npb25TdG9yZVN0cmF0ZWd5LmNsZWFyU2Vzc2lvbiwgcmV0cmlldmVTZXNzaW9uID0gc2Vzc2lvblN0b3JlU3RyYXRlZ3kucmV0cmlldmVTZXNzaW9uO1xuICAgIHZhciB3YXRjaFNlc3Npb25UaW1lb3V0SWQgPSBzZXRJbnRlcnZhbCh3YXRjaFNlc3Npb24sIFNUT1JBR0VfUE9MTF9ERUxBWSk7XG4gICAgdmFyIHNlc3Npb25DYWNoZSA9IHJldHJpZXZlQWN0aXZlU2Vzc2lvbigpO1xuICAgIGZ1bmN0aW9uIGV4cGFuZE9yUmVuZXdTZXNzaW9uKCkge1xuICAgICAgICB2YXIgaXNUcmFja2VkO1xuICAgICAgICBwcm9jZXNzU2Vzc2lvblN0b3JlT3BlcmF0aW9ucyh7XG4gICAgICAgICAgICBwcm9jZXNzOiBmdW5jdGlvbiAoc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5bmNocm9uaXplZFNlc3Npb24gPSBzeW5jaHJvbml6ZVNlc3Npb24oc2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgICAgICBpc1RyYWNrZWQgPSBleHBhbmRPclJlbmV3U2Vzc2lvblN0YXRlKHN5bmNocm9uaXplZFNlc3Npb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jaHJvbml6ZWRTZXNzaW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbiAoc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVHJhY2tlZCAmJiAhaGFzU2Vzc2lvbkluQ2FjaGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZW5ld1Nlc3Npb25JbkNhY2hlKHNlc3Npb25TdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlc3Npb25DYWNoZSA9IHNlc3Npb25TdGF0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIHNlc3Npb25TdG9yZVN0cmF0ZWd5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwYW5kU2Vzc2lvbigpIHtcbiAgICAgICAgcHJvY2Vzc1Nlc3Npb25TdG9yZU9wZXJhdGlvbnMoe1xuICAgICAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gKHNlc3Npb25TdGF0ZSkgeyByZXR1cm4gKGhhc1Nlc3Npb25JbkNhY2hlKCkgPyBzeW5jaHJvbml6ZVNlc3Npb24oc2Vzc2lvblN0YXRlKSA6IHVuZGVmaW5lZCk7IH0sXG4gICAgICAgIH0sIHNlc3Npb25TdG9yZVN0cmF0ZWd5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWxsb3dzIHR3byBiZWhhdmlvcnM6XG4gICAgICogLSBpZiB0aGUgc2Vzc2lvbiBpcyBhY3RpdmUsIHN5bmNocm9uaXplIHRoZSBzZXNzaW9uIGNhY2hlIHdpdGhvdXQgdXBkYXRpbmcgdGhlIHNlc3Npb24gc3RvcmVcbiAgICAgKiAtIGlmIHRoZSBzZXNzaW9uIGlzIG5vdCBhY3RpdmUsIGNsZWFyIHRoZSBzZXNzaW9uIHN0b3JlIGFuZCBleHBpcmUgdGhlIHNlc3Npb24gY2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YXRjaFNlc3Npb24oKSB7XG4gICAgICAgIHByb2Nlc3NTZXNzaW9uU3RvcmVPcGVyYXRpb25zKHtcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIChzZXNzaW9uU3RhdGUpIHsgcmV0dXJuICghaXNBY3RpdmVTZXNzaW9uKHNlc3Npb25TdGF0ZSkgPyB7fSA6IHVuZGVmaW5lZCk7IH0sXG4gICAgICAgICAgICBhZnRlcjogc3luY2hyb25pemVTZXNzaW9uLFxuICAgICAgICB9LCBzZXNzaW9uU3RvcmVTdHJhdGVneSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN5bmNocm9uaXplU2Vzc2lvbihzZXNzaW9uU3RhdGUpIHtcbiAgICAgICAgaWYgKCFpc0FjdGl2ZVNlc3Npb24oc2Vzc2lvblN0YXRlKSkge1xuICAgICAgICAgICAgc2Vzc2lvblN0YXRlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc1Nlc3Npb25JbkNhY2hlKCkpIHtcbiAgICAgICAgICAgIGlmIChpc1Nlc3Npb25JbkNhY2hlT3V0ZGF0ZWQoc2Vzc2lvblN0YXRlKSkge1xuICAgICAgICAgICAgICAgIGV4cGlyZVNlc3Npb25JbkNhY2hlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uQ2FjaGUgPSBzZXNzaW9uU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlc3Npb25TdGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwYW5kT3JSZW5ld1Nlc3Npb25TdGF0ZShzZXNzaW9uU3RhdGUpIHtcbiAgICAgICAgdmFyIF9hID0gY29tcHV0ZVNlc3Npb25TdGF0ZShzZXNzaW9uU3RhdGVbcHJvZHVjdEtleV0pLCB0cmFja2luZ1R5cGUgPSBfYS50cmFja2luZ1R5cGUsIGlzVHJhY2tlZCA9IF9hLmlzVHJhY2tlZDtcbiAgICAgICAgc2Vzc2lvblN0YXRlW3Byb2R1Y3RLZXldID0gdHJhY2tpbmdUeXBlO1xuICAgICAgICBpZiAoaXNUcmFja2VkICYmICFzZXNzaW9uU3RhdGUuaWQpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdGF0ZS5pZCA9IGdlbmVyYXRlVVVJRCgpO1xuICAgICAgICAgICAgc2Vzc2lvblN0YXRlLmNyZWF0ZWQgPSBTdHJpbmcoZGF0ZU5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNUcmFja2VkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNTZXNzaW9uSW5DYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25DYWNoZVtwcm9kdWN0S2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1Nlc3Npb25JbkNhY2hlT3V0ZGF0ZWQoc2Vzc2lvblN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzZXNzaW9uQ2FjaGUuaWQgIT09IHNlc3Npb25TdGF0ZS5pZCB8fCBzZXNzaW9uQ2FjaGVbcHJvZHVjdEtleV0gIT09IHNlc3Npb25TdGF0ZVtwcm9kdWN0S2V5XTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwaXJlU2Vzc2lvbkluQ2FjaGUoKSB7XG4gICAgICAgIHNlc3Npb25DYWNoZSA9IHt9O1xuICAgICAgICBleHBpcmVPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5ld1Nlc3Npb25JbkNhY2hlKHNlc3Npb25TdGF0ZSkge1xuICAgICAgICBzZXNzaW9uQ2FjaGUgPSBzZXNzaW9uU3RhdGU7XG4gICAgICAgIHJlbmV3T2JzZXJ2YWJsZS5ub3RpZnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cmlldmVBY3RpdmVTZXNzaW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHJldHJpZXZlU2Vzc2lvbigpO1xuICAgICAgICBpZiAoaXNBY3RpdmVTZXNzaW9uKHNlc3Npb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQWN0aXZlU2Vzc2lvbihzZXNzaW9uU3RhdGUpIHtcbiAgICAgICAgLy8gY3JlYXRlZCBhbmQgZXhwaXJlIGNhbiBiZSB1bmRlZmluZWQgZm9yIHZlcnNpb25zIHdoaWNoIHdhcyBub3Qgc3RvcmluZyB0aGVtXG4gICAgICAgIC8vIHRoZXNlIGNoZWNrcyBjb3VsZCBiZSByZW1vdmVkIHdoZW4gb2xkZXIgdmVyc2lvbnMgd2lsbCBub3QgYmUgYXZhaWxhYmxlL2xpdmUgYW55bW9yZVxuICAgICAgICByZXR1cm4gKChzZXNzaW9uU3RhdGUuY3JlYXRlZCA9PT0gdW5kZWZpbmVkIHx8IGRhdGVOb3coKSAtIE51bWJlcihzZXNzaW9uU3RhdGUuY3JlYXRlZCkgPCBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZKSAmJlxuICAgICAgICAgICAgKHNlc3Npb25TdGF0ZS5leHBpcmUgPT09IHVuZGVmaW5lZCB8fCBkYXRlTm93KCkgPCBOdW1iZXIoc2Vzc2lvblN0YXRlLmV4cGlyZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXhwYW5kT3JSZW5ld1Nlc3Npb246IHRocm90dGxlKGV4cGFuZE9yUmVuZXdTZXNzaW9uLCBTVE9SQUdFX1BPTExfREVMQVkpLnRocm90dGxlZCxcbiAgICAgICAgZXhwYW5kU2Vzc2lvbjogZXhwYW5kU2Vzc2lvbixcbiAgICAgICAgZ2V0U2Vzc2lvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvbkNhY2hlOyB9LFxuICAgICAgICByZW5ld09ic2VydmFibGU6IHJlbmV3T2JzZXJ2YWJsZSxcbiAgICAgICAgZXhwaXJlT2JzZXJ2YWJsZTogZXhwaXJlT2JzZXJ2YWJsZSxcbiAgICAgICAgZXhwaXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclNlc3Npb24oKTtcbiAgICAgICAgICAgIHN5bmNocm9uaXplU2Vzc2lvbih7fSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2F0Y2hTZXNzaW9uVGltZW91dElkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvblN0b3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/sessionStoreOperations.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionStoreOperations.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LOCK_MAX_TRIES\": () => (/* binding */ LOCK_MAX_TRIES),\n/* harmony export */   \"LOCK_RETRY_DELAY\": () => (/* binding */ LOCK_RETRY_DELAY),\n/* harmony export */   \"processSessionStoreOperations\": () => (/* binding */ processSessionStoreOperations)\n/* harmony export */ });\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _sessionState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionState */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js\");\n\n\n\nvar LOCK_RETRY_DELAY = 10;\nvar LOCK_MAX_TRIES = 100;\nvar bufferedOperations = [];\nvar ongoingOperations;\nfunction processSessionStoreOperations(operations, sessionStoreStrategy, numberOfRetries) {\n    var _a;\n    if (numberOfRetries === void 0) { numberOfRetries = 0; }\n    var isLockEnabled = sessionStoreStrategy.isLockEnabled, retrieveSession = sessionStoreStrategy.retrieveSession, persistSession = sessionStoreStrategy.persistSession, clearSession = sessionStoreStrategy.clearSession;\n    if (!ongoingOperations) {\n        ongoingOperations = operations;\n    }\n    if (operations !== ongoingOperations) {\n        bufferedOperations.push(operations);\n        return;\n    }\n    if (isLockEnabled && numberOfRetries >= LOCK_MAX_TRIES) {\n        next(sessionStoreStrategy);\n        return;\n    }\n    var currentLock;\n    var currentSession = retrieveSession();\n    if (isLockEnabled) {\n        // if someone has lock, retry later\n        if (currentSession.lock) {\n            retryLater(operations, sessionStoreStrategy, numberOfRetries);\n            return;\n        }\n        // acquire lock\n        currentLock = (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)();\n        currentSession.lock = currentLock;\n        persistSession(currentSession);\n        // if lock is not acquired, retry later\n        currentSession = retrieveSession();\n        if (currentSession.lock !== currentLock) {\n            retryLater(operations, sessionStoreStrategy, numberOfRetries);\n            return;\n        }\n    }\n    var processedSession = operations.process(currentSession);\n    if (isLockEnabled) {\n        // if lock corrupted after process, retry later\n        currentSession = retrieveSession();\n        if (currentSession.lock !== currentLock) {\n            retryLater(operations, sessionStoreStrategy, numberOfRetries);\n            return;\n        }\n    }\n    if (processedSession) {\n        if ((0,_sessionState__WEBPACK_IMPORTED_MODULE_1__.isSessionInExpiredState)(processedSession)) {\n            clearSession();\n        }\n        else {\n            (0,_sessionState__WEBPACK_IMPORTED_MODULE_1__.expandSessionState)(processedSession);\n            persistSession(processedSession);\n        }\n    }\n    if (isLockEnabled) {\n        // correctly handle lock around expiration would require to handle this case properly at several levels\n        // since we don't have evidence of lock issues around expiration, let's just not do the corruption check for it\n        if (!(processedSession && (0,_sessionState__WEBPACK_IMPORTED_MODULE_1__.isSessionInExpiredState)(processedSession))) {\n            // if lock corrupted after persist, retry later\n            currentSession = retrieveSession();\n            if (currentSession.lock !== currentLock) {\n                retryLater(operations, sessionStoreStrategy, numberOfRetries);\n                return;\n            }\n            delete currentSession.lock;\n            persistSession(currentSession);\n            processedSession = currentSession;\n        }\n    }\n    // call after even if session is not persisted in order to perform operations on\n    // up-to-date session state value => the value could have been modified by another tab\n    (_a = operations.after) === null || _a === void 0 ? void 0 : _a.call(operations, processedSession || currentSession);\n    next(sessionStoreStrategy);\n}\nfunction retryLater(operations, sessionStore, currentNumberOfRetries) {\n    (0,_tools_timer__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () {\n        processSessionStoreOperations(operations, sessionStore, currentNumberOfRetries + 1);\n    }, LOCK_RETRY_DELAY);\n}\nfunction next(sessionStore) {\n    ongoingOperations = undefined;\n    var nextOperations = bufferedOperations.shift();\n    if (nextOperations) {\n        processSessionStoreOperations(nextOperations, sessionStore);\n    }\n}\n//# sourceMappingURL=sessionStoreOperations.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlT3BlcmF0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlT3BlcmF0aW9ucy5qcz9lZGFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICcuLi8uLi90b29scy90aW1lcic7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5pbXBvcnQgeyBleHBhbmRTZXNzaW9uU3RhdGUsIGlzU2Vzc2lvbkluRXhwaXJlZFN0YXRlIH0gZnJvbSAnLi9zZXNzaW9uU3RhdGUnO1xuZXhwb3J0IHZhciBMT0NLX1JFVFJZX0RFTEFZID0gMTA7XG5leHBvcnQgdmFyIExPQ0tfTUFYX1RSSUVTID0gMTAwO1xudmFyIGJ1ZmZlcmVkT3BlcmF0aW9ucyA9IFtdO1xudmFyIG9uZ29pbmdPcGVyYXRpb25zO1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NTZXNzaW9uU3RvcmVPcGVyYXRpb25zKG9wZXJhdGlvbnMsIHNlc3Npb25TdG9yZVN0cmF0ZWd5LCBudW1iZXJPZlJldHJpZXMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG51bWJlck9mUmV0cmllcyA9PT0gdm9pZCAwKSB7IG51bWJlck9mUmV0cmllcyA9IDA7IH1cbiAgICB2YXIgaXNMb2NrRW5hYmxlZCA9IHNlc3Npb25TdG9yZVN0cmF0ZWd5LmlzTG9ja0VuYWJsZWQsIHJldHJpZXZlU2Vzc2lvbiA9IHNlc3Npb25TdG9yZVN0cmF0ZWd5LnJldHJpZXZlU2Vzc2lvbiwgcGVyc2lzdFNlc3Npb24gPSBzZXNzaW9uU3RvcmVTdHJhdGVneS5wZXJzaXN0U2Vzc2lvbiwgY2xlYXJTZXNzaW9uID0gc2Vzc2lvblN0b3JlU3RyYXRlZ3kuY2xlYXJTZXNzaW9uO1xuICAgIGlmICghb25nb2luZ09wZXJhdGlvbnMpIHtcbiAgICAgICAgb25nb2luZ09wZXJhdGlvbnMgPSBvcGVyYXRpb25zO1xuICAgIH1cbiAgICBpZiAob3BlcmF0aW9ucyAhPT0gb25nb2luZ09wZXJhdGlvbnMpIHtcbiAgICAgICAgYnVmZmVyZWRPcGVyYXRpb25zLnB1c2gob3BlcmF0aW9ucyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzTG9ja0VuYWJsZWQgJiYgbnVtYmVyT2ZSZXRyaWVzID49IExPQ0tfTUFYX1RSSUVTKSB7XG4gICAgICAgIG5leHQoc2Vzc2lvblN0b3JlU3RyYXRlZ3kpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjdXJyZW50TG9jaztcbiAgICB2YXIgY3VycmVudFNlc3Npb24gPSByZXRyaWV2ZVNlc3Npb24oKTtcbiAgICBpZiAoaXNMb2NrRW5hYmxlZCkge1xuICAgICAgICAvLyBpZiBzb21lb25lIGhhcyBsb2NrLCByZXRyeSBsYXRlclxuICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ubG9jaykge1xuICAgICAgICAgICAgcmV0cnlMYXRlcihvcGVyYXRpb25zLCBzZXNzaW9uU3RvcmVTdHJhdGVneSwgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBhY3F1aXJlIGxvY2tcbiAgICAgICAgY3VycmVudExvY2sgPSBnZW5lcmF0ZVVVSUQoKTtcbiAgICAgICAgY3VycmVudFNlc3Npb24ubG9jayA9IGN1cnJlbnRMb2NrO1xuICAgICAgICBwZXJzaXN0U2Vzc2lvbihjdXJyZW50U2Vzc2lvbik7XG4gICAgICAgIC8vIGlmIGxvY2sgaXMgbm90IGFjcXVpcmVkLCByZXRyeSBsYXRlclxuICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IHJldHJpZXZlU2Vzc2lvbigpO1xuICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ubG9jayAhPT0gY3VycmVudExvY2spIHtcbiAgICAgICAgICAgIHJldHJ5TGF0ZXIob3BlcmF0aW9ucywgc2Vzc2lvblN0b3JlU3RyYXRlZ3ksIG51bWJlck9mUmV0cmllcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHByb2Nlc3NlZFNlc3Npb24gPSBvcGVyYXRpb25zLnByb2Nlc3MoY3VycmVudFNlc3Npb24pO1xuICAgIGlmIChpc0xvY2tFbmFibGVkKSB7XG4gICAgICAgIC8vIGlmIGxvY2sgY29ycnVwdGVkIGFmdGVyIHByb2Nlc3MsIHJldHJ5IGxhdGVyXG4gICAgICAgIGN1cnJlbnRTZXNzaW9uID0gcmV0cmlldmVTZXNzaW9uKCk7XG4gICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbi5sb2NrICE9PSBjdXJyZW50TG9jaykge1xuICAgICAgICAgICAgcmV0cnlMYXRlcihvcGVyYXRpb25zLCBzZXNzaW9uU3RvcmVTdHJhdGVneSwgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzc2VkU2Vzc2lvbikge1xuICAgICAgICBpZiAoaXNTZXNzaW9uSW5FeHBpcmVkU3RhdGUocHJvY2Vzc2VkU2Vzc2lvbikpIHtcbiAgICAgICAgICAgIGNsZWFyU2Vzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwYW5kU2Vzc2lvblN0YXRlKHByb2Nlc3NlZFNlc3Npb24pO1xuICAgICAgICAgICAgcGVyc2lzdFNlc3Npb24ocHJvY2Vzc2VkU2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTG9ja0VuYWJsZWQpIHtcbiAgICAgICAgLy8gY29ycmVjdGx5IGhhbmRsZSBsb2NrIGFyb3VuZCBleHBpcmF0aW9uIHdvdWxkIHJlcXVpcmUgdG8gaGFuZGxlIHRoaXMgY2FzZSBwcm9wZXJseSBhdCBzZXZlcmFsIGxldmVsc1xuICAgICAgICAvLyBzaW5jZSB3ZSBkb24ndCBoYXZlIGV2aWRlbmNlIG9mIGxvY2sgaXNzdWVzIGFyb3VuZCBleHBpcmF0aW9uLCBsZXQncyBqdXN0IG5vdCBkbyB0aGUgY29ycnVwdGlvbiBjaGVjayBmb3IgaXRcbiAgICAgICAgaWYgKCEocHJvY2Vzc2VkU2Vzc2lvbiAmJiBpc1Nlc3Npb25JbkV4cGlyZWRTdGF0ZShwcm9jZXNzZWRTZXNzaW9uKSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGxvY2sgY29ycnVwdGVkIGFmdGVyIHBlcnNpc3QsIHJldHJ5IGxhdGVyXG4gICAgICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IHJldHJpZXZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLmxvY2sgIT09IGN1cnJlbnRMb2NrKSB7XG4gICAgICAgICAgICAgICAgcmV0cnlMYXRlcihvcGVyYXRpb25zLCBzZXNzaW9uU3RvcmVTdHJhdGVneSwgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgY3VycmVudFNlc3Npb24ubG9jaztcbiAgICAgICAgICAgIHBlcnNpc3RTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIHByb2Nlc3NlZFNlc3Npb24gPSBjdXJyZW50U2Vzc2lvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjYWxsIGFmdGVyIGV2ZW4gaWYgc2Vzc2lvbiBpcyBub3QgcGVyc2lzdGVkIGluIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvblxuICAgIC8vIHVwLXRvLWRhdGUgc2Vzc2lvbiBzdGF0ZSB2YWx1ZSA9PiB0aGUgdmFsdWUgY291bGQgaGF2ZSBiZWVuIG1vZGlmaWVkIGJ5IGFub3RoZXIgdGFiXG4gICAgKF9hID0gb3BlcmF0aW9ucy5hZnRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob3BlcmF0aW9ucywgcHJvY2Vzc2VkU2Vzc2lvbiB8fCBjdXJyZW50U2Vzc2lvbik7XG4gICAgbmV4dChzZXNzaW9uU3RvcmVTdHJhdGVneSk7XG59XG5mdW5jdGlvbiByZXRyeUxhdGVyKG9wZXJhdGlvbnMsIHNlc3Npb25TdG9yZSwgY3VycmVudE51bWJlck9mUmV0cmllcykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBwcm9jZXNzU2Vzc2lvblN0b3JlT3BlcmF0aW9ucyhvcGVyYXRpb25zLCBzZXNzaW9uU3RvcmUsIGN1cnJlbnROdW1iZXJPZlJldHJpZXMgKyAxKTtcbiAgICB9LCBMT0NLX1JFVFJZX0RFTEFZKTtcbn1cbmZ1bmN0aW9uIG5leHQoc2Vzc2lvblN0b3JlKSB7XG4gICAgb25nb2luZ09wZXJhdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdmFyIG5leHRPcGVyYXRpb25zID0gYnVmZmVyZWRPcGVyYXRpb25zLnNoaWZ0KCk7XG4gICAgaWYgKG5leHRPcGVyYXRpb25zKSB7XG4gICAgICAgIHByb2Nlc3NTZXNzaW9uU3RvcmVPcGVyYXRpb25zKG5leHRPcGVyYXRpb25zLCBzZXNzaW9uU3RvcmUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb25TdG9yZU9wZXJhdGlvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/sessionStoreOperations.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInCookie.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInCookie.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildCookieOptions\": () => (/* binding */ buildCookieOptions),\n/* harmony export */   \"initCookieStrategy\": () => (/* binding */ initCookieStrategy),\n/* harmony export */   \"selectCookieStrategy\": () => (/* binding */ selectCookieStrategy)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_browserDetection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../tools/utils/browserDetection */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js\");\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../browser/cookie */ \"../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _oldCookiesMigration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../oldCookiesMigration */ \"../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../sessionConstants */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _sessionState__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sessionState */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js\");\n/* harmony import */ var _sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sessionStoreStrategy */ \"../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionStoreStrategy.js\");\n\n\n\n\n\n\nfunction selectCookieStrategy(initConfiguration) {\n    var cookieOptions = buildCookieOptions(initConfiguration);\n    return (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.areCookiesAuthorized)(cookieOptions) ? { type: 'Cookie', cookieOptions: cookieOptions } : undefined;\n}\nfunction initCookieStrategy(cookieOptions) {\n    var cookieStore = {\n        /**\n         * Lock strategy allows mitigating issues due to concurrent access to cookie.\n         * This issue concerns only chromium browsers and enabling this on firefox increases cookie write failures.\n         */\n        isLockEnabled: (0,_tools_utils_browserDetection__WEBPACK_IMPORTED_MODULE_1__.isChromium)(),\n        persistSession: persistSessionCookie(cookieOptions),\n        retrieveSession: retrieveSessionCookie,\n        clearSession: deleteSessionCookie(cookieOptions),\n    };\n    (0,_oldCookiesMigration__WEBPACK_IMPORTED_MODULE_2__.tryOldCookiesMigration)(cookieStore);\n    return cookieStore;\n}\nfunction persistSessionCookie(options) {\n    return function (session) {\n        (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.setCookie)(_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_3__.SESSION_STORE_KEY, (0,_sessionState__WEBPACK_IMPORTED_MODULE_4__.toSessionString)(session), _sessionConstants__WEBPACK_IMPORTED_MODULE_5__.SESSION_EXPIRATION_DELAY, options);\n    };\n}\nfunction retrieveSessionCookie() {\n    var sessionString = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_3__.SESSION_STORE_KEY);\n    return (0,_sessionState__WEBPACK_IMPORTED_MODULE_4__.toSessionState)(sessionString);\n}\nfunction deleteSessionCookie(options) {\n    return function () {\n        (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.deleteCookie)(_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_3__.SESSION_STORE_KEY, options);\n    };\n}\nfunction buildCookieOptions(initConfiguration) {\n    var cookieOptions = {};\n    cookieOptions.secure = !!initConfiguration.useSecureSessionCookie || !!initConfiguration.useCrossSiteSessionCookie;\n    cookieOptions.crossSite = !!initConfiguration.useCrossSiteSessionCookie;\n    if (initConfiguration.trackSessionAcrossSubdomains) {\n        cookieOptions.domain = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCurrentSite)();\n    }\n    return cookieOptions;\n}\n//# sourceMappingURL=sessionInCookie.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc3RvcmVTdHJhdGVnaWVzL3Nlc3Npb25JbkNvb2tpZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zdG9yZVN0cmF0ZWdpZXMvc2Vzc2lvbkluQ29va2llLmpzPzM4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNDaHJvbWl1bSB9IGZyb20gJy4uLy4uLy4uL3Rvb2xzL3V0aWxzL2Jyb3dzZXJEZXRlY3Rpb24nO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFNpdGUsIGFyZUNvb2tpZXNBdXRob3JpemVkLCBkZWxldGVDb29raWUsIGdldENvb2tpZSwgc2V0Q29va2llIH0gZnJvbSAnLi4vLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuaW1wb3J0IHsgdHJ5T2xkQ29va2llc01pZ3JhdGlvbiB9IGZyb20gJy4uL29sZENvb2tpZXNNaWdyYXRpb24nO1xuaW1wb3J0IHsgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZIH0gZnJvbSAnLi4vc2Vzc2lvbkNvbnN0YW50cyc7XG5pbXBvcnQgeyB0b1Nlc3Npb25TdHJpbmcsIHRvU2Vzc2lvblN0YXRlIH0gZnJvbSAnLi4vc2Vzc2lvblN0YXRlJztcbmltcG9ydCB7IFNFU1NJT05fU1RPUkVfS0VZIH0gZnJvbSAnLi9zZXNzaW9uU3RvcmVTdHJhdGVneSc7XG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Q29va2llU3RyYXRlZ3koaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgY29va2llT3B0aW9ucyA9IGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIGFyZUNvb2tpZXNBdXRob3JpemVkKGNvb2tpZU9wdGlvbnMpID8geyB0eXBlOiAnQ29va2llJywgY29va2llT3B0aW9uczogY29va2llT3B0aW9ucyB9IDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRDb29raWVTdHJhdGVneShjb29raWVPcHRpb25zKSB7XG4gICAgdmFyIGNvb2tpZVN0b3JlID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jayBzdHJhdGVneSBhbGxvd3MgbWl0aWdhdGluZyBpc3N1ZXMgZHVlIHRvIGNvbmN1cnJlbnQgYWNjZXNzIHRvIGNvb2tpZS5cbiAgICAgICAgICogVGhpcyBpc3N1ZSBjb25jZXJucyBvbmx5IGNocm9taXVtIGJyb3dzZXJzIGFuZCBlbmFibGluZyB0aGlzIG9uIGZpcmVmb3ggaW5jcmVhc2VzIGNvb2tpZSB3cml0ZSBmYWlsdXJlcy5cbiAgICAgICAgICovXG4gICAgICAgIGlzTG9ja0VuYWJsZWQ6IGlzQ2hyb21pdW0oKSxcbiAgICAgICAgcGVyc2lzdFNlc3Npb246IHBlcnNpc3RTZXNzaW9uQ29va2llKGNvb2tpZU9wdGlvbnMpLFxuICAgICAgICByZXRyaWV2ZVNlc3Npb246IHJldHJpZXZlU2Vzc2lvbkNvb2tpZSxcbiAgICAgICAgY2xlYXJTZXNzaW9uOiBkZWxldGVTZXNzaW9uQ29va2llKGNvb2tpZU9wdGlvbnMpLFxuICAgIH07XG4gICAgdHJ5T2xkQ29va2llc01pZ3JhdGlvbihjb29raWVTdG9yZSk7XG4gICAgcmV0dXJuIGNvb2tpZVN0b3JlO1xufVxuZnVuY3Rpb24gcGVyc2lzdFNlc3Npb25Db29raWUob3B0aW9ucykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICBzZXRDb29raWUoU0VTU0lPTl9TVE9SRV9LRVksIHRvU2Vzc2lvblN0cmluZyhzZXNzaW9uKSwgU0VTU0lPTl9FWFBJUkFUSU9OX0RFTEFZLCBvcHRpb25zKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gcmV0cmlldmVTZXNzaW9uQ29va2llKCkge1xuICAgIHZhciBzZXNzaW9uU3RyaW5nID0gZ2V0Q29va2llKFNFU1NJT05fU1RPUkVfS0VZKTtcbiAgICByZXR1cm4gdG9TZXNzaW9uU3RhdGUoc2Vzc2lvblN0cmluZyk7XG59XG5mdW5jdGlvbiBkZWxldGVTZXNzaW9uQ29va2llKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGVDb29raWUoU0VTU0lPTl9TVE9SRV9LRVksIG9wdGlvbnMpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDb29raWVPcHRpb25zKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGNvb2tpZU9wdGlvbnMgPSB7fTtcbiAgICBjb29raWVPcHRpb25zLnNlY3VyZSA9ICEhaW5pdENvbmZpZ3VyYXRpb24udXNlU2VjdXJlU2Vzc2lvbkNvb2tpZSB8fCAhIWluaXRDb25maWd1cmF0aW9uLnVzZUNyb3NzU2l0ZVNlc3Npb25Db29raWU7XG4gICAgY29va2llT3B0aW9ucy5jcm9zc1NpdGUgPSAhIWluaXRDb25maWd1cmF0aW9uLnVzZUNyb3NzU2l0ZVNlc3Npb25Db29raWU7XG4gICAgaWYgKGluaXRDb25maWd1cmF0aW9uLnRyYWNrU2Vzc2lvbkFjcm9zc1N1YmRvbWFpbnMpIHtcbiAgICAgICAgY29va2llT3B0aW9ucy5kb21haW4gPSBnZXRDdXJyZW50U2l0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY29va2llT3B0aW9ucztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb25JbkNvb2tpZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInCookie.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInLocalStorage.js":
/*!************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInLocalStorage.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initLocalStorageStrategy\": () => (/* binding */ initLocalStorageStrategy),\n/* harmony export */   \"selectLocalStorageStrategy\": () => (/* binding */ selectLocalStorageStrategy)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../tools/utils/stringUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _sessionState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sessionState */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionState.js\");\n/* harmony import */ var _sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionStoreStrategy */ \"../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionStoreStrategy.js\");\n\n\n\nvar LOCAL_STORAGE_TEST_KEY = '_dd_test_';\nfunction selectLocalStorageStrategy() {\n    try {\n        var id = (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)();\n        var testKey = \"\".concat(LOCAL_STORAGE_TEST_KEY).concat(id);\n        localStorage.setItem(testKey, id);\n        var retrievedId = localStorage.getItem(testKey);\n        localStorage.removeItem(testKey);\n        return id === retrievedId ? { type: 'LocalStorage' } : undefined;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\nfunction initLocalStorageStrategy() {\n    return {\n        isLockEnabled: false,\n        persistSession: persistInLocalStorage,\n        retrieveSession: retrieveSessionFromLocalStorage,\n        clearSession: clearSessionFromLocalStorage,\n    };\n}\nfunction persistInLocalStorage(sessionState) {\n    localStorage.setItem(_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_1__.SESSION_STORE_KEY, (0,_sessionState__WEBPACK_IMPORTED_MODULE_2__.toSessionString)(sessionState));\n}\nfunction retrieveSessionFromLocalStorage() {\n    var sessionString = localStorage.getItem(_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_1__.SESSION_STORE_KEY);\n    return (0,_sessionState__WEBPACK_IMPORTED_MODULE_2__.toSessionState)(sessionString);\n}\nfunction clearSessionFromLocalStorage() {\n    localStorage.removeItem(_sessionStoreStrategy__WEBPACK_IMPORTED_MODULE_1__.SESSION_STORE_KEY);\n}\n//# sourceMappingURL=sessionInLocalStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc3RvcmVTdHJhdGVnaWVzL3Nlc3Npb25JbkxvY2FsU3RvcmFnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL3N0b3JlU3RyYXRlZ2llcy9zZXNzaW9uSW5Mb2NhbFN0b3JhZ2UuanM/MWYyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5pbXBvcnQgeyB0b1Nlc3Npb25TdHJpbmcsIHRvU2Vzc2lvblN0YXRlIH0gZnJvbSAnLi4vc2Vzc2lvblN0YXRlJztcbmltcG9ydCB7IFNFU1NJT05fU1RPUkVfS0VZIH0gZnJvbSAnLi9zZXNzaW9uU3RvcmVTdHJhdGVneSc7XG52YXIgTE9DQUxfU1RPUkFHRV9URVNUX0tFWSA9ICdfZGRfdGVzdF8nO1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdExvY2FsU3RvcmFnZVN0cmF0ZWd5KCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBpZCA9IGdlbmVyYXRlVVVJRCgpO1xuICAgICAgICB2YXIgdGVzdEtleSA9IFwiXCIuY29uY2F0KExPQ0FMX1NUT1JBR0VfVEVTVF9LRVkpLmNvbmNhdChpZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRlc3RLZXksIGlkKTtcbiAgICAgICAgdmFyIHJldHJpZXZlZElkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGVzdEtleSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgICByZXR1cm4gaWQgPT09IHJldHJpZXZlZElkID8geyB0eXBlOiAnTG9jYWxTdG9yYWdlJyB9IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9jYWxTdG9yYWdlU3RyYXRlZ3koKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNMb2NrRW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHBlcnNpc3RTZXNzaW9uOiBwZXJzaXN0SW5Mb2NhbFN0b3JhZ2UsXG4gICAgICAgIHJldHJpZXZlU2Vzc2lvbjogcmV0cmlldmVTZXNzaW9uRnJvbUxvY2FsU3RvcmFnZSxcbiAgICAgICAgY2xlYXJTZXNzaW9uOiBjbGVhclNlc3Npb25Gcm9tTG9jYWxTdG9yYWdlLFxuICAgIH07XG59XG5mdW5jdGlvbiBwZXJzaXN0SW5Mb2NhbFN0b3JhZ2Uoc2Vzc2lvblN0YXRlKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9TVE9SRV9LRVksIHRvU2Vzc2lvblN0cmluZyhzZXNzaW9uU3RhdGUpKTtcbn1cbmZ1bmN0aW9uIHJldHJpZXZlU2Vzc2lvbkZyb21Mb2NhbFN0b3JhZ2UoKSB7XG4gICAgdmFyIHNlc3Npb25TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JFX0tFWSk7XG4gICAgcmV0dXJuIHRvU2Vzc2lvblN0YXRlKHNlc3Npb25TdHJpbmcpO1xufVxuZnVuY3Rpb24gY2xlYXJTZXNzaW9uRnJvbUxvY2FsU3RvcmFnZSgpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTRVNTSU9OX1NUT1JFX0tFWSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uSW5Mb2NhbFN0b3JhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionInLocalStorage.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionStoreStrategy.js":
/*!***********************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionStoreStrategy.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SESSION_STORE_KEY\": () => (/* binding */ SESSION_STORE_KEY)\n/* harmony export */ });\nvar SESSION_STORE_KEY = '_dd_s';\n//# sourceMappingURL=sessionStoreStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc3RvcmVTdHJhdGVnaWVzL3Nlc3Npb25TdG9yZVN0cmF0ZWd5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc3RvcmVTdHJhdGVnaWVzL3Nlc3Npb25TdG9yZVN0cmF0ZWd5LmpzPzA1ZGMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBTRVNTSU9OX1NUT1JFX0tFWSA9ICdfZGRfcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uU3RvcmVTdHJhdGVneS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/session/storeStrategies/sessionStoreStrategy.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SYNTHETICS_INJECTS_RUM_COOKIE_NAME\": () => (/* binding */ SYNTHETICS_INJECTS_RUM_COOKIE_NAME),\n/* harmony export */   \"SYNTHETICS_RESULT_ID_COOKIE_NAME\": () => (/* binding */ SYNTHETICS_RESULT_ID_COOKIE_NAME),\n/* harmony export */   \"SYNTHETICS_TEST_ID_COOKIE_NAME\": () => (/* binding */ SYNTHETICS_TEST_ID_COOKIE_NAME),\n/* harmony export */   \"getSyntheticsResultId\": () => (/* binding */ getSyntheticsResultId),\n/* harmony export */   \"getSyntheticsTestId\": () => (/* binding */ getSyntheticsTestId),\n/* harmony export */   \"willSyntheticsInjectRum\": () => (/* binding */ willSyntheticsInjectRum)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/cookie */ \"../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n\nvar SYNTHETICS_TEST_ID_COOKIE_NAME = 'datadog-synthetics-public-id';\nvar SYNTHETICS_RESULT_ID_COOKIE_NAME = 'datadog-synthetics-result-id';\nvar SYNTHETICS_INJECTS_RUM_COOKIE_NAME = 'datadog-synthetics-injects-rum';\nfunction willSyntheticsInjectRum() {\n    return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM || (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_INJECTS_RUM_COOKIE_NAME));\n}\nfunction getSyntheticsTestId() {\n    var value = window._DATADOG_SYNTHETICS_PUBLIC_ID || (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_TEST_ID_COOKIE_NAME);\n    return typeof value === 'string' ? value : undefined;\n}\nfunction getSyntheticsResultId() {\n    var value = window._DATADOG_SYNTHETICS_RESULT_ID || (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_RESULT_ID_COOKIE_NAME);\n    return typeof value === 'string' ? value : undefined;\n}\n//# sourceMappingURL=syntheticsWorkerValues.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3N5bnRoZXRpY3Mvc3ludGhldGljc1dvcmtlclZhbHVlcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc3ludGhldGljcy9zeW50aGV0aWNzV29ya2VyVmFsdWVzLmpzP2I1OGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuZXhwb3J0IHZhciBTWU5USEVUSUNTX1RFU1RfSURfQ09PS0lFX05BTUUgPSAnZGF0YWRvZy1zeW50aGV0aWNzLXB1YmxpYy1pZCc7XG5leHBvcnQgdmFyIFNZTlRIRVRJQ1NfUkVTVUxUX0lEX0NPT0tJRV9OQU1FID0gJ2RhdGFkb2ctc3ludGhldGljcy1yZXN1bHQtaWQnO1xuZXhwb3J0IHZhciBTWU5USEVUSUNTX0lOSkVDVFNfUlVNX0NPT0tJRV9OQU1FID0gJ2RhdGFkb2ctc3ludGhldGljcy1pbmplY3RzLXJ1bSc7XG5leHBvcnQgZnVuY3Rpb24gd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0oKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4od2luZG93Ll9EQVRBRE9HX1NZTlRIRVRJQ1NfSU5KRUNUU19SVU0gfHwgZ2V0Q29va2llKFNZTlRIRVRJQ1NfSU5KRUNUU19SVU1fQ09PS0lFX05BTUUpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW50aGV0aWNzVGVzdElkKCkge1xuICAgIHZhciB2YWx1ZSA9IHdpbmRvdy5fREFUQURPR19TWU5USEVUSUNTX1BVQkxJQ19JRCB8fCBnZXRDb29raWUoU1lOVEhFVElDU19URVNUX0lEX0NPT0tJRV9OQU1FKTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bnRoZXRpY3NSZXN1bHRJZCgpIHtcbiAgICB2YXIgdmFsdWUgPSB3aW5kb3cuX0RBVEFET0dfU1lOVEhFVElDU19SRVNVTFRfSUQgfHwgZ2V0Q29va2llKFNZTlRIRVRJQ1NfUkVTVUxUX0lEX0NPT0tJRV9OQU1FKTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ludGhldGljc1dvcmtlclZhbHVlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TelemetryType\": () => (/* binding */ TelemetryType)\n/* harmony export */ });\nvar TelemetryType = {\n    log: 'log',\n    configuration: 'configuration',\n};\n//# sourceMappingURL=rawTelemetryEvent.types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RlbGVtZXRyeS9yYXdUZWxlbWV0cnlFdmVudC50eXBlcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi90ZWxlbWV0cnkvcmF3VGVsZW1ldHJ5RXZlbnQudHlwZXMuanM/ZWY3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIFRlbGVtZXRyeVR5cGUgPSB7XG4gICAgbG9nOiAnbG9nJyxcbiAgICBjb25maWd1cmF0aW9uOiAnY29uZmlndXJhdGlvbicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmF3VGVsZW1ldHJ5RXZlbnQudHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addTelemetryConfiguration\": () => (/* binding */ addTelemetryConfiguration),\n/* harmony export */   \"addTelemetryDebug\": () => (/* binding */ addTelemetryDebug),\n/* harmony export */   \"addTelemetryError\": () => (/* binding */ addTelemetryError),\n/* harmony export */   \"formatError\": () => (/* binding */ formatError),\n/* harmony export */   \"isTelemetryReplicationAllowed\": () => (/* binding */ isTelemetryReplicationAllowed),\n/* harmony export */   \"resetTelemetry\": () => (/* binding */ resetTelemetry),\n/* harmony export */   \"scrubCustomerFrames\": () => (/* binding */ scrubCustomerFrames),\n/* harmony export */   \"startFakeTelemetry\": () => (/* binding */ startFakeTelemetry),\n/* harmony export */   \"startTelemetry\": () => (/* binding */ startTelemetry)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _error_error__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../error/error */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tools/experimentalFeatures */ \"../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configuration */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tracekit */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_sendToExtension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/sendToExtension */ \"../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/numberUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n/* harmony import */ var _tools_mergeInto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/mergeInto */ \"../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./rawTelemetryEvent.types */ \"../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ALLOWED_FRAME_URLS = [\n    'https://www.datadoghq-browser-agent.com',\n    'https://www.datad0g-browser-agent.com',\n    'https://d3uc069fcn7uxw.cloudfront.net',\n    'https://d20xtzwzcl0ceb.cloudfront.net',\n    'http://localhost',\n    '<anonymous>',\n];\nvar TELEMETRY_EXCLUDED_SITES = [_configuration__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_US1_FED];\nvar telemetryConfiguration = { maxEventsPerPage: 0, sentEventCount: 0, telemetryEnabled: false, telemetryConfigurationEnabled: false };\nvar onRawTelemetryEventCollected;\nfunction startTelemetry(telemetryService, configuration) {\n    var contextProvider;\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable();\n    telemetryConfiguration.telemetryEnabled =\n        !(0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.includes)(TELEMETRY_EXCLUDED_SITES, configuration.site) && (0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.performDraw)(configuration.telemetrySampleRate);\n    telemetryConfiguration.telemetryConfigurationEnabled =\n        telemetryConfiguration.telemetryEnabled && (0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.performDraw)(configuration.telemetryConfigurationSampleRate);\n    var runtimeEnvInfo = getRuntimeEnvInfo();\n    onRawTelemetryEventCollected = function (rawEvent) {\n        if (telemetryConfiguration.telemetryEnabled) {\n            var event_1 = toTelemetryEvent(telemetryService, rawEvent, runtimeEnvInfo);\n            observable.notify(event_1);\n            (0,_tools_sendToExtension__WEBPACK_IMPORTED_MODULE_4__.sendToExtension)('telemetry', event_1);\n        }\n    };\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_5__.startMonitorErrorCollection)(addTelemetryError);\n    (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)(telemetryConfiguration, {\n        maxEventsPerPage: configuration.maxTelemetryEventsPerPage,\n        sentEventCount: 0,\n    });\n    function toTelemetryEvent(telemetryService, event, runtimeEnvInfo) {\n        return (0,_tools_mergeInto__WEBPACK_IMPORTED_MODULE_6__.combine)({\n            type: 'telemetry',\n            date: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_7__.timeStampNow)(),\n            service: telemetryService,\n            version: \"4.50.1\",\n            source: 'browser',\n            _dd: {\n                format_version: 2,\n            },\n            telemetry: (0,_tools_mergeInto__WEBPACK_IMPORTED_MODULE_6__.combine)(event, {\n                runtime_env: runtimeEnvInfo,\n            }),\n            experimental_features: (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.arrayFrom)((0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_8__.getExperimentalFeatures)()),\n        }, contextProvider !== undefined ? contextProvider() : {});\n    }\n    return {\n        setContextProvider: function (provider) {\n            contextProvider = provider;\n        },\n        observable: observable,\n        enabled: telemetryConfiguration.telemetryEnabled,\n    };\n}\nfunction getRuntimeEnvInfo() {\n    return {\n        is_local_file: window.location.protocol === 'file:',\n        is_worker: 'WorkerGlobalScope' in self,\n    };\n}\nfunction startFakeTelemetry() {\n    var events = [];\n    (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)(telemetryConfiguration, {\n        maxEventsPerPage: Infinity,\n        sentEventCount: 0,\n    });\n    onRawTelemetryEventCollected = function (event) {\n        events.push(event);\n    };\n    return events;\n}\nfunction resetTelemetry() {\n    onRawTelemetryEventCollected = undefined;\n}\n/**\n * Avoid mixing telemetry events from different data centers\n * but keep replicating staging events for reliability\n */\nfunction isTelemetryReplicationAllowed(configuration) {\n    return configuration.site === _configuration__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_STAGING;\n}\nfunction addTelemetryDebug(message, context) {\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_5__.displayIfDebugEnabled)(_tools_display__WEBPACK_IMPORTED_MODULE_9__.ConsoleApiName.debug, message, context);\n    addTelemetry((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        type: _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__.TelemetryType.log,\n        message: message,\n        status: \"debug\" /* StatusType.debug */,\n    }, context));\n}\nfunction addTelemetryError(e, context) {\n    addTelemetry((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        type: _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__.TelemetryType.log,\n        status: \"error\" /* StatusType.error */,\n    }, formatError(e), context));\n}\nfunction addTelemetryConfiguration(configuration) {\n    if (telemetryConfiguration.telemetryConfigurationEnabled) {\n        addTelemetry({\n            type: _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__.TelemetryType.configuration,\n            configuration: configuration,\n        });\n    }\n}\nfunction addTelemetry(event) {\n    if (onRawTelemetryEventCollected && telemetryConfiguration.sentEventCount < telemetryConfiguration.maxEventsPerPage) {\n        telemetryConfiguration.sentEventCount += 1;\n        onRawTelemetryEventCollected(event);\n    }\n}\nfunction formatError(e) {\n    if (e instanceof Error) {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_11__.computeStackTrace)(e);\n        return {\n            error: {\n                kind: stackTrace.name,\n                stack: (0,_error_error__WEBPACK_IMPORTED_MODULE_12__.toStackTraceString)(scrubCustomerFrames(stackTrace)),\n            },\n            message: stackTrace.message,\n        };\n    }\n    return {\n        error: {\n            stack: _error_error__WEBPACK_IMPORTED_MODULE_12__.NO_ERROR_STACK_PRESENT_MESSAGE,\n        },\n        message: \"\".concat(\"Uncaught\" /* NonErrorPrefix.UNCAUGHT */, \" \").concat((0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_13__.jsonStringify)(e)),\n    };\n}\nfunction scrubCustomerFrames(stackTrace) {\n    stackTrace.stack = stackTrace.stack.filter(function (frame) { return !frame.url || ALLOWED_FRAME_URLS.some(function (allowedFrameUrl) { return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.startsWith)(frame.url, allowedFrameUrl); }); });\n    return stackTrace;\n}\n//# sourceMappingURL=telemetry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RlbGVtZXRyeS90ZWxlbWV0cnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L3RlbGVtZXRyeS5qcz81ZGE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnNvbGVBcGlOYW1lIH0gZnJvbSAnLi4vLi4vdG9vbHMvZGlzcGxheSc7XG5pbXBvcnQgeyB0b1N0YWNrVHJhY2VTdHJpbmcsIE5PX0VSUk9SX1NUQUNLX1BSRVNFTlRfTUVTU0FHRSB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGdldEV4cGVyaW1lbnRhbEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgSU5UQUtFX1NJVEVfU1RBR0lORywgSU5UQUtFX1NJVEVfVVMxX0ZFRCB9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UgfSBmcm9tICcuLi90cmFjZWtpdCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyB0aW1lU3RhbXBOb3cgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90aW1lVXRpbHMnO1xuaW1wb3J0IHsgZGlzcGxheUlmRGVidWdFbmFibGVkLCBzdGFydE1vbml0b3JFcnJvckNvbGxlY3Rpb24gfSBmcm9tICcuLi8uLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IHNlbmRUb0V4dGVuc2lvbiB9IGZyb20gJy4uLy4uL3Rvb2xzL3NlbmRUb0V4dGVuc2lvbic7XG5pbXBvcnQgeyBzdGFydHNXaXRoLCBhcnJheUZyb20sIGluY2x1ZGVzLCBhc3NpZ24gfSBmcm9tICcuLi8uLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgcGVyZm9ybURyYXcgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9udW1iZXJVdGlscyc7XG5pbXBvcnQgeyBqc29uU3RyaW5naWZ5IH0gZnJvbSAnLi4vLi4vdG9vbHMvc2VyaWFsaXNhdGlvbi9qc29uU3RyaW5naWZ5JztcbmltcG9ydCB7IGNvbWJpbmUgfSBmcm9tICcuLi8uLi90b29scy9tZXJnZUludG8nO1xuaW1wb3J0IHsgVGVsZW1ldHJ5VHlwZSB9IGZyb20gJy4vcmF3VGVsZW1ldHJ5RXZlbnQudHlwZXMnO1xudmFyIEFMTE9XRURfRlJBTUVfVVJMUyA9IFtcbiAgICAnaHR0cHM6Ly93d3cuZGF0YWRvZ2hxLWJyb3dzZXItYWdlbnQuY29tJyxcbiAgICAnaHR0cHM6Ly93d3cuZGF0YWQwZy1icm93c2VyLWFnZW50LmNvbScsXG4gICAgJ2h0dHBzOi8vZDN1YzA2OWZjbjd1eHcuY2xvdWRmcm9udC5uZXQnLFxuICAgICdodHRwczovL2QyMHh0end6Y2wwY2ViLmNsb3VkZnJvbnQubmV0JyxcbiAgICAnaHR0cDovL2xvY2FsaG9zdCcsXG4gICAgJzxhbm9ueW1vdXM+Jyxcbl07XG52YXIgVEVMRU1FVFJZX0VYQ0xVREVEX1NJVEVTID0gW0lOVEFLRV9TSVRFX1VTMV9GRURdO1xudmFyIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24gPSB7IG1heEV2ZW50c1BlclBhZ2U6IDAsIHNlbnRFdmVudENvdW50OiAwLCB0ZWxlbWV0cnlFbmFibGVkOiBmYWxzZSwgdGVsZW1ldHJ5Q29uZmlndXJhdGlvbkVuYWJsZWQ6IGZhbHNlIH07XG52YXIgb25SYXdUZWxlbWV0cnlFdmVudENvbGxlY3RlZDtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFRlbGVtZXRyeSh0ZWxlbWV0cnlTZXJ2aWNlLCBjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGNvbnRleHRQcm92aWRlcjtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdGVsZW1ldHJ5Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlFbmFibGVkID1cbiAgICAgICAgIWluY2x1ZGVzKFRFTEVNRVRSWV9FWENMVURFRF9TSVRFUywgY29uZmlndXJhdGlvbi5zaXRlKSAmJiBwZXJmb3JtRHJhdyhjb25maWd1cmF0aW9uLnRlbGVtZXRyeVNhbXBsZVJhdGUpO1xuICAgIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5Q29uZmlndXJhdGlvbkVuYWJsZWQgPVxuICAgICAgICB0ZWxlbWV0cnlDb25maWd1cmF0aW9uLnRlbGVtZXRyeUVuYWJsZWQgJiYgcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi50ZWxlbWV0cnlDb25maWd1cmF0aW9uU2FtcGxlUmF0ZSk7XG4gICAgdmFyIHJ1bnRpbWVFbnZJbmZvID0gZ2V0UnVudGltZUVudkluZm8oKTtcbiAgICBvblJhd1RlbGVtZXRyeUV2ZW50Q29sbGVjdGVkID0gZnVuY3Rpb24gKHJhd0V2ZW50KSB7XG4gICAgICAgIGlmICh0ZWxlbWV0cnlDb25maWd1cmF0aW9uLnRlbGVtZXRyeUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gdG9UZWxlbWV0cnlFdmVudCh0ZWxlbWV0cnlTZXJ2aWNlLCByYXdFdmVudCwgcnVudGltZUVudkluZm8pO1xuICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoZXZlbnRfMSk7XG4gICAgICAgICAgICBzZW5kVG9FeHRlbnNpb24oJ3RlbGVtZXRyeScsIGV2ZW50XzEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzdGFydE1vbml0b3JFcnJvckNvbGxlY3Rpb24oYWRkVGVsZW1ldHJ5RXJyb3IpO1xuICAgIGFzc2lnbih0ZWxlbWV0cnlDb25maWd1cmF0aW9uLCB7XG4gICAgICAgIG1heEV2ZW50c1BlclBhZ2U6IGNvbmZpZ3VyYXRpb24ubWF4VGVsZW1ldHJ5RXZlbnRzUGVyUGFnZSxcbiAgICAgICAgc2VudEV2ZW50Q291bnQ6IDAsXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gdG9UZWxlbWV0cnlFdmVudCh0ZWxlbWV0cnlTZXJ2aWNlLCBldmVudCwgcnVudGltZUVudkluZm8pIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmUoe1xuICAgICAgICAgICAgdHlwZTogJ3RlbGVtZXRyeScsXG4gICAgICAgICAgICBkYXRlOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHRlbGVtZXRyeVNlcnZpY2UsXG4gICAgICAgICAgICB2ZXJzaW9uOiBcIjQuNTAuMVwiLFxuICAgICAgICAgICAgc291cmNlOiAnYnJvd3NlcicsXG4gICAgICAgICAgICBfZGQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXRfdmVyc2lvbjogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZWxlbWV0cnk6IGNvbWJpbmUoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICBydW50aW1lX2VudjogcnVudGltZUVudkluZm8sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9mZWF0dXJlczogYXJyYXlGcm9tKGdldEV4cGVyaW1lbnRhbEZlYXR1cmVzKCkpLFxuICAgICAgICB9LCBjb250ZXh0UHJvdmlkZXIgIT09IHVuZGVmaW5lZCA/IGNvbnRleHRQcm92aWRlcigpIDoge30pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRDb250ZXh0UHJvdmlkZXI6IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICAgICAgY29udGV4dFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIG9ic2VydmFibGU6IG9ic2VydmFibGUsXG4gICAgICAgIGVuYWJsZWQ6IHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5RW5hYmxlZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0UnVudGltZUVudkluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNfbG9jYWxfZmlsZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnZmlsZTonLFxuICAgICAgICBpc193b3JrZXI6ICdXb3JrZXJHbG9iYWxTY29wZScgaW4gc2VsZixcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RmFrZVRlbGVtZXRyeSgpIHtcbiAgICB2YXIgZXZlbnRzID0gW107XG4gICAgYXNzaWduKHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgbWF4RXZlbnRzUGVyUGFnZTogSW5maW5pdHksXG4gICAgICAgIHNlbnRFdmVudENvdW50OiAwLFxuICAgIH0pO1xuICAgIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIGV2ZW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldFRlbGVtZXRyeSgpIHtcbiAgICBvblJhd1RlbGVtZXRyeUV2ZW50Q29sbGVjdGVkID0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBBdm9pZCBtaXhpbmcgdGVsZW1ldHJ5IGV2ZW50cyBmcm9tIGRpZmZlcmVudCBkYXRhIGNlbnRlcnNcbiAqIGJ1dCBrZWVwIHJlcGxpY2F0aW5nIHN0YWdpbmcgZXZlbnRzIGZvciByZWxpYWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUZWxlbWV0cnlSZXBsaWNhdGlvbkFsbG93ZWQoY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBjb25maWd1cmF0aW9uLnNpdGUgPT09IElOVEFLRV9TSVRFX1NUQUdJTkc7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkVGVsZW1ldHJ5RGVidWcobWVzc2FnZSwgY29udGV4dCkge1xuICAgIGRpc3BsYXlJZkRlYnVnRW5hYmxlZChDb25zb2xlQXBpTmFtZS5kZWJ1ZywgbWVzc2FnZSwgY29udGV4dCk7XG4gICAgYWRkVGVsZW1ldHJ5KGFzc2lnbih7XG4gICAgICAgIHR5cGU6IFRlbGVtZXRyeVR5cGUubG9nLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBzdGF0dXM6IFwiZGVidWdcIiAvKiBTdGF0dXNUeXBlLmRlYnVnICovLFxuICAgIH0sIGNvbnRleHQpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZWxlbWV0cnlFcnJvcihlLCBjb250ZXh0KSB7XG4gICAgYWRkVGVsZW1ldHJ5KGFzc2lnbih7XG4gICAgICAgIHR5cGU6IFRlbGVtZXRyeVR5cGUubG9nLFxuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIiAvKiBTdGF0dXNUeXBlLmVycm9yICovLFxuICAgIH0sIGZvcm1hdEVycm9yKGUpLCBjb250ZXh0KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkVGVsZW1ldHJ5Q29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5Q29uZmlndXJhdGlvbkVuYWJsZWQpIHtcbiAgICAgICAgYWRkVGVsZW1ldHJ5KHtcbiAgICAgICAgICAgIHR5cGU6IFRlbGVtZXRyeVR5cGUuY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFRlbGVtZXRyeShldmVudCkge1xuICAgIGlmIChvblJhd1RlbGVtZXRyeUV2ZW50Q29sbGVjdGVkICYmIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24uc2VudEV2ZW50Q291bnQgPCB0ZWxlbWV0cnlDb25maWd1cmF0aW9uLm1heEV2ZW50c1BlclBhZ2UpIHtcbiAgICAgICAgdGVsZW1ldHJ5Q29uZmlndXJhdGlvbi5zZW50RXZlbnRDb3VudCArPSAxO1xuICAgICAgICBvblJhd1RlbGVtZXRyeUV2ZW50Q29sbGVjdGVkKGV2ZW50KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3IoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdmFyIHN0YWNrVHJhY2UgPSBjb21wdXRlU3RhY2tUcmFjZShlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAga2luZDogc3RhY2tUcmFjZS5uYW1lLFxuICAgICAgICAgICAgICAgIHN0YWNrOiB0b1N0YWNrVHJhY2VTdHJpbmcoc2NydWJDdXN0b21lckZyYW1lcyhzdGFja1RyYWNlKSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVzc2FnZTogc3RhY2tUcmFjZS5tZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgc3RhY2s6IE5PX0VSUk9SX1NUQUNLX1BSRVNFTlRfTUVTU0FHRSxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogXCJcIi5jb25jYXQoXCJVbmNhdWdodFwiIC8qIE5vbkVycm9yUHJlZml4LlVOQ0FVR0hUICovLCBcIiBcIikuY29uY2F0KGpzb25TdHJpbmdpZnkoZSkpLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2NydWJDdXN0b21lckZyYW1lcyhzdGFja1RyYWNlKSB7XG4gICAgc3RhY2tUcmFjZS5zdGFjayA9IHN0YWNrVHJhY2Uuc3RhY2suZmlsdGVyKGZ1bmN0aW9uIChmcmFtZSkgeyByZXR1cm4gIWZyYW1lLnVybCB8fCBBTExPV0VEX0ZSQU1FX1VSTFMuc29tZShmdW5jdGlvbiAoYWxsb3dlZEZyYW1lVXJsKSB7IHJldHVybiBzdGFydHNXaXRoKGZyYW1lLnVybCwgYWxsb3dlZEZyYW1lVXJsKTsgfSk7IH0pO1xuICAgIHJldHVybiBzdGFja1RyYWNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVsZW1ldHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeStackTrace\": () => (/* binding */ computeStackTrace)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nvar UNKNOWN_FUNCTION = '?';\n/**\n * Computes a stack trace for an exception.\n */\nfunction computeStackTrace(ex) {\n    var stack = [];\n    var stackProperty = tryToGetString(ex, 'stack');\n    var exString = String(ex);\n    if (stackProperty && (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.startsWith)(stackProperty, exString)) {\n        stackProperty = stackProperty.slice(exString.length);\n    }\n    if (stackProperty) {\n        stackProperty.split('\\n').forEach(function (line) {\n            var stackFrame = parseChromeLine(line) || parseChromeAnonymousLine(line) || parseWinLine(line) || parseGeckoLine(line);\n            if (stackFrame) {\n                if (!stackFrame.func && stackFrame.line) {\n                    stackFrame.func = UNKNOWN_FUNCTION;\n                }\n                stack.push(stackFrame);\n            }\n        });\n    }\n    return {\n        message: tryToGetString(ex, 'message'),\n        name: tryToGetString(ex, 'name'),\n        stack: stack,\n    };\n}\nvar fileUrl = '((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\\\w+\\\\.|\\\\/).*?)';\nvar filePosition = '(?::(\\\\d+))';\nvar CHROME_LINE_RE = new RegExp(\"^\\\\s*at (.*?) ?\\\\(\".concat(fileUrl).concat(filePosition, \"?\").concat(filePosition, \"?\\\\)?\\\\s*$\"), 'i');\nvar CHROME_EVAL_RE = new RegExp(\"\\\\((\\\\S*)\".concat(filePosition).concat(filePosition, \"\\\\)\"));\nfunction parseChromeLine(line) {\n    var parts = CHROME_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n    var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n    var submatch = CHROME_EVAL_RE.exec(parts[2]);\n    if (isEval && submatch) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n        parts[3] = submatch[2]; // line\n        parts[4] = submatch[3]; // column\n    }\n    return {\n        args: isNative ? [parts[2]] : [],\n        column: parts[4] ? +parts[4] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: parts[3] ? +parts[3] : undefined,\n        url: !isNative ? parts[2] : undefined,\n    };\n}\nvar CHROME_ANONYMOUS_FUNCTION_RE = new RegExp(\"^\\\\s*at ?\".concat(fileUrl).concat(filePosition, \"?\").concat(filePosition, \"??\\\\s*$\"), 'i');\nfunction parseChromeAnonymousLine(line) {\n    var parts = CHROME_ANONYMOUS_FUNCTION_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    return {\n        args: [],\n        column: parts[3] ? +parts[3] : undefined,\n        func: UNKNOWN_FUNCTION,\n        line: parts[2] ? +parts[2] : undefined,\n        url: parts[1],\n    };\n}\nvar WINJS_LINE_RE = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nfunction parseWinLine(line) {\n    var parts = WINJS_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    return {\n        args: [],\n        column: parts[4] ? +parts[4] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: +parts[3],\n        url: parts[2],\n    };\n}\nvar GECKO_LINE_RE = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar GECKO_EVAL_RE = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nfunction parseGeckoLine(line) {\n    var parts = GECKO_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n    var submatch = GECKO_EVAL_RE.exec(parts[3]);\n    if (isEval && submatch) {\n        // throw out eval line/column and use top-most line number\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = undefined; // no column when eval\n    }\n    return {\n        args: parts[2] ? parts[2].split(',') : [],\n        column: parts[5] ? +parts[5] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: parts[4] ? +parts[4] : undefined,\n        url: parts[3],\n    };\n}\nfunction tryToGetString(candidate, property) {\n    if (typeof candidate !== 'object' || !candidate || !(property in candidate)) {\n        return undefined;\n    }\n    var value = candidate[property];\n    return typeof value === 'string' ? value : undefined;\n}\n//# sourceMappingURL=computeStackTrace.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L2NvbXB1dGVTdGFja1RyYWNlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L2NvbXB1dGVTdGFja1RyYWNlLmpzPzU0Y2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RhcnRzV2l0aCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG52YXIgVU5LTk9XTl9GVU5DVElPTiA9ICc/Jztcbi8qKlxuICogQ29tcHV0ZXMgYSBzdGFjayB0cmFjZSBmb3IgYW4gZXhjZXB0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVN0YWNrVHJhY2UoZXgpIHtcbiAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICB2YXIgc3RhY2tQcm9wZXJ0eSA9IHRyeVRvR2V0U3RyaW5nKGV4LCAnc3RhY2snKTtcbiAgICB2YXIgZXhTdHJpbmcgPSBTdHJpbmcoZXgpO1xuICAgIGlmIChzdGFja1Byb3BlcnR5ICYmIHN0YXJ0c1dpdGgoc3RhY2tQcm9wZXJ0eSwgZXhTdHJpbmcpKSB7XG4gICAgICAgIHN0YWNrUHJvcGVydHkgPSBzdGFja1Byb3BlcnR5LnNsaWNlKGV4U3RyaW5nLmxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChzdGFja1Byb3BlcnR5KSB7XG4gICAgICAgIHN0YWNrUHJvcGVydHkuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIHZhciBzdGFja0ZyYW1lID0gcGFyc2VDaHJvbWVMaW5lKGxpbmUpIHx8IHBhcnNlQ2hyb21lQW5vbnltb3VzTGluZShsaW5lKSB8fCBwYXJzZVdpbkxpbmUobGluZSkgfHwgcGFyc2VHZWNrb0xpbmUobGluZSk7XG4gICAgICAgICAgICBpZiAoc3RhY2tGcmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICghc3RhY2tGcmFtZS5mdW5jICYmIHN0YWNrRnJhbWUubGluZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFja0ZyYW1lLmZ1bmMgPSBVTktOT1dOX0ZVTkNUSU9OO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHN0YWNrRnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogdHJ5VG9HZXRTdHJpbmcoZXgsICdtZXNzYWdlJyksXG4gICAgICAgIG5hbWU6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbmFtZScpLFxuICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgfTtcbn1cbnZhciBmaWxlVXJsID0gJygoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZS1leHRlbnNpb258bmF0aXZlfGV2YWx8d2VicGFja3xzbmlwcGV0fDxhbm9ueW1vdXM+fFxcXFx3K1xcXFwufFxcXFwvKS4qPyknO1xudmFyIGZpbGVQb3NpdGlvbiA9ICcoPzo6KFxcXFxkKykpJztcbnZhciBDSFJPTUVfTElORV9SRSA9IG5ldyBSZWdFeHAoXCJeXFxcXHMqYXQgKC4qPykgP1xcXFwoXCIuY29uY2F0KGZpbGVVcmwpLmNvbmNhdChmaWxlUG9zaXRpb24sIFwiP1wiKS5jb25jYXQoZmlsZVBvc2l0aW9uLCBcIj9cXFxcKT9cXFxccyokXCIpLCAnaScpO1xudmFyIENIUk9NRV9FVkFMX1JFID0gbmV3IFJlZ0V4cChcIlxcXFwoKFxcXFxTKilcIi5jb25jYXQoZmlsZVBvc2l0aW9uKS5jb25jYXQoZmlsZVBvc2l0aW9uLCBcIlxcXFwpXCIpKTtcbmZ1bmN0aW9uIHBhcnNlQ2hyb21lTGluZShsaW5lKSB7XG4gICAgdmFyIHBhcnRzID0gQ0hST01FX0xJTkVfUkUuZXhlYyhsaW5lKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGlzTmF0aXZlID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignbmF0aXZlJykgPT09IDA7IC8vIHN0YXJ0IG9mIGxpbmVcbiAgICB2YXIgaXNFdmFsID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignZXZhbCcpID09PSAwOyAvLyBzdGFydCBvZiBsaW5lXG4gICAgdmFyIHN1Ym1hdGNoID0gQ0hST01FX0VWQUxfUkUuZXhlYyhwYXJ0c1syXSk7XG4gICAgaWYgKGlzRXZhbCAmJiBzdWJtYXRjaCkge1xuICAgICAgICAvLyB0aHJvdyBvdXQgZXZhbCBsaW5lL2NvbHVtbiBhbmQgdXNlIHRvcC1tb3N0IGxpbmUvY29sdW1uIG51bWJlclxuICAgICAgICBwYXJ0c1syXSA9IHN1Ym1hdGNoWzFdOyAvLyB1cmxcbiAgICAgICAgcGFydHNbM10gPSBzdWJtYXRjaFsyXTsgLy8gbGluZVxuICAgICAgICBwYXJ0c1s0XSA9IHN1Ym1hdGNoWzNdOyAvLyBjb2x1bW5cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJnczogaXNOYXRpdmUgPyBbcGFydHNbMl1dIDogW10sXG4gICAgICAgIGNvbHVtbjogcGFydHNbNF0gPyArcGFydHNbNF0gOiB1bmRlZmluZWQsXG4gICAgICAgIGZ1bmM6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgIGxpbmU6IHBhcnRzWzNdID8gK3BhcnRzWzNdIDogdW5kZWZpbmVkLFxuICAgICAgICB1cmw6ICFpc05hdGl2ZSA/IHBhcnRzWzJdIDogdW5kZWZpbmVkLFxuICAgIH07XG59XG52YXIgQ0hST01FX0FOT05ZTU9VU19GVU5DVElPTl9SRSA9IG5ldyBSZWdFeHAoXCJeXFxcXHMqYXQgP1wiLmNvbmNhdChmaWxlVXJsKS5jb25jYXQoZmlsZVBvc2l0aW9uLCBcIj9cIikuY29uY2F0KGZpbGVQb3NpdGlvbiwgXCI/P1xcXFxzKiRcIiksICdpJyk7XG5mdW5jdGlvbiBwYXJzZUNocm9tZUFub255bW91c0xpbmUobGluZSkge1xuICAgIHZhciBwYXJ0cyA9IENIUk9NRV9BTk9OWU1PVVNfRlVOQ1RJT05fUkUuZXhlYyhsaW5lKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJnczogW10sXG4gICAgICAgIGNvbHVtbjogcGFydHNbM10gPyArcGFydHNbM10gOiB1bmRlZmluZWQsXG4gICAgICAgIGZ1bmM6IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgIGxpbmU6IHBhcnRzWzJdID8gK3BhcnRzWzJdIDogdW5kZWZpbmVkLFxuICAgICAgICB1cmw6IHBhcnRzWzFdLFxuICAgIH07XG59XG52YXIgV0lOSlNfTElORV9SRSA9IC9eXFxzKmF0ICg/OigoPzpcXFtvYmplY3Qgb2JqZWN0XFxdKT8uKykgKT9cXCg/KCg/OmZpbGV8bXMtYXBweHxodHRwcz98d2VicGFja3xibG9iKTouKj8pOihcXGQrKSg/OjooXFxkKykpP1xcKT9cXHMqJC9pO1xuZnVuY3Rpb24gcGFyc2VXaW5MaW5lKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBXSU5KU19MSU5FX1JFLmV4ZWMobGluZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICBsaW5lOiArcGFydHNbM10sXG4gICAgICAgIHVybDogcGFydHNbMl0sXG4gICAgfTtcbn1cbnZhciBHRUNLT19MSU5FX1JFID0gL15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKSgoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZXx3ZWJwYWNrfHJlc291cmNlfGNhcGFjaXRvcnxcXFtuYXRpdmUpLio/fFteQF0qYnVuZGxlKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2k7XG52YXIgR0VDS09fRVZBTF9SRSA9IC8oXFxTKykgbGluZSAoXFxkKykoPzogPiBldmFsIGxpbmUgXFxkKykqID4gZXZhbC9pO1xuZnVuY3Rpb24gcGFyc2VHZWNrb0xpbmUobGluZSkge1xuICAgIHZhciBwYXJ0cyA9IEdFQ0tPX0xJTkVfUkUuZXhlYyhsaW5lKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGlzRXZhbCA9IHBhcnRzWzNdICYmIHBhcnRzWzNdLmluZGV4T2YoJyA+IGV2YWwnKSA+IC0xO1xuICAgIHZhciBzdWJtYXRjaCA9IEdFQ0tPX0VWQUxfUkUuZXhlYyhwYXJ0c1szXSk7XG4gICAgaWYgKGlzRXZhbCAmJiBzdWJtYXRjaCkge1xuICAgICAgICAvLyB0aHJvdyBvdXQgZXZhbCBsaW5lL2NvbHVtbiBhbmQgdXNlIHRvcC1tb3N0IGxpbmUgbnVtYmVyXG4gICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMV07XG4gICAgICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbMl07XG4gICAgICAgIHBhcnRzWzVdID0gdW5kZWZpbmVkOyAvLyBubyBjb2x1bW4gd2hlbiBldmFsXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFyZ3M6IHBhcnRzWzJdID8gcGFydHNbMl0uc3BsaXQoJywnKSA6IFtdLFxuICAgICAgICBjb2x1bW46IHBhcnRzWzVdID8gK3BhcnRzWzVdIDogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICBsaW5lOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgdXJsOiBwYXJ0c1szXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJ5VG9HZXRTdHJpbmcoY2FuZGlkYXRlLCBwcm9wZXJ0eSkge1xuICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlICE9PSAnb2JqZWN0JyB8fCAhY2FuZGlkYXRlIHx8ICEocHJvcGVydHkgaW4gY2FuZGlkYXRlKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBjYW5kaWRhdGVbcHJvcGVydHldO1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wdXRlU3RhY2tUcmFjZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startUnhandledErrorCollection\": () => (/* binding */ startUnhandledErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/instrumentMethod */ \"../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _computeStackTrace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./computeStackTrace */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types\nvar ERROR_TYPES_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\\s\\S]*)$/;\n/**\n * Cross-browser collection of unhandled errors\n *\n * Supports:\n * - Firefox: full stack trace with line numbers, plus column number\n * on top frame; column number is not guaranteed\n * - Opera: full stack trace with line and column numbers\n * - Chrome: full stack trace with line and column numbers\n * - Safari: line and column number for the top frame only; some frames\n * may be missing, and column number is not guaranteed\n * - IE: line and column number for the top frame only; some frames\n * may be missing, and column number is not guaranteed\n *\n * In theory, TraceKit should work on all of the following versions:\n * - IE5.5+ (only 8.0 tested)\n * - Firefox 0.9+ (only 3.5+ tested)\n * - Opera 7+ (only 10.50 tested; versions 9 and earlier may require\n * Exceptions Have Stacktrace to be enabled in opera:config)\n * - Safari 3+ (only 4+ tested)\n * - Chrome 1+ (only 5+ tested)\n * - Konqueror 3.5+ (untested)\n *\n * Tries to catch all unhandled errors and report them to the\n * callback.\n *\n * Callbacks receive a StackTrace object as described in the\n * computeStackTrace docs.\n *\n * @memberof TraceKit\n * @namespace\n */\nfunction startUnhandledErrorCollection(callback) {\n    var stopInstrumentingOnError = instrumentOnError(callback).stop;\n    var stopInstrumentingOnUnhandledRejection = instrumentUnhandledRejection(callback).stop;\n    return {\n        stop: function () {\n            stopInstrumentingOnError();\n            stopInstrumentingOnUnhandledRejection();\n        },\n    };\n}\n/**\n * Install a global onerror handler\n */\nfunction instrumentOnError(callback) {\n    return (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(window, 'onerror', {\n        before: function (messageObj, url, line, column, errorObj) {\n            var stackTrace;\n            if (errorObj instanceof Error) {\n                stackTrace = (0,_computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(errorObj);\n            }\n            else {\n                var stack = [{ url: url, column: column, line: line }];\n                var _a = tryToParseMessage(messageObj), name_1 = _a.name, message = _a.message;\n                stackTrace = {\n                    name: name_1,\n                    message: message,\n                    stack: stack,\n                };\n            }\n            callback(stackTrace, errorObj !== null && errorObj !== void 0 ? errorObj : messageObj);\n        },\n    });\n}\nfunction tryToParseMessage(messageObj) {\n    var _a;\n    var name;\n    var message;\n    if ({}.toString.call(messageObj) === '[object String]') {\n        ;\n        _a = ERROR_TYPES_RE.exec(messageObj), name = _a[1], message = _a[2];\n    }\n    return { name: name, message: message };\n}\n/**\n * Install a global onunhandledrejection handler\n */\nfunction instrumentUnhandledRejection(callback) {\n    return (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(window, 'onunhandledrejection', {\n        before: function (e) {\n            var reason = e.reason || 'Empty reason';\n            var stack = (0,_computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(reason);\n            callback(stack, reason);\n        },\n    });\n}\n//# sourceMappingURL=tracekit.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L3RyYWNla2l0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L3RyYWNla2l0LmpzPzliZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJy4uLy4uL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnO1xuaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UgfSBmcm9tICcuL2NvbXB1dGVTdGFja1RyYWNlJztcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0Vycm9yX3R5cGVzXG52YXIgRVJST1JfVFlQRVNfUkUgPSAvXig/OltVdV1uY2F1Z2h0ICg/OmV4Y2VwdGlvbjogKT8pPyg/OigoPzpFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkl8KUVycm9yKTogKT8oW1xcc1xcU10qKSQvO1xuLyoqXG4gKiBDcm9zcy1icm93c2VyIGNvbGxlY3Rpb24gb2YgdW5oYW5kbGVkIGVycm9yc1xuICpcbiAqIFN1cHBvcnRzOlxuICogLSBGaXJlZm94OiBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBudW1iZXJzLCBwbHVzIGNvbHVtbiBudW1iZXJcbiAqIG9uIHRvcCBmcmFtZTsgY29sdW1uIG51bWJlciBpcyBub3QgZ3VhcmFudGVlZFxuICogLSBPcGVyYTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIENocm9tZTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIFNhZmFyaTogbGluZSBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHRvcCBmcmFtZSBvbmx5OyBzb21lIGZyYW1lc1xuICogbWF5IGJlIG1pc3NpbmcsIGFuZCBjb2x1bW4gbnVtYmVyIGlzIG5vdCBndWFyYW50ZWVkXG4gKiAtIElFOiBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyIGZvciB0aGUgdG9wIGZyYW1lIG9ubHk7IHNvbWUgZnJhbWVzXG4gKiBtYXkgYmUgbWlzc2luZywgYW5kIGNvbHVtbiBudW1iZXIgaXMgbm90IGd1YXJhbnRlZWRcbiAqXG4gKiBJbiB0aGVvcnksIFRyYWNlS2l0IHNob3VsZCB3b3JrIG9uIGFsbCBvZiB0aGUgZm9sbG93aW5nIHZlcnNpb25zOlxuICogLSBJRTUuNSsgKG9ubHkgOC4wIHRlc3RlZClcbiAqIC0gRmlyZWZveCAwLjkrIChvbmx5IDMuNSsgdGVzdGVkKVxuICogLSBPcGVyYSA3KyAob25seSAxMC41MCB0ZXN0ZWQ7IHZlcnNpb25zIDkgYW5kIGVhcmxpZXIgbWF5IHJlcXVpcmVcbiAqIEV4Y2VwdGlvbnMgSGF2ZSBTdGFja3RyYWNlIHRvIGJlIGVuYWJsZWQgaW4gb3BlcmE6Y29uZmlnKVxuICogLSBTYWZhcmkgMysgKG9ubHkgNCsgdGVzdGVkKVxuICogLSBDaHJvbWUgMSsgKG9ubHkgNSsgdGVzdGVkKVxuICogLSBLb25xdWVyb3IgMy41KyAodW50ZXN0ZWQpXG4gKlxuICogVHJpZXMgdG8gY2F0Y2ggYWxsIHVuaGFuZGxlZCBlcnJvcnMgYW5kIHJlcG9ydCB0aGVtIHRvIHRoZVxuICogY2FsbGJhY2suXG4gKlxuICogQ2FsbGJhY2tzIHJlY2VpdmUgYSBTdGFja1RyYWNlIG9iamVjdCBhcyBkZXNjcmliZWQgaW4gdGhlXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBkb2NzLlxuICpcbiAqIEBtZW1iZXJvZiBUcmFjZUtpdFxuICogQG5hbWVzcGFjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRVbmhhbmRsZWRFcnJvckNvbGxlY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdPbkVycm9yID0gaW5zdHJ1bWVudE9uRXJyb3IoY2FsbGJhY2spLnN0b3A7XG4gICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nT25VbmhhbmRsZWRSZWplY3Rpb24gPSBpbnN0cnVtZW50VW5oYW5kbGVkUmVqZWN0aW9uKGNhbGxiYWNrKS5zdG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nT25FcnJvcigpO1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdPblVuaGFuZGxlZFJlamVjdGlvbigpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEluc3RhbGwgYSBnbG9iYWwgb25lcnJvciBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRPbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwod2luZG93LCAnb25lcnJvcicsIHtcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAobWVzc2FnZU9iaiwgdXJsLCBsaW5lLCBjb2x1bW4sIGVycm9yT2JqKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2tUcmFjZTtcbiAgICAgICAgICAgIGlmIChlcnJvck9iaiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IFt7IHVybDogdXJsLCBjb2x1bW46IGNvbHVtbiwgbGluZTogbGluZSB9XTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSB0cnlUb1BhcnNlTWVzc2FnZShtZXNzYWdlT2JqKSwgbmFtZV8xID0gX2EubmFtZSwgbWVzc2FnZSA9IF9hLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZV8xLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YWNrVHJhY2UsIGVycm9yT2JqICE9PSBudWxsICYmIGVycm9yT2JqICE9PSB2b2lkIDAgPyBlcnJvck9iaiA6IG1lc3NhZ2VPYmopO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdHJ5VG9QYXJzZU1lc3NhZ2UobWVzc2FnZU9iaikge1xuICAgIHZhciBfYTtcbiAgICB2YXIgbmFtZTtcbiAgICB2YXIgbWVzc2FnZTtcbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChtZXNzYWdlT2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHtcbiAgICAgICAgO1xuICAgICAgICBfYSA9IEVSUk9SX1RZUEVTX1JFLmV4ZWMobWVzc2FnZU9iaiksIG5hbWUgPSBfYVsxXSwgbWVzc2FnZSA9IF9hWzJdO1xuICAgIH1cbiAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBtZXNzYWdlOiBtZXNzYWdlIH07XG59XG4vKipcbiAqIEluc3RhbGwgYSBnbG9iYWwgb251bmhhbmRsZWRyZWplY3Rpb24gaGFuZGxlclxuICovXG5mdW5jdGlvbiBpbnN0cnVtZW50VW5oYW5kbGVkUmVqZWN0aW9uKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwod2luZG93LCAnb251bmhhbmRsZWRyZWplY3Rpb24nLCB7XG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciByZWFzb24gPSBlLnJlYXNvbiB8fCAnRW1wdHkgcmVhc29uJztcbiAgICAgICAgICAgIHZhciBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlKHJlYXNvbik7XG4gICAgICAgICAgICBjYWxsYmFjayhzdGFjaywgcmVhc29uKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNla2l0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/domain/user/user.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/user/user.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkUser\": () => (/* binding */ checkUser),\n/* harmony export */   \"sanitizeUser\": () => (/* binding */ sanitizeUser)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils_typeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/typeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\n\n\n/**\n * Clone input data and ensure known user properties (id, name, email)\n * are strings, as defined here:\n * https://docs.datadoghq.com/logs/log_configuration/attributes_naming_convention/#user-related-attributes\n */\nfunction sanitizeUser(newUser) {\n    // We shallow clone only to prevent mutation of user data.\n    var user = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.assign)({}, newUser);\n    var keys = ['id', 'name', 'email'];\n    keys.forEach(function (key) {\n        if (key in user) {\n            user[key] = String(user[key]);\n        }\n    });\n    return user;\n}\n/**\n * Simple check to ensure user is valid\n */\nfunction checkUser(newUser) {\n    var isValid = (0,_tools_utils_typeUtils__WEBPACK_IMPORTED_MODULE_1__.getType)(newUser) === 'object';\n    if (!isValid) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.error('Unsupported user:', newUser);\n    }\n    return isValid;\n}\n//# sourceMappingURL=user.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3VzZXIvdXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi91c2VyL3VzZXIuanM/YmZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vLi4vdG9vbHMvZGlzcGxheSc7XG5pbXBvcnQgeyBnZXRUeXBlIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvdHlwZVV0aWxzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG4vKipcbiAqIENsb25lIGlucHV0IGRhdGEgYW5kIGVuc3VyZSBrbm93biB1c2VyIHByb3BlcnRpZXMgKGlkLCBuYW1lLCBlbWFpbClcbiAqIGFyZSBzdHJpbmdzLCBhcyBkZWZpbmVkIGhlcmU6XG4gKiBodHRwczovL2RvY3MuZGF0YWRvZ2hxLmNvbS9sb2dzL2xvZ19jb25maWd1cmF0aW9uL2F0dHJpYnV0ZXNfbmFtaW5nX2NvbnZlbnRpb24vI3VzZXItcmVsYXRlZC1hdHRyaWJ1dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVVzZXIobmV3VXNlcikge1xuICAgIC8vIFdlIHNoYWxsb3cgY2xvbmUgb25seSB0byBwcmV2ZW50IG11dGF0aW9uIG9mIHVzZXIgZGF0YS5cbiAgICB2YXIgdXNlciA9IGFzc2lnbih7fSwgbmV3VXNlcik7XG4gICAgdmFyIGtleXMgPSBbJ2lkJywgJ25hbWUnLCAnZW1haWwnXTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHVzZXIpIHtcbiAgICAgICAgICAgIHVzZXJba2V5XSA9IFN0cmluZyh1c2VyW2tleV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHVzZXI7XG59XG4vKipcbiAqIFNpbXBsZSBjaGVjayB0byBlbnN1cmUgdXNlciBpcyB2YWxpZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tVc2VyKG5ld1VzZXIpIHtcbiAgICB2YXIgaXNWYWxpZCA9IGdldFR5cGUobmV3VXNlcikgPT09ICdvYmplY3QnO1xuICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdVbnN1cHBvcnRlZCB1c2VyOicsIG5ld1VzZXIpO1xuICAgIH1cbiAgICByZXR1cm4gaXNWYWxpZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/domain/user/user.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AbstractLifeCycle\": () => (/* binding */ AbstractLifeCycle)\n/* harmony export */ });\nvar AbstractLifeCycle = /** @class */ (function () {\n    function AbstractLifeCycle() {\n        this.callbacks = {};\n    }\n    AbstractLifeCycle.prototype.notify = function (eventType, data) {\n        var eventCallbacks = this.callbacks[eventType];\n        if (eventCallbacks) {\n            eventCallbacks.forEach(function (callback) { return callback(data); });\n        }\n    };\n    AbstractLifeCycle.prototype.subscribe = function (eventType, callback) {\n        var _this = this;\n        if (!this.callbacks[eventType]) {\n            this.callbacks[eventType] = [];\n        }\n        this.callbacks[eventType].push(callback);\n        return {\n            unsubscribe: function () {\n                _this.callbacks[eventType] = _this.callbacks[eventType].filter(function (other) { return callback !== other; });\n            },\n        };\n    };\n    return AbstractLifeCycle;\n}());\n\n//# sourceMappingURL=abstractLifeCycle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYWJzdHJhY3RMaWZlQ3ljbGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9hYnN0cmFjdExpZmVDeWNsZS5qcz80MTI1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBBYnN0cmFjdExpZmVDeWNsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpZmVDeWNsZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcbiAgICB9XG4gICAgQWJzdHJhY3RMaWZlQ3ljbGUucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGRhdGEpIHtcbiAgICAgICAgdmFyIGV2ZW50Q2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXTtcbiAgICAgICAgaWYgKGV2ZW50Q2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBldmVudENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2soZGF0YSk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdExpZmVDeWNsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmNhbGxiYWNrc1tldmVudFR5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1tldmVudFR5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0gPSBfdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXS5maWx0ZXIoZnVuY3Rpb24gKG90aGVyKSB7IHJldHVybiBjYWxsYmFjayAhPT0gb3RoZXI7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdExpZmVDeWNsZTtcbn0oKSk7XG5leHBvcnQgeyBBYnN0cmFjdExpZmVDeWNsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3RMaWZlQ3ljbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoundedBuffer\": () => (/* binding */ BoundedBuffer)\n/* harmony export */ });\nvar BUFFER_LIMIT = 500;\nvar BoundedBuffer = /** @class */ (function () {\n    function BoundedBuffer() {\n        this.buffer = [];\n    }\n    BoundedBuffer.prototype.add = function (callback) {\n        var length = this.buffer.push(callback);\n        if (length > BUFFER_LIMIT) {\n            this.buffer.splice(0, 1);\n        }\n    };\n    BoundedBuffer.prototype.drain = function () {\n        this.buffer.forEach(function (callback) { return callback(); });\n        this.buffer.length = 0;\n    };\n    return BoundedBuffer;\n}());\n\n//# sourceMappingURL=boundedBuffer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYm91bmRlZEJ1ZmZlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9ib3VuZGVkQnVmZmVyLmpzPzdjNTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEJVRkZFUl9MSU1JVCA9IDUwMDtcbnZhciBCb3VuZGVkQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kZWRCdWZmZXIoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgfVxuICAgIEJvdW5kZWRCdWZmZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5idWZmZXIucHVzaChjYWxsYmFjayk7XG4gICAgICAgIGlmIChsZW5ndGggPiBCVUZGRVJfTElNSVQpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnNwbGljZSgwLCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm91bmRlZEJ1ZmZlci5wcm90b3R5cGUuZHJhaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICAgICAgdGhpcy5idWZmZXIubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZGVkQnVmZmVyO1xufSgpKTtcbmV4cG9ydCB7IEJvdW5kZWRCdWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvdW5kZWRCdWZmZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"catchUserErrors\": () => (/* binding */ catchUserErrors)\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n\nfunction catchUserErrors(fn, errorMsg) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            return fn.apply(void 0, args);\n        }\n        catch (err) {\n            _display__WEBPACK_IMPORTED_MODULE_0__.display.error(errorMsg, err);\n        }\n    };\n}\n//# sourceMappingURL=catchUserErrors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvY2F0Y2hVc2VyRXJyb3JzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9jYXRjaFVzZXJFcnJvcnMuanM/MzYzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi9kaXNwbGF5JztcbmV4cG9ydCBmdW5jdGlvbiBjYXRjaFVzZXJFcnJvcnMoZm4sIGVycm9yTXNnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcihlcnJvck1zZywgZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaFVzZXJFcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/display.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/display.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConsoleApiName\": () => (/* binding */ ConsoleApiName),\n/* harmony export */   \"display\": () => (/* binding */ display),\n/* harmony export */   \"globalConsole\": () => (/* binding */ globalConsole),\n/* harmony export */   \"originalConsoleMethods\": () => (/* binding */ originalConsoleMethods)\n/* harmony export */ });\n/* eslint-disable local-rules/disallow-side-effects */\n/**\n * Keep references on console methods to avoid triggering patched behaviors\n *\n * NB: in some setup, console could already be patched by another SDK.\n * In this case, some display messages can be sent by the other SDK\n * but we should be safe from infinite loop nonetheless.\n */\nvar ConsoleApiName = {\n    log: 'log',\n    debug: 'debug',\n    info: 'info',\n    warn: 'warn',\n    error: 'error',\n};\n/**\n * When building JS bundles, some users might use a plugin[1] or configuration[2] to remove\n * \"console.*\" references. This causes some issue as we expect `console.*` to be defined.\n * As a workaround, let's use a variable alias, so those expressions won't be taken into account by\n * simple static analysis.\n *\n * [1]: https://babeljs.io/docs/babel-plugin-transform-remove-console/\n * [2]: https://github.com/terser/terser#compress-options (look for drop_console)\n */\nvar globalConsole = console;\nvar originalConsoleMethods = {};\nObject.keys(ConsoleApiName).forEach(function (name) {\n    originalConsoleMethods[name] = globalConsole[name];\n});\nvar PREFIX = 'Datadog Browser SDK:';\nvar display = {\n    debug: originalConsoleMethods.debug.bind(globalConsole, PREFIX),\n    log: originalConsoleMethods.log.bind(globalConsole, PREFIX),\n    info: originalConsoleMethods.info.bind(globalConsole, PREFIX),\n    warn: originalConsoleMethods.warn.bind(globalConsole, PREFIX),\n    error: originalConsoleMethods.error.bind(globalConsole, PREFIX),\n};\n//# sourceMappingURL=display.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZGlzcGxheS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2Rpc3BsYXkuanM/NmI5NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBsb2NhbC1ydWxlcy9kaXNhbGxvdy1zaWRlLWVmZmVjdHMgKi9cbi8qKlxuICogS2VlcCByZWZlcmVuY2VzIG9uIGNvbnNvbGUgbWV0aG9kcyB0byBhdm9pZCB0cmlnZ2VyaW5nIHBhdGNoZWQgYmVoYXZpb3JzXG4gKlxuICogTkI6IGluIHNvbWUgc2V0dXAsIGNvbnNvbGUgY291bGQgYWxyZWFkeSBiZSBwYXRjaGVkIGJ5IGFub3RoZXIgU0RLLlxuICogSW4gdGhpcyBjYXNlLCBzb21lIGRpc3BsYXkgbWVzc2FnZXMgY2FuIGJlIHNlbnQgYnkgdGhlIG90aGVyIFNES1xuICogYnV0IHdlIHNob3VsZCBiZSBzYWZlIGZyb20gaW5maW5pdGUgbG9vcCBub25ldGhlbGVzcy5cbiAqL1xuZXhwb3J0IHZhciBDb25zb2xlQXBpTmFtZSA9IHtcbiAgICBsb2c6ICdsb2cnLFxuICAgIGRlYnVnOiAnZGVidWcnLFxuICAgIGluZm86ICdpbmZvJyxcbiAgICB3YXJuOiAnd2FybicsXG4gICAgZXJyb3I6ICdlcnJvcicsXG59O1xuLyoqXG4gKiBXaGVuIGJ1aWxkaW5nIEpTIGJ1bmRsZXMsIHNvbWUgdXNlcnMgbWlnaHQgdXNlIGEgcGx1Z2luWzFdIG9yIGNvbmZpZ3VyYXRpb25bMl0gdG8gcmVtb3ZlXG4gKiBcImNvbnNvbGUuKlwiIHJlZmVyZW5jZXMuIFRoaXMgY2F1c2VzIHNvbWUgaXNzdWUgYXMgd2UgZXhwZWN0IGBjb25zb2xlLipgIHRvIGJlIGRlZmluZWQuXG4gKiBBcyBhIHdvcmthcm91bmQsIGxldCdzIHVzZSBhIHZhcmlhYmxlIGFsaWFzLCBzbyB0aG9zZSBleHByZXNzaW9ucyB3b24ndCBiZSB0YWtlbiBpbnRvIGFjY291bnQgYnlcbiAqIHNpbXBsZSBzdGF0aWMgYW5hbHlzaXMuXG4gKlxuICogWzFdOiBodHRwczovL2JhYmVsanMuaW8vZG9jcy9iYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXJlbW92ZS1jb25zb2xlL1xuICogWzJdOiBodHRwczovL2dpdGh1Yi5jb20vdGVyc2VyL3RlcnNlciNjb21wcmVzcy1vcHRpb25zIChsb29rIGZvciBkcm9wX2NvbnNvbGUpXG4gKi9cbmV4cG9ydCB2YXIgZ2xvYmFsQ29uc29sZSA9IGNvbnNvbGU7XG5leHBvcnQgdmFyIG9yaWdpbmFsQ29uc29sZU1ldGhvZHMgPSB7fTtcbk9iamVjdC5rZXlzKENvbnNvbGVBcGlOYW1lKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgb3JpZ2luYWxDb25zb2xlTWV0aG9kc1tuYW1lXSA9IGdsb2JhbENvbnNvbGVbbmFtZV07XG59KTtcbnZhciBQUkVGSVggPSAnRGF0YWRvZyBCcm93c2VyIFNESzonO1xuZXhwb3J0IHZhciBkaXNwbGF5ID0ge1xuICAgIGRlYnVnOiBvcmlnaW5hbENvbnNvbGVNZXRob2RzLmRlYnVnLmJpbmQoZ2xvYmFsQ29uc29sZSwgUFJFRklYKSxcbiAgICBsb2c6IG9yaWdpbmFsQ29uc29sZU1ldGhvZHMubG9nLmJpbmQoZ2xvYmFsQ29uc29sZSwgUFJFRklYKSxcbiAgICBpbmZvOiBvcmlnaW5hbENvbnNvbGVNZXRob2RzLmluZm8uYmluZChnbG9iYWxDb25zb2xlLCBQUkVGSVgpLFxuICAgIHdhcm46IG9yaWdpbmFsQ29uc29sZU1ldGhvZHMud2Fybi5iaW5kKGdsb2JhbENvbnNvbGUsIFBSRUZJWCksXG4gICAgZXJyb3I6IG9yaWdpbmFsQ29uc29sZU1ldGhvZHMuZXJyb3IuYmluZChnbG9iYWxDb25zb2xlLCBQUkVGSVgpLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BsYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/display.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExperimentalFeature\": () => (/* binding */ ExperimentalFeature),\n/* harmony export */   \"addExperimentalFeatures\": () => (/* binding */ addExperimentalFeatures),\n/* harmony export */   \"getExperimentalFeatures\": () => (/* binding */ getExperimentalFeatures),\n/* harmony export */   \"isExperimentalFeatureEnabled\": () => (/* binding */ isExperimentalFeatureEnabled),\n/* harmony export */   \"resetExperimentalFeatures\": () => (/* binding */ resetExperimentalFeatures)\n/* harmony export */ });\n/**\n * LIMITATION:\n * For NPM setup, this feature flag singleton is shared between RUM and Logs product.\n * This means that an experimental flag set on the RUM product will be set on the Logs product.\n * So keep in mind that in certain configurations, your experimental feature flag may affect other products.\n *\n * FORMAT:\n * All feature flags should be snake_cased\n */\n// We want to use a real enum (i.e. not a const enum) here, to be able to check whether an arbitrary\n// string is an expected feature flag\n// eslint-disable-next-line no-restricted-syntax\nvar ExperimentalFeature;\n(function (ExperimentalFeature) {\n    ExperimentalFeature[\"PAGEHIDE\"] = \"pagehide\";\n    ExperimentalFeature[\"FEATURE_FLAGS\"] = \"feature_flags\";\n    ExperimentalFeature[\"RESOURCE_PAGE_STATES\"] = \"resource_page_states\";\n    ExperimentalFeature[\"PAGE_STATES\"] = \"page_states\";\n    ExperimentalFeature[\"COLLECT_FLUSH_REASON\"] = \"collect_flush_reason\";\n    ExperimentalFeature[\"NO_RESOURCE_DURATION_FROZEN_STATE\"] = \"no_resource_duration_frozen_state\";\n    ExperimentalFeature[\"SCROLLMAP\"] = \"scrollmap\";\n    ExperimentalFeature[\"INTERACTION_TO_NEXT_PAINT\"] = \"interaction_to_next_paint\";\n    ExperimentalFeature[\"WEB_VITALS_ATTRIBUTION\"] = \"web_vitals_attribution\";\n    ExperimentalFeature[\"DISABLE_REPLAY_INLINE_CSS\"] = \"disable_replay_inline_css\";\n})(ExperimentalFeature || (ExperimentalFeature = {}));\nvar enabledExperimentalFeatures = new Set();\nfunction addExperimentalFeatures(enabledFeatures) {\n    enabledFeatures.forEach(function (flag) {\n        enabledExperimentalFeatures.add(flag);\n    });\n}\nfunction isExperimentalFeatureEnabled(featureName) {\n    return enabledExperimentalFeatures.has(featureName);\n}\nfunction resetExperimentalFeatures() {\n    enabledExperimentalFeatures.clear();\n}\nfunction getExperimentalFeatures() {\n    return enabledExperimentalFeatures;\n}\n//# sourceMappingURL=experimentalFeatures.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMuanM/NmM0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExJTUlUQVRJT046XG4gKiBGb3IgTlBNIHNldHVwLCB0aGlzIGZlYXR1cmUgZmxhZyBzaW5nbGV0b24gaXMgc2hhcmVkIGJldHdlZW4gUlVNIGFuZCBMb2dzIHByb2R1Y3QuXG4gKiBUaGlzIG1lYW5zIHRoYXQgYW4gZXhwZXJpbWVudGFsIGZsYWcgc2V0IG9uIHRoZSBSVU0gcHJvZHVjdCB3aWxsIGJlIHNldCBvbiB0aGUgTG9ncyBwcm9kdWN0LlxuICogU28ga2VlcCBpbiBtaW5kIHRoYXQgaW4gY2VydGFpbiBjb25maWd1cmF0aW9ucywgeW91ciBleHBlcmltZW50YWwgZmVhdHVyZSBmbGFnIG1heSBhZmZlY3Qgb3RoZXIgcHJvZHVjdHMuXG4gKlxuICogRk9STUFUOlxuICogQWxsIGZlYXR1cmUgZmxhZ3Mgc2hvdWxkIGJlIHNuYWtlX2Nhc2VkXG4gKi9cbi8vIFdlIHdhbnQgdG8gdXNlIGEgcmVhbCBlbnVtIChpLmUuIG5vdCBhIGNvbnN0IGVudW0pIGhlcmUsIHRvIGJlIGFibGUgdG8gY2hlY2sgd2hldGhlciBhbiBhcmJpdHJhcnlcbi8vIHN0cmluZyBpcyBhbiBleHBlY3RlZCBmZWF0dXJlIGZsYWdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuZXhwb3J0IHZhciBFeHBlcmltZW50YWxGZWF0dXJlO1xuKGZ1bmN0aW9uIChFeHBlcmltZW50YWxGZWF0dXJlKSB7XG4gICAgRXhwZXJpbWVudGFsRmVhdHVyZVtcIlBBR0VISURFXCJdID0gXCJwYWdlaGlkZVwiO1xuICAgIEV4cGVyaW1lbnRhbEZlYXR1cmVbXCJGRUFUVVJFX0ZMQUdTXCJdID0gXCJmZWF0dXJlX2ZsYWdzXCI7XG4gICAgRXhwZXJpbWVudGFsRmVhdHVyZVtcIlJFU09VUkNFX1BBR0VfU1RBVEVTXCJdID0gXCJyZXNvdXJjZV9wYWdlX3N0YXRlc1wiO1xuICAgIEV4cGVyaW1lbnRhbEZlYXR1cmVbXCJQQUdFX1NUQVRFU1wiXSA9IFwicGFnZV9zdGF0ZXNcIjtcbiAgICBFeHBlcmltZW50YWxGZWF0dXJlW1wiQ09MTEVDVF9GTFVTSF9SRUFTT05cIl0gPSBcImNvbGxlY3RfZmx1c2hfcmVhc29uXCI7XG4gICAgRXhwZXJpbWVudGFsRmVhdHVyZVtcIk5PX1JFU09VUkNFX0RVUkFUSU9OX0ZST1pFTl9TVEFURVwiXSA9IFwibm9fcmVzb3VyY2VfZHVyYXRpb25fZnJvemVuX3N0YXRlXCI7XG4gICAgRXhwZXJpbWVudGFsRmVhdHVyZVtcIlNDUk9MTE1BUFwiXSA9IFwic2Nyb2xsbWFwXCI7XG4gICAgRXhwZXJpbWVudGFsRmVhdHVyZVtcIklOVEVSQUNUSU9OX1RPX05FWFRfUEFJTlRcIl0gPSBcImludGVyYWN0aW9uX3RvX25leHRfcGFpbnRcIjtcbiAgICBFeHBlcmltZW50YWxGZWF0dXJlW1wiV0VCX1ZJVEFMU19BVFRSSUJVVElPTlwiXSA9IFwid2ViX3ZpdGFsc19hdHRyaWJ1dGlvblwiO1xuICAgIEV4cGVyaW1lbnRhbEZlYXR1cmVbXCJESVNBQkxFX1JFUExBWV9JTkxJTkVfQ1NTXCJdID0gXCJkaXNhYmxlX3JlcGxheV9pbmxpbmVfY3NzXCI7XG59KShFeHBlcmltZW50YWxGZWF0dXJlIHx8IChFeHBlcmltZW50YWxGZWF0dXJlID0ge30pKTtcbnZhciBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMgPSBuZXcgU2V0KCk7XG5leHBvcnQgZnVuY3Rpb24gYWRkRXhwZXJpbWVudGFsRmVhdHVyZXMoZW5hYmxlZEZlYXR1cmVzKSB7XG4gICAgZW5hYmxlZEZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzLmFkZChmbGFnKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKGZlYXR1cmVOYW1lKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFeHBlcmltZW50YWxGZWF0dXJlcy5oYXMoZmVhdHVyZU5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RXhwZXJpbWVudGFsRmVhdHVyZXMoKSB7XG4gICAgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzLmNsZWFyKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwZXJpbWVudGFsRmVhdHVyZXMoKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFeHBlcmltZW50YWxGZWF0dXJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGVyaW1lbnRhbEZlYXR1cmVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getGlobalObject\": () => (/* binding */ getGlobalObject)\n/* harmony export */ });\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\nfunction getGlobalObject() {\n    if (typeof globalThis === 'object') {\n        return globalThis;\n    }\n    Object.defineProperty(Object.prototype, '_dd_temp_', {\n        get: function () {\n            return this;\n        },\n        configurable: true,\n    });\n    // @ts-ignore _dd_temp is defined using defineProperty\n    var globalObject = _dd_temp_;\n    // @ts-ignore _dd_temp is defined using defineProperty\n    delete Object.prototype._dd_temp_;\n    if (typeof globalObject !== 'object') {\n        // on safari _dd_temp_ is available on window but not globally\n        // fallback on other browser globals check\n        if (typeof self === 'object') {\n            globalObject = self;\n        }\n        else if (typeof window === 'object') {\n            globalObject = window;\n        }\n        else {\n            globalObject = {};\n        }\n    }\n    return globalObject;\n}\n//# sourceMappingURL=getGlobalObject.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZ2V0R2xvYmFsT2JqZWN0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9nZXRHbG9iYWxPYmplY3QuanM/YzI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGluc3BpcmVkIGJ5IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9nbG9iYWx0aGlzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWxPYmplY3QoKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsICdfZGRfdGVtcF8nLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbiAgICAvLyBAdHMtaWdub3JlIF9kZF90ZW1wIGlzIGRlZmluZWQgdXNpbmcgZGVmaW5lUHJvcGVydHlcbiAgICB2YXIgZ2xvYmFsT2JqZWN0ID0gX2RkX3RlbXBfO1xuICAgIC8vIEB0cy1pZ25vcmUgX2RkX3RlbXAgaXMgZGVmaW5lZCB1c2luZyBkZWZpbmVQcm9wZXJ0eVxuICAgIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9kZF90ZW1wXztcbiAgICBpZiAodHlwZW9mIGdsb2JhbE9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gb24gc2FmYXJpIF9kZF90ZW1wXyBpcyBhdmFpbGFibGUgb24gd2luZG93IGJ1dCBub3QgZ2xvYmFsbHlcbiAgICAgICAgLy8gZmFsbGJhY2sgb24gb3RoZXIgYnJvd3NlciBnbG9iYWxzIGNoZWNrXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdsb2JhbE9iamVjdCA9IHNlbGY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdsb2JhbE9iamVjdCA9IHdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbE9iamVjdCA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxPYmplY3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRHbG9iYWxPYmplY3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getZoneJsOriginalValue\": () => (/* binding */ getZoneJsOriginalValue)\n/* harmony export */ });\n/* harmony import */ var _getGlobalObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getGlobalObject */ \"../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n\n/**\n * Gets the original value for a DOM API that was potentially patched by Zone.js.\n *\n * Zone.js[1] is a library that patches a bunch of JS and DOM APIs. It usually stores the original\n * value of the patched functions/constructors/methods in a hidden property prefixed by\n * __zone_symbol__.\n *\n * In multiple occasions, we observed that Zone.js is the culprit of important issues leading to\n * browser resource exhaustion (memory leak, high CPU usage). This method is used as a workaround to\n * use the original DOM API instead of the one patched by Zone.js.\n *\n * [1]: https://github.com/angular/angular/tree/main/packages/zone.js\n */\nfunction getZoneJsOriginalValue(target, name) {\n    var browserWindow = (0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)();\n    var original;\n    if (browserWindow.Zone && typeof browserWindow.Zone.__symbol__ === 'function') {\n        original = target[browserWindow.Zone.__symbol__(name)];\n    }\n    if (!original) {\n        original = target[name];\n    }\n    return original;\n}\n//# sourceMappingURL=getZoneJsOriginalValue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9nZXRab25lSnNPcmlnaW5hbFZhbHVlLmpzP2QwMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnLi9nZXRHbG9iYWxPYmplY3QnO1xuLyoqXG4gKiBHZXRzIHRoZSBvcmlnaW5hbCB2YWx1ZSBmb3IgYSBET00gQVBJIHRoYXQgd2FzIHBvdGVudGlhbGx5IHBhdGNoZWQgYnkgWm9uZS5qcy5cbiAqXG4gKiBab25lLmpzWzFdIGlzIGEgbGlicmFyeSB0aGF0IHBhdGNoZXMgYSBidW5jaCBvZiBKUyBhbmQgRE9NIEFQSXMuIEl0IHVzdWFsbHkgc3RvcmVzIHRoZSBvcmlnaW5hbFxuICogdmFsdWUgb2YgdGhlIHBhdGNoZWQgZnVuY3Rpb25zL2NvbnN0cnVjdG9ycy9tZXRob2RzIGluIGEgaGlkZGVuIHByb3BlcnR5IHByZWZpeGVkIGJ5XG4gKiBfX3pvbmVfc3ltYm9sX18uXG4gKlxuICogSW4gbXVsdGlwbGUgb2NjYXNpb25zLCB3ZSBvYnNlcnZlZCB0aGF0IFpvbmUuanMgaXMgdGhlIGN1bHByaXQgb2YgaW1wb3J0YW50IGlzc3VlcyBsZWFkaW5nIHRvXG4gKiBicm93c2VyIHJlc291cmNlIGV4aGF1c3Rpb24gKG1lbW9yeSBsZWFrLCBoaWdoIENQVSB1c2FnZSkuIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgYSB3b3JrYXJvdW5kIHRvXG4gKiB1c2UgdGhlIG9yaWdpbmFsIERPTSBBUEkgaW5zdGVhZCBvZiB0aGUgb25lIHBhdGNoZWQgYnkgWm9uZS5qcy5cbiAqXG4gKiBbMV06IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvdHJlZS9tYWluL3BhY2thZ2VzL3pvbmUuanNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFpvbmVKc09yaWdpbmFsVmFsdWUodGFyZ2V0LCBuYW1lKSB7XG4gICAgdmFyIGJyb3dzZXJXaW5kb3cgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICB2YXIgb3JpZ2luYWw7XG4gICAgaWYgKGJyb3dzZXJXaW5kb3cuWm9uZSAmJiB0eXBlb2YgYnJvd3NlcldpbmRvdy5ab25lLl9fc3ltYm9sX18gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3JpZ2luYWwgPSB0YXJnZXRbYnJvd3NlcldpbmRvdy5ab25lLl9fc3ltYm9sX18obmFtZSldO1xuICAgIH1cbiAgICBpZiAoIW9yaWdpbmFsKSB7XG4gICAgICAgIG9yaWdpbmFsID0gdGFyZ2V0W25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gb3JpZ2luYWw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRab25lSnNPcmlnaW5hbFZhbHVlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"instrumentMethod\": () => (/* binding */ instrumentMethod),\n/* harmony export */   \"instrumentMethodAndCallOriginal\": () => (/* binding */ instrumentMethodAndCallOriginal),\n/* harmony export */   \"instrumentSetter\": () => (/* binding */ instrumentSetter)\n/* harmony export */ });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\n\n\nfunction instrumentMethod(object, method, instrumentationFactory) {\n    var original = object[method];\n    var instrumentation = instrumentationFactory(original);\n    var instrumentationWrapper = function () {\n        if (typeof instrumentation !== 'function') {\n            return undefined;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return instrumentation.apply(this, arguments);\n    };\n    object[method] = instrumentationWrapper;\n    return {\n        stop: function () {\n            if (object[method] === instrumentationWrapper) {\n                object[method] = original;\n            }\n            else {\n                instrumentation = original;\n            }\n        },\n    };\n}\nfunction instrumentMethodAndCallOriginal(object, method, _a) {\n    var before = _a.before, after = _a.after;\n    return instrumentMethod(object, method, function (original) {\n        return function () {\n            var args = arguments;\n            var result;\n            if (before) {\n                (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(before, this, args);\n            }\n            if (typeof original === 'function') {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n                result = original.apply(this, args);\n            }\n            if (after) {\n                (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(after, this, args);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n            return result;\n        };\n    });\n}\nfunction instrumentSetter(object, property, after) {\n    var originalDescriptor = Object.getOwnPropertyDescriptor(object, property);\n    if (!originalDescriptor || !originalDescriptor.set || !originalDescriptor.configurable) {\n        return { stop: _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var instrumentation = function (thisObject, value) {\n        // put hooked setter into event loop to avoid of set latency\n        (0,_timer__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () {\n            after(thisObject, value);\n        }, 0);\n    };\n    var instrumentationWrapper = function (value) {\n        originalDescriptor.set.call(this, value);\n        instrumentation(this, value);\n    };\n    Object.defineProperty(object, property, {\n        set: instrumentationWrapper,\n    });\n    return {\n        stop: function () {\n            var _a;\n            if (((_a = Object.getOwnPropertyDescriptor(object, property)) === null || _a === void 0 ? void 0 : _a.set) === instrumentationWrapper) {\n                Object.defineProperty(object, property, originalDescriptor);\n            }\n            else {\n                instrumentation = _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.noop;\n            }\n        },\n    };\n}\n//# sourceMappingURL=instrumentMethod.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvaW5zdHJ1bWVudE1ldGhvZC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvaW5zdHJ1bWVudE1ldGhvZC5qcz9jNGI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICcuL3RpbWVyJztcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQgfSBmcm9tICcuL21vbml0b3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbHMvZnVuY3Rpb25VdGlscyc7XG5leHBvcnQgZnVuY3Rpb24gaW5zdHJ1bWVudE1ldGhvZChvYmplY3QsIG1ldGhvZCwgaW5zdHJ1bWVudGF0aW9uRmFjdG9yeSkge1xuICAgIHZhciBvcmlnaW5hbCA9IG9iamVjdFttZXRob2RdO1xuICAgIHZhciBpbnN0cnVtZW50YXRpb24gPSBpbnN0cnVtZW50YXRpb25GYWN0b3J5KG9yaWdpbmFsKTtcbiAgICB2YXIgaW5zdHJ1bWVudGF0aW9uV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0cnVtZW50YXRpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtcmV0dXJuXG4gICAgICAgIHJldHVybiBpbnN0cnVtZW50YXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIG9iamVjdFttZXRob2RdID0gaW5zdHJ1bWVudGF0aW9uV3JhcHBlcjtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0W21ldGhvZF0gPT09IGluc3RydW1lbnRhdGlvbldyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RbbWV0aG9kXSA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudGF0aW9uID0gb3JpZ2luYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKG9iamVjdCwgbWV0aG9kLCBfYSkge1xuICAgIHZhciBiZWZvcmUgPSBfYS5iZWZvcmUsIGFmdGVyID0gX2EuYWZ0ZXI7XG4gICAgcmV0dXJuIGluc3RydW1lbnRNZXRob2Qob2JqZWN0LCBtZXRob2QsIGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgICAgIGNhbGxNb25pdG9yZWQoYmVmb3JlLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1jYWxsXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICBjYWxsTW9uaXRvcmVkKGFmdGVyLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50U2V0dGVyKG9iamVjdCwgcHJvcGVydHksIGFmdGVyKSB7XG4gICAgdmFyIG9yaWdpbmFsRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7XG4gICAgaWYgKCFvcmlnaW5hbERlc2NyaXB0b3IgfHwgIW9yaWdpbmFsRGVzY3JpcHRvci5zZXQgfHwgIW9yaWdpbmFsRGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHsgc3RvcDogbm9vcCB9O1xuICAgIH1cbiAgICB2YXIgaW5zdHJ1bWVudGF0aW9uID0gZnVuY3Rpb24gKHRoaXNPYmplY3QsIHZhbHVlKSB7XG4gICAgICAgIC8vIHB1dCBob29rZWQgc2V0dGVyIGludG8gZXZlbnQgbG9vcCB0byBhdm9pZCBvZiBzZXQgbGF0ZW5jeVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFmdGVyKHRoaXNPYmplY3QsIHZhbHVlKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfTtcbiAgICB2YXIgaW5zdHJ1bWVudGF0aW9uV3JhcHBlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBvcmlnaW5hbERlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICBpbnN0cnVtZW50YXRpb24odGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHtcbiAgICAgICAgc2V0OiBpbnN0cnVtZW50YXRpb25XcmFwcGVyLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICgoKF9hID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldCkgPT09IGluc3RydW1lbnRhdGlvbldyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgb3JpZ2luYWxEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluc3RydW1lbnRhdGlvbiA9IG5vb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc3RydW1lbnRNZXRob2QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"combine\": () => (/* binding */ combine),\n/* harmony export */   \"deepClone\": () => (/* binding */ deepClone),\n/* harmony export */   \"mergeInto\": () => (/* binding */ mergeInto)\n/* harmony export */ });\n/* harmony import */ var _utils_typeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/typeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\nfunction mergeInto(destination, source, circularReferenceChecker) {\n    if (circularReferenceChecker === void 0) { circularReferenceChecker = createCircularReferenceChecker(); }\n    // ignore the source if it is undefined\n    if (source === undefined) {\n        return destination;\n    }\n    if (typeof source !== 'object' || source === null) {\n        // primitive values - just return source\n        return source;\n    }\n    else if (source instanceof Date) {\n        return new Date(source.getTime());\n    }\n    else if (source instanceof RegExp) {\n        var flags = source.flags ||\n            // old browsers compatibility\n            [\n                source.global ? 'g' : '',\n                source.ignoreCase ? 'i' : '',\n                source.multiline ? 'm' : '',\n                source.sticky ? 'y' : '',\n                source.unicode ? 'u' : '',\n            ].join('');\n        return new RegExp(source.source, flags);\n    }\n    if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n        // remove circular references\n        return undefined;\n    }\n    else if (Array.isArray(source)) {\n        var merged_1 = Array.isArray(destination) ? destination : [];\n        for (var i = 0; i < source.length; ++i) {\n            merged_1[i] = mergeInto(merged_1[i], source[i], circularReferenceChecker);\n        }\n        return merged_1;\n    }\n    var merged = (0,_utils_typeUtils__WEBPACK_IMPORTED_MODULE_0__.getType)(destination) === 'object' ? destination : {};\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker);\n        }\n    }\n    return merged;\n}\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\nfunction deepClone(value) {\n    return mergeInto(undefined, value);\n}\nfunction combine() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    var destination;\n    for (var _a = 0, sources_1 = sources; _a < sources_1.length; _a++) {\n        var source = sources_1[_a];\n        // Ignore any undefined or null sources.\n        if (source === undefined || source === null) {\n            continue;\n        }\n        destination = mergeInto(destination, source);\n    }\n    return destination;\n}\nfunction createCircularReferenceChecker() {\n    if (typeof WeakSet !== 'undefined') {\n        var set_1 = new WeakSet();\n        return {\n            hasAlreadyBeenSeen: function (value) {\n                var has = set_1.has(value);\n                if (!has) {\n                    set_1.add(value);\n                }\n                return has;\n            },\n        };\n    }\n    var array = [];\n    return {\n        hasAlreadyBeenSeen: function (value) {\n            var has = array.indexOf(value) >= 0;\n            if (!has) {\n                array.push(value);\n            }\n            return has;\n        },\n    };\n}\n//# sourceMappingURL=mergeInto.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbWVyZ2VJbnRvLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9tZXJnZUludG8uanM/OTBmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUeXBlIH0gZnJvbSAnLi91dGlscy90eXBlVXRpbHMnO1xuLyoqXG4gKiBJdGVyYXRlIG92ZXIgc291cmNlIGFuZCBhZmZlY3QgaXRzIHN1YiB2YWx1ZXMgaW50byBkZXN0aW5hdGlvbiwgcmVjdXJzaXZlbHkuXG4gKiBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBjYW4ndCBiZSBtZXJnZWQsIHJldHVybiBzb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludG8oZGVzdGluYXRpb24sIHNvdXJjZSwgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKSB7XG4gICAgaWYgKGNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlciA9PT0gdm9pZCAwKSB7IGNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlciA9IGNyZWF0ZUNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlcigpOyB9XG4gICAgLy8gaWdub3JlIHRoZSBzb3VyY2UgaWYgaXQgaXMgdW5kZWZpbmVkXG4gICAgaWYgKHNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnIHx8IHNvdXJjZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBwcmltaXRpdmUgdmFsdWVzIC0ganVzdCByZXR1cm4gc291cmNlXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNvdXJjZS5nZXRUaW1lKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgdmFyIGZsYWdzID0gc291cmNlLmZsYWdzIHx8XG4gICAgICAgICAgICAvLyBvbGQgYnJvd3NlcnMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIHNvdXJjZS5nbG9iYWwgPyAnZycgOiAnJyxcbiAgICAgICAgICAgICAgICBzb3VyY2UuaWdub3JlQ2FzZSA/ICdpJyA6ICcnLFxuICAgICAgICAgICAgICAgIHNvdXJjZS5tdWx0aWxpbmUgPyAnbScgOiAnJyxcbiAgICAgICAgICAgICAgICBzb3VyY2Uuc3RpY2t5ID8gJ3knIDogJycsXG4gICAgICAgICAgICAgICAgc291cmNlLnVuaWNvZGUgPyAndScgOiAnJyxcbiAgICAgICAgICAgIF0uam9pbignJyk7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHNvdXJjZS5zb3VyY2UsIGZsYWdzKTtcbiAgICB9XG4gICAgaWYgKGNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlci5oYXNBbHJlYWR5QmVlblNlZW4oc291cmNlKSkge1xuICAgICAgICAvLyByZW1vdmUgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgdmFyIG1lcmdlZF8xID0gQXJyYXkuaXNBcnJheShkZXN0aW5hdGlvbikgPyBkZXN0aW5hdGlvbiA6IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbWVyZ2VkXzFbaV0gPSBtZXJnZUludG8obWVyZ2VkXzFbaV0sIHNvdXJjZVtpXSwgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2VkXzE7XG4gICAgfVxuICAgIHZhciBtZXJnZWQgPSBnZXRUeXBlKGRlc3RpbmF0aW9uKSA9PT0gJ29iamVjdCcgPyBkZXN0aW5hdGlvbiA6IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgIG1lcmdlZFtrZXldID0gbWVyZ2VJbnRvKG1lcmdlZFtrZXldLCBzb3VyY2Vba2V5XSwgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuLyoqXG4gKiBBIHNpbXBsaXN0aWMgaW1wbGVtZW50YXRpb24gb2YgYSBkZWVwIGNsb25lIGFsZ29yaXRobS5cbiAqIENhdmVhdHM6XG4gKiAtIEl0IGRvZXNuJ3QgbWFpbnRhaW4gcHJvdG90eXBlIGNoYWlucyAtIGRvbid0IHVzZSB3aXRoIGluc3RhbmNlcyBvZiBjdXN0b20gY2xhc3Nlcy5cbiAqIC0gSXQgZG9lc24ndCBoYW5kbGUgTWFwIGFuZCBTZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZSh2YWx1ZSkge1xuICAgIHJldHVybiBtZXJnZUludG8odW5kZWZpbmVkLCB2YWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZSgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGRlc3RpbmF0aW9uO1xuICAgIGZvciAodmFyIF9hID0gMCwgc291cmNlc18xID0gc291cmNlczsgX2EgPCBzb3VyY2VzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzXzFbX2FdO1xuICAgICAgICAvLyBJZ25vcmUgYW55IHVuZGVmaW5lZCBvciBudWxsIHNvdXJjZXMuXG4gICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBzb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbWVyZ2VJbnRvKGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG59XG5mdW5jdGlvbiBjcmVhdGVDaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIoKSB7XG4gICAgaWYgKHR5cGVvZiBXZWFrU2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgc2V0XzEgPSBuZXcgV2Vha1NldCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFzQWxyZWFkeUJlZW5TZWVuOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzID0gc2V0XzEuaGFzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhcykge1xuICAgICAgICAgICAgICAgICAgICBzZXRfMS5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQWxyZWFkeUJlZW5TZWVuOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBoYXMgPSBhcnJheS5pbmRleE9mKHZhbHVlKSA+PSAwO1xuICAgICAgICAgICAgaWYgKCFoYXMpIHtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50by5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/monitor.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/monitor.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"callMonitored\": () => (/* binding */ callMonitored),\n/* harmony export */   \"displayIfDebugEnabled\": () => (/* binding */ displayIfDebugEnabled),\n/* harmony export */   \"monitor\": () => (/* binding */ monitor),\n/* harmony export */   \"monitored\": () => (/* binding */ monitored),\n/* harmony export */   \"resetMonitor\": () => (/* binding */ resetMonitor),\n/* harmony export */   \"setDebugMode\": () => (/* binding */ setDebugMode),\n/* harmony export */   \"startMonitorErrorCollection\": () => (/* binding */ startMonitorErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar onMonitorErrorCollected;\nvar debugMode = false;\nfunction startMonitorErrorCollection(newOnMonitorErrorCollected) {\n    onMonitorErrorCollected = newOnMonitorErrorCollected;\n}\nfunction setDebugMode(newDebugMode) {\n    debugMode = newDebugMode;\n}\nfunction resetMonitor() {\n    onMonitorErrorCollected = undefined;\n    debugMode = false;\n}\nfunction monitored(_, __, descriptor) {\n    var originalMethod = descriptor.value;\n    descriptor.value = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var decorated = onMonitorErrorCollected ? monitor(originalMethod) : originalMethod;\n        return decorated.apply(this, args);\n    };\n}\nfunction monitor(fn) {\n    return function () {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return callMonitored(fn, this, arguments);\n    }; // consider output type has input type\n}\nfunction callMonitored(fn, context, args) {\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return fn.apply(context, args);\n    }\n    catch (e) {\n        displayIfDebugEnabled(e);\n        if (onMonitorErrorCollected) {\n            try {\n                onMonitorErrorCollected(e);\n            }\n            catch (e) {\n                displayIfDebugEnabled(e);\n            }\n        }\n    }\n}\nfunction displayIfDebugEnabled() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (debugMode) {\n        _display__WEBPACK_IMPORTED_MODULE_0__.display.error.apply(_display__WEBPACK_IMPORTED_MODULE_0__.display, __spreadArray(['[MONITOR]'], args, false));\n    }\n}\n//# sourceMappingURL=monitor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbW9uaXRvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL21vbml0b3IuanM/Y2E1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5pbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi9kaXNwbGF5JztcbnZhciBvbk1vbml0b3JFcnJvckNvbGxlY3RlZDtcbnZhciBkZWJ1Z01vZGUgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE1vbml0b3JFcnJvckNvbGxlY3Rpb24obmV3T25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQpIHtcbiAgICBvbk1vbml0b3JFcnJvckNvbGxlY3RlZCA9IG5ld09uTW9uaXRvckVycm9yQ29sbGVjdGVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnTW9kZShuZXdEZWJ1Z01vZGUpIHtcbiAgICBkZWJ1Z01vZGUgPSBuZXdEZWJ1Z01vZGU7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRNb25pdG9yKCkge1xuICAgIG9uTW9uaXRvckVycm9yQ29sbGVjdGVkID0gdW5kZWZpbmVkO1xuICAgIGRlYnVnTW9kZSA9IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1vbml0b3JlZChfLCBfXywgZGVzY3JpcHRvcikge1xuICAgIHZhciBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVjb3JhdGVkID0gb25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQgPyBtb25pdG9yKG9yaWdpbmFsTWV0aG9kKSA6IG9yaWdpbmFsTWV0aG9kO1xuICAgICAgICByZXR1cm4gZGVjb3JhdGVkLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvcihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgICAgICByZXR1cm4gY2FsbE1vbml0b3JlZChmbiwgdGhpcywgYXJndW1lbnRzKTtcbiAgICB9OyAvLyBjb25zaWRlciBvdXRwdXQgdHlwZSBoYXMgaW5wdXQgdHlwZVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxNb25pdG9yZWQoZm4sIGNvbnRleHQsIGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBkaXNwbGF5SWZEZWJ1Z0VuYWJsZWQoZSk7XG4gICAgICAgIGlmIChvbk1vbml0b3JFcnJvckNvbGxlY3RlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbk1vbml0b3JFcnJvckNvbGxlY3RlZChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheUlmRGVidWdFbmFibGVkKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlJZkRlYnVnRW5hYmxlZCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKGRlYnVnTW9kZSkge1xuICAgICAgICBkaXNwbGF5LmVycm9yLmFwcGx5KGRpc3BsYXksIF9fc3ByZWFkQXJyYXkoWydbTU9OSVRPUl0nXSwgYXJncywgZmFsc2UpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb25pdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/monitor.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/observable.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/observable.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Observable\": () => (/* binding */ Observable),\n/* harmony export */   \"mergeObservables\": () => (/* binding */ mergeObservables)\n/* harmony export */ });\nvar Observable = /** @class */ (function () {\n    function Observable(onFirstSubscribe) {\n        this.onFirstSubscribe = onFirstSubscribe;\n        this.observers = [];\n    }\n    Observable.prototype.subscribe = function (f) {\n        var _this = this;\n        if (!this.observers.length && this.onFirstSubscribe) {\n            this.onLastUnsubscribe = this.onFirstSubscribe() || undefined;\n        }\n        this.observers.push(f);\n        return {\n            unsubscribe: function () {\n                _this.observers = _this.observers.filter(function (other) { return f !== other; });\n                if (!_this.observers.length && _this.onLastUnsubscribe) {\n                    _this.onLastUnsubscribe();\n                }\n            },\n        };\n    };\n    Observable.prototype.notify = function (data) {\n        this.observers.forEach(function (observer) { return observer(data); });\n    };\n    return Observable;\n}());\n\nfunction mergeObservables() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var globalObservable = new Observable(function () {\n        var subscriptions = observables.map(function (observable) {\n            return observable.subscribe(function (data) { return globalObservable.notify(data); });\n        });\n        return function () { return subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); }); };\n    });\n    return globalObservable;\n}\n//# sourceMappingURL=observable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvb2JzZXJ2YWJsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvb2JzZXJ2YWJsZS5qcz9jYTY1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBPYnNlcnZhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUob25GaXJzdFN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLm9uRmlyc3RTdWJzY3JpYmUgPSBvbkZpcnN0U3Vic2NyaWJlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLm9uRmlyc3RTdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMub25MYXN0VW5zdWJzY3JpYmUgPSB0aGlzLm9uRmlyc3RTdWJzY3JpYmUoKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChmKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gX3RoaXMub2JzZXJ2ZXJzLmZpbHRlcihmdW5jdGlvbiAob3RoZXIpIHsgcmV0dXJuIGYgIT09IG90aGVyOyB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLm9ic2VydmVycy5sZW5ndGggJiYgX3RoaXMub25MYXN0VW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25MYXN0VW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHsgcmV0dXJuIG9ic2VydmVyKGRhdGEpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU9ic2VydmFibGVzKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBnbG9iYWxPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IG9ic2VydmFibGVzLm1hcChmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBnbG9iYWxPYnNlcnZhYmxlLm5vdGlmeShkYXRhKTsgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOyB9KTsgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ2xvYmFsT2JzZXJ2YWJsZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/observable.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"readBytesFromStream\": () => (/* binding */ readBytesFromStream)\n/* harmony export */ });\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\n\n/**\n * Read bytes from a ReadableStream until at least `limit` bytes have been read (or until the end of\n * the stream). The callback is invoked with the at most `limit` bytes, and indicates that the limit\n * has been exceeded if more bytes were available.\n */\nfunction readBytesFromStream(stream, callback, options) {\n    var reader = stream.getReader();\n    var chunks = [];\n    var readBytesCount = 0;\n    readMore();\n    function readMore() {\n        reader.read().then((0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(function (result) {\n            if (result.done) {\n                onDone();\n                return;\n            }\n            if (options.collectStreamBody) {\n                chunks.push(result.value);\n            }\n            readBytesCount += result.value.length;\n            if (readBytesCount > options.bytesLimit) {\n                onDone();\n            }\n            else {\n                readMore();\n            }\n        }), (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(function (error) { return callback(error); }));\n    }\n    function onDone() {\n        reader.cancel().catch(\n        // we don't care if cancel fails, but we still need to catch the error to avoid reporting it\n        // as an unhandled rejection\n        _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.noop);\n        var bytes;\n        var limitExceeded;\n        if (options.collectStreamBody) {\n            var completeBuffer_1;\n            if (chunks.length === 1) {\n                // optimization: if the response is small enough to fit in a single buffer (provided by the browser), just\n                // use it directly.\n                completeBuffer_1 = chunks[0];\n            }\n            else {\n                // else, we need to copy buffers into a larger buffer to concatenate them.\n                completeBuffer_1 = new Uint8Array(readBytesCount);\n                var offset_1 = 0;\n                chunks.forEach(function (chunk) {\n                    completeBuffer_1.set(chunk, offset_1);\n                    offset_1 += chunk.length;\n                });\n            }\n            bytes = completeBuffer_1.slice(0, options.bytesLimit);\n            limitExceeded = completeBuffer_1.length > options.bytesLimit;\n        }\n        callback(undefined, bytes, limitExceeded);\n    }\n}\n//# sourceMappingURL=readBytesFromStream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvcmVhZEJ5dGVzRnJvbVN0cmVhbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9yZWFkQnl0ZXNGcm9tU3RyZWFtLmpzPzNkNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4vbW9uaXRvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlscy9mdW5jdGlvblV0aWxzJztcbi8qKlxuICogUmVhZCBieXRlcyBmcm9tIGEgUmVhZGFibGVTdHJlYW0gdW50aWwgYXQgbGVhc3QgYGxpbWl0YCBieXRlcyBoYXZlIGJlZW4gcmVhZCAob3IgdW50aWwgdGhlIGVuZCBvZlxuICogdGhlIHN0cmVhbSkuIFRoZSBjYWxsYmFjayBpcyBpbnZva2VkIHdpdGggdGhlIGF0IG1vc3QgYGxpbWl0YCBieXRlcywgYW5kIGluZGljYXRlcyB0aGF0IHRoZSBsaW1pdFxuICogaGFzIGJlZW4gZXhjZWVkZWQgaWYgbW9yZSBieXRlcyB3ZXJlIGF2YWlsYWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRCeXRlc0Zyb21TdHJlYW0oc3RyZWFtLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIHZhciByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgdmFyIGNodW5rcyA9IFtdO1xuICAgIHZhciByZWFkQnl0ZXNDb3VudCA9IDA7XG4gICAgcmVhZE1vcmUoKTtcbiAgICBmdW5jdGlvbiByZWFkTW9yZSgpIHtcbiAgICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKG1vbml0b3IoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgb25Eb25lKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY29sbGVjdFN0cmVhbUJvZHkpIHtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZEJ5dGVzQ291bnQgKz0gcmVzdWx0LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChyZWFkQnl0ZXNDb3VudCA+IG9wdGlvbnMuYnl0ZXNMaW1pdCkge1xuICAgICAgICAgICAgICAgIG9uRG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVhZE1vcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIG1vbml0b3IoZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBjYWxsYmFjayhlcnJvcik7IH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Eb25lKCkge1xuICAgICAgICByZWFkZXIuY2FuY2VsKCkuY2F0Y2goXG4gICAgICAgIC8vIHdlIGRvbid0IGNhcmUgaWYgY2FuY2VsIGZhaWxzLCBidXQgd2Ugc3RpbGwgbmVlZCB0byBjYXRjaCB0aGUgZXJyb3IgdG8gYXZvaWQgcmVwb3J0aW5nIGl0XG4gICAgICAgIC8vIGFzIGFuIHVuaGFuZGxlZCByZWplY3Rpb25cbiAgICAgICAgbm9vcCk7XG4gICAgICAgIHZhciBieXRlcztcbiAgICAgICAgdmFyIGxpbWl0RXhjZWVkZWQ7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbGxlY3RTdHJlYW1Cb2R5KSB7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVCdWZmZXJfMTtcbiAgICAgICAgICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gb3B0aW1pemF0aW9uOiBpZiB0aGUgcmVzcG9uc2UgaXMgc21hbGwgZW5vdWdoIHRvIGZpdCBpbiBhIHNpbmdsZSBidWZmZXIgKHByb3ZpZGVkIGJ5IHRoZSBicm93c2VyKSwganVzdFxuICAgICAgICAgICAgICAgIC8vIHVzZSBpdCBkaXJlY3RseS5cbiAgICAgICAgICAgICAgICBjb21wbGV0ZUJ1ZmZlcl8xID0gY2h1bmtzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZWxzZSwgd2UgbmVlZCB0byBjb3B5IGJ1ZmZlcnMgaW50byBhIGxhcmdlciBidWZmZXIgdG8gY29uY2F0ZW5hdGUgdGhlbS5cbiAgICAgICAgICAgICAgICBjb21wbGV0ZUJ1ZmZlcl8xID0gbmV3IFVpbnQ4QXJyYXkocmVhZEJ5dGVzQ291bnQpO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRfMSA9IDA7XG4gICAgICAgICAgICAgICAgY2h1bmtzLmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlQnVmZmVyXzEuc2V0KGNodW5rLCBvZmZzZXRfMSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldF8xICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzID0gY29tcGxldGVCdWZmZXJfMS5zbGljZSgwLCBvcHRpb25zLmJ5dGVzTGltaXQpO1xuICAgICAgICAgICAgbGltaXRFeGNlZWRlZCA9IGNvbXBsZXRlQnVmZmVyXzEubGVuZ3RoID4gb3B0aW9ucy5ieXRlc0xpbWl0O1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKHVuZGVmaW5lZCwgYnl0ZXMsIGxpbWl0RXhjZWVkZWQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWRCeXRlc0Zyb21TdHJlYW0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sendToExtension\": () => (/* binding */ sendToExtension)\n/* harmony export */ });\nfunction sendToExtension(type, payload) {\n    var callback = window.__ddBrowserSdkExtensionCallback;\n    if (callback) {\n        callback({ type: type, payload: payload });\n    }\n}\n//# sourceMappingURL=sendToExtension.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VuZFRvRXh0ZW5zaW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3NlbmRUb0V4dGVuc2lvbi5qcz82OTJhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBzZW5kVG9FeHRlbnNpb24odHlwZSwgcGF5bG9hZCkge1xuICAgIHZhciBjYWxsYmFjayA9IHdpbmRvdy5fX2RkQnJvd3NlclNka0V4dGVuc2lvbkNhbGxiYWNrO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayh7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VuZFRvRXh0ZW5zaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"detachToJsonMethod\": () => (/* binding */ detachToJsonMethod),\n/* harmony export */   \"jsonStringify\": () => (/* binding */ jsonStringify)\n/* harmony export */ });\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/functionUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\n/**\n * Custom implementation of JSON.stringify that ignores some toJSON methods. We need to do that\n * because some sites badly override toJSON on certain objects. Removing all toJSON methods from\n * nested values would be too costly, so we just detach them from the root value, and native classes\n * used to build JSON values (Array and Object).\n *\n * Note: this still assumes that JSON.stringify is correct.\n */\nfunction jsonStringify(value, replacer, space) {\n    if (typeof value !== 'object' || value === null) {\n        return JSON.stringify(value);\n    }\n    // Note: The order matter here. We need to detach toJSON methods on parent classes before their\n    // subclasses.\n    var restoreObjectPrototypeToJson = detachToJsonMethod(Object.prototype);\n    var restoreArrayPrototypeToJson = detachToJsonMethod(Array.prototype);\n    var restoreValuePrototypeToJson = detachToJsonMethod(Object.getPrototypeOf(value));\n    var restoreValueToJson = detachToJsonMethod(value);\n    try {\n        return JSON.stringify(value, replacer, space);\n    }\n    catch (_a) {\n        return '<error: unable to serialize object>';\n    }\n    finally {\n        restoreObjectPrototypeToJson();\n        restoreArrayPrototypeToJson();\n        restoreValuePrototypeToJson();\n        restoreValueToJson();\n    }\n}\nfunction detachToJsonMethod(value) {\n    var object = value;\n    var objectToJson = object.toJSON;\n    if (objectToJson) {\n        delete object.toJSON;\n        return function () {\n            object.toJSON = objectToJson;\n        };\n    }\n    return _utils_functionUtils__WEBPACK_IMPORTED_MODULE_0__.noop;\n}\n//# sourceMappingURL=jsonStringify.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VyaWFsaXNhdGlvbi9qc29uU3RyaW5naWZ5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9zZXJpYWxpc2F0aW9uL2pzb25TdHJpbmdpZnkuanM/N2VkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb25VdGlscyc7XG4vKipcbiAqIEN1c3RvbSBpbXBsZW1lbnRhdGlvbiBvZiBKU09OLnN0cmluZ2lmeSB0aGF0IGlnbm9yZXMgc29tZSB0b0pTT04gbWV0aG9kcy4gV2UgbmVlZCB0byBkbyB0aGF0XG4gKiBiZWNhdXNlIHNvbWUgc2l0ZXMgYmFkbHkgb3ZlcnJpZGUgdG9KU09OIG9uIGNlcnRhaW4gb2JqZWN0cy4gUmVtb3ZpbmcgYWxsIHRvSlNPTiBtZXRob2RzIGZyb21cbiAqIG5lc3RlZCB2YWx1ZXMgd291bGQgYmUgdG9vIGNvc3RseSwgc28gd2UganVzdCBkZXRhY2ggdGhlbSBmcm9tIHRoZSByb290IHZhbHVlLCBhbmQgbmF0aXZlIGNsYXNzZXNcbiAqIHVzZWQgdG8gYnVpbGQgSlNPTiB2YWx1ZXMgKEFycmF5IGFuZCBPYmplY3QpLlxuICpcbiAqIE5vdGU6IHRoaXMgc3RpbGwgYXNzdW1lcyB0aGF0IEpTT04uc3RyaW5naWZ5IGlzIGNvcnJlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uU3RyaW5naWZ5KHZhbHVlLCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH1cbiAgICAvLyBOb3RlOiBUaGUgb3JkZXIgbWF0dGVyIGhlcmUuIFdlIG5lZWQgdG8gZGV0YWNoIHRvSlNPTiBtZXRob2RzIG9uIHBhcmVudCBjbGFzc2VzIGJlZm9yZSB0aGVpclxuICAgIC8vIHN1YmNsYXNzZXMuXG4gICAgdmFyIHJlc3RvcmVPYmplY3RQcm90b3R5cGVUb0pzb24gPSBkZXRhY2hUb0pzb25NZXRob2QoT2JqZWN0LnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3RvcmVBcnJheVByb3RvdHlwZVRvSnNvbiA9IGRldGFjaFRvSnNvbk1ldGhvZChBcnJheS5wcm90b3R5cGUpO1xuICAgIHZhciByZXN0b3JlVmFsdWVQcm90b3R5cGVUb0pzb24gPSBkZXRhY2hUb0pzb25NZXRob2QoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSk7XG4gICAgdmFyIHJlc3RvcmVWYWx1ZVRvSnNvbiA9IGRldGFjaFRvSnNvbk1ldGhvZCh2YWx1ZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCByZXBsYWNlciwgc3BhY2UpO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgcmV0dXJuICc8ZXJyb3I6IHVuYWJsZSB0byBzZXJpYWxpemUgb2JqZWN0Pic7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICByZXN0b3JlT2JqZWN0UHJvdG90eXBlVG9Kc29uKCk7XG4gICAgICAgIHJlc3RvcmVBcnJheVByb3RvdHlwZVRvSnNvbigpO1xuICAgICAgICByZXN0b3JlVmFsdWVQcm90b3R5cGVUb0pzb24oKTtcbiAgICAgICAgcmVzdG9yZVZhbHVlVG9Kc29uKCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaFRvSnNvbk1ldGhvZCh2YWx1ZSkge1xuICAgIHZhciBvYmplY3QgPSB2YWx1ZTtcbiAgICB2YXIgb2JqZWN0VG9Kc29uID0gb2JqZWN0LnRvSlNPTjtcbiAgICBpZiAob2JqZWN0VG9Kc29uKSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3QudG9KU09OO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb2JqZWN0LnRvSlNPTiA9IG9iamVjdFRvSnNvbjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG5vb3A7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uU3RyaW5naWZ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sanitize\": () => (/* binding */ sanitize)\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _jsonStringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n// The maximum size of a single event is 256KiB. By default, we ensure that user-provided data\n// going through sanitize fits inside our events, while leaving room for other contexts, metadata, ...\nvar SANITIZE_DEFAULT_MAX_CHARACTER_COUNT = 220 * _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\n// Symbol for the root element of the JSONPath used for visited objects\nvar JSON_PATH_ROOT_ELEMENT = '$';\n// When serializing (using JSON.stringify) a key of an object, { key: 42 } gets wrapped in quotes as \"key\".\n// With the separator (:), we need to add 3 characters to the count.\nvar KEY_DECORATION_LENGTH = 3;\nfunction sanitize(source, maxCharacterCount) {\n    var _a;\n    if (maxCharacterCount === void 0) { maxCharacterCount = SANITIZE_DEFAULT_MAX_CHARACTER_COUNT; }\n    // Unbind any toJSON function we may have on [] or {} prototypes\n    var restoreObjectPrototypeToJson = (0,_jsonStringify__WEBPACK_IMPORTED_MODULE_1__.detachToJsonMethod)(Object.prototype);\n    var restoreArrayPrototypeToJson = (0,_jsonStringify__WEBPACK_IMPORTED_MODULE_1__.detachToJsonMethod)(Array.prototype);\n    // Initial call to sanitizeProcessor - will populate containerQueue if source is an Array or a plain Object\n    var containerQueue = [];\n    var visitedObjectsWithPath = new WeakMap();\n    var sanitizedData = sanitizeProcessor(source, JSON_PATH_ROOT_ELEMENT, undefined, containerQueue, visitedObjectsWithPath);\n    var accumulatedCharacterCount = ((_a = JSON.stringify(sanitizedData)) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    if (accumulatedCharacterCount > maxCharacterCount) {\n        warnOverCharacterLimit(maxCharacterCount, 'discarded', source);\n        return undefined;\n    }\n    while (containerQueue.length > 0 && accumulatedCharacterCount < maxCharacterCount) {\n        var containerToProcess = containerQueue.shift();\n        var separatorLength = 0; // 0 for the first element, 1 for subsequent elements\n        // Arrays and Objects have to be handled distinctly to ensure\n        // we do not pick up non-numerical properties from Arrays\n        if (Array.isArray(containerToProcess.source)) {\n            for (var key = 0; key < containerToProcess.source.length; key++) {\n                var targetData = sanitizeProcessor(containerToProcess.source[key], containerToProcess.path, key, containerQueue, visitedObjectsWithPath);\n                if (targetData !== undefined) {\n                    accumulatedCharacterCount += JSON.stringify(targetData).length;\n                }\n                else {\n                    // When an element of an Array (targetData) is undefined, it is serialized as null:\n                    // JSON.stringify([undefined]) => '[null]' - This accounts for 4 characters\n                    accumulatedCharacterCount += 4;\n                }\n                accumulatedCharacterCount += separatorLength;\n                separatorLength = 1;\n                if (accumulatedCharacterCount > maxCharacterCount) {\n                    warnOverCharacterLimit(maxCharacterCount, 'truncated', source);\n                    break;\n                }\n                ;\n                containerToProcess.target[key] = targetData;\n            }\n        }\n        else {\n            for (var key in containerToProcess.source) {\n                if (Object.prototype.hasOwnProperty.call(containerToProcess.source, key)) {\n                    var targetData = sanitizeProcessor(containerToProcess.source[key], containerToProcess.path, key, containerQueue, visitedObjectsWithPath);\n                    // When a property of an object has an undefined value, it will be dropped during serialization:\n                    // JSON.stringify({a:undefined}) => '{}'\n                    if (targetData !== undefined) {\n                        accumulatedCharacterCount +=\n                            JSON.stringify(targetData).length + separatorLength + key.length + KEY_DECORATION_LENGTH;\n                        separatorLength = 1;\n                    }\n                    if (accumulatedCharacterCount > maxCharacterCount) {\n                        warnOverCharacterLimit(maxCharacterCount, 'truncated', source);\n                        break;\n                    }\n                    ;\n                    containerToProcess.target[key] = targetData;\n                }\n            }\n        }\n    }\n    // Rebind detached toJSON functions\n    restoreObjectPrototypeToJson();\n    restoreArrayPrototypeToJson();\n    return sanitizedData;\n}\n/**\n * Internal function to factorize the process common to the\n * initial call to sanitize, and iterations for Arrays and Objects\n *\n */\nfunction sanitizeProcessor(source, parentPath, key, queue, visitedObjectsWithPath) {\n    // Start by handling toJSON, as we want to sanitize its output\n    var sourceToSanitize = tryToApplyToJSON(source);\n    if (!sourceToSanitize || typeof sourceToSanitize !== 'object') {\n        return sanitizePrimitivesAndFunctions(sourceToSanitize);\n    }\n    var sanitizedSource = sanitizeObjects(sourceToSanitize);\n    if (sanitizedSource !== '[Object]' && sanitizedSource !== '[Array]' && sanitizedSource !== '[Error]') {\n        return sanitizedSource;\n    }\n    // Handle potential cyclic references\n    // We need to use source as sourceToSanitize could be a reference to a new object\n    // At this stage, we know the source is an object type\n    var sourceAsObject = source;\n    if (visitedObjectsWithPath.has(sourceAsObject)) {\n        return \"[Reference seen at \".concat(visitedObjectsWithPath.get(sourceAsObject), \"]\");\n    }\n    // Add processed source to queue\n    var currentPath = key !== undefined ? \"\".concat(parentPath, \".\").concat(key) : parentPath;\n    var target = Array.isArray(sourceToSanitize) ? [] : {};\n    visitedObjectsWithPath.set(sourceAsObject, currentPath);\n    queue.push({ source: sourceToSanitize, target: target, path: currentPath });\n    return target;\n}\n/**\n * Handles sanitization of simple, non-object types\n *\n */\nfunction sanitizePrimitivesAndFunctions(value) {\n    // BigInt cannot be serialized by JSON.stringify(), convert it to a string representation\n    if (typeof value === 'bigint') {\n        return \"[BigInt] \".concat(value.toString());\n    }\n    // Functions cannot be serialized by JSON.stringify(). Moreover, if a faulty toJSON is present, it needs to be converted\n    // so it won't prevent stringify from serializing later\n    if (typeof value === 'function') {\n        return \"[Function] \".concat(value.name || 'unknown');\n    }\n    // JSON.stringify() does not serialize symbols.\n    if (typeof value === 'symbol') {\n        return \"[Symbol] \".concat(value.description || value.toString());\n    }\n    return value;\n}\n/**\n * Handles sanitization of object types\n *\n * LIMITATIONS\n * - If a class defines a toStringTag Symbol, it will fall in the catch-all method and prevent enumeration of properties.\n * To avoid this, a toJSON method can be defined.\n * - IE11 does not return a distinct type for objects such as Map, WeakMap, ... These objects will pass through and their\n * properties enumerated if any.\n *\n */\nfunction sanitizeObjects(value) {\n    try {\n        // Handle events - Keep a simple implementation to avoid breaking changes\n        if (value instanceof Event) {\n            return {\n                isTrusted: value.isTrusted,\n            };\n        }\n        // Handle all remaining object types in a generic way\n        var result = Object.prototype.toString.call(value);\n        var match = result.match(/\\[object (.*)\\]/);\n        if (match && match[1]) {\n            return \"[\".concat(match[1], \"]\");\n        }\n    }\n    catch (_a) {\n        // If the previous serialization attempts failed, and we cannot convert using\n        // Object.prototype.toString, declare the value unserializable\n    }\n    return '[Unserializable]';\n}\n/**\n * Checks if a toJSON function exists and tries to execute it\n *\n */\nfunction tryToApplyToJSON(value) {\n    var object = value;\n    if (object && typeof object.toJSON === 'function') {\n        try {\n            return object.toJSON();\n        }\n        catch (_a) {\n            // If toJSON fails, we continue by trying to serialize the value manually\n        }\n    }\n    return value;\n}\n/**\n * Helper function to display the warning when the accumulated character count is over the limit\n */\nfunction warnOverCharacterLimit(maxCharacterCount, changeType, source) {\n    _display__WEBPACK_IMPORTED_MODULE_2__.display.warn(\"The data provided has been \".concat(changeType, \" as it is over the limit of \").concat(maxCharacterCount, \" characters:\"), source);\n}\n//# sourceMappingURL=sanitize.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VyaWFsaXNhdGlvbi9zYW5pdGl6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9zZXJpYWxpc2F0aW9uL3Nhbml0aXplLmpzPzRhOWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uL2Rpc3BsYXknO1xuaW1wb3J0IHsgT05FX0tJQklfQllURSB9IGZyb20gJy4uL3V0aWxzL2J5dGVVdGlscyc7XG5pbXBvcnQgeyBkZXRhY2hUb0pzb25NZXRob2QgfSBmcm9tICcuL2pzb25TdHJpbmdpZnknO1xuLy8gVGhlIG1heGltdW0gc2l6ZSBvZiBhIHNpbmdsZSBldmVudCBpcyAyNTZLaUIuIEJ5IGRlZmF1bHQsIHdlIGVuc3VyZSB0aGF0IHVzZXItcHJvdmlkZWQgZGF0YVxuLy8gZ29pbmcgdGhyb3VnaCBzYW5pdGl6ZSBmaXRzIGluc2lkZSBvdXIgZXZlbnRzLCB3aGlsZSBsZWF2aW5nIHJvb20gZm9yIG90aGVyIGNvbnRleHRzLCBtZXRhZGF0YSwgLi4uXG52YXIgU0FOSVRJWkVfREVGQVVMVF9NQVhfQ0hBUkFDVEVSX0NPVU5UID0gMjIwICogT05FX0tJQklfQllURTtcbi8vIFN5bWJvbCBmb3IgdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgSlNPTlBhdGggdXNlZCBmb3IgdmlzaXRlZCBvYmplY3RzXG52YXIgSlNPTl9QQVRIX1JPT1RfRUxFTUVOVCA9ICckJztcbi8vIFdoZW4gc2VyaWFsaXppbmcgKHVzaW5nIEpTT04uc3RyaW5naWZ5KSBhIGtleSBvZiBhbiBvYmplY3QsIHsga2V5OiA0MiB9IGdldHMgd3JhcHBlZCBpbiBxdW90ZXMgYXMgXCJrZXlcIi5cbi8vIFdpdGggdGhlIHNlcGFyYXRvciAoOiksIHdlIG5lZWQgdG8gYWRkIDMgY2hhcmFjdGVycyB0byB0aGUgY291bnQuXG52YXIgS0VZX0RFQ09SQVRJT05fTEVOR1RIID0gMztcbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZShzb3VyY2UsIG1heENoYXJhY3RlckNvdW50KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChtYXhDaGFyYWN0ZXJDb3VudCA9PT0gdm9pZCAwKSB7IG1heENoYXJhY3RlckNvdW50ID0gU0FOSVRJWkVfREVGQVVMVF9NQVhfQ0hBUkFDVEVSX0NPVU5UOyB9XG4gICAgLy8gVW5iaW5kIGFueSB0b0pTT04gZnVuY3Rpb24gd2UgbWF5IGhhdmUgb24gW10gb3Ige30gcHJvdG90eXBlc1xuICAgIHZhciByZXN0b3JlT2JqZWN0UHJvdG90eXBlVG9Kc29uID0gZGV0YWNoVG9Kc29uTWV0aG9kKE9iamVjdC5wcm90b3R5cGUpO1xuICAgIHZhciByZXN0b3JlQXJyYXlQcm90b3R5cGVUb0pzb24gPSBkZXRhY2hUb0pzb25NZXRob2QoQXJyYXkucHJvdG90eXBlKTtcbiAgICAvLyBJbml0aWFsIGNhbGwgdG8gc2FuaXRpemVQcm9jZXNzb3IgLSB3aWxsIHBvcHVsYXRlIGNvbnRhaW5lclF1ZXVlIGlmIHNvdXJjZSBpcyBhbiBBcnJheSBvciBhIHBsYWluIE9iamVjdFxuICAgIHZhciBjb250YWluZXJRdWV1ZSA9IFtdO1xuICAgIHZhciB2aXNpdGVkT2JqZWN0c1dpdGhQYXRoID0gbmV3IFdlYWtNYXAoKTtcbiAgICB2YXIgc2FuaXRpemVkRGF0YSA9IHNhbml0aXplUHJvY2Vzc29yKHNvdXJjZSwgSlNPTl9QQVRIX1JPT1RfRUxFTUVOVCwgdW5kZWZpbmVkLCBjb250YWluZXJRdWV1ZSwgdmlzaXRlZE9iamVjdHNXaXRoUGF0aCk7XG4gICAgdmFyIGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgPSAoKF9hID0gSlNPTi5zdHJpbmdpZnkoc2FuaXRpemVkRGF0YSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIHx8IDA7XG4gICAgaWYgKGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgPiBtYXhDaGFyYWN0ZXJDb3VudCkge1xuICAgICAgICB3YXJuT3ZlckNoYXJhY3RlckxpbWl0KG1heENoYXJhY3RlckNvdW50LCAnZGlzY2FyZGVkJywgc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgd2hpbGUgKGNvbnRhaW5lclF1ZXVlLmxlbmd0aCA+IDAgJiYgYWNjdW11bGF0ZWRDaGFyYWN0ZXJDb3VudCA8IG1heENoYXJhY3RlckNvdW50KSB7XG4gICAgICAgIHZhciBjb250YWluZXJUb1Byb2Nlc3MgPSBjb250YWluZXJRdWV1ZS5zaGlmdCgpO1xuICAgICAgICB2YXIgc2VwYXJhdG9yTGVuZ3RoID0gMDsgLy8gMCBmb3IgdGhlIGZpcnN0IGVsZW1lbnQsIDEgZm9yIHN1YnNlcXVlbnQgZWxlbWVudHNcbiAgICAgICAgLy8gQXJyYXlzIGFuZCBPYmplY3RzIGhhdmUgdG8gYmUgaGFuZGxlZCBkaXN0aW5jdGx5IHRvIGVuc3VyZVxuICAgICAgICAvLyB3ZSBkbyBub3QgcGljayB1cCBub24tbnVtZXJpY2FsIHByb3BlcnRpZXMgZnJvbSBBcnJheXNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGFpbmVyVG9Qcm9jZXNzLnNvdXJjZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSA9IDA7IGtleSA8IGNvbnRhaW5lclRvUHJvY2Vzcy5zb3VyY2UubGVuZ3RoOyBrZXkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXREYXRhID0gc2FuaXRpemVQcm9jZXNzb3IoY29udGFpbmVyVG9Qcm9jZXNzLnNvdXJjZVtrZXldLCBjb250YWluZXJUb1Byb2Nlc3MucGF0aCwga2V5LCBjb250YWluZXJRdWV1ZSwgdmlzaXRlZE9iamVjdHNXaXRoUGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZENoYXJhY3RlckNvdW50ICs9IEpTT04uc3RyaW5naWZ5KHRhcmdldERhdGEpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gYW4gZWxlbWVudCBvZiBhbiBBcnJheSAodGFyZ2V0RGF0YSkgaXMgdW5kZWZpbmVkLCBpdCBpcyBzZXJpYWxpemVkIGFzIG51bGw6XG4gICAgICAgICAgICAgICAgICAgIC8vIEpTT04uc3RyaW5naWZ5KFt1bmRlZmluZWRdKSA9PiAnW251bGxdJyAtIFRoaXMgYWNjb3VudHMgZm9yIDQgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZENoYXJhY3RlckNvdW50ICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgKz0gc2VwYXJhdG9yTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvckxlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgaWYgKGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgPiBtYXhDaGFyYWN0ZXJDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuT3ZlckNoYXJhY3RlckxpbWl0KG1heENoYXJhY3RlckNvdW50LCAndHJ1bmNhdGVkJywgc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBjb250YWluZXJUb1Byb2Nlc3MudGFyZ2V0W2tleV0gPSB0YXJnZXREYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNvbnRhaW5lclRvUHJvY2Vzcy5zb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRhaW5lclRvUHJvY2Vzcy5zb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldERhdGEgPSBzYW5pdGl6ZVByb2Nlc3Nvcihjb250YWluZXJUb1Byb2Nlc3Muc291cmNlW2tleV0sIGNvbnRhaW5lclRvUHJvY2Vzcy5wYXRoLCBrZXksIGNvbnRhaW5lclF1ZXVlLCB2aXNpdGVkT2JqZWN0c1dpdGhQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhIHByb3BlcnR5IG9mIGFuIG9iamVjdCBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlLCBpdCB3aWxsIGJlIGRyb3BwZWQgZHVyaW5nIHNlcmlhbGl6YXRpb246XG4gICAgICAgICAgICAgICAgICAgIC8vIEpTT04uc3RyaW5naWZ5KHthOnVuZGVmaW5lZH0pID0+ICd7fSdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRDaGFyYWN0ZXJDb3VudCArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRhcmdldERhdGEpLmxlbmd0aCArIHNlcGFyYXRvckxlbmd0aCArIGtleS5sZW5ndGggKyBLRVlfREVDT1JBVElPTl9MRU5HVEg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXBhcmF0b3JMZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2N1bXVsYXRlZENoYXJhY3RlckNvdW50ID4gbWF4Q2hhcmFjdGVyQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5PdmVyQ2hhcmFjdGVyTGltaXQobWF4Q2hhcmFjdGVyQ291bnQsICd0cnVuY2F0ZWQnLCBzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJUb1Byb2Nlc3MudGFyZ2V0W2tleV0gPSB0YXJnZXREYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZWJpbmQgZGV0YWNoZWQgdG9KU09OIGZ1bmN0aW9uc1xuICAgIHJlc3RvcmVPYmplY3RQcm90b3R5cGVUb0pzb24oKTtcbiAgICByZXN0b3JlQXJyYXlQcm90b3R5cGVUb0pzb24oKTtcbiAgICByZXR1cm4gc2FuaXRpemVkRGF0YTtcbn1cbi8qKlxuICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gZmFjdG9yaXplIHRoZSBwcm9jZXNzIGNvbW1vbiB0byB0aGVcbiAqIGluaXRpYWwgY2FsbCB0byBzYW5pdGl6ZSwgYW5kIGl0ZXJhdGlvbnMgZm9yIEFycmF5cyBhbmQgT2JqZWN0c1xuICpcbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVQcm9jZXNzb3Ioc291cmNlLCBwYXJlbnRQYXRoLCBrZXksIHF1ZXVlLCB2aXNpdGVkT2JqZWN0c1dpdGhQYXRoKSB7XG4gICAgLy8gU3RhcnQgYnkgaGFuZGxpbmcgdG9KU09OLCBhcyB3ZSB3YW50IHRvIHNhbml0aXplIGl0cyBvdXRwdXRcbiAgICB2YXIgc291cmNlVG9TYW5pdGl6ZSA9IHRyeVRvQXBwbHlUb0pTT04oc291cmNlKTtcbiAgICBpZiAoIXNvdXJjZVRvU2FuaXRpemUgfHwgdHlwZW9mIHNvdXJjZVRvU2FuaXRpemUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZVByaW1pdGl2ZXNBbmRGdW5jdGlvbnMoc291cmNlVG9TYW5pdGl6ZSk7XG4gICAgfVxuICAgIHZhciBzYW5pdGl6ZWRTb3VyY2UgPSBzYW5pdGl6ZU9iamVjdHMoc291cmNlVG9TYW5pdGl6ZSk7XG4gICAgaWYgKHNhbml0aXplZFNvdXJjZSAhPT0gJ1tPYmplY3RdJyAmJiBzYW5pdGl6ZWRTb3VyY2UgIT09ICdbQXJyYXldJyAmJiBzYW5pdGl6ZWRTb3VyY2UgIT09ICdbRXJyb3JdJykge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVkU291cmNlO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgcG90ZW50aWFsIGN5Y2xpYyByZWZlcmVuY2VzXG4gICAgLy8gV2UgbmVlZCB0byB1c2Ugc291cmNlIGFzIHNvdXJjZVRvU2FuaXRpemUgY291bGQgYmUgYSByZWZlcmVuY2UgdG8gYSBuZXcgb2JqZWN0XG4gICAgLy8gQXQgdGhpcyBzdGFnZSwgd2Uga25vdyB0aGUgc291cmNlIGlzIGFuIG9iamVjdCB0eXBlXG4gICAgdmFyIHNvdXJjZUFzT2JqZWN0ID0gc291cmNlO1xuICAgIGlmICh2aXNpdGVkT2JqZWN0c1dpdGhQYXRoLmhhcyhzb3VyY2VBc09iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIFwiW1JlZmVyZW5jZSBzZWVuIGF0IFwiLmNvbmNhdCh2aXNpdGVkT2JqZWN0c1dpdGhQYXRoLmdldChzb3VyY2VBc09iamVjdCksIFwiXVwiKTtcbiAgICB9XG4gICAgLy8gQWRkIHByb2Nlc3NlZCBzb3VyY2UgdG8gcXVldWVcbiAgICB2YXIgY3VycmVudFBhdGggPSBrZXkgIT09IHVuZGVmaW5lZCA/IFwiXCIuY29uY2F0KHBhcmVudFBhdGgsIFwiLlwiKS5jb25jYXQoa2V5KSA6IHBhcmVudFBhdGg7XG4gICAgdmFyIHRhcmdldCA9IEFycmF5LmlzQXJyYXkoc291cmNlVG9TYW5pdGl6ZSkgPyBbXSA6IHt9O1xuICAgIHZpc2l0ZWRPYmplY3RzV2l0aFBhdGguc2V0KHNvdXJjZUFzT2JqZWN0LCBjdXJyZW50UGF0aCk7XG4gICAgcXVldWUucHVzaCh7IHNvdXJjZTogc291cmNlVG9TYW5pdGl6ZSwgdGFyZ2V0OiB0YXJnZXQsIHBhdGg6IGN1cnJlbnRQYXRoIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vKipcbiAqIEhhbmRsZXMgc2FuaXRpemF0aW9uIG9mIHNpbXBsZSwgbm9uLW9iamVjdCB0eXBlc1xuICpcbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVQcmltaXRpdmVzQW5kRnVuY3Rpb25zKHZhbHVlKSB7XG4gICAgLy8gQmlnSW50IGNhbm5vdCBiZSBzZXJpYWxpemVkIGJ5IEpTT04uc3RyaW5naWZ5KCksIGNvbnZlcnQgaXQgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50Jykge1xuICAgICAgICByZXR1cm4gXCJbQmlnSW50XSBcIi5jb25jYXQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIC8vIEZ1bmN0aW9ucyBjYW5ub3QgYmUgc2VyaWFsaXplZCBieSBKU09OLnN0cmluZ2lmeSgpLiBNb3Jlb3ZlciwgaWYgYSBmYXVsdHkgdG9KU09OIGlzIHByZXNlbnQsIGl0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZFxuICAgIC8vIHNvIGl0IHdvbid0IHByZXZlbnQgc3RyaW5naWZ5IGZyb20gc2VyaWFsaXppbmcgbGF0ZXJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBcIltGdW5jdGlvbl0gXCIuY29uY2F0KHZhbHVlLm5hbWUgfHwgJ3Vua25vd24nKTtcbiAgICB9XG4gICAgLy8gSlNPTi5zdHJpbmdpZnkoKSBkb2VzIG5vdCBzZXJpYWxpemUgc3ltYm9scy5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJykge1xuICAgICAgICByZXR1cm4gXCJbU3ltYm9sXSBcIi5jb25jYXQodmFsdWUuZGVzY3JpcHRpb24gfHwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogSGFuZGxlcyBzYW5pdGl6YXRpb24gb2Ygb2JqZWN0IHR5cGVzXG4gKlxuICogTElNSVRBVElPTlNcbiAqIC0gSWYgYSBjbGFzcyBkZWZpbmVzIGEgdG9TdHJpbmdUYWcgU3ltYm9sLCBpdCB3aWxsIGZhbGwgaW4gdGhlIGNhdGNoLWFsbCBtZXRob2QgYW5kIHByZXZlbnQgZW51bWVyYXRpb24gb2YgcHJvcGVydGllcy5cbiAqIFRvIGF2b2lkIHRoaXMsIGEgdG9KU09OIG1ldGhvZCBjYW4gYmUgZGVmaW5lZC5cbiAqIC0gSUUxMSBkb2VzIG5vdCByZXR1cm4gYSBkaXN0aW5jdCB0eXBlIGZvciBvYmplY3RzIHN1Y2ggYXMgTWFwLCBXZWFrTWFwLCAuLi4gVGhlc2Ugb2JqZWN0cyB3aWxsIHBhc3MgdGhyb3VnaCBhbmQgdGhlaXJcbiAqIHByb3BlcnRpZXMgZW51bWVyYXRlZCBpZiBhbnkuXG4gKlxuICovXG5mdW5jdGlvbiBzYW5pdGl6ZU9iamVjdHModmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBIYW5kbGUgZXZlbnRzIC0gS2VlcCBhIHNpbXBsZSBpbXBsZW1lbnRhdGlvbiB0byBhdm9pZCBicmVha2luZyBjaGFuZ2VzXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlzVHJ1c3RlZDogdmFsdWUuaXNUcnVzdGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYWxsIHJlbWFpbmluZyBvYmplY3QgdHlwZXMgaW4gYSBnZW5lcmljIHdheVxuICAgICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgICAgdmFyIG1hdGNoID0gcmVzdWx0Lm1hdGNoKC9cXFtvYmplY3QgKC4qKVxcXS8pO1xuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiBcIltcIi5jb25jYXQobWF0Y2hbMV0sIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIHNlcmlhbGl6YXRpb24gYXR0ZW1wdHMgZmFpbGVkLCBhbmQgd2UgY2Fubm90IGNvbnZlcnQgdXNpbmdcbiAgICAgICAgLy8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywgZGVjbGFyZSB0aGUgdmFsdWUgdW5zZXJpYWxpemFibGVcbiAgICB9XG4gICAgcmV0dXJuICdbVW5zZXJpYWxpemFibGVdJztcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgdG9KU09OIGZ1bmN0aW9uIGV4aXN0cyBhbmQgdHJpZXMgdG8gZXhlY3V0ZSBpdFxuICpcbiAqL1xuZnVuY3Rpb24gdHJ5VG9BcHBseVRvSlNPTih2YWx1ZSkge1xuICAgIHZhciBvYmplY3QgPSB2YWx1ZTtcbiAgICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LnRvSlNPTigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgLy8gSWYgdG9KU09OIGZhaWxzLCB3ZSBjb250aW51ZSBieSB0cnlpbmcgdG8gc2VyaWFsaXplIHRoZSB2YWx1ZSBtYW51YWxseVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGRpc3BsYXkgdGhlIHdhcm5pbmcgd2hlbiB0aGUgYWNjdW11bGF0ZWQgY2hhcmFjdGVyIGNvdW50IGlzIG92ZXIgdGhlIGxpbWl0XG4gKi9cbmZ1bmN0aW9uIHdhcm5PdmVyQ2hhcmFjdGVyTGltaXQobWF4Q2hhcmFjdGVyQ291bnQsIGNoYW5nZVR5cGUsIHNvdXJjZSkge1xuICAgIGRpc3BsYXkud2FybihcIlRoZSBkYXRhIHByb3ZpZGVkIGhhcyBiZWVuIFwiLmNvbmNhdChjaGFuZ2VUeXBlLCBcIiBhcyBpdCBpcyBvdmVyIHRoZSBsaW1pdCBvZiBcIikuY29uY2F0KG1heENoYXJhY3RlckNvdW50LCBcIiBjaGFyYWN0ZXJzOlwiKSwgc291cmNlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/timer.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/timer.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearInterval\": () => (/* binding */ clearInterval),\n/* harmony export */   \"clearTimeout\": () => (/* binding */ clearTimeout),\n/* harmony export */   \"setInterval\": () => (/* binding */ setInterval),\n/* harmony export */   \"setTimeout\": () => (/* binding */ setTimeout)\n/* harmony export */ });\n/* harmony import */ var _getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getZoneJsOriginalValue */ \"../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\");\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _getGlobalObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getGlobalObject */ \"../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n\n\n\nfunction setTimeout(callback, delay) {\n    return (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)((0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_1__.getGlobalObject)(), 'setTimeout')((0,_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(callback), delay);\n}\nfunction clearTimeout(timeoutId) {\n    (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)((0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_1__.getGlobalObject)(), 'clearTimeout')(timeoutId);\n}\nfunction setInterval(callback, delay) {\n    return (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)((0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_1__.getGlobalObject)(), 'setInterval')((0,_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(callback), delay);\n}\nfunction clearInterval(timeoutId) {\n    (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)((0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_1__.getGlobalObject)(), 'clearInterval')(timeoutId);\n}\n//# sourceMappingURL=timer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdGltZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdGltZXIuanM/NjhkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRab25lSnNPcmlnaW5hbFZhbHVlIH0gZnJvbSAnLi9nZXRab25lSnNPcmlnaW5hbFZhbHVlJztcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuL21vbml0b3InO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnLi9nZXRHbG9iYWxPYmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgcmV0dXJuIGdldFpvbmVKc09yaWdpbmFsVmFsdWUoZ2V0R2xvYmFsT2JqZWN0KCksICdzZXRUaW1lb3V0JykobW9uaXRvcihjYWxsYmFjayksIGRlbGF5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRpbWVvdXQodGltZW91dElkKSB7XG4gICAgZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZShnZXRHbG9iYWxPYmplY3QoKSwgJ2NsZWFyVGltZW91dCcpKHRpbWVvdXRJZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0SW50ZXJ2YWwoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgcmV0dXJuIGdldFpvbmVKc09yaWdpbmFsVmFsdWUoZ2V0R2xvYmFsT2JqZWN0KCksICdzZXRJbnRlcnZhbCcpKG1vbml0b3IoY2FsbGJhY2spLCBkZWxheSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJJbnRlcnZhbCh0aW1lb3V0SWQpIHtcbiAgICBnZXRab25lSnNPcmlnaW5hbFZhbHVlKGdldEdsb2JhbE9iamVjdCgpLCAnY2xlYXJJbnRlcnZhbCcpKHRpbWVvdXRJZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/timer.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"removeDuplicates\": () => (/* binding */ removeDuplicates)\n/* harmony export */ });\n/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nfunction removeDuplicates(array) {\n    var set = new Set();\n    array.forEach(function (item) { return set.add(item); });\n    return (0,_polyfills__WEBPACK_IMPORTED_MODULE_0__.arrayFrom)(set);\n}\n//# sourceMappingURL=arrayUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYXJyYXlVdGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYXJyYXlVdGlscy5qcz9hYTRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5RnJvbSB9IGZyb20gJy4vcG9seWZpbGxzJztcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycmF5KSB7XG4gICAgdmFyIHNldCA9IG5ldyBTZXQoKTtcbiAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBzZXQuYWRkKGl0ZW0pOyB9KTtcbiAgICByZXR1cm4gYXJyYXlGcm9tKHNldCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJheVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isChromium\": () => (/* binding */ isChromium),\n/* harmony export */   \"isIE\": () => (/* binding */ isIE),\n/* harmony export */   \"isSafari\": () => (/* binding */ isSafari)\n/* harmony export */ });\nvar browserIsIE;\nfunction isIE() {\n    return browserIsIE !== null && browserIsIE !== void 0 ? browserIsIE : (browserIsIE = Boolean(document.documentMode));\n}\nvar browserIsChromium;\nfunction isChromium() {\n    return (browserIsChromium !== null && browserIsChromium !== void 0 ? browserIsChromium : (browserIsChromium = !!window.chrome || /HeadlessChrome/.test(window.navigator.userAgent)));\n}\nvar browserIsSafari;\nfunction isSafari() {\n    return browserIsSafari !== null && browserIsSafari !== void 0 ? browserIsSafari : (browserIsSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent));\n}\n//# sourceMappingURL=browserDetection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYnJvd3NlckRldGVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL2Jyb3dzZXJEZXRlY3Rpb24uanM/ZjM0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYnJvd3NlcklzSUU7XG5leHBvcnQgZnVuY3Rpb24gaXNJRSgpIHtcbiAgICByZXR1cm4gYnJvd3NlcklzSUUgIT09IG51bGwgJiYgYnJvd3NlcklzSUUgIT09IHZvaWQgMCA/IGJyb3dzZXJJc0lFIDogKGJyb3dzZXJJc0lFID0gQm9vbGVhbihkb2N1bWVudC5kb2N1bWVudE1vZGUpKTtcbn1cbnZhciBicm93c2VySXNDaHJvbWl1bTtcbmV4cG9ydCBmdW5jdGlvbiBpc0Nocm9taXVtKCkge1xuICAgIHJldHVybiAoYnJvd3NlcklzQ2hyb21pdW0gIT09IG51bGwgJiYgYnJvd3NlcklzQ2hyb21pdW0gIT09IHZvaWQgMCA/IGJyb3dzZXJJc0Nocm9taXVtIDogKGJyb3dzZXJJc0Nocm9taXVtID0gISF3aW5kb3cuY2hyb21lIHx8IC9IZWFkbGVzc0Nocm9tZS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkpKTtcbn1cbnZhciBicm93c2VySXNTYWZhcmk7XG5leHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgcmV0dXJuIGJyb3dzZXJJc1NhZmFyaSAhPT0gbnVsbCAmJiBicm93c2VySXNTYWZhcmkgIT09IHZvaWQgMCA/IGJyb3dzZXJJc1NhZmFyaSA6IChicm93c2VySXNTYWZhcmkgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJEZXRlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ONE_KIBI_BYTE\": () => (/* binding */ ONE_KIBI_BYTE),\n/* harmony export */   \"ONE_MEBI_BYTE\": () => (/* binding */ ONE_MEBI_BYTE),\n/* harmony export */   \"computeBytesCount\": () => (/* binding */ computeBytesCount),\n/* harmony export */   \"concatBuffers\": () => (/* binding */ concatBuffers)\n/* harmony export */ });\nvar ONE_KIBI_BYTE = 1024;\nvar ONE_MEBI_BYTE = 1024 * ONE_KIBI_BYTE;\n// eslint-disable-next-line no-control-regex\nvar HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/;\nfunction computeBytesCount(candidate) {\n    // Accurate bytes count computations can degrade performances when there is a lot of events to process\n    if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n        return candidate.length;\n    }\n    if (window.TextEncoder !== undefined) {\n        return new TextEncoder().encode(candidate).length;\n    }\n    return new Blob([candidate]).size;\n}\nfunction concatBuffers(buffers) {\n    var length = buffers.reduce(function (total, buffer) { return total + buffer.length; }, 0);\n    var result = new Uint8Array(length);\n    var offset = 0;\n    for (var _i = 0, buffers_1 = buffers; _i < buffers_1.length; _i++) {\n        var buffer = buffers_1[_i];\n        result.set(buffer, offset);\n        offset += buffer.length;\n    }\n    return result;\n}\n//# sourceMappingURL=byteUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzLmpzPzYzOTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBPTkVfS0lCSV9CWVRFID0gMTAyNDtcbmV4cG9ydCB2YXIgT05FX01FQklfQllURSA9IDEwMjQgKiBPTkVfS0lCSV9CWVRFO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbnZhciBIQVNfTVVMVElfQllURVNfQ0hBUkFDVEVSUyA9IC9bXlxcdTAwMDAtXFx1MDA3Rl0vO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVCeXRlc0NvdW50KGNhbmRpZGF0ZSkge1xuICAgIC8vIEFjY3VyYXRlIGJ5dGVzIGNvdW50IGNvbXB1dGF0aW9ucyBjYW4gZGVncmFkZSBwZXJmb3JtYW5jZXMgd2hlbiB0aGVyZSBpcyBhIGxvdCBvZiBldmVudHMgdG8gcHJvY2Vzc1xuICAgIGlmICghSEFTX01VTFRJX0JZVEVTX0NIQVJBQ1RFUlMudGVzdChjYW5kaWRhdGUpKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGUubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAod2luZG93LlRleHRFbmNvZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjYW5kaWRhdGUpLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtjYW5kaWRhdGVdKS5zaXplO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEJ1ZmZlcnMoYnVmZmVycykge1xuICAgIHZhciBsZW5ndGggPSBidWZmZXJzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGJ1ZmZlcikgeyByZXR1cm4gdG90YWwgKyBidWZmZXIubGVuZ3RoOyB9LCAwKTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGJ1ZmZlcnNfMSA9IGJ1ZmZlcnM7IF9pIDwgYnVmZmVyc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc18xW19pXTtcbiAgICAgICAgcmVzdWx0LnNldChidWZmZXIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBidWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ynl0ZVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"noop\": () => (/* binding */ noop),\n/* harmony export */   \"throttle\": () => (/* binding */ throttle)\n/* harmony export */ });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n\n// use lodash API\nfunction throttle(fn, wait, options) {\n    var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n    var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n    var inWaitPeriod = false;\n    var pendingExecutionWithParameters;\n    var pendingTimeoutId;\n    return {\n        throttled: function () {\n            var parameters = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                parameters[_i] = arguments[_i];\n            }\n            if (inWaitPeriod) {\n                pendingExecutionWithParameters = parameters;\n                return;\n            }\n            if (needLeadingExecution) {\n                fn.apply(void 0, parameters);\n            }\n            else {\n                pendingExecutionWithParameters = parameters;\n            }\n            inWaitPeriod = true;\n            pendingTimeoutId = (0,_timer__WEBPACK_IMPORTED_MODULE_0__.setTimeout)(function () {\n                if (needTrailingExecution && pendingExecutionWithParameters) {\n                    fn.apply(void 0, pendingExecutionWithParameters);\n                }\n                inWaitPeriod = false;\n                pendingExecutionWithParameters = undefined;\n            }, wait);\n        },\n        cancel: function () {\n            (0,_timer__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(pendingTimeoutId);\n            inWaitPeriod = false;\n            pendingExecutionWithParameters = undefined;\n        },\n    };\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\n//# sourceMappingURL=functionUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvZnVuY3Rpb25VdGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL2Z1bmN0aW9uVXRpbHMuanM/MTdjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXQgfSBmcm9tICcuLi90aW1lcic7XG4vLyB1c2UgbG9kYXNoIEFQSVxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZuLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIG5lZWRMZWFkaW5nRXhlY3V0aW9uID0gb3B0aW9ucyAmJiBvcHRpb25zLmxlYWRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGVhZGluZyA6IHRydWU7XG4gICAgdmFyIG5lZWRUcmFpbGluZ0V4ZWN1dGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50cmFpbGluZyA6IHRydWU7XG4gICAgdmFyIGluV2FpdFBlcmlvZCA9IGZhbHNlO1xuICAgIHZhciBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnM7XG4gICAgdmFyIHBlbmRpbmdUaW1lb3V0SWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGhyb3R0bGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5XYWl0UGVyaW9kKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVlZExlYWRpbmdFeGVjdXRpb24pIHtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh2b2lkIDAsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluV2FpdFBlcmlvZCA9IHRydWU7XG4gICAgICAgICAgICBwZW5kaW5nVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRUcmFpbGluZ0V4ZWN1dGlvbiAmJiBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkodm9pZCAwLCBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbldhaXRQZXJpb2QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LCB3YWl0KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocGVuZGluZ1RpbWVvdXRJZCk7XG4gICAgICAgICAgICBpbldhaXRQZXJpb2QgPSBmYWxzZTtcbiAgICAgICAgICAgIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bmN0aW9uVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isNumber\": () => (/* binding */ isNumber),\n/* harmony export */   \"isPercentage\": () => (/* binding */ isPercentage),\n/* harmony export */   \"performDraw\": () => (/* binding */ performDraw),\n/* harmony export */   \"round\": () => (/* binding */ round)\n/* harmony export */ });\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nfunction performDraw(threshold) {\n    return threshold !== 0 && Math.random() * 100 <= threshold;\n}\nfunction round(num, decimals) {\n    return +num.toFixed(decimals);\n}\nfunction isPercentage(value) {\n    return isNumber(value) && value >= 0 && value <= 100;\n}\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\n//# sourceMappingURL=numberUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvbnVtYmVyVXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy9udW1iZXJVdGlscy5qcz82MmMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmV0dXJuIHRydWUgaWYgdGhlIGRyYXcgaXMgc3VjY2Vzc2Z1bFxuICogQHBhcmFtIHRocmVzaG9sZCBiZXR3ZWVuIDAgYW5kIDEwMFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybURyYXcodGhyZXNob2xkKSB7XG4gICAgcmV0dXJuIHRocmVzaG9sZCAhPT0gMCAmJiBNYXRoLnJhbmRvbSgpICogMTAwIDw9IHRocmVzaG9sZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChudW0sIGRlY2ltYWxzKSB7XG4gICAgcmV0dXJuICtudW0udG9GaXhlZChkZWNpbWFscyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQZXJjZW50YWdlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtYmVyVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isEmptyObject\": () => (/* binding */ isEmptyObject),\n/* harmony export */   \"mapValues\": () => (/* binding */ mapValues),\n/* harmony export */   \"objectHasValue\": () => (/* binding */ objectHasValue),\n/* harmony export */   \"shallowClone\": () => (/* binding */ shallowClone)\n/* harmony export */ });\n/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nfunction shallowClone(object) {\n    return (0,_polyfills__WEBPACK_IMPORTED_MODULE_0__.assign)({}, object);\n}\nfunction objectHasValue(object, value) {\n    return Object.keys(object).some(function (key) { return object[key] === value; });\n}\nfunction isEmptyObject(object) {\n    return Object.keys(object).length === 0;\n}\nfunction mapValues(object, fn) {\n    var newObject = {};\n    for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n        var key = _a[_i];\n        newObject[key] = fn(object[key]);\n    }\n    return newObject;\n}\n//# sourceMappingURL=objectUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvb2JqZWN0VXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL29iamVjdFV0aWxzLmpzPzEyNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9wb2x5ZmlsbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvYmplY3QpIHtcbiAgICByZXR1cm4gYXNzaWduKHt9LCBvYmplY3QpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEhhc1ZhbHVlKG9iamVjdCwgdmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9iamVjdFtrZXldID09PSB2YWx1ZTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5sZW5ndGggPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgZm4pIHtcbiAgICB2YXIgbmV3T2JqZWN0ID0ge307XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG9iamVjdCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBfYVtfaV07XG4gICAgICAgIG5ld09iamVjdFtrZXldID0gZm4ob2JqZWN0W2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0VXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"arrayFrom\": () => (/* binding */ arrayFrom),\n/* harmony export */   \"assign\": () => (/* binding */ assign),\n/* harmony export */   \"cssEscape\": () => (/* binding */ cssEscape),\n/* harmony export */   \"elementMatches\": () => (/* binding */ elementMatches),\n/* harmony export */   \"endsWith\": () => (/* binding */ endsWith),\n/* harmony export */   \"find\": () => (/* binding */ find),\n/* harmony export */   \"findLast\": () => (/* binding */ findLast),\n/* harmony export */   \"forEach\": () => (/* binding */ forEach),\n/* harmony export */   \"includes\": () => (/* binding */ includes),\n/* harmony export */   \"objectEntries\": () => (/* binding */ objectEntries),\n/* harmony export */   \"objectValues\": () => (/* binding */ objectValues),\n/* harmony export */   \"startsWith\": () => (/* binding */ startsWith)\n/* harmony export */ });\nfunction includes(candidate, search) {\n    return candidate.indexOf(search) !== -1;\n}\nfunction arrayFrom(arrayLike) {\n    if (Array.from) {\n        return Array.from(arrayLike);\n    }\n    var array = [];\n    if (arrayLike instanceof Set) {\n        arrayLike.forEach(function (item) { return array.push(item); });\n    }\n    else {\n        for (var i = 0; i < arrayLike.length; i++) {\n            array.push(arrayLike[i]);\n        }\n    }\n    return array;\n}\nfunction find(array, predicate) {\n    for (var i = 0; i < array.length; i += 1) {\n        var item = array[i];\n        if (predicate(item, i)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nfunction findLast(array, predicate) {\n    for (var i = array.length - 1; i >= 0; i -= 1) {\n        var item = array[i];\n        if (predicate(item, i, array)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nfunction forEach(list, callback) {\n    Array.prototype.forEach.call(list, callback);\n}\nfunction objectValues(object) {\n    return Object.keys(object).map(function (key) { return object[key]; });\n}\nfunction objectEntries(object) {\n    return Object.keys(object).map(function (key) { return [key, object[key]]; });\n}\nfunction startsWith(candidate, search) {\n    return candidate.slice(0, search.length) === search;\n}\nfunction endsWith(candidate, search) {\n    return candidate.slice(-search.length) === search;\n}\nfunction elementMatches(element, selector) {\n    if (element.matches) {\n        return element.matches(selector);\n    }\n    // IE11 support\n    if (element.msMatchesSelector) {\n        return element.msMatchesSelector(selector);\n    }\n    return false;\n}\n// https://github.com/jquery/jquery/blob/a684e6ba836f7c553968d7d026ed7941e1a612d8/src/selector/escapeSelector.js\nfunction cssEscape(str) {\n    if (window.CSS && window.CSS.escape) {\n        return window.CSS.escape(str);\n    }\n    // eslint-disable-next-line no-control-regex\n    return str.replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g, function (ch, asCodePoint) {\n        if (asCodePoint) {\n            // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n            if (ch === '\\0') {\n                return '\\uFFFD';\n            }\n            // Control characters and (dependent upon position) numbers get escaped as code points\n            return \"\".concat(ch.slice(0, -1), \"\\\\\").concat(ch.charCodeAt(ch.length - 1).toString(16), \" \");\n        }\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\".concat(ch);\n    });\n}\nfunction assign(target) {\n    var toAssign = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        toAssign[_i - 1] = arguments[_i];\n    }\n    toAssign.forEach(function (source) {\n        for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    });\n    return target;\n}\n//# sourceMappingURL=polyfills.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvcG9seWZpbGxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy9wb2x5ZmlsbHMuanM/ZDM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoY2FuZGlkYXRlLCBzZWFyY2gpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJyYXlGcm9tKGFycmF5TGlrZSkge1xuICAgIGlmIChBcnJheS5mcm9tKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGFycmF5TGlrZSk7XG4gICAgfVxuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGlmIChhcnJheUxpa2UgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgYXJyYXlMaWtlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGFycmF5LnB1c2goaXRlbSk7IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxpa2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlMaWtlW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlKGl0ZW0sIGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShpdGVtLCBpLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBjYWxsYmFjaykge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobGlzdCwgY2FsbGJhY2spO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdFZhbHVlcyhvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqZWN0W2tleV07IH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEVudHJpZXMob2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aChjYW5kaWRhdGUsIHNlYXJjaCkge1xuICAgIHJldHVybiBjYW5kaWRhdGUuc2xpY2UoMCwgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmRzV2l0aChjYW5kaWRhdGUsIHNlYXJjaCkge1xuICAgIHJldHVybiBjYW5kaWRhdGUuc2xpY2UoLXNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudE1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIH1cbiAgICAvLyBJRTExIHN1cHBvcnRcbiAgICBpZiAoZWxlbWVudC5tc01hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L2Jsb2IvYTY4NGU2YmE4MzZmN2M1NTM5NjhkN2QwMjZlZDc5NDFlMWE2MTJkOC9zcmMvc2VsZWN0b3IvZXNjYXBlU2VsZWN0b3IuanNcbmV4cG9ydCBmdW5jdGlvbiBjc3NFc2NhcGUoc3RyKSB7XG4gICAgaWYgKHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5lc2NhcGUpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5DU1MuZXNjYXBlKHN0cik7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nLCBmdW5jdGlvbiAoY2gsIGFzQ29kZVBvaW50KSB7XG4gICAgICAgIGlmIChhc0NvZGVQb2ludCkge1xuICAgICAgICAgICAgLy8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXDAnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXHVGRkZEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG4gICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoY2guc2xpY2UoMCwgLTEpLCBcIlxcXFxcIikuY29uY2F0KGNoLmNoYXJDb2RlQXQoY2gubGVuZ3RoIC0gMSkudG9TdHJpbmcoMTYpLCBcIiBcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuICAgICAgICByZXR1cm4gXCJcXFxcXCIuY29uY2F0KGNoKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgdmFyIHRvQXNzaWduID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdG9Bc3NpZ25bX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHRvQXNzaWduLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isServerError\": () => (/* binding */ isServerError),\n/* harmony export */   \"tryToClone\": () => (/* binding */ tryToClone)\n/* harmony export */ });\nfunction isServerError(status) {\n    return status >= 500;\n}\nfunction tryToClone(response) {\n    try {\n        return response.clone();\n    }\n    catch (e) {\n        // clone can throw if the response has already been used by another instrumentation or is disturbed\n        return;\n    }\n}\n//# sourceMappingURL=responseUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvcmVzcG9uc2VVdGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvcmVzcG9uc2VVdGlscy5qcz9mZjMxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc1NlcnZlckVycm9yKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gNTAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyeVRvQ2xvbmUocmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuY2xvbmUoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gY2xvbmUgY2FuIHRocm93IGlmIHRoZSByZXNwb25zZSBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgYnkgYW5vdGhlciBpbnN0cnVtZW50YXRpb24gb3IgaXMgZGlzdHVyYmVkXG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNwb25zZVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"findCommaSeparatedValue\": () => (/* binding */ findCommaSeparatedValue),\n/* harmony export */   \"generateUUID\": () => (/* binding */ generateUUID),\n/* harmony export */   \"safeTruncate\": () => (/* binding */ safeTruncate)\n/* harmony export */ });\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nfunction generateUUID(placeholder) {\n    return placeholder\n        ? // eslint-disable-next-line  no-bitwise\n            (parseInt(placeholder, 10) ^ ((Math.random() * 16) >> (parseInt(placeholder, 10) / 4))).toString(16)\n        : \"\".concat(1e7, \"-\").concat(1e3, \"-\").concat(4e3, \"-\").concat(8e3, \"-\").concat(1e11).replace(/[018]/g, generateUUID);\n}\nfunction findCommaSeparatedValue(rawString, name) {\n    var regex = new RegExp(\"(?:^|;)\\\\s*\".concat(name, \"\\\\s*=\\\\s*([^;]+)\"));\n    var matches = regex.exec(rawString);\n    return matches ? matches[1] : undefined;\n}\nfunction safeTruncate(candidate, length, suffix) {\n    if (suffix === void 0) { suffix = ''; }\n    var lastChar = candidate.charCodeAt(length - 1);\n    var isLastCharSurrogatePair = lastChar >= 0xd800 && lastChar <= 0xdbff;\n    var correctedLength = isLastCharSurrogatePair ? length + 1 : length;\n    if (candidate.length <= correctedLength) {\n        return candidate;\n    }\n    return \"\".concat(candidate.slice(0, correctedLength)).concat(suffix);\n}\n//# sourceMappingURL=stringUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvc3RyaW5nVXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL3N0cmluZ1V0aWxzLmpzPzQ0MTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVVUlEIHY0XG4gKiBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRChwbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBwbGFjZWhvbGRlclxuICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbm8tYml0d2lzZVxuICAgICAgICAgICAgKHBhcnNlSW50KHBsYWNlaG9sZGVyLCAxMCkgXiAoKE1hdGgucmFuZG9tKCkgKiAxNikgPj4gKHBhcnNlSW50KHBsYWNlaG9sZGVyLCAxMCkgLyA0KSkpLnRvU3RyaW5nKDE2KVxuICAgICAgICA6IFwiXCIuY29uY2F0KDFlNywgXCItXCIpLmNvbmNhdCgxZTMsIFwiLVwiKS5jb25jYXQoNGUzLCBcIi1cIikuY29uY2F0KDhlMywgXCItXCIpLmNvbmNhdCgxZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBnZW5lcmF0ZVVVSUQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDb21tYVNlcGFyYXRlZFZhbHVlKHJhd1N0cmluZywgbmFtZSkge1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCIoPzpefDspXFxcXHMqXCIuY29uY2F0KG5hbWUsIFwiXFxcXHMqPVxcXFxzKihbXjtdKylcIikpO1xuICAgIHZhciBtYXRjaGVzID0gcmVnZXguZXhlYyhyYXdTdHJpbmcpO1xuICAgIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYWZlVHJ1bmNhdGUoY2FuZGlkYXRlLCBsZW5ndGgsIHN1ZmZpeCkge1xuICAgIGlmIChzdWZmaXggPT09IHZvaWQgMCkgeyBzdWZmaXggPSAnJzsgfVxuICAgIHZhciBsYXN0Q2hhciA9IGNhbmRpZGF0ZS5jaGFyQ29kZUF0KGxlbmd0aCAtIDEpO1xuICAgIHZhciBpc0xhc3RDaGFyU3Vycm9nYXRlUGFpciA9IGxhc3RDaGFyID49IDB4ZDgwMCAmJiBsYXN0Q2hhciA8PSAweGRiZmY7XG4gICAgdmFyIGNvcnJlY3RlZExlbmd0aCA9IGlzTGFzdENoYXJTdXJyb2dhdGVQYWlyID8gbGVuZ3RoICsgMSA6IGxlbmd0aDtcbiAgICBpZiAoY2FuZGlkYXRlLmxlbmd0aCA8PSBjb3JyZWN0ZWRMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGNhbmRpZGF0ZS5zbGljZSgwLCBjb3JyZWN0ZWRMZW5ndGgpKS5jb25jYXQoc3VmZml4KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZ1V0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ONE_DAY\": () => (/* binding */ ONE_DAY),\n/* harmony export */   \"ONE_HOUR\": () => (/* binding */ ONE_HOUR),\n/* harmony export */   \"ONE_MINUTE\": () => (/* binding */ ONE_MINUTE),\n/* harmony export */   \"ONE_SECOND\": () => (/* binding */ ONE_SECOND),\n/* harmony export */   \"ONE_YEAR\": () => (/* binding */ ONE_YEAR),\n/* harmony export */   \"addDuration\": () => (/* binding */ addDuration),\n/* harmony export */   \"clocksNow\": () => (/* binding */ clocksNow),\n/* harmony export */   \"clocksOrigin\": () => (/* binding */ clocksOrigin),\n/* harmony export */   \"currentDrift\": () => (/* binding */ currentDrift),\n/* harmony export */   \"dateNow\": () => (/* binding */ dateNow),\n/* harmony export */   \"elapsed\": () => (/* binding */ elapsed),\n/* harmony export */   \"getRelativeTime\": () => (/* binding */ getRelativeTime),\n/* harmony export */   \"getTimeStamp\": () => (/* binding */ getTimeStamp),\n/* harmony export */   \"looksLikeRelativeTime\": () => (/* binding */ looksLikeRelativeTime),\n/* harmony export */   \"relativeNow\": () => (/* binding */ relativeNow),\n/* harmony export */   \"relativeToClocks\": () => (/* binding */ relativeToClocks),\n/* harmony export */   \"resetNavigationStart\": () => (/* binding */ resetNavigationStart),\n/* harmony export */   \"timeStampNow\": () => (/* binding */ timeStampNow),\n/* harmony export */   \"toServerDuration\": () => (/* binding */ toServerDuration)\n/* harmony export */ });\n/* harmony import */ var _numberUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./numberUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = 60 * ONE_SECOND;\nvar ONE_HOUR = 60 * ONE_MINUTE;\nvar ONE_DAY = 24 * ONE_HOUR;\nvar ONE_YEAR = 365 * ONE_DAY;\nfunction relativeToClocks(relative) {\n    return { relative: relative, timeStamp: getCorrectedTimeStamp(relative) };\n}\nfunction getCorrectedTimeStamp(relativeTime) {\n    var correctedOrigin = (dateNow() - performance.now());\n    // apply correction only for positive drift\n    if (correctedOrigin > getNavigationStart()) {\n        return Math.round(addDuration(correctedOrigin, relativeTime));\n    }\n    return getTimeStamp(relativeTime);\n}\nfunction currentDrift() {\n    return Math.round(dateNow() - addDuration(getNavigationStart(), performance.now()));\n}\nfunction toServerDuration(duration) {\n    if (!(0,_numberUtils__WEBPACK_IMPORTED_MODULE_0__.isNumber)(duration)) {\n        return duration;\n    }\n    return (0,_numberUtils__WEBPACK_IMPORTED_MODULE_0__.round)(duration * 1e6, 0);\n}\nfunction dateNow() {\n    // Do not use `Date.now` because sometimes websites are wrongly \"polyfilling\" it. For example, we\n    // had some users using a very old version of `datejs`, which patched `Date.now` to return a Date\n    // instance instead of a timestamp[1]. Those users are unlikely to fix this, so let's handle this\n    // case ourselves.\n    // [1]: https://github.com/datejs/Datejs/blob/97f5c7c58c5bc5accdab8aa7602b6ac56462d778/src/core-debug.js#L14-L16\n    return new Date().getTime();\n}\nfunction timeStampNow() {\n    return dateNow();\n}\nfunction relativeNow() {\n    return performance.now();\n}\nfunction clocksNow() {\n    return { relative: relativeNow(), timeStamp: timeStampNow() };\n}\nfunction clocksOrigin() {\n    return { relative: 0, timeStamp: getNavigationStart() };\n}\nfunction elapsed(start, end) {\n    return (end - start);\n}\nfunction addDuration(a, b) {\n    return a + b;\n}\n/**\n * Get the time since the navigation was started.\n *\n * Note: this does not use `performance.timeOrigin` because it doesn't seem to reflect the actual\n * time on which the navigation has started: it may be much farther in the past, at least in Firefox 71.\n * Related issue in Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1429926\n */\nfunction getRelativeTime(timestamp) {\n    return (timestamp - getNavigationStart());\n}\nfunction getTimeStamp(relativeTime) {\n    return Math.round(addDuration(getNavigationStart(), relativeTime));\n}\nfunction looksLikeRelativeTime(time) {\n    return time < ONE_YEAR;\n}\n/**\n * Navigation start slightly change on some rare cases\n */\nvar navigationStart;\nfunction getNavigationStart() {\n    if (navigationStart === undefined) {\n        navigationStart = performance.timing.navigationStart;\n    }\n    return navigationStart;\n}\nfunction resetNavigationStart() {\n    navigationStart = undefined;\n}\n//# sourceMappingURL=timeUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdGltZVV0aWxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy90aW1lVXRpbHMuanM/Y2M5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc051bWJlciwgcm91bmQgfSBmcm9tICcuL251bWJlclV0aWxzJztcbmV4cG9ydCB2YXIgT05FX1NFQ09ORCA9IDEwMDA7XG5leHBvcnQgdmFyIE9ORV9NSU5VVEUgPSA2MCAqIE9ORV9TRUNPTkQ7XG5leHBvcnQgdmFyIE9ORV9IT1VSID0gNjAgKiBPTkVfTUlOVVRFO1xuZXhwb3J0IHZhciBPTkVfREFZID0gMjQgKiBPTkVfSE9VUjtcbmV4cG9ydCB2YXIgT05FX1lFQVIgPSAzNjUgKiBPTkVfREFZO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlVG9DbG9ja3MocmVsYXRpdmUpIHtcbiAgICByZXR1cm4geyByZWxhdGl2ZTogcmVsYXRpdmUsIHRpbWVTdGFtcDogZ2V0Q29ycmVjdGVkVGltZVN0YW1wKHJlbGF0aXZlKSB9O1xufVxuZnVuY3Rpb24gZ2V0Q29ycmVjdGVkVGltZVN0YW1wKHJlbGF0aXZlVGltZSkge1xuICAgIHZhciBjb3JyZWN0ZWRPcmlnaW4gPSAoZGF0ZU5vdygpIC0gcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgIC8vIGFwcGx5IGNvcnJlY3Rpb24gb25seSBmb3IgcG9zaXRpdmUgZHJpZnRcbiAgICBpZiAoY29ycmVjdGVkT3JpZ2luID4gZ2V0TmF2aWdhdGlvblN0YXJ0KCkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYWRkRHVyYXRpb24oY29ycmVjdGVkT3JpZ2luLCByZWxhdGl2ZVRpbWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFRpbWVTdGFtcChyZWxhdGl2ZVRpbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnREcmlmdCgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChkYXRlTm93KCkgLSBhZGREdXJhdGlvbihnZXROYXZpZ2F0aW9uU3RhcnQoKSwgcGVyZm9ybWFuY2Uubm93KCkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1NlcnZlckR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKCFpc051bWJlcihkdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcm91bmQoZHVyYXRpb24gKiAxZTYsIDApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVOb3coKSB7XG4gICAgLy8gRG8gbm90IHVzZSBgRGF0ZS5ub3dgIGJlY2F1c2Ugc29tZXRpbWVzIHdlYnNpdGVzIGFyZSB3cm9uZ2x5IFwicG9seWZpbGxpbmdcIiBpdC4gRm9yIGV4YW1wbGUsIHdlXG4gICAgLy8gaGFkIHNvbWUgdXNlcnMgdXNpbmcgYSB2ZXJ5IG9sZCB2ZXJzaW9uIG9mIGBkYXRlanNgLCB3aGljaCBwYXRjaGVkIGBEYXRlLm5vd2AgdG8gcmV0dXJuIGEgRGF0ZVxuICAgIC8vIGluc3RhbmNlIGluc3RlYWQgb2YgYSB0aW1lc3RhbXBbMV0uIFRob3NlIHVzZXJzIGFyZSB1bmxpa2VseSB0byBmaXggdGhpcywgc28gbGV0J3MgaGFuZGxlIHRoaXNcbiAgICAvLyBjYXNlIG91cnNlbHZlcy5cbiAgICAvLyBbMV06IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlanMvRGF0ZWpzL2Jsb2IvOTdmNWM3YzU4YzViYzVhY2NkYWI4YWE3NjAyYjZhYzU2NDYyZDc3OC9zcmMvY29yZS1kZWJ1Zy5qcyNMMTQtTDE2XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVTdGFtcE5vdygpIHtcbiAgICByZXR1cm4gZGF0ZU5vdygpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlTm93KCkge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja3NOb3coKSB7XG4gICAgcmV0dXJuIHsgcmVsYXRpdmU6IHJlbGF0aXZlTm93KCksIHRpbWVTdGFtcDogdGltZVN0YW1wTm93KCkgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja3NPcmlnaW4oKSB7XG4gICAgcmV0dXJuIHsgcmVsYXRpdmU6IDAsIHRpbWVTdGFtcDogZ2V0TmF2aWdhdGlvblN0YXJ0KCkgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbGFwc2VkKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gKGVuZCAtIHN0YXJ0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGREdXJhdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiO1xufVxuLyoqXG4gKiBHZXQgdGhlIHRpbWUgc2luY2UgdGhlIG5hdmlnYXRpb24gd2FzIHN0YXJ0ZWQuXG4gKlxuICogTm90ZTogdGhpcyBkb2VzIG5vdCB1c2UgYHBlcmZvcm1hbmNlLnRpbWVPcmlnaW5gIGJlY2F1c2UgaXQgZG9lc24ndCBzZWVtIHRvIHJlZmxlY3QgdGhlIGFjdHVhbFxuICogdGltZSBvbiB3aGljaCB0aGUgbmF2aWdhdGlvbiBoYXMgc3RhcnRlZDogaXQgbWF5IGJlIG11Y2ggZmFydGhlciBpbiB0aGUgcGFzdCwgYXQgbGVhc3QgaW4gRmlyZWZveCA3MS5cbiAqIFJlbGF0ZWQgaXNzdWUgaW4gRmlyZWZveDogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyOTkyNlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lKHRpbWVzdGFtcCkge1xuICAgIHJldHVybiAodGltZXN0YW1wIC0gZ2V0TmF2aWdhdGlvblN0YXJ0KCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWVTdGFtcChyZWxhdGl2ZVRpbWUpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChhZGREdXJhdGlvbihnZXROYXZpZ2F0aW9uU3RhcnQoKSwgcmVsYXRpdmVUaW1lKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9va3NMaWtlUmVsYXRpdmVUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gdGltZSA8IE9ORV9ZRUFSO1xufVxuLyoqXG4gKiBOYXZpZ2F0aW9uIHN0YXJ0IHNsaWdodGx5IGNoYW5nZSBvbiBzb21lIHJhcmUgY2FzZXNcbiAqL1xudmFyIG5hdmlnYXRpb25TdGFydDtcbmZ1bmN0aW9uIGdldE5hdmlnYXRpb25TdGFydCgpIHtcbiAgICBpZiAobmF2aWdhdGlvblN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmF2aWdhdGlvblN0YXJ0ID0gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDtcbiAgICB9XG4gICAgcmV0dXJuIG5hdmlnYXRpb25TdGFydDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldE5hdmlnYXRpb25TdGFydCgpIHtcbiAgICBuYXZpZ2F0aW9uU3RhcnQgPSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getType\": () => (/* binding */ getType)\n/* harmony export */ });\n/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\nfunction getType(value) {\n    if (value === null) {\n        return 'null';\n    }\n    if (Array.isArray(value)) {\n        return 'array';\n    }\n    return typeof value;\n}\n//# sourceMappingURL=typeUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdHlwZVV0aWxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL3R5cGVVdGlscy5qcz9mMGQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltaWxhciB0byBgdHlwZW9mYCwgYnV0IGRpc3Rpbmd1aXNoIHBsYWluIG9iamVjdHMgZnJvbSBgbnVsbGAgYW5kIGFycmF5c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgdmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildUrl\": () => (/* binding */ buildUrl),\n/* harmony export */   \"getHash\": () => (/* binding */ getHash),\n/* harmony export */   \"getLinkElementOrigin\": () => (/* binding */ getLinkElementOrigin),\n/* harmony export */   \"getLocationOrigin\": () => (/* binding */ getLocationOrigin),\n/* harmony export */   \"getOrigin\": () => (/* binding */ getOrigin),\n/* harmony export */   \"getPathName\": () => (/* binding */ getPathName),\n/* harmony export */   \"getSearch\": () => (/* binding */ getSearch),\n/* harmony export */   \"isValidUrl\": () => (/* binding */ isValidUrl),\n/* harmony export */   \"normalizeUrl\": () => (/* binding */ normalizeUrl)\n/* harmony export */ });\n/* harmony import */ var _serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../serialisation/jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\nfunction normalizeUrl(url) {\n    return buildUrl(url, getLocationOrigin()).href;\n}\nfunction isValidUrl(url) {\n    try {\n        return !!buildUrl(url);\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction getOrigin(url) {\n    return getLinkElementOrigin(buildUrl(url));\n}\nfunction getPathName(url) {\n    var pathname = buildUrl(url).pathname;\n    return pathname[0] === '/' ? pathname : \"/\".concat(pathname);\n}\nfunction getSearch(url) {\n    return buildUrl(url).search;\n}\nfunction getHash(url) {\n    return buildUrl(url).hash;\n}\nfunction buildUrl(url, base) {\n    var supportedURL = getSupportedUrl();\n    if (supportedURL) {\n        try {\n            return base !== undefined ? new supportedURL(url, base) : new supportedURL(url);\n        }\n        catch (error) {\n            throw new Error(\"Failed to construct URL: \".concat(String(error), \" \").concat((0,_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)({ url: url, base: base })));\n        }\n    }\n    if (base === undefined && !/:/.test(url)) {\n        throw new Error(\"Invalid URL: '\".concat(url, \"'\"));\n    }\n    var doc = document;\n    var anchorElement = doc.createElement('a');\n    if (base !== undefined) {\n        doc = document.implementation.createHTMLDocument('');\n        var baseElement = doc.createElement('base');\n        baseElement.href = base;\n        doc.head.appendChild(baseElement);\n        doc.body.appendChild(anchorElement);\n    }\n    anchorElement.href = url;\n    return anchorElement;\n}\nvar originalURL = URL;\nvar isURLSupported;\nfunction getSupportedUrl() {\n    if (isURLSupported === undefined) {\n        try {\n            var url = new originalURL('http://test/path');\n            isURLSupported = url.href === 'http://test/path';\n        }\n        catch (_a) {\n            isURLSupported = false;\n        }\n    }\n    return isURLSupported ? originalURL : undefined;\n}\nfunction getLocationOrigin() {\n    return getLinkElementOrigin(window.location);\n}\n/**\n * Fallback\n * On IE HTMLAnchorElement origin is not supported: https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n * On Firefox window.location.origin is \"null\" for file: URIs: https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n */\nfunction getLinkElementOrigin(element) {\n    if (element.origin && element.origin !== 'null') {\n        return element.origin;\n    }\n    var sanitizedHost = element.host.replace(/(:80|:443)$/, '');\n    return \"\".concat(element.protocol, \"//\").concat(sanitizedHost);\n}\n//# sourceMappingURL=urlPolyfill.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdXJsUG9seWZpbGwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy91cmxQb2x5ZmlsbC5qcz8wMTEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzb25TdHJpbmdpZnkgfSBmcm9tICcuLi9zZXJpYWxpc2F0aW9uL2pzb25TdHJpbmdpZnknO1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVVybCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsLCBnZXRMb2NhdGlvbk9yaWdpbigpKS5ocmVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRVcmwodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuICEhYnVpbGRVcmwodXJsKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZ2luKHVybCkge1xuICAgIHJldHVybiBnZXRMaW5rRWxlbWVudE9yaWdpbihidWlsZFVybCh1cmwpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoTmFtZSh1cmwpIHtcbiAgICB2YXIgcGF0aG5hbWUgPSBidWlsZFVybCh1cmwpLnBhdGhuYW1lO1xuICAgIHJldHVybiBwYXRobmFtZVswXSA9PT0gJy8nID8gcGF0aG5hbWUgOiBcIi9cIi5jb25jYXQocGF0aG5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlYXJjaCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsKS5zZWFyY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsKS5oYXNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgYmFzZSkge1xuICAgIHZhciBzdXBwb3J0ZWRVUkwgPSBnZXRTdXBwb3J0ZWRVcmwoKTtcbiAgICBpZiAoc3VwcG9ydGVkVVJMKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZSAhPT0gdW5kZWZpbmVkID8gbmV3IHN1cHBvcnRlZFVSTCh1cmwsIGJhc2UpIDogbmV3IHN1cHBvcnRlZFVSTCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBVUkw6IFwiLmNvbmNhdChTdHJpbmcoZXJyb3IpLCBcIiBcIikuY29uY2F0KGpzb25TdHJpbmdpZnkoeyB1cmw6IHVybCwgYmFzZTogYmFzZSB9KSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChiYXNlID09PSB1bmRlZmluZWQgJiYgIS86Ly50ZXN0KHVybCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVUkw6ICdcIi5jb25jYXQodXJsLCBcIidcIikpO1xuICAgIH1cbiAgICB2YXIgZG9jID0gZG9jdW1lbnQ7XG4gICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTtcbiAgICAgICAgdmFyIGJhc2VFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcbiAgICAgICAgYmFzZUVsZW1lbnQuaHJlZiA9IGJhc2U7XG4gICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKGJhc2VFbGVtZW50KTtcbiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yRWxlbWVudCk7XG4gICAgfVxuICAgIGFuY2hvckVsZW1lbnQuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYW5jaG9yRWxlbWVudDtcbn1cbnZhciBvcmlnaW5hbFVSTCA9IFVSTDtcbnZhciBpc1VSTFN1cHBvcnRlZDtcbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFVybCgpIHtcbiAgICBpZiAoaXNVUkxTdXBwb3J0ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHVybCA9IG5ldyBvcmlnaW5hbFVSTCgnaHR0cDovL3Rlc3QvcGF0aCcpO1xuICAgICAgICAgICAgaXNVUkxTdXBwb3J0ZWQgPSB1cmwuaHJlZiA9PT0gJ2h0dHA6Ly90ZXN0L3BhdGgnO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgaXNVUkxTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNVUkxTdXBwb3J0ZWQgPyBvcmlnaW5hbFVSTCA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhdGlvbk9yaWdpbigpIHtcbiAgICByZXR1cm4gZ2V0TGlua0VsZW1lbnRPcmlnaW4od2luZG93LmxvY2F0aW9uKTtcbn1cbi8qKlxuICogRmFsbGJhY2tcbiAqIE9uIElFIEhUTUxBbmNob3JFbGVtZW50IG9yaWdpbiBpcyBub3Qgc3VwcG9ydGVkOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEh5cGVybGlua0VsZW1lbnRVdGlscy9vcmlnaW5cbiAqIE9uIEZpcmVmb3ggd2luZG93LmxvY2F0aW9uLm9yaWdpbiBpcyBcIm51bGxcIiBmb3IgZmlsZTogVVJJczogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODc4Mjk3XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW5rRWxlbWVudE9yaWdpbihlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQub3JpZ2luICYmIGVsZW1lbnQub3JpZ2luICE9PSAnbnVsbCcpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQub3JpZ2luO1xuICAgIH1cbiAgICB2YXIgc2FuaXRpemVkSG9zdCA9IGVsZW1lbnQuaG9zdC5yZXBsYWNlKC8oOjgwfDo0NDMpJC8sICcnKTtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoZWxlbWVudC5wcm90b2NvbCwgXCIvL1wiKS5jb25jYXQoc2FuaXRpemVkSG9zdCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxQb2x5ZmlsbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CLEAR_OLD_VALUES_INTERVAL\": () => (/* binding */ CLEAR_OLD_VALUES_INTERVAL),\n/* harmony export */   \"ValueHistory\": () => (/* binding */ ValueHistory)\n/* harmony export */ });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\n\nvar END_OF_TIMES = Infinity;\nvar CLEAR_OLD_VALUES_INTERVAL = _utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\n/**\n * Store and keep track of values spans. This whole class assumes that values are added in\n * chronological order (i.e. all entries have an increasing start time).\n */\nvar ValueHistory = /** @class */ (function () {\n    function ValueHistory(expireDelay, maxEntries) {\n        var _this = this;\n        this.expireDelay = expireDelay;\n        this.maxEntries = maxEntries;\n        this.entries = [];\n        this.clearOldValuesInterval = (0,_timer__WEBPACK_IMPORTED_MODULE_1__.setInterval)(function () { return _this.clearOldValues(); }, CLEAR_OLD_VALUES_INTERVAL);\n    }\n    /**\n     * Add a value to the history associated with a start time. Returns a reference to this newly\n     * added entry that can be removed or closed.\n     */\n    ValueHistory.prototype.add = function (value, startTime) {\n        var _this = this;\n        var entry = {\n            value: value,\n            startTime: startTime,\n            endTime: END_OF_TIMES,\n            remove: function () {\n                var index = _this.entries.indexOf(entry);\n                if (index >= 0) {\n                    _this.entries.splice(index, 1);\n                }\n            },\n            close: function (endTime) {\n                entry.endTime = endTime;\n            },\n        };\n        if (this.maxEntries && this.entries.length >= this.maxEntries) {\n            this.entries.pop();\n        }\n        this.entries.unshift(entry);\n        return entry;\n    };\n    /**\n     * Return the latest value that was active during `startTime`, or the currently active value\n     * if no `startTime` is provided. This method assumes that entries are not overlapping.\n     */\n    ValueHistory.prototype.find = function (startTime) {\n        if (startTime === void 0) { startTime = END_OF_TIMES; }\n        for (var _i = 0, _a = this.entries; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.startTime <= startTime) {\n                if (startTime <= entry.endTime) {\n                    return entry.value;\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * Helper function to close the currently active value, if any. This method assumes that entries\n     * are not overlapping.\n     */\n    ValueHistory.prototype.closeActive = function (endTime) {\n        var latestEntry = this.entries[0];\n        if (latestEntry && latestEntry.endTime === END_OF_TIMES) {\n            latestEntry.close(endTime);\n        }\n    };\n    /**\n     * Return all values with an active period overlapping with the duration,\n     * or all values that were active during `startTime` if no duration is provided,\n     * or all currently active values if no `startTime` is provided.\n     */\n    ValueHistory.prototype.findAll = function (startTime, duration) {\n        if (startTime === void 0) { startTime = END_OF_TIMES; }\n        if (duration === void 0) { duration = 0; }\n        var endTime = (0,_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.addDuration)(startTime, duration);\n        return this.entries\n            .filter(function (entry) { return entry.startTime <= endTime && startTime <= entry.endTime; })\n            .map(function (entry) { return entry.value; });\n    };\n    /**\n     * Remove all entries from this collection.\n     */\n    ValueHistory.prototype.reset = function () {\n        this.entries = [];\n    };\n    /**\n     * Stop internal garbage collection of past entries.\n     */\n    ValueHistory.prototype.stop = function () {\n        (0,_timer__WEBPACK_IMPORTED_MODULE_1__.clearInterval)(this.clearOldValuesInterval);\n    };\n    ValueHistory.prototype.clearOldValues = function () {\n        var oldTimeThreshold = (0,_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.relativeNow)() - this.expireDelay;\n        while (this.entries.length > 0 && this.entries[this.entries.length - 1].endTime < oldTimeThreshold) {\n            this.entries.pop();\n        }\n    };\n    return ValueHistory;\n}());\n\n//# sourceMappingURL=valueHistory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdmFsdWVIaXN0b3J5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3ZhbHVlSGlzdG9yeS5qcz8wYzE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldEludGVydmFsLCBjbGVhckludGVydmFsIH0gZnJvbSAnLi90aW1lcic7XG5pbXBvcnQgeyBhZGREdXJhdGlvbiwgcmVsYXRpdmVOb3csIE9ORV9NSU5VVEUgfSBmcm9tICcuL3V0aWxzL3RpbWVVdGlscyc7XG52YXIgRU5EX09GX1RJTUVTID0gSW5maW5pdHk7XG5leHBvcnQgdmFyIENMRUFSX09MRF9WQUxVRVNfSU5URVJWQUwgPSBPTkVfTUlOVVRFO1xuLyoqXG4gKiBTdG9yZSBhbmQga2VlcCB0cmFjayBvZiB2YWx1ZXMgc3BhbnMuIFRoaXMgd2hvbGUgY2xhc3MgYXNzdW1lcyB0aGF0IHZhbHVlcyBhcmUgYWRkZWQgaW5cbiAqIGNocm9ub2xvZ2ljYWwgb3JkZXIgKGkuZS4gYWxsIGVudHJpZXMgaGF2ZSBhbiBpbmNyZWFzaW5nIHN0YXJ0IHRpbWUpLlxuICovXG52YXIgVmFsdWVIaXN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhbHVlSGlzdG9yeShleHBpcmVEZWxheSwgbWF4RW50cmllcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmV4cGlyZURlbGF5ID0gZXhwaXJlRGVsYXk7XG4gICAgICAgIHRoaXMubWF4RW50cmllcyA9IG1heEVudHJpZXM7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IFtdO1xuICAgICAgICB0aGlzLmNsZWFyT2xkVmFsdWVzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jbGVhck9sZFZhbHVlcygpOyB9LCBDTEVBUl9PTERfVkFMVUVTX0lOVEVSVkFMKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgdmFsdWUgdG8gdGhlIGhpc3RvcnkgYXNzb2NpYXRlZCB3aXRoIGEgc3RhcnQgdGltZS4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIG5ld2x5XG4gICAgICogYWRkZWQgZW50cnkgdGhhdCBjYW4gYmUgcmVtb3ZlZCBvciBjbG9zZWQuXG4gICAgICovXG4gICAgVmFsdWVIaXN0b3J5LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUsIHN0YXJ0VGltZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgIGVuZFRpbWU6IEVORF9PRl9USU1FUyxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmVudHJpZXMuaW5kZXhPZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gKGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS5lbmRUaW1lID0gZW5kVGltZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm1heEVudHJpZXMgJiYgdGhpcy5lbnRyaWVzLmxlbmd0aCA+PSB0aGlzLm1heEVudHJpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZW50cmllcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVudHJpZXMudW5zaGlmdChlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGF0ZXN0IHZhbHVlIHRoYXQgd2FzIGFjdGl2ZSBkdXJpbmcgYHN0YXJ0VGltZWAsIG9yIHRoZSBjdXJyZW50bHkgYWN0aXZlIHZhbHVlXG4gICAgICogaWYgbm8gYHN0YXJ0VGltZWAgaXMgcHJvdmlkZWQuIFRoaXMgbWV0aG9kIGFzc3VtZXMgdGhhdCBlbnRyaWVzIGFyZSBub3Qgb3ZlcmxhcHBpbmcuXG4gICAgICovXG4gICAgVmFsdWVIaXN0b3J5LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHN0YXJ0VGltZSkge1xuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSB2b2lkIDApIHsgc3RhcnRUaW1lID0gRU5EX09GX1RJTUVTOyB9XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmVudHJpZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfYVtfaV07XG4gICAgICAgICAgICBpZiAoZW50cnkuc3RhcnRUaW1lIDw9IHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPD0gZW50cnkuZW5kVGltZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gY2xvc2UgdGhlIGN1cnJlbnRseSBhY3RpdmUgdmFsdWUsIGlmIGFueS4gVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IGVudHJpZXNcbiAgICAgKiBhcmUgbm90IG92ZXJsYXBwaW5nLlxuICAgICAqL1xuICAgIFZhbHVlSGlzdG9yeS5wcm90b3R5cGUuY2xvc2VBY3RpdmUgPSBmdW5jdGlvbiAoZW5kVGltZSkge1xuICAgICAgICB2YXIgbGF0ZXN0RW50cnkgPSB0aGlzLmVudHJpZXNbMF07XG4gICAgICAgIGlmIChsYXRlc3RFbnRyeSAmJiBsYXRlc3RFbnRyeS5lbmRUaW1lID09PSBFTkRfT0ZfVElNRVMpIHtcbiAgICAgICAgICAgIGxhdGVzdEVudHJ5LmNsb3NlKGVuZFRpbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIHZhbHVlcyB3aXRoIGFuIGFjdGl2ZSBwZXJpb2Qgb3ZlcmxhcHBpbmcgd2l0aCB0aGUgZHVyYXRpb24sXG4gICAgICogb3IgYWxsIHZhbHVlcyB0aGF0IHdlcmUgYWN0aXZlIGR1cmluZyBgc3RhcnRUaW1lYCBpZiBubyBkdXJhdGlvbiBpcyBwcm92aWRlZCxcbiAgICAgKiBvciBhbGwgY3VycmVudGx5IGFjdGl2ZSB2YWx1ZXMgaWYgbm8gYHN0YXJ0VGltZWAgaXMgcHJvdmlkZWQuXG4gICAgICovXG4gICAgVmFsdWVIaXN0b3J5LnByb3RvdHlwZS5maW5kQWxsID0gZnVuY3Rpb24gKHN0YXJ0VGltZSwgZHVyYXRpb24pIHtcbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gdm9pZCAwKSB7IHN0YXJ0VGltZSA9IEVORF9PRl9USU1FUzsgfVxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IHZvaWQgMCkgeyBkdXJhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGVuZFRpbWUgPSBhZGREdXJhdGlvbihzdGFydFRpbWUsIGR1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LnN0YXJ0VGltZSA8PSBlbmRUaW1lICYmIHN0YXJ0VGltZSA8PSBlbnRyeS5lbmRUaW1lOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LnZhbHVlOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgZW50cmllcyBmcm9tIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBWYWx1ZUhpc3RvcnkucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBbXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3AgaW50ZXJuYWwgZ2FyYmFnZSBjb2xsZWN0aW9uIG9mIHBhc3QgZW50cmllcy5cbiAgICAgKi9cbiAgICBWYWx1ZUhpc3RvcnkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jbGVhck9sZFZhbHVlc0ludGVydmFsKTtcbiAgICB9O1xuICAgIFZhbHVlSGlzdG9yeS5wcm90b3R5cGUuY2xlYXJPbGRWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvbGRUaW1lVGhyZXNob2xkID0gcmVsYXRpdmVOb3coKSAtIHRoaXMuZXhwaXJlRGVsYXk7XG4gICAgICAgIHdoaWxlICh0aGlzLmVudHJpZXMubGVuZ3RoID4gMCAmJiB0aGlzLmVudHJpZXNbdGhpcy5lbnRyaWVzLmxlbmd0aCAtIDFdLmVuZFRpbWUgPCBvbGRUaW1lVGhyZXNob2xkKSB7XG4gICAgICAgICAgICB0aGlzLmVudHJpZXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBWYWx1ZUhpc3Rvcnk7XG59KCkpO1xuZXhwb3J0IHsgVmFsdWVIaXN0b3J5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWx1ZUhpc3RvcnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/transport/batch.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/batch.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Batch\": () => (/* binding */ Batch)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/display */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _browser_pageExitObservable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../browser/pageExitObservable */ \"../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/serialisation/jsonStringify */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n\n\nvar Batch = /** @class */ (function () {\n    function Batch(request, flushController, messageBytesLimit) {\n        var _this = this;\n        this.request = request;\n        this.flushController = flushController;\n        this.messageBytesLimit = messageBytesLimit;\n        this.pushOnlyBuffer = [];\n        this.upsertBuffer = {};\n        this.flushSubscription = this.flushController.flushObservable.subscribe(function (event) { return _this.flush(event); });\n    }\n    Batch.prototype.add = function (message) {\n        this.addOrUpdate(message);\n    };\n    Batch.prototype.upsert = function (message, key) {\n        this.addOrUpdate(message, key);\n    };\n    Batch.prototype.stop = function () {\n        this.flushSubscription.unsubscribe();\n    };\n    Batch.prototype.flush = function (event) {\n        var messages = this.pushOnlyBuffer.concat((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.objectValues)(this.upsertBuffer));\n        this.pushOnlyBuffer = [];\n        this.upsertBuffer = {};\n        var payload = { data: messages.join('\\n'), bytesCount: event.bytesCount, flushReason: event.reason };\n        if ((0,_browser_pageExitObservable__WEBPACK_IMPORTED_MODULE_1__.isPageExitReason)(event.reason)) {\n            this.request.sendOnExit(payload);\n        }\n        else {\n            this.request.send(payload);\n        }\n    };\n    Batch.prototype.addOrUpdate = function (message, key) {\n        var _a = this.process(message), processedMessage = _a.processedMessage, messageBytesCount = _a.messageBytesCount;\n        if (messageBytesCount >= this.messageBytesLimit) {\n            _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.warn(\"Discarded a message whose size was bigger than the maximum allowed size \".concat(this.messageBytesLimit, \"KB.\"));\n            return;\n        }\n        if (this.hasMessageFor(key)) {\n            this.remove(key);\n        }\n        this.push(processedMessage, messageBytesCount, key);\n    };\n    Batch.prototype.process = function (message) {\n        var processedMessage = (0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_3__.jsonStringify)(message);\n        var messageBytesCount = (0,_tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_4__.computeBytesCount)(processedMessage);\n        return { processedMessage: processedMessage, messageBytesCount: messageBytesCount };\n    };\n    Batch.prototype.push = function (processedMessage, messageBytesCount, key) {\n        // If there are other messages, a '\\n' will be added at serialization\n        var separatorBytesCount = this.flushController.messagesCount > 0 ? 1 : 0;\n        this.flushController.notifyBeforeAddMessage(messageBytesCount + separatorBytesCount);\n        if (key !== undefined) {\n            this.upsertBuffer[key] = processedMessage;\n        }\n        else {\n            this.pushOnlyBuffer.push(processedMessage);\n        }\n        this.flushController.notifyAfterAddMessage();\n    };\n    Batch.prototype.remove = function (key) {\n        var removedMessage = this.upsertBuffer[key];\n        delete this.upsertBuffer[key];\n        var messageBytesCount = (0,_tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_4__.computeBytesCount)(removedMessage);\n        // If there are other messages, a '\\n' will be added at serialization\n        var separatorBytesCount = this.flushController.messagesCount > 1 ? 1 : 0;\n        this.flushController.notifyAfterRemoveMessage(messageBytesCount + separatorBytesCount);\n    };\n    Batch.prototype.hasMessageFor = function (key) {\n        return key !== undefined && this.upsertBuffer[key] !== undefined;\n    };\n    return Batch;\n}());\n\n//# sourceMappingURL=batch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2JhdGNoLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2JhdGNoLmpzPzQ0YmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uL3Rvb2xzL2Rpc3BsYXknO1xuaW1wb3J0IHsgb2JqZWN0VmFsdWVzIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGlzUGFnZUV4aXRSZWFzb24gfSBmcm9tICcuLi9icm93c2VyL3BhZ2VFeGl0T2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBjb21wdXRlQnl0ZXNDb3VudCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL2J5dGVVdGlscyc7XG5pbXBvcnQgeyBqc29uU3RyaW5naWZ5IH0gZnJvbSAnLi4vdG9vbHMvc2VyaWFsaXNhdGlvbi9qc29uU3RyaW5naWZ5JztcbnZhciBCYXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaChyZXF1ZXN0LCBmbHVzaENvbnRyb2xsZXIsIG1lc3NhZ2VCeXRlc0xpbWl0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZmx1c2hDb250cm9sbGVyID0gZmx1c2hDb250cm9sbGVyO1xuICAgICAgICB0aGlzLm1lc3NhZ2VCeXRlc0xpbWl0ID0gbWVzc2FnZUJ5dGVzTGltaXQ7XG4gICAgICAgIHRoaXMucHVzaE9ubHlCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy51cHNlcnRCdWZmZXIgPSB7fTtcbiAgICAgICAgdGhpcy5mbHVzaFN1YnNjcmlwdGlvbiA9IHRoaXMuZmx1c2hDb250cm9sbGVyLmZsdXNoT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5mbHVzaChldmVudCk7IH0pO1xuICAgIH1cbiAgICBCYXRjaC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5hZGRPclVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS51cHNlcnQgPSBmdW5jdGlvbiAobWVzc2FnZSwga2V5KSB7XG4gICAgICAgIHRoaXMuYWRkT3JVcGRhdGUobWVzc2FnZSwga2V5KTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZsdXNoU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5wdXNoT25seUJ1ZmZlci5jb25jYXQob2JqZWN0VmFsdWVzKHRoaXMudXBzZXJ0QnVmZmVyKSk7XG4gICAgICAgIHRoaXMucHVzaE9ubHlCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy51cHNlcnRCdWZmZXIgPSB7fTtcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7IGRhdGE6IG1lc3NhZ2VzLmpvaW4oJ1xcbicpLCBieXRlc0NvdW50OiBldmVudC5ieXRlc0NvdW50LCBmbHVzaFJlYXNvbjogZXZlbnQucmVhc29uIH07XG4gICAgICAgIGlmIChpc1BhZ2VFeGl0UmVhc29uKGV2ZW50LnJlYXNvbikpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5zZW5kT25FeGl0KHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnNlbmQocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5hZGRPclVwZGF0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9jZXNzKG1lc3NhZ2UpLCBwcm9jZXNzZWRNZXNzYWdlID0gX2EucHJvY2Vzc2VkTWVzc2FnZSwgbWVzc2FnZUJ5dGVzQ291bnQgPSBfYS5tZXNzYWdlQnl0ZXNDb3VudDtcbiAgICAgICAgaWYgKG1lc3NhZ2VCeXRlc0NvdW50ID49IHRoaXMubWVzc2FnZUJ5dGVzTGltaXQpIHtcbiAgICAgICAgICAgIGRpc3BsYXkud2FybihcIkRpc2NhcmRlZCBhIG1lc3NhZ2Ugd2hvc2Ugc2l6ZSB3YXMgYmlnZ2VyIHRoYW4gdGhlIG1heGltdW0gYWxsb3dlZCBzaXplIFwiLmNvbmNhdCh0aGlzLm1lc3NhZ2VCeXRlc0xpbWl0LCBcIktCLlwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzTWVzc2FnZUZvcihrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHVzaChwcm9jZXNzZWRNZXNzYWdlLCBtZXNzYWdlQnl0ZXNDb3VudCwga2V5KTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHByb2Nlc3NlZE1lc3NhZ2UgPSBqc29uU3RyaW5naWZ5KG1lc3NhZ2UpO1xuICAgICAgICB2YXIgbWVzc2FnZUJ5dGVzQ291bnQgPSBjb21wdXRlQnl0ZXNDb3VudChwcm9jZXNzZWRNZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHsgcHJvY2Vzc2VkTWVzc2FnZTogcHJvY2Vzc2VkTWVzc2FnZSwgbWVzc2FnZUJ5dGVzQ291bnQ6IG1lc3NhZ2VCeXRlc0NvdW50IH07XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChwcm9jZXNzZWRNZXNzYWdlLCBtZXNzYWdlQnl0ZXNDb3VudCwga2V5KSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBvdGhlciBtZXNzYWdlcywgYSAnXFxuJyB3aWxsIGJlIGFkZGVkIGF0IHNlcmlhbGl6YXRpb25cbiAgICAgICAgdmFyIHNlcGFyYXRvckJ5dGVzQ291bnQgPSB0aGlzLmZsdXNoQ29udHJvbGxlci5tZXNzYWdlc0NvdW50ID4gMCA/IDEgOiAwO1xuICAgICAgICB0aGlzLmZsdXNoQ29udHJvbGxlci5ub3RpZnlCZWZvcmVBZGRNZXNzYWdlKG1lc3NhZ2VCeXRlc0NvdW50ICsgc2VwYXJhdG9yQnl0ZXNDb3VudCk7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cHNlcnRCdWZmZXJba2V5XSA9IHByb2Nlc3NlZE1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hPbmx5QnVmZmVyLnB1c2gocHJvY2Vzc2VkTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbHVzaENvbnRyb2xsZXIubm90aWZ5QWZ0ZXJBZGRNZXNzYWdlKCk7XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgcmVtb3ZlZE1lc3NhZ2UgPSB0aGlzLnVwc2VydEJ1ZmZlcltrZXldO1xuICAgICAgICBkZWxldGUgdGhpcy51cHNlcnRCdWZmZXJba2V5XTtcbiAgICAgICAgdmFyIG1lc3NhZ2VCeXRlc0NvdW50ID0gY29tcHV0ZUJ5dGVzQ291bnQocmVtb3ZlZE1lc3NhZ2UpO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgb3RoZXIgbWVzc2FnZXMsIGEgJ1xcbicgd2lsbCBiZSBhZGRlZCBhdCBzZXJpYWxpemF0aW9uXG4gICAgICAgIHZhciBzZXBhcmF0b3JCeXRlc0NvdW50ID0gdGhpcy5mbHVzaENvbnRyb2xsZXIubWVzc2FnZXNDb3VudCA+IDEgPyAxIDogMDtcbiAgICAgICAgdGhpcy5mbHVzaENvbnRyb2xsZXIubm90aWZ5QWZ0ZXJSZW1vdmVNZXNzYWdlKG1lc3NhZ2VCeXRlc0NvdW50ICsgc2VwYXJhdG9yQnl0ZXNDb3VudCk7XG4gICAgfTtcbiAgICBCYXRjaC5wcm90b3R5cGUuaGFzTWVzc2FnZUZvciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudXBzZXJ0QnVmZmVyW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBCYXRjaDtcbn0oKSk7XG5leHBvcnQgeyBCYXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmF0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/transport/batch.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"canUseEventBridge\": () => (/* binding */ canUseEventBridge),\n/* harmony export */   \"getEventBridge\": () => (/* binding */ getEventBridge)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/getGlobalObject */ \"../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n\n\nfunction getEventBridge() {\n    var eventBridgeGlobal = getEventBridgeGlobal();\n    if (!eventBridgeGlobal) {\n        return;\n    }\n    return {\n        getAllowedWebViewHosts: function () {\n            return JSON.parse(eventBridgeGlobal.getAllowedWebViewHosts());\n        },\n        send: function (eventType, event) {\n            eventBridgeGlobal.send(JSON.stringify({ eventType: eventType, event: event }));\n        },\n    };\n}\nfunction canUseEventBridge(currentHost) {\n    var _a;\n    if (currentHost === void 0) { currentHost = (_a = (0,_tools_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)().location) === null || _a === void 0 ? void 0 : _a.hostname; }\n    var bridge = getEventBridge();\n    return (!!bridge &&\n        bridge\n            .getAllowedWebViewHosts()\n            .some(function (allowedHost) { return currentHost === allowedHost || (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.endsWith)(currentHost, \".\".concat(allowedHost)); }));\n}\nfunction getEventBridgeGlobal() {\n    return (0,_tools_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)().DatadogEventBridge;\n}\n//# sourceMappingURL=eventBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2V2ZW50QnJpZGdlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2V2ZW50QnJpZGdlLmpzPzliNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5kc1dpdGggfSBmcm9tICcuLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnLi4vdG9vbHMvZ2V0R2xvYmFsT2JqZWN0JztcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudEJyaWRnZSgpIHtcbiAgICB2YXIgZXZlbnRCcmlkZ2VHbG9iYWwgPSBnZXRFdmVudEJyaWRnZUdsb2JhbCgpO1xuICAgIGlmICghZXZlbnRCcmlkZ2VHbG9iYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRBbGxvd2VkV2ViVmlld0hvc3RzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShldmVudEJyaWRnZUdsb2JhbC5nZXRBbGxvd2VkV2ViVmlld0hvc3RzKCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZW5kOiBmdW5jdGlvbiAoZXZlbnRUeXBlLCBldmVudCkge1xuICAgICAgICAgICAgZXZlbnRCcmlkZ2VHbG9iYWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGV2ZW50VHlwZTogZXZlbnRUeXBlLCBldmVudDogZXZlbnQgfSkpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlRXZlbnRCcmlkZ2UoY3VycmVudEhvc3QpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGN1cnJlbnRIb3N0ID09PSB2b2lkIDApIHsgY3VycmVudEhvc3QgPSAoX2EgPSBnZXRHbG9iYWxPYmplY3QoKS5sb2NhdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhvc3RuYW1lOyB9XG4gICAgdmFyIGJyaWRnZSA9IGdldEV2ZW50QnJpZGdlKCk7XG4gICAgcmV0dXJuICghIWJyaWRnZSAmJlxuICAgICAgICBicmlkZ2VcbiAgICAgICAgICAgIC5nZXRBbGxvd2VkV2ViVmlld0hvc3RzKClcbiAgICAgICAgICAgIC5zb21lKGZ1bmN0aW9uIChhbGxvd2VkSG9zdCkgeyByZXR1cm4gY3VycmVudEhvc3QgPT09IGFsbG93ZWRIb3N0IHx8IGVuZHNXaXRoKGN1cnJlbnRIb3N0LCBcIi5cIi5jb25jYXQoYWxsb3dlZEhvc3QpKTsgfSkpO1xufVxuZnVuY3Rpb24gZ2V0RXZlbnRCcmlkZ2VHbG9iYWwoKSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbE9iamVjdCgpLkRhdGFkb2dFdmVudEJyaWRnZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50QnJpZGdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/transport/flushController.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/flushController.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createFlushController\": () => (/* binding */ createFlushController)\n/* harmony export */ });\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n\n\n/**\n * Returns a \"flush controller\", responsible of notifying when flushing a pool of pending data needs\n * to happen. The implementation is designed to support both synchronous and asynchronous usages,\n * but relies on invariants described in each method documentation to keep a coherent state.\n */\nfunction createFlushController(_a) {\n    var messagesLimit = _a.messagesLimit, bytesLimit = _a.bytesLimit, durationLimit = _a.durationLimit, pageExitObservable = _a.pageExitObservable, sessionExpireObservable = _a.sessionExpireObservable;\n    var pageExitSubscription = pageExitObservable.subscribe(function (event) { return flush(event.reason); });\n    var sessionExpireSubscription = sessionExpireObservable.subscribe(function () { return flush('session_expire'); });\n    var flushObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () { return function () {\n        pageExitSubscription.unsubscribe();\n        sessionExpireSubscription.unsubscribe();\n    }; });\n    var currentBytesCount = 0;\n    var currentMessagesCount = 0;\n    function flush(flushReason) {\n        if (currentMessagesCount === 0) {\n            return;\n        }\n        var messagesCount = currentMessagesCount;\n        var bytesCount = currentBytesCount;\n        currentMessagesCount = 0;\n        currentBytesCount = 0;\n        cancelDurationLimitTimeout();\n        flushObservable.notify({\n            reason: flushReason,\n            messagesCount: messagesCount,\n            bytesCount: bytesCount,\n        });\n    }\n    var durationLimitTimeoutId;\n    function scheduleDurationLimitTimeout() {\n        if (durationLimitTimeoutId === undefined) {\n            durationLimitTimeoutId = (0,_tools_timer__WEBPACK_IMPORTED_MODULE_1__.setTimeout)(function () {\n                flush('duration_limit');\n            }, durationLimit);\n        }\n    }\n    function cancelDurationLimitTimeout() {\n        (0,_tools_timer__WEBPACK_IMPORTED_MODULE_1__.clearTimeout)(durationLimitTimeoutId);\n        durationLimitTimeoutId = undefined;\n    }\n    return {\n        flushObservable: flushObservable,\n        get messagesCount() {\n            return currentMessagesCount;\n        },\n        /**\n         * Notifies that a message will be added to a pool of pending messages waiting to be flushed.\n         *\n         * This function needs to be called synchronously, right before adding the message, so no flush\n         * event can happen after `notifyBeforeAddMessage` and before adding the message.\n         */\n        notifyBeforeAddMessage: function (messageBytesCount) {\n            if (currentBytesCount + messageBytesCount >= bytesLimit) {\n                flush('bytes_limit');\n            }\n            // Consider the message to be added now rather than in `notifyAfterAddMessage`, because if no\n            // message was added yet and `notifyAfterAddMessage` is called asynchronously, we still want\n            // to notify when a flush is needed (for example on page exit).\n            currentMessagesCount += 1;\n            currentBytesCount += messageBytesCount;\n            scheduleDurationLimitTimeout();\n        },\n        /**\n         * Notifies that a message *was* added to a pool of pending messages waiting to be flushed.\n         *\n         * This function can be called asynchronously after the message was added, but in this case it\n         * should not be called if a flush event occurred in between.\n         */\n        notifyAfterAddMessage: function () {\n            if (currentMessagesCount >= messagesLimit) {\n                flush('messages_limit');\n            }\n            else if (currentBytesCount >= bytesLimit) {\n                flush('bytes_limit');\n            }\n        },\n        /**\n         * Notifies that a message was removed from a pool of pending messages waiting to be flushed.\n         *\n         * This function needs to be called synchronously, right after removing the message, so no flush\n         * event can happen after removing the message and before `notifyAfterRemoveMessage`.\n         */\n        notifyAfterRemoveMessage: function (messageBytesCount) {\n            currentBytesCount -= messageBytesCount;\n            currentMessagesCount -= 1;\n            if (currentMessagesCount === 0) {\n                cancelDurationLimitTimeout();\n            }\n        },\n    };\n}\n//# sourceMappingURL=flushController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2ZsdXNoQ29udHJvbGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvZmx1c2hDb250cm9sbGVyLmpzPzgzZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgY2xlYXJUaW1lb3V0LCBzZXRUaW1lb3V0IH0gZnJvbSAnLi4vdG9vbHMvdGltZXInO1xuLyoqXG4gKiBSZXR1cm5zIGEgXCJmbHVzaCBjb250cm9sbGVyXCIsIHJlc3BvbnNpYmxlIG9mIG5vdGlmeWluZyB3aGVuIGZsdXNoaW5nIGEgcG9vbCBvZiBwZW5kaW5nIGRhdGEgbmVlZHNcbiAqIHRvIGhhcHBlbi4gVGhlIGltcGxlbWVudGF0aW9uIGlzIGRlc2lnbmVkIHRvIHN1cHBvcnQgYm90aCBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzIHVzYWdlcyxcbiAqIGJ1dCByZWxpZXMgb24gaW52YXJpYW50cyBkZXNjcmliZWQgaW4gZWFjaCBtZXRob2QgZG9jdW1lbnRhdGlvbiB0byBrZWVwIGEgY29oZXJlbnQgc3RhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGbHVzaENvbnRyb2xsZXIoX2EpIHtcbiAgICB2YXIgbWVzc2FnZXNMaW1pdCA9IF9hLm1lc3NhZ2VzTGltaXQsIGJ5dGVzTGltaXQgPSBfYS5ieXRlc0xpbWl0LCBkdXJhdGlvbkxpbWl0ID0gX2EuZHVyYXRpb25MaW1pdCwgcGFnZUV4aXRPYnNlcnZhYmxlID0gX2EucGFnZUV4aXRPYnNlcnZhYmxlLCBzZXNzaW9uRXhwaXJlT2JzZXJ2YWJsZSA9IF9hLnNlc3Npb25FeHBpcmVPYnNlcnZhYmxlO1xuICAgIHZhciBwYWdlRXhpdFN1YnNjcmlwdGlvbiA9IHBhZ2VFeGl0T2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBmbHVzaChldmVudC5yZWFzb24pOyB9KTtcbiAgICB2YXIgc2Vzc2lvbkV4cGlyZVN1YnNjcmlwdGlvbiA9IHNlc3Npb25FeHBpcmVPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiBmbHVzaCgnc2Vzc2lvbl9leHBpcmUnKTsgfSk7XG4gICAgdmFyIGZsdXNoT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFnZUV4aXRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgc2Vzc2lvbkV4cGlyZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07IH0pO1xuICAgIHZhciBjdXJyZW50Qnl0ZXNDb3VudCA9IDA7XG4gICAgdmFyIGN1cnJlbnRNZXNzYWdlc0NvdW50ID0gMDtcbiAgICBmdW5jdGlvbiBmbHVzaChmbHVzaFJlYXNvbikge1xuICAgICAgICBpZiAoY3VycmVudE1lc3NhZ2VzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZXNDb3VudCA9IGN1cnJlbnRNZXNzYWdlc0NvdW50O1xuICAgICAgICB2YXIgYnl0ZXNDb3VudCA9IGN1cnJlbnRCeXRlc0NvdW50O1xuICAgICAgICBjdXJyZW50TWVzc2FnZXNDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRCeXRlc0NvdW50ID0gMDtcbiAgICAgICAgY2FuY2VsRHVyYXRpb25MaW1pdFRpbWVvdXQoKTtcbiAgICAgICAgZmx1c2hPYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICAgICAgICByZWFzb246IGZsdXNoUmVhc29uLFxuICAgICAgICAgICAgbWVzc2FnZXNDb3VudDogbWVzc2FnZXNDb3VudCxcbiAgICAgICAgICAgIGJ5dGVzQ291bnQ6IGJ5dGVzQ291bnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgZHVyYXRpb25MaW1pdFRpbWVvdXRJZDtcbiAgICBmdW5jdGlvbiBzY2hlZHVsZUR1cmF0aW9uTGltaXRUaW1lb3V0KCkge1xuICAgICAgICBpZiAoZHVyYXRpb25MaW1pdFRpbWVvdXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkdXJhdGlvbkxpbWl0VGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZmx1c2goJ2R1cmF0aW9uX2xpbWl0Jyk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbkxpbWl0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5jZWxEdXJhdGlvbkxpbWl0VGltZW91dCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGR1cmF0aW9uTGltaXRUaW1lb3V0SWQpO1xuICAgICAgICBkdXJhdGlvbkxpbWl0VGltZW91dElkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmbHVzaE9ic2VydmFibGU6IGZsdXNoT2JzZXJ2YWJsZSxcbiAgICAgICAgZ2V0IG1lc3NhZ2VzQ291bnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudE1lc3NhZ2VzQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB0aGF0IGEgbWVzc2FnZSB3aWxsIGJlIGFkZGVkIHRvIGEgcG9vbCBvZiBwZW5kaW5nIG1lc3NhZ2VzIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSBjYWxsZWQgc3luY2hyb25vdXNseSwgcmlnaHQgYmVmb3JlIGFkZGluZyB0aGUgbWVzc2FnZSwgc28gbm8gZmx1c2hcbiAgICAgICAgICogZXZlbnQgY2FuIGhhcHBlbiBhZnRlciBgbm90aWZ5QmVmb3JlQWRkTWVzc2FnZWAgYW5kIGJlZm9yZSBhZGRpbmcgdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqL1xuICAgICAgICBub3RpZnlCZWZvcmVBZGRNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZUJ5dGVzQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Qnl0ZXNDb3VudCArIG1lc3NhZ2VCeXRlc0NvdW50ID49IGJ5dGVzTGltaXQpIHtcbiAgICAgICAgICAgICAgICBmbHVzaCgnYnl0ZXNfbGltaXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvbnNpZGVyIHRoZSBtZXNzYWdlIHRvIGJlIGFkZGVkIG5vdyByYXRoZXIgdGhhbiBpbiBgbm90aWZ5QWZ0ZXJBZGRNZXNzYWdlYCwgYmVjYXVzZSBpZiBub1xuICAgICAgICAgICAgLy8gbWVzc2FnZSB3YXMgYWRkZWQgeWV0IGFuZCBgbm90aWZ5QWZ0ZXJBZGRNZXNzYWdlYCBpcyBjYWxsZWQgYXN5bmNocm9ub3VzbHksIHdlIHN0aWxsIHdhbnRcbiAgICAgICAgICAgIC8vIHRvIG5vdGlmeSB3aGVuIGEgZmx1c2ggaXMgbmVlZGVkIChmb3IgZXhhbXBsZSBvbiBwYWdlIGV4aXQpLlxuICAgICAgICAgICAgY3VycmVudE1lc3NhZ2VzQ291bnQgKz0gMTtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlc0NvdW50ICs9IG1lc3NhZ2VCeXRlc0NvdW50O1xuICAgICAgICAgICAgc2NoZWR1bGVEdXJhdGlvbkxpbWl0VGltZW91dCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhIG1lc3NhZ2UgKndhcyogYWRkZWQgdG8gYSBwb29sIG9mIHBlbmRpbmcgbWVzc2FnZXMgd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIG1lc3NhZ2Ugd2FzIGFkZGVkLCBidXQgaW4gdGhpcyBjYXNlIGl0XG4gICAgICAgICAqIHNob3VsZCBub3QgYmUgY2FsbGVkIGlmIGEgZmx1c2ggZXZlbnQgb2NjdXJyZWQgaW4gYmV0d2Vlbi5cbiAgICAgICAgICovXG4gICAgICAgIG5vdGlmeUFmdGVyQWRkTWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRNZXNzYWdlc0NvdW50ID49IG1lc3NhZ2VzTGltaXQpIHtcbiAgICAgICAgICAgICAgICBmbHVzaCgnbWVzc2FnZXNfbGltaXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRCeXRlc0NvdW50ID49IGJ5dGVzTGltaXQpIHtcbiAgICAgICAgICAgICAgICBmbHVzaCgnYnl0ZXNfbGltaXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgYSBtZXNzYWdlIHdhcyByZW1vdmVkIGZyb20gYSBwb29sIG9mIHBlbmRpbmcgbWVzc2FnZXMgd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIGNhbGxlZCBzeW5jaHJvbm91c2x5LCByaWdodCBhZnRlciByZW1vdmluZyB0aGUgbWVzc2FnZSwgc28gbm8gZmx1c2hcbiAgICAgICAgICogZXZlbnQgY2FuIGhhcHBlbiBhZnRlciByZW1vdmluZyB0aGUgbWVzc2FnZSBhbmQgYmVmb3JlIGBub3RpZnlBZnRlclJlbW92ZU1lc3NhZ2VgLlxuICAgICAgICAgKi9cbiAgICAgICAgbm90aWZ5QWZ0ZXJSZW1vdmVNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZUJ5dGVzQ291bnQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlc0NvdW50IC09IG1lc3NhZ2VCeXRlc0NvdW50O1xuICAgICAgICAgICAgY3VycmVudE1lc3NhZ2VzQ291bnQgLT0gMTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TWVzc2FnZXNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbER1cmF0aW9uTGltaXRUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZsdXNoQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/transport/flushController.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createHttpRequest\": () => (/* binding */ createHttpRequest),\n/* harmony export */   \"fetchKeepAliveStrategy\": () => (/* binding */ fetchKeepAliveStrategy),\n/* harmony export */   \"sendXHR\": () => (/* binding */ sendXHR)\n/* harmony export */ });\n/* harmony import */ var _domain_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/telemetry */ \"../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/monitor */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../browser/addEventListener */ \"../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _sendWithRetryStrategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sendWithRetryStrategy */ \"../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js\");\n\n\n\n\nfunction createHttpRequest(configuration, endpointBuilder, bytesLimit, reportError) {\n    var retryState = (0,_sendWithRetryStrategy__WEBPACK_IMPORTED_MODULE_0__.newRetryState)();\n    var sendStrategyForRetry = function (payload, onResponse) {\n        return fetchKeepAliveStrategy(configuration, endpointBuilder, bytesLimit, payload, onResponse);\n    };\n    return {\n        send: function (payload) {\n            (0,_sendWithRetryStrategy__WEBPACK_IMPORTED_MODULE_0__.sendWithRetryStrategy)(payload, retryState, sendStrategyForRetry, endpointBuilder.endpointType, reportError);\n        },\n        /**\n         * Since fetch keepalive behaves like regular fetch on Firefox,\n         * keep using sendBeaconStrategy on exit\n         */\n        sendOnExit: function (payload) {\n            sendBeaconStrategy(configuration, endpointBuilder, bytesLimit, payload);\n        },\n    };\n}\nfunction sendBeaconStrategy(configuration, endpointBuilder, bytesLimit, payload) {\n    var canUseBeacon = !!navigator.sendBeacon && payload.bytesCount < bytesLimit;\n    if (canUseBeacon) {\n        try {\n            var beaconUrl = endpointBuilder.build('beacon', payload);\n            var isQueued = navigator.sendBeacon(beaconUrl, payload.data);\n            if (isQueued) {\n                return;\n            }\n        }\n        catch (e) {\n            reportBeaconError(e);\n        }\n    }\n    var xhrUrl = endpointBuilder.build('xhr', payload);\n    sendXHR(configuration, xhrUrl, payload.data);\n}\nvar hasReportedBeaconError = false;\nfunction reportBeaconError(e) {\n    if (!hasReportedBeaconError) {\n        hasReportedBeaconError = true;\n        (0,_domain_telemetry__WEBPACK_IMPORTED_MODULE_1__.addTelemetryError)(e);\n    }\n}\nfunction fetchKeepAliveStrategy(configuration, endpointBuilder, bytesLimit, payload, onResponse) {\n    var canUseKeepAlive = isKeepAliveSupported() && payload.bytesCount < bytesLimit;\n    if (canUseKeepAlive) {\n        var fetchUrl = endpointBuilder.build('fetch', payload);\n        fetch(fetchUrl, { method: 'POST', body: payload.data, keepalive: true, mode: 'cors' }).then((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (response) { return onResponse === null || onResponse === void 0 ? void 0 : onResponse({ status: response.status, type: response.type }); }), (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () {\n            var xhrUrl = endpointBuilder.build('xhr', payload);\n            // failed to queue the request\n            sendXHR(configuration, xhrUrl, payload.data, onResponse);\n        }));\n    }\n    else {\n        var xhrUrl = endpointBuilder.build('xhr', payload);\n        sendXHR(configuration, xhrUrl, payload.data, onResponse);\n    }\n}\nfunction isKeepAliveSupported() {\n    // Request can throw, cf https://developer.mozilla.org/en-US/docs/Web/API/Request/Request#errors\n    try {\n        return window.Request && 'keepalive' in new Request('http://a');\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction sendXHR(configuration, url, data, onResponse) {\n    var request = new XMLHttpRequest();\n    request.open('POST', url, true);\n    (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(configuration, request, 'loadend', function () {\n        onResponse === null || onResponse === void 0 ? void 0 : onResponse({ status: request.status });\n    }, {\n        // prevent multiple onResponse callbacks\n        // if the xhr instance is reused by a third party\n        once: true,\n    });\n    request.send(data);\n}\n//# sourceMappingURL=httpRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2h0dHBSZXF1ZXN0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2h0dHBSZXF1ZXN0LmpzPzBiYzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkVGVsZW1ldHJ5RXJyb3IgfSBmcm9tICcuLi9kb21haW4vdGVsZW1ldHJ5JztcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9icm93c2VyL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IHsgbmV3UmV0cnlTdGF0ZSwgc2VuZFdpdGhSZXRyeVN0cmF0ZWd5IH0gZnJvbSAnLi9zZW5kV2l0aFJldHJ5U3RyYXRlZ3knO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUh0dHBSZXF1ZXN0KGNvbmZpZ3VyYXRpb24sIGVuZHBvaW50QnVpbGRlciwgYnl0ZXNMaW1pdCwgcmVwb3J0RXJyb3IpIHtcbiAgICB2YXIgcmV0cnlTdGF0ZSA9IG5ld1JldHJ5U3RhdGUoKTtcbiAgICB2YXIgc2VuZFN0cmF0ZWd5Rm9yUmV0cnkgPSBmdW5jdGlvbiAocGF5bG9hZCwgb25SZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gZmV0Y2hLZWVwQWxpdmVTdHJhdGVneShjb25maWd1cmF0aW9uLCBlbmRwb2ludEJ1aWxkZXIsIGJ5dGVzTGltaXQsIHBheWxvYWQsIG9uUmVzcG9uc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VuZDogZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHNlbmRXaXRoUmV0cnlTdHJhdGVneShwYXlsb2FkLCByZXRyeVN0YXRlLCBzZW5kU3RyYXRlZ3lGb3JSZXRyeSwgZW5kcG9pbnRCdWlsZGVyLmVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2luY2UgZmV0Y2gga2VlcGFsaXZlIGJlaGF2ZXMgbGlrZSByZWd1bGFyIGZldGNoIG9uIEZpcmVmb3gsXG4gICAgICAgICAqIGtlZXAgdXNpbmcgc2VuZEJlYWNvblN0cmF0ZWd5IG9uIGV4aXRcbiAgICAgICAgICovXG4gICAgICAgIHNlbmRPbkV4aXQ6IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICBzZW5kQmVhY29uU3RyYXRlZ3koY29uZmlndXJhdGlvbiwgZW5kcG9pbnRCdWlsZGVyLCBieXRlc0xpbWl0LCBwYXlsb2FkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VuZEJlYWNvblN0cmF0ZWd5KGNvbmZpZ3VyYXRpb24sIGVuZHBvaW50QnVpbGRlciwgYnl0ZXNMaW1pdCwgcGF5bG9hZCkge1xuICAgIHZhciBjYW5Vc2VCZWFjb24gPSAhIW5hdmlnYXRvci5zZW5kQmVhY29uICYmIHBheWxvYWQuYnl0ZXNDb3VudCA8IGJ5dGVzTGltaXQ7XG4gICAgaWYgKGNhblVzZUJlYWNvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGJlYWNvblVybCA9IGVuZHBvaW50QnVpbGRlci5idWlsZCgnYmVhY29uJywgcGF5bG9hZCk7XG4gICAgICAgICAgICB2YXIgaXNRdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihiZWFjb25VcmwsIHBheWxvYWQuZGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNRdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlcG9ydEJlYWNvbkVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB4aHJVcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ3hocicsIHBheWxvYWQpO1xuICAgIHNlbmRYSFIoY29uZmlndXJhdGlvbiwgeGhyVXJsLCBwYXlsb2FkLmRhdGEpO1xufVxudmFyIGhhc1JlcG9ydGVkQmVhY29uRXJyb3IgPSBmYWxzZTtcbmZ1bmN0aW9uIHJlcG9ydEJlYWNvbkVycm9yKGUpIHtcbiAgICBpZiAoIWhhc1JlcG9ydGVkQmVhY29uRXJyb3IpIHtcbiAgICAgICAgaGFzUmVwb3J0ZWRCZWFjb25FcnJvciA9IHRydWU7XG4gICAgICAgIGFkZFRlbGVtZXRyeUVycm9yKGUpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaEtlZXBBbGl2ZVN0cmF0ZWd5KGNvbmZpZ3VyYXRpb24sIGVuZHBvaW50QnVpbGRlciwgYnl0ZXNMaW1pdCwgcGF5bG9hZCwgb25SZXNwb25zZSkge1xuICAgIHZhciBjYW5Vc2VLZWVwQWxpdmUgPSBpc0tlZXBBbGl2ZVN1cHBvcnRlZCgpICYmIHBheWxvYWQuYnl0ZXNDb3VudCA8IGJ5dGVzTGltaXQ7XG4gICAgaWYgKGNhblVzZUtlZXBBbGl2ZSkge1xuICAgICAgICB2YXIgZmV0Y2hVcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ2ZldGNoJywgcGF5bG9hZCk7XG4gICAgICAgIGZldGNoKGZldGNoVXJsLCB7IG1ldGhvZDogJ1BPU1QnLCBib2R5OiBwYXlsb2FkLmRhdGEsIGtlZXBhbGl2ZTogdHJ1ZSwgbW9kZTogJ2NvcnMnIH0pLnRoZW4obW9uaXRvcihmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIG9uUmVzcG9uc2UgPT09IG51bGwgfHwgb25SZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZXNwb25zZSh7IHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCB0eXBlOiByZXNwb25zZS50eXBlIH0pOyB9KSwgbW9uaXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgeGhyVXJsID0gZW5kcG9pbnRCdWlsZGVyLmJ1aWxkKCd4aHInLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIC8vIGZhaWxlZCB0byBxdWV1ZSB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgc2VuZFhIUihjb25maWd1cmF0aW9uLCB4aHJVcmwsIHBheWxvYWQuZGF0YSwgb25SZXNwb25zZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB4aHJVcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ3hocicsIHBheWxvYWQpO1xuICAgICAgICBzZW5kWEhSKGNvbmZpZ3VyYXRpb24sIHhoclVybCwgcGF5bG9hZC5kYXRhLCBvblJlc3BvbnNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0tlZXBBbGl2ZVN1cHBvcnRlZCgpIHtcbiAgICAvLyBSZXF1ZXN0IGNhbiB0aHJvdywgY2YgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlcXVlc3QvUmVxdWVzdCNlcnJvcnNcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gd2luZG93LlJlcXVlc3QgJiYgJ2tlZXBhbGl2ZScgaW4gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9hJyk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRYSFIoY29uZmlndXJhdGlvbiwgdXJsLCBkYXRhLCBvblJlc3BvbnNlKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoY29uZmlndXJhdGlvbiwgcmVxdWVzdCwgJ2xvYWRlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uUmVzcG9uc2UgPT09IG51bGwgfHwgb25SZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZXNwb25zZSh7IHN0YXR1czogcmVxdWVzdC5zdGF0dXMgfSk7XG4gICAgfSwge1xuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIG9uUmVzcG9uc2UgY2FsbGJhY2tzXG4gICAgICAgIC8vIGlmIHRoZSB4aHIgaW5zdGFuY2UgaXMgcmV1c2VkIGJ5IGEgdGhpcmQgcGFydHlcbiAgICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXF1ZXN0LnNlbmQoZGF0YSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwUmVxdWVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"INITIAL_BACKOFF_TIME\": () => (/* binding */ INITIAL_BACKOFF_TIME),\n/* harmony export */   \"MAX_BACKOFF_TIME\": () => (/* binding */ MAX_BACKOFF_TIME),\n/* harmony export */   \"MAX_ONGOING_BYTES_COUNT\": () => (/* binding */ MAX_ONGOING_BYTES_COUNT),\n/* harmony export */   \"MAX_ONGOING_REQUESTS\": () => (/* binding */ MAX_ONGOING_REQUESTS),\n/* harmony export */   \"MAX_QUEUE_BYTES_COUNT\": () => (/* binding */ MAX_QUEUE_BYTES_COUNT),\n/* harmony export */   \"newRetryState\": () => (/* binding */ newRetryState),\n/* harmony export */   \"sendWithRetryStrategy\": () => (/* binding */ sendWithRetryStrategy)\n/* harmony export */ });\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/timer */ \"../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/byteUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_utils_responseUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/responseUtils */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\");\n/* harmony import */ var _domain_error_error_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/error/error.types */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\n\n\n\n\nvar MAX_ONGOING_BYTES_COUNT = 80 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\nvar MAX_ONGOING_REQUESTS = 32;\nvar MAX_QUEUE_BYTES_COUNT = 3 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MEBI_BYTE;\nvar MAX_BACKOFF_TIME = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\nvar INITIAL_BACKOFF_TIME = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND;\nfunction sendWithRetryStrategy(payload, state, sendStrategy, endpointType, reportError) {\n    if (state.transportStatus === 0 /* TransportStatus.UP */ &&\n        state.queuedPayloads.size() === 0 &&\n        state.bandwidthMonitor.canHandle(payload)) {\n        send(payload, state, sendStrategy, {\n            onSuccess: function () { return retryQueuedPayloads(0 /* RetryReason.AFTER_SUCCESS */, state, sendStrategy, endpointType, reportError); },\n            onFailure: function () {\n                state.queuedPayloads.enqueue(payload);\n                scheduleRetry(state, sendStrategy, endpointType, reportError);\n            },\n        });\n    }\n    else {\n        state.queuedPayloads.enqueue(payload);\n    }\n}\nfunction scheduleRetry(state, sendStrategy, endpointType, reportError) {\n    if (state.transportStatus !== 2 /* TransportStatus.DOWN */) {\n        return;\n    }\n    (0,_tools_timer__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () {\n        var payload = state.queuedPayloads.first();\n        send(payload, state, sendStrategy, {\n            onSuccess: function () {\n                state.queuedPayloads.dequeue();\n                state.currentBackoffTime = INITIAL_BACKOFF_TIME;\n                retryQueuedPayloads(1 /* RetryReason.AFTER_RESUME */, state, sendStrategy, endpointType, reportError);\n            },\n            onFailure: function () {\n                state.currentBackoffTime = Math.min(MAX_BACKOFF_TIME, state.currentBackoffTime * 2);\n                scheduleRetry(state, sendStrategy, endpointType, reportError);\n            },\n        });\n    }, state.currentBackoffTime);\n}\nfunction send(payload, state, sendStrategy, _a) {\n    var onSuccess = _a.onSuccess, onFailure = _a.onFailure;\n    state.bandwidthMonitor.add(payload);\n    sendStrategy(payload, function (response) {\n        state.bandwidthMonitor.remove(payload);\n        if (!shouldRetryRequest(response)) {\n            state.transportStatus = 0 /* TransportStatus.UP */;\n            onSuccess();\n        }\n        else {\n            // do not consider transport down if another ongoing request could succeed\n            state.transportStatus =\n                state.bandwidthMonitor.ongoingRequestCount > 0 ? 1 /* TransportStatus.FAILURE_DETECTED */ : 2 /* TransportStatus.DOWN */;\n            payload.retry = {\n                count: payload.retry ? payload.retry.count + 1 : 1,\n                lastFailureStatus: response.status,\n            };\n            onFailure();\n        }\n    });\n}\nfunction retryQueuedPayloads(reason, state, sendStrategy, endpointType, reportError) {\n    if (reason === 0 /* RetryReason.AFTER_SUCCESS */ && state.queuedPayloads.isFull() && !state.queueFullReported) {\n        reportError({\n            message: \"Reached max \".concat(endpointType, \" events size queued for upload: \").concat(MAX_QUEUE_BYTES_COUNT / _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MEBI_BYTE, \"MiB\"),\n            source: _domain_error_error_types__WEBPACK_IMPORTED_MODULE_3__.ErrorSource.AGENT,\n            startClocks: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.clocksNow)(),\n        });\n        state.queueFullReported = true;\n    }\n    var previousQueue = state.queuedPayloads;\n    state.queuedPayloads = newPayloadQueue();\n    while (previousQueue.size() > 0) {\n        sendWithRetryStrategy(previousQueue.dequeue(), state, sendStrategy, endpointType, reportError);\n    }\n}\nfunction shouldRetryRequest(response) {\n    return (response.type !== 'opaque' &&\n        ((response.status === 0 && !navigator.onLine) ||\n            response.status === 408 ||\n            response.status === 429 ||\n            (0,_tools_utils_responseUtils__WEBPACK_IMPORTED_MODULE_4__.isServerError)(response.status)));\n}\nfunction newRetryState() {\n    return {\n        transportStatus: 0 /* TransportStatus.UP */,\n        currentBackoffTime: INITIAL_BACKOFF_TIME,\n        bandwidthMonitor: newBandwidthMonitor(),\n        queuedPayloads: newPayloadQueue(),\n        queueFullReported: false,\n    };\n}\nfunction newPayloadQueue() {\n    var queue = [];\n    return {\n        bytesCount: 0,\n        enqueue: function (payload) {\n            if (this.isFull()) {\n                return;\n            }\n            queue.push(payload);\n            this.bytesCount += payload.bytesCount;\n        },\n        first: function () {\n            return queue[0];\n        },\n        dequeue: function () {\n            var payload = queue.shift();\n            if (payload) {\n                this.bytesCount -= payload.bytesCount;\n            }\n            return payload;\n        },\n        size: function () {\n            return queue.length;\n        },\n        isFull: function () {\n            return this.bytesCount >= MAX_QUEUE_BYTES_COUNT;\n        },\n    };\n}\nfunction newBandwidthMonitor() {\n    return {\n        ongoingRequestCount: 0,\n        ongoingByteCount: 0,\n        canHandle: function (payload) {\n            return (this.ongoingRequestCount === 0 ||\n                (this.ongoingByteCount + payload.bytesCount <= MAX_ONGOING_BYTES_COUNT &&\n                    this.ongoingRequestCount < MAX_ONGOING_REQUESTS));\n        },\n        add: function (payload) {\n            this.ongoingRequestCount += 1;\n            this.ongoingByteCount += payload.bytesCount;\n        },\n        remove: function (payload) {\n            this.ongoingRequestCount -= 1;\n            this.ongoingByteCount -= payload.bytesCount;\n        },\n    };\n}\n//# sourceMappingURL=sendWithRetryStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L3NlbmRXaXRoUmV0cnlTdHJhdGVneS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L3NlbmRXaXRoUmV0cnlTdHJhdGVneS5qcz9lMjkzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICcuLi90b29scy90aW1lcic7XG5pbXBvcnQgeyBjbG9ja3NOb3csIE9ORV9NSU5VVEUsIE9ORV9TRUNPTkQgfSBmcm9tICcuLi90b29scy91dGlscy90aW1lVXRpbHMnO1xuaW1wb3J0IHsgT05FX01FQklfQllURSwgT05FX0tJQklfQllURSB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL2J5dGVVdGlscyc7XG5pbXBvcnQgeyBpc1NlcnZlckVycm9yIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvcmVzcG9uc2VVdGlscyc7XG5pbXBvcnQgeyBFcnJvclNvdXJjZSB9IGZyb20gJy4uL2RvbWFpbi9lcnJvci9lcnJvci50eXBlcyc7XG5leHBvcnQgdmFyIE1BWF9PTkdPSU5HX0JZVEVTX0NPVU5UID0gODAgKiBPTkVfS0lCSV9CWVRFO1xuZXhwb3J0IHZhciBNQVhfT05HT0lOR19SRVFVRVNUUyA9IDMyO1xuZXhwb3J0IHZhciBNQVhfUVVFVUVfQllURVNfQ09VTlQgPSAzICogT05FX01FQklfQllURTtcbmV4cG9ydCB2YXIgTUFYX0JBQ0tPRkZfVElNRSA9IE9ORV9NSU5VVEU7XG5leHBvcnQgdmFyIElOSVRJQUxfQkFDS09GRl9USU1FID0gT05FX1NFQ09ORDtcbmV4cG9ydCBmdW5jdGlvbiBzZW5kV2l0aFJldHJ5U3RyYXRlZ3kocGF5bG9hZCwgc3RhdGUsIHNlbmRTdHJhdGVneSwgZW5kcG9pbnRUeXBlLCByZXBvcnRFcnJvcikge1xuICAgIGlmIChzdGF0ZS50cmFuc3BvcnRTdGF0dXMgPT09IDAgLyogVHJhbnNwb3J0U3RhdHVzLlVQICovICYmXG4gICAgICAgIHN0YXRlLnF1ZXVlZFBheWxvYWRzLnNpemUoKSA9PT0gMCAmJlxuICAgICAgICBzdGF0ZS5iYW5kd2lkdGhNb25pdG9yLmNhbkhhbmRsZShwYXlsb2FkKSkge1xuICAgICAgICBzZW5kKHBheWxvYWQsIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIHtcbiAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0cnlRdWV1ZWRQYXlsb2FkcygwIC8qIFJldHJ5UmVhc29uLkFGVEVSX1NVQ0NFU1MgKi8sIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpOyB9LFxuICAgICAgICAgICAgb25GYWlsdXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUucXVldWVkUGF5bG9hZHMuZW5xdWV1ZShwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVJldHJ5KHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5xdWV1ZWRQYXlsb2Fkcy5lbnF1ZXVlKHBheWxvYWQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNjaGVkdWxlUmV0cnkoc3RhdGUsIHNlbmRTdHJhdGVneSwgZW5kcG9pbnRUeXBlLCByZXBvcnRFcnJvcikge1xuICAgIGlmIChzdGF0ZS50cmFuc3BvcnRTdGF0dXMgIT09IDIgLyogVHJhbnNwb3J0U3RhdHVzLkRPV04gKi8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSBzdGF0ZS5xdWV1ZWRQYXlsb2Fkcy5maXJzdCgpO1xuICAgICAgICBzZW5kKHBheWxvYWQsIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIHtcbiAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnF1ZXVlZFBheWxvYWRzLmRlcXVldWUoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50QmFja29mZlRpbWUgPSBJTklUSUFMX0JBQ0tPRkZfVElNRTtcbiAgICAgICAgICAgICAgICByZXRyeVF1ZXVlZFBheWxvYWRzKDEgLyogUmV0cnlSZWFzb24uQUZURVJfUkVTVU1FICovLCBzdGF0ZSwgc2VuZFN0cmF0ZWd5LCBlbmRwb2ludFR5cGUsIHJlcG9ydEVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZhaWx1cmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50QmFja29mZlRpbWUgPSBNYXRoLm1pbihNQVhfQkFDS09GRl9USU1FLCBzdGF0ZS5jdXJyZW50QmFja29mZlRpbWUgKiAyKTtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVJldHJ5KHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSwgc3RhdGUuY3VycmVudEJhY2tvZmZUaW1lKTtcbn1cbmZ1bmN0aW9uIHNlbmQocGF5bG9hZCwgc3RhdGUsIHNlbmRTdHJhdGVneSwgX2EpIHtcbiAgICB2YXIgb25TdWNjZXNzID0gX2Eub25TdWNjZXNzLCBvbkZhaWx1cmUgPSBfYS5vbkZhaWx1cmU7XG4gICAgc3RhdGUuYmFuZHdpZHRoTW9uaXRvci5hZGQocGF5bG9hZCk7XG4gICAgc2VuZFN0cmF0ZWd5KHBheWxvYWQsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBzdGF0ZS5iYW5kd2lkdGhNb25pdG9yLnJlbW92ZShwYXlsb2FkKTtcbiAgICAgICAgaWYgKCFzaG91bGRSZXRyeVJlcXVlc3QocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBzdGF0ZS50cmFuc3BvcnRTdGF0dXMgPSAwIC8qIFRyYW5zcG9ydFN0YXR1cy5VUCAqLztcbiAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZG8gbm90IGNvbnNpZGVyIHRyYW5zcG9ydCBkb3duIGlmIGFub3RoZXIgb25nb2luZyByZXF1ZXN0IGNvdWxkIHN1Y2NlZWRcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zcG9ydFN0YXR1cyA9XG4gICAgICAgICAgICAgICAgc3RhdGUuYmFuZHdpZHRoTW9uaXRvci5vbmdvaW5nUmVxdWVzdENvdW50ID4gMCA/IDEgLyogVHJhbnNwb3J0U3RhdHVzLkZBSUxVUkVfREVURUNURUQgKi8gOiAyIC8qIFRyYW5zcG9ydFN0YXR1cy5ET1dOICovO1xuICAgICAgICAgICAgcGF5bG9hZC5yZXRyeSA9IHtcbiAgICAgICAgICAgICAgICBjb3VudDogcGF5bG9hZC5yZXRyeSA/IHBheWxvYWQucmV0cnkuY291bnQgKyAxIDogMSxcbiAgICAgICAgICAgICAgICBsYXN0RmFpbHVyZVN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9uRmFpbHVyZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiByZXRyeVF1ZXVlZFBheWxvYWRzKHJlYXNvbiwgc3RhdGUsIHNlbmRTdHJhdGVneSwgZW5kcG9pbnRUeXBlLCByZXBvcnRFcnJvcikge1xuICAgIGlmIChyZWFzb24gPT09IDAgLyogUmV0cnlSZWFzb24uQUZURVJfU1VDQ0VTUyAqLyAmJiBzdGF0ZS5xdWV1ZWRQYXlsb2Fkcy5pc0Z1bGwoKSAmJiAhc3RhdGUucXVldWVGdWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgcmVwb3J0RXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJSZWFjaGVkIG1heCBcIi5jb25jYXQoZW5kcG9pbnRUeXBlLCBcIiBldmVudHMgc2l6ZSBxdWV1ZWQgZm9yIHVwbG9hZDogXCIpLmNvbmNhdChNQVhfUVVFVUVfQllURVNfQ09VTlQgLyBPTkVfTUVCSV9CWVRFLCBcIk1pQlwiKSxcbiAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuQUdFTlQsXG4gICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0ZS5xdWV1ZUZ1bGxSZXBvcnRlZCA9IHRydWU7XG4gICAgfVxuICAgIHZhciBwcmV2aW91c1F1ZXVlID0gc3RhdGUucXVldWVkUGF5bG9hZHM7XG4gICAgc3RhdGUucXVldWVkUGF5bG9hZHMgPSBuZXdQYXlsb2FkUXVldWUoKTtcbiAgICB3aGlsZSAocHJldmlvdXNRdWV1ZS5zaXplKCkgPiAwKSB7XG4gICAgICAgIHNlbmRXaXRoUmV0cnlTdHJhdGVneShwcmV2aW91c1F1ZXVlLmRlcXVldWUoKSwgc3RhdGUsIHNlbmRTdHJhdGVneSwgZW5kcG9pbnRUeXBlLCByZXBvcnRFcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gc2hvdWxkUmV0cnlSZXF1ZXN0KHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIChyZXNwb25zZS50eXBlICE9PSAnb3BhcXVlJyAmJlxuICAgICAgICAoKHJlc3BvbnNlLnN0YXR1cyA9PT0gMCAmJiAhbmF2aWdhdG9yLm9uTGluZSkgfHxcbiAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA4IHx8XG4gICAgICAgICAgICByZXNwb25zZS5zdGF0dXMgPT09IDQyOSB8fFxuICAgICAgICAgICAgaXNTZXJ2ZXJFcnJvcihyZXNwb25zZS5zdGF0dXMpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbmV3UmV0cnlTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc3BvcnRTdGF0dXM6IDAgLyogVHJhbnNwb3J0U3RhdHVzLlVQICovLFxuICAgICAgICBjdXJyZW50QmFja29mZlRpbWU6IElOSVRJQUxfQkFDS09GRl9USU1FLFxuICAgICAgICBiYW5kd2lkdGhNb25pdG9yOiBuZXdCYW5kd2lkdGhNb25pdG9yKCksXG4gICAgICAgIHF1ZXVlZFBheWxvYWRzOiBuZXdQYXlsb2FkUXVldWUoKSxcbiAgICAgICAgcXVldWVGdWxsUmVwb3J0ZWQ6IGZhbHNlLFxuICAgIH07XG59XG5mdW5jdGlvbiBuZXdQYXlsb2FkUXVldWUoKSB7XG4gICAgdmFyIHF1ZXVlID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnl0ZXNDb3VudDogMCxcbiAgICAgICAgZW5xdWV1ZTogZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRnVsbCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUucHVzaChwYXlsb2FkKTtcbiAgICAgICAgICAgIHRoaXMuYnl0ZXNDb3VudCArPSBwYXlsb2FkLmJ5dGVzQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGZpcnN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVldWVbMF07XG4gICAgICAgIH0sXG4gICAgICAgIGRlcXVldWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlc0NvdW50IC09IHBheWxvYWQuYnl0ZXNDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9LFxuICAgICAgICBzaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVldWUubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBpc0Z1bGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ5dGVzQ291bnQgPj0gTUFYX1FVRVVFX0JZVEVTX0NPVU5UO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBuZXdCYW5kd2lkdGhNb25pdG9yKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uZ29pbmdSZXF1ZXN0Q291bnQ6IDAsXG4gICAgICAgIG9uZ29pbmdCeXRlQ291bnQ6IDAsXG4gICAgICAgIGNhbkhhbmRsZTogZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5vbmdvaW5nUmVxdWVzdENvdW50ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMub25nb2luZ0J5dGVDb3VudCArIHBheWxvYWQuYnl0ZXNDb3VudCA8PSBNQVhfT05HT0lOR19CWVRFU19DT1VOVCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZ29pbmdSZXF1ZXN0Q291bnQgPCBNQVhfT05HT0lOR19SRVFVRVNUUykpO1xuICAgICAgICB9LFxuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLm9uZ29pbmdSZXF1ZXN0Q291bnQgKz0gMTtcbiAgICAgICAgICAgIHRoaXMub25nb2luZ0J5dGVDb3VudCArPSBwYXlsb2FkLmJ5dGVzQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMub25nb2luZ1JlcXVlc3RDb3VudCAtPSAxO1xuICAgICAgICAgICAgdGhpcy5vbmdvaW5nQnl0ZUNvdW50IC09IHBheWxvYWQuYnl0ZXNDb3VudDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VuZFdpdGhSZXRyeVN0cmF0ZWd5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startBatchWithReplica\": () => (/* binding */ startBatchWithReplica)\n/* harmony export */ });\n/* harmony import */ var _batch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./batch */ \"../../node_modules/@datadog/browser-core/esm/transport/batch.js\");\n/* harmony import */ var _httpRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpRequest */ \"../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js\");\n/* harmony import */ var _flushController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flushController */ \"../../node_modules/@datadog/browser-core/esm/transport/flushController.js\");\n\n\n\nfunction startBatchWithReplica(configuration, primary, replica, reportError, pageExitObservable, sessionExpireObservable) {\n    var primaryBatch = createBatch(configuration, primary.endpoint);\n    var replicaBatch = replica && createBatch(configuration, replica.endpoint);\n    function createBatch(configuration, endpointBuilder) {\n        return new _batch__WEBPACK_IMPORTED_MODULE_0__.Batch((0,_httpRequest__WEBPACK_IMPORTED_MODULE_1__.createHttpRequest)(configuration, endpointBuilder, configuration.batchBytesLimit, reportError), (0,_flushController__WEBPACK_IMPORTED_MODULE_2__.createFlushController)({\n            messagesLimit: configuration.batchMessagesLimit,\n            bytesLimit: configuration.batchBytesLimit,\n            durationLimit: configuration.flushTimeout,\n            pageExitObservable: pageExitObservable,\n            sessionExpireObservable: sessionExpireObservable,\n        }), configuration.messageBytesLimit);\n    }\n    return {\n        flushObservable: primaryBatch.flushController.flushObservable,\n        add: function (message, replicated) {\n            if (replicated === void 0) { replicated = true; }\n            primaryBatch.add(message);\n            if (replicaBatch && replicated) {\n                replicaBatch.add(replica.transformMessage ? replica.transformMessage(message) : message);\n            }\n        },\n        upsert: function (message, key) {\n            primaryBatch.upsert(message, key);\n            if (replicaBatch) {\n                replicaBatch.upsert(replica.transformMessage ? replica.transformMessage(message) : message, key);\n            }\n        },\n        stop: function () {\n            primaryBatch.stop();\n            replicaBatch === null || replicaBatch === void 0 ? void 0 : replicaBatch.stop();\n        },\n    };\n}\n//# sourceMappingURL=startBatchWithReplica.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0QmF0Y2hXaXRoUmVwbGljYS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvc3RhcnRCYXRjaFdpdGhSZXBsaWNhLmpzP2M2OTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmF0Y2ggfSBmcm9tICcuL2JhdGNoJztcbmltcG9ydCB7IGNyZWF0ZUh0dHBSZXF1ZXN0IH0gZnJvbSAnLi9odHRwUmVxdWVzdCc7XG5pbXBvcnQgeyBjcmVhdGVGbHVzaENvbnRyb2xsZXIgfSBmcm9tICcuL2ZsdXNoQ29udHJvbGxlcic7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRCYXRjaFdpdGhSZXBsaWNhKGNvbmZpZ3VyYXRpb24sIHByaW1hcnksIHJlcGxpY2EsIHJlcG9ydEVycm9yLCBwYWdlRXhpdE9ic2VydmFibGUsIHNlc3Npb25FeHBpcmVPYnNlcnZhYmxlKSB7XG4gICAgdmFyIHByaW1hcnlCYXRjaCA9IGNyZWF0ZUJhdGNoKGNvbmZpZ3VyYXRpb24sIHByaW1hcnkuZW5kcG9pbnQpO1xuICAgIHZhciByZXBsaWNhQmF0Y2ggPSByZXBsaWNhICYmIGNyZWF0ZUJhdGNoKGNvbmZpZ3VyYXRpb24sIHJlcGxpY2EuZW5kcG9pbnQpO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhdGNoKGNvbmZpZ3VyYXRpb24sIGVuZHBvaW50QnVpbGRlcikge1xuICAgICAgICByZXR1cm4gbmV3IEJhdGNoKGNyZWF0ZUh0dHBSZXF1ZXN0KGNvbmZpZ3VyYXRpb24sIGVuZHBvaW50QnVpbGRlciwgY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsIHJlcG9ydEVycm9yKSwgY3JlYXRlRmx1c2hDb250cm9sbGVyKHtcbiAgICAgICAgICAgIG1lc3NhZ2VzTGltaXQ6IGNvbmZpZ3VyYXRpb24uYmF0Y2hNZXNzYWdlc0xpbWl0LFxuICAgICAgICAgICAgYnl0ZXNMaW1pdDogY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsXG4gICAgICAgICAgICBkdXJhdGlvbkxpbWl0OiBjb25maWd1cmF0aW9uLmZsdXNoVGltZW91dCxcbiAgICAgICAgICAgIHBhZ2VFeGl0T2JzZXJ2YWJsZTogcGFnZUV4aXRPYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGU6IHNlc3Npb25FeHBpcmVPYnNlcnZhYmxlLFxuICAgICAgICB9KSwgY29uZmlndXJhdGlvbi5tZXNzYWdlQnl0ZXNMaW1pdCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGZsdXNoT2JzZXJ2YWJsZTogcHJpbWFyeUJhdGNoLmZsdXNoQ29udHJvbGxlci5mbHVzaE9ic2VydmFibGUsXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKG1lc3NhZ2UsIHJlcGxpY2F0ZWQpIHtcbiAgICAgICAgICAgIGlmIChyZXBsaWNhdGVkID09PSB2b2lkIDApIHsgcmVwbGljYXRlZCA9IHRydWU7IH1cbiAgICAgICAgICAgIHByaW1hcnlCYXRjaC5hZGQobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAocmVwbGljYUJhdGNoICYmIHJlcGxpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXBsaWNhQmF0Y2guYWRkKHJlcGxpY2EudHJhbnNmb3JtTWVzc2FnZSA/IHJlcGxpY2EudHJhbnNmb3JtTWVzc2FnZShtZXNzYWdlKSA6IG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1cHNlcnQ6IGZ1bmN0aW9uIChtZXNzYWdlLCBrZXkpIHtcbiAgICAgICAgICAgIHByaW1hcnlCYXRjaC51cHNlcnQobWVzc2FnZSwga2V5KTtcbiAgICAgICAgICAgIGlmIChyZXBsaWNhQmF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXBsaWNhQmF0Y2gudXBzZXJ0KHJlcGxpY2EudHJhbnNmb3JtTWVzc2FnZSA/IHJlcGxpY2EudHJhbnNmb3JtTWVzc2FnZShtZXNzYWdlKSA6IG1lc3NhZ2UsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByaW1hcnlCYXRjaC5zdG9wKCk7XG4gICAgICAgICAgICByZXBsaWNhQmF0Y2ggPT09IG51bGwgfHwgcmVwbGljYUJhdGNoID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXBsaWNhQmF0Y2guc3RvcCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydEJhdGNoV2l0aFJlcGxpY2EuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"makeLogsPublicApi\": () => (/* binding */ makeLogsPublicApi)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/context/contextManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/context/storedContextManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/user/user.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/configuration */ \"../../node_modules/@datadog/browser-logs/esm/domain/configuration.js\");\n/* harmony import */ var _domain_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\n\nvar LOGS_STORAGE_KEY = 'logs';\nfunction makeLogsPublicApi(startLogsImpl) {\n    var isAlreadyInitialized = false;\n    var globalContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)(2 /* CustomerDataType.GlobalContext */);\n    var userContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)(1 /* CustomerDataType.User */);\n    var customLoggers = {};\n    var getInternalContextStrategy = function () { return undefined; };\n    var beforeInitLoggerLog = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.BoundedBuffer();\n    var handleLogStrategy = function (logsMessage, logger, savedCommonContext, date) {\n        if (savedCommonContext === void 0) { savedCommonContext = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.deepClone)(buildCommonContext()); }\n        if (date === void 0) { date = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(); }\n        beforeInitLoggerLog.add(function () { return handleLogStrategy(logsMessage, logger, savedCommonContext, date); });\n    };\n    var getInitConfigurationStrategy = function () { return undefined; };\n    var mainLogger = new _domain_logger__WEBPACK_IMPORTED_MODULE_1__.Logger(function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        return handleLogStrategy.apply(void 0, params);\n    });\n    function buildCommonContext() {\n        return {\n            view: {\n                referrer: document.referrer,\n                url: window.location.href,\n            },\n            context: globalContextManager.getContext(),\n            user: userContextManager.getContext(),\n        };\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.makePublicApi)({\n        logger: mainLogger,\n        init: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (initConfiguration) {\n            var _a;\n            if (!initConfiguration) {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.display.error('Missing configuration');\n                return;\n            }\n            // This function should be available, regardless of initialization success.\n            getInitConfigurationStrategy = function () { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.deepClone)(initConfiguration); };\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.canUseEventBridge)()) {\n                initConfiguration = overrideInitConfigurationForBridge(initConfiguration);\n            }\n            if (!canInitLogs(initConfiguration)) {\n                return;\n            }\n            var configuration = (0,_domain_configuration__WEBPACK_IMPORTED_MODULE_0__.validateAndBuildLogsConfiguration)(initConfiguration);\n            if (!configuration) {\n                return;\n            }\n            if (initConfiguration.storeContextsAcrossPages) {\n                var beforeInitGlobalContext = globalContextManager.getContext();\n                globalContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.createStoredContextManager)(configuration, LOGS_STORAGE_KEY, 2 /* CustomerDataType.GlobalContext */);\n                globalContextManager.setContext((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)(globalContextManager.getContext(), beforeInitGlobalContext));\n                var beforeInitUserContext = userContextManager.getContext();\n                userContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.createStoredContextManager)(configuration, LOGS_STORAGE_KEY, 1 /* CustomerDataType.User */);\n                userContextManager.setContext((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)(userContextManager.getContext(), beforeInitUserContext));\n            }\n            ;\n            (_a = startLogsImpl(initConfiguration, configuration, buildCommonContext, mainLogger), handleLogStrategy = _a.handleLog, getInternalContextStrategy = _a.getInternalContext);\n            beforeInitLoggerLog.drain();\n            isAlreadyInitialized = true;\n        }),\n        /** @deprecated: use getGlobalContext instead */\n        getLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return globalContextManager.get(); }),\n        getGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return globalContextManager.getContext(); }),\n        /** @deprecated: use setGlobalContext instead */\n        setLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (context) { return globalContextManager.set(context); }),\n        setGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (context) { return globalContextManager.setContext(context); }),\n        /** @deprecated: use setGlobalContextProperty instead */\n        addLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key, value) { return globalContextManager.add(key, value); }),\n        setGlobalContextProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key, value) { return globalContextManager.setContextProperty(key, value); }),\n        /** @deprecated: use removeGlobalContextProperty instead */\n        removeLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key) { return globalContextManager.remove(key); }),\n        removeGlobalContextProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key) { return globalContextManager.removeContextProperty(key); }),\n        clearGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return globalContextManager.clearContext(); }),\n        createLogger: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (name, conf) {\n            if (conf === void 0) { conf = {}; }\n            customLoggers[name] = new _domain_logger__WEBPACK_IMPORTED_MODULE_1__.Logger(function () {\n                var params = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    params[_i] = arguments[_i];\n                }\n                return handleLogStrategy.apply(void 0, params);\n            }, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(name), conf.handler, conf.level, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(conf.context));\n            return customLoggers[name];\n        }),\n        getLogger: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (name) { return customLoggers[name]; }),\n        getInitConfiguration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return getInitConfigurationStrategy(); }),\n        getInternalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (startTime) { return getInternalContextStrategy(startTime); }),\n        setUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (newUser) {\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__.checkUser)(newUser)) {\n                userContextManager.setContext((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__.sanitizeUser)(newUser));\n            }\n        }),\n        getUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return userContextManager.getContext(); }),\n        setUserProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key, property) {\n            var _a;\n            var sanitizedProperty = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__.sanitizeUser)((_a = {}, _a[key] = property, _a))[key];\n            userContextManager.setContextProperty(key, sanitizedProperty);\n        }),\n        removeUserProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key) { return userContextManager.removeContextProperty(key); }),\n        clearUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return userContextManager.clearContext(); }),\n    });\n    function overrideInitConfigurationForBridge(initConfiguration) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.assign)({}, initConfiguration, { clientToken: 'empty' });\n    }\n    function canInitLogs(initConfiguration) {\n        if (isAlreadyInitialized) {\n            if (!initConfiguration.silentMultipleInit) {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.display.error('DD_LOGS is already initialized.');\n            }\n            return false;\n        }\n        return true;\n    }\n}\n//# sourceMappingURL=logsPublicApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vYm9vdC9sb2dzUHVibGljQXBpLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9ib290L2xvZ3NQdWJsaWNBcGkuanM/OGE5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24sIEJvdW5kZWRCdWZmZXIsIGNyZWF0ZUNvbnRleHRNYW5hZ2VyLCBtYWtlUHVibGljQXBpLCBtb25pdG9yLCBkaXNwbGF5LCBkZWVwQ2xvbmUsIGNhblVzZUV2ZW50QnJpZGdlLCB0aW1lU3RhbXBOb3csIGNoZWNrVXNlciwgc2FuaXRpemVVc2VyLCBzYW5pdGl6ZSwgY3JlYXRlU3RvcmVkQ29udGV4dE1hbmFnZXIsIGNvbWJpbmUsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHZhbGlkYXRlQW5kQnVpbGRMb2dzQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL2RvbWFpbi9sb2dnZXInO1xudmFyIExPR1NfU1RPUkFHRV9LRVkgPSAnbG9ncyc7XG5leHBvcnQgZnVuY3Rpb24gbWFrZUxvZ3NQdWJsaWNBcGkoc3RhcnRMb2dzSW1wbCkge1xuICAgIHZhciBpc0FscmVhZHlJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHZhciBnbG9iYWxDb250ZXh0TWFuYWdlciA9IGNyZWF0ZUNvbnRleHRNYW5hZ2VyKDIgLyogQ3VzdG9tZXJEYXRhVHlwZS5HbG9iYWxDb250ZXh0ICovKTtcbiAgICB2YXIgdXNlckNvbnRleHRNYW5hZ2VyID0gY3JlYXRlQ29udGV4dE1hbmFnZXIoMSAvKiBDdXN0b21lckRhdGFUeXBlLlVzZXIgKi8pO1xuICAgIHZhciBjdXN0b21Mb2dnZXJzID0ge307XG4gICAgdmFyIGdldEludGVybmFsQ29udGV4dFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9O1xuICAgIHZhciBiZWZvcmVJbml0TG9nZ2VyTG9nID0gbmV3IEJvdW5kZWRCdWZmZXIoKTtcbiAgICB2YXIgaGFuZGxlTG9nU3RyYXRlZ3kgPSBmdW5jdGlvbiAobG9nc01lc3NhZ2UsIGxvZ2dlciwgc2F2ZWRDb21tb25Db250ZXh0LCBkYXRlKSB7XG4gICAgICAgIGlmIChzYXZlZENvbW1vbkNvbnRleHQgPT09IHZvaWQgMCkgeyBzYXZlZENvbW1vbkNvbnRleHQgPSBkZWVwQ2xvbmUoYnVpbGRDb21tb25Db250ZXh0KCkpOyB9XG4gICAgICAgIGlmIChkYXRlID09PSB2b2lkIDApIHsgZGF0ZSA9IHRpbWVTdGFtcE5vdygpOyB9XG4gICAgICAgIGJlZm9yZUluaXRMb2dnZXJMb2cuYWRkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZUxvZ1N0cmF0ZWd5KGxvZ3NNZXNzYWdlLCBsb2dnZXIsIHNhdmVkQ29tbW9uQ29udGV4dCwgZGF0ZSk7IH0pO1xuICAgIH07XG4gICAgdmFyIGdldEluaXRDb25maWd1cmF0aW9uU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgdmFyIG1haW5Mb2dnZXIgPSBuZXcgTG9nZ2VyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGFyYW1zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUxvZ1N0cmF0ZWd5LmFwcGx5KHZvaWQgMCwgcGFyYW1zKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBidWlsZENvbW1vbkNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICAgICAgcmVmZXJyZXI6IGRvY3VtZW50LnJlZmVycmVyLFxuICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgdXNlcjogdXNlckNvbnRleHRNYW5hZ2VyLmdldENvbnRleHQoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VQdWJsaWNBcGkoe1xuICAgICAgICBsb2dnZXI6IG1haW5Mb2dnZXIsXG4gICAgICAgIGluaXQ6IG1vbml0b3IoZnVuY3Rpb24gKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheS5lcnJvcignTWlzc2luZyBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgYXZhaWxhYmxlLCByZWdhcmRsZXNzIG9mIGluaXRpYWxpemF0aW9uIHN1Y2Nlc3MuXG4gICAgICAgICAgICBnZXRJbml0Q29uZmlndXJhdGlvblN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVlcENsb25lKGluaXRDb25maWd1cmF0aW9uKTsgfTtcbiAgICAgICAgICAgIGlmIChjYW5Vc2VFdmVudEJyaWRnZSgpKSB7XG4gICAgICAgICAgICAgICAgaW5pdENvbmZpZ3VyYXRpb24gPSBvdmVycmlkZUluaXRDb25maWd1cmF0aW9uRm9yQnJpZGdlKGluaXRDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2FuSW5pdExvZ3MoaW5pdENvbmZpZ3VyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbmZpZ3VyYXRpb24gPSB2YWxpZGF0ZUFuZEJ1aWxkTG9nc0NvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluaXRDb25maWd1cmF0aW9uLnN0b3JlQ29udGV4dHNBY3Jvc3NQYWdlcykge1xuICAgICAgICAgICAgICAgIHZhciBiZWZvcmVJbml0R2xvYmFsQ29udGV4dCA9IGdsb2JhbENvbnRleHRNYW5hZ2VyLmdldENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxDb250ZXh0TWFuYWdlciA9IGNyZWF0ZVN0b3JlZENvbnRleHRNYW5hZ2VyKGNvbmZpZ3VyYXRpb24sIExPR1NfU1RPUkFHRV9LRVksIDIgLyogQ3VzdG9tZXJEYXRhVHlwZS5HbG9iYWxDb250ZXh0ICovKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxDb250ZXh0TWFuYWdlci5zZXRDb250ZXh0KGNvbWJpbmUoZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dCgpLCBiZWZvcmVJbml0R2xvYmFsQ29udGV4dCkpO1xuICAgICAgICAgICAgICAgIHZhciBiZWZvcmVJbml0VXNlckNvbnRleHQgPSB1c2VyQ29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0TWFuYWdlciA9IGNyZWF0ZVN0b3JlZENvbnRleHRNYW5hZ2VyKGNvbmZpZ3VyYXRpb24sIExPR1NfU1RPUkFHRV9LRVksIDEgLyogQ3VzdG9tZXJEYXRhVHlwZS5Vc2VyICovKTtcbiAgICAgICAgICAgICAgICB1c2VyQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dChjb21iaW5lKHVzZXJDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0KCksIGJlZm9yZUluaXRVc2VyQ29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgKF9hID0gc3RhcnRMb2dzSW1wbChpbml0Q29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbiwgYnVpbGRDb21tb25Db250ZXh0LCBtYWluTG9nZ2VyKSwgaGFuZGxlTG9nU3RyYXRlZ3kgPSBfYS5oYW5kbGVMb2csIGdldEludGVybmFsQ29udGV4dFN0cmF0ZWd5ID0gX2EuZ2V0SW50ZXJuYWxDb250ZXh0KTtcbiAgICAgICAgICAgIGJlZm9yZUluaXRMb2dnZXJMb2cuZHJhaW4oKTtcbiAgICAgICAgICAgIGlzQWxyZWFkeUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZDogdXNlIGdldEdsb2JhbENvbnRleHQgaW5zdGVhZCAqL1xuICAgICAgICBnZXRMb2dnZXJHbG9iYWxDb250ZXh0OiBtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdsb2JhbENvbnRleHRNYW5hZ2VyLmdldCgpOyB9KSxcbiAgICAgICAgZ2V0R2xvYmFsQ29udGV4dDogbW9uaXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBnbG9iYWxDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0KCk7IH0pLFxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQ6IHVzZSBzZXRHbG9iYWxDb250ZXh0IGluc3RlYWQgKi9cbiAgICAgICAgc2V0TG9nZ2VyR2xvYmFsQ29udGV4dDogbW9uaXRvcihmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gZ2xvYmFsQ29udGV4dE1hbmFnZXIuc2V0KGNvbnRleHQpOyB9KSxcbiAgICAgICAgc2V0R2xvYmFsQ29udGV4dDogbW9uaXRvcihmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gZ2xvYmFsQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dChjb250ZXh0KTsgfSksXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZDogdXNlIHNldEdsb2JhbENvbnRleHRQcm9wZXJ0eSBpbnN0ZWFkICovXG4gICAgICAgIGFkZExvZ2dlckdsb2JhbENvbnRleHQ6IG1vbml0b3IoZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsgcmV0dXJuIGdsb2JhbENvbnRleHRNYW5hZ2VyLmFkZChrZXksIHZhbHVlKTsgfSksXG4gICAgICAgIHNldEdsb2JhbENvbnRleHRQcm9wZXJ0eTogbW9uaXRvcihmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgeyByZXR1cm4gZ2xvYmFsQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dFByb3BlcnR5KGtleSwgdmFsdWUpOyB9KSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkOiB1c2UgcmVtb3ZlR2xvYmFsQ29udGV4dFByb3BlcnR5IGluc3RlYWQgKi9cbiAgICAgICAgcmVtb3ZlTG9nZ2VyR2xvYmFsQ29udGV4dDogbW9uaXRvcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnbG9iYWxDb250ZXh0TWFuYWdlci5yZW1vdmUoa2V5KTsgfSksXG4gICAgICAgIHJlbW92ZUdsb2JhbENvbnRleHRQcm9wZXJ0eTogbW9uaXRvcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnbG9iYWxDb250ZXh0TWFuYWdlci5yZW1vdmVDb250ZXh0UHJvcGVydHkoa2V5KTsgfSksXG4gICAgICAgIGNsZWFyR2xvYmFsQ29udGV4dDogbW9uaXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBnbG9iYWxDb250ZXh0TWFuYWdlci5jbGVhckNvbnRleHQoKTsgfSksXG4gICAgICAgIGNyZWF0ZUxvZ2dlcjogbW9uaXRvcihmdW5jdGlvbiAobmFtZSwgY29uZikge1xuICAgICAgICAgICAgaWYgKGNvbmYgPT09IHZvaWQgMCkgeyBjb25mID0ge307IH1cbiAgICAgICAgICAgIGN1c3RvbUxvZ2dlcnNbbmFtZV0gPSBuZXcgTG9nZ2VyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVMb2dTdHJhdGVneS5hcHBseSh2b2lkIDAsIHBhcmFtcyk7XG4gICAgICAgICAgICB9LCBzYW5pdGl6ZShuYW1lKSwgY29uZi5oYW5kbGVyLCBjb25mLmxldmVsLCBzYW5pdGl6ZShjb25mLmNvbnRleHQpKTtcbiAgICAgICAgICAgIHJldHVybiBjdXN0b21Mb2dnZXJzW25hbWVdO1xuICAgICAgICB9KSxcbiAgICAgICAgZ2V0TG9nZ2VyOiBtb25pdG9yKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBjdXN0b21Mb2dnZXJzW25hbWVdOyB9KSxcbiAgICAgICAgZ2V0SW5pdENvbmZpZ3VyYXRpb246IG1vbml0b3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0SW5pdENvbmZpZ3VyYXRpb25TdHJhdGVneSgpOyB9KSxcbiAgICAgICAgZ2V0SW50ZXJuYWxDb250ZXh0OiBtb25pdG9yKGZ1bmN0aW9uIChzdGFydFRpbWUpIHsgcmV0dXJuIGdldEludGVybmFsQ29udGV4dFN0cmF0ZWd5KHN0YXJ0VGltZSk7IH0pLFxuICAgICAgICBzZXRVc2VyOiBtb25pdG9yKGZ1bmN0aW9uIChuZXdVc2VyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tVc2VyKG5ld1VzZXIpKSB7XG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHRNYW5hZ2VyLnNldENvbnRleHQoc2FuaXRpemVVc2VyKG5ld1VzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGdldFVzZXI6IG1vbml0b3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlckNvbnRleHRNYW5hZ2VyLmdldENvbnRleHQoKTsgfSksXG4gICAgICAgIHNldFVzZXJQcm9wZXJ0eTogbW9uaXRvcihmdW5jdGlvbiAoa2V5LCBwcm9wZXJ0eSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIHNhbml0aXplZFByb3BlcnR5ID0gc2FuaXRpemVVc2VyKChfYSA9IHt9LCBfYVtrZXldID0gcHJvcGVydHksIF9hKSlba2V5XTtcbiAgICAgICAgICAgIHVzZXJDb250ZXh0TWFuYWdlci5zZXRDb250ZXh0UHJvcGVydHkoa2V5LCBzYW5pdGl6ZWRQcm9wZXJ0eSk7XG4gICAgICAgIH0pLFxuICAgICAgICByZW1vdmVVc2VyUHJvcGVydHk6IG1vbml0b3IoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gdXNlckNvbnRleHRNYW5hZ2VyLnJlbW92ZUNvbnRleHRQcm9wZXJ0eShrZXkpOyB9KSxcbiAgICAgICAgY2xlYXJVc2VyOiBtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZXJDb250ZXh0TWFuYWdlci5jbGVhckNvbnRleHQoKTsgfSksXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gb3ZlcnJpZGVJbml0Q29uZmlndXJhdGlvbkZvckJyaWRnZShpbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICByZXR1cm4gYXNzaWduKHt9LCBpbml0Q29uZmlndXJhdGlvbiwgeyBjbGllbnRUb2tlbjogJ2VtcHR5JyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSW5pdExvZ3MoaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGlzQWxyZWFkeUluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uLnNpbGVudE11bHRpcGxlSW5pdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXkuZXJyb3IoJ0REX0xPR1MgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dzUHVibGljQXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startLogs\": () => (/* binding */ startLogs)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\");\n/* harmony import */ var _domain_logsSessionManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/logsSessionManager */ \"../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/configuration */ \"../../node_modules/@datadog/browser-logs/esm/domain/configuration.js\");\n/* harmony import */ var _domain_assembly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/assembly */ \"../../node_modules/@datadog/browser-logs/esm/domain/assembly.js\");\n/* harmony import */ var _domain_console_consoleCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/console/consoleCollection */ \"../../node_modules/@datadog/browser-logs/esm/domain/console/consoleCollection.js\");\n/* harmony import */ var _domain_report_reportCollection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../domain/report/reportCollection */ \"../../node_modules/@datadog/browser-logs/esm/domain/report/reportCollection.js\");\n/* harmony import */ var _domain_networkError_networkErrorCollection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../domain/networkError/networkErrorCollection */ \"../../node_modules/@datadog/browser-logs/esm/domain/networkError/networkErrorCollection.js\");\n/* harmony import */ var _domain_runtimeError_runtimeErrorCollection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../domain/runtimeError/runtimeErrorCollection */ \"../../node_modules/@datadog/browser-logs/esm/domain/runtimeError/runtimeErrorCollection.js\");\n/* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../domain/lifeCycle */ \"../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js\");\n/* harmony import */ var _domain_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../domain/logger/loggerCollection */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger/loggerCollection.js\");\n/* harmony import */ var _transport_startLogsBatch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../transport/startLogsBatch */ \"../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js\");\n/* harmony import */ var _transport_startLogsBridge__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../transport/startLogsBridge */ \"../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js\");\n/* harmony import */ var _domain_logger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../domain/logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n/* harmony import */ var _domain_internalContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../domain/internalContext */ \"../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction startLogs(initConfiguration, configuration, buildCommonContext, mainLogger) {\n    var lifeCycle = new _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_7__.LifeCycle();\n    var cleanupTasks = [];\n    lifeCycle.subscribe(1 /* LifeCycleEventType.LOG_COLLECTED */, function (log) { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.sendToExtension)('logs', log); });\n    var reportError = function (error) {\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                message: error.message,\n                date: error.startClocks.timeStamp,\n                error: {\n                    origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__.ErrorSource.AGENT, // Todo: Remove in the next major release\n                },\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__.ErrorSource.AGENT,\n                status: _domain_logger__WEBPACK_IMPORTED_MODULE_11__.StatusType.error,\n            },\n        });\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__.addTelemetryDebug)('Error reported to customer', { 'error.message': error.message });\n    };\n    var pageExitObservable = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__.createPageExitObservable)(configuration);\n    var session = configuration.sessionStoreStrategyType && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.canUseEventBridge)() && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.willSyntheticsInjectRum)()\n        ? (0,_domain_logsSessionManager__WEBPACK_IMPORTED_MODULE_0__.startLogsSessionManager)(configuration)\n        : (0,_domain_logsSessionManager__WEBPACK_IMPORTED_MODULE_0__.startLogsSessionManagerStub)(configuration);\n    var _a = startLogsTelemetry(configuration, reportError, pageExitObservable, session.expireObservable), telemetry = _a.telemetry, stopLogsTelemetry = _a.stop;\n    cleanupTasks.push(function () { return stopLogsTelemetry(); });\n    telemetry.setContextProvider(function () {\n        var _a, _b, _c, _d, _e, _f;\n        return ({\n            application: {\n                id: (_a = (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.getRUMInternalContext)()) === null || _a === void 0 ? void 0 : _a.application_id,\n            },\n            session: {\n                id: (_b = session.findTrackedSession()) === null || _b === void 0 ? void 0 : _b.id,\n            },\n            view: {\n                id: (_d = (_c = (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.getRUMInternalContext)()) === null || _c === void 0 ? void 0 : _c.view) === null || _d === void 0 ? void 0 : _d.id,\n            },\n            action: {\n                id: (_f = (_e = (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.getRUMInternalContext)()) === null || _e === void 0 ? void 0 : _e.user_action) === null || _f === void 0 ? void 0 : _f.id,\n            },\n        });\n    });\n    (0,_domain_networkError_networkErrorCollection__WEBPACK_IMPORTED_MODULE_5__.startNetworkErrorCollection)(configuration, lifeCycle);\n    (0,_domain_runtimeError_runtimeErrorCollection__WEBPACK_IMPORTED_MODULE_6__.startRuntimeErrorCollection)(configuration, lifeCycle);\n    (0,_domain_console_consoleCollection__WEBPACK_IMPORTED_MODULE_3__.startConsoleCollection)(configuration, lifeCycle);\n    (0,_domain_report_reportCollection__WEBPACK_IMPORTED_MODULE_4__.startReportCollection)(configuration, lifeCycle);\n    var handleLog = (0,_domain_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_8__.startLoggerCollection)(lifeCycle).handleLog;\n    (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.startLogsAssembly)(session, configuration, lifeCycle, buildCommonContext, mainLogger, reportError);\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.canUseEventBridge)()) {\n        var stopLogsBatch_1 = (0,_transport_startLogsBatch__WEBPACK_IMPORTED_MODULE_9__.startLogsBatch)(configuration, lifeCycle, reportError, pageExitObservable, session.expireObservable).stop;\n        cleanupTasks.push(function () { return stopLogsBatch_1(); });\n    }\n    else {\n        (0,_transport_startLogsBridge__WEBPACK_IMPORTED_MODULE_10__.startLogsBridge)(lifeCycle);\n    }\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__.addTelemetryConfiguration)((0,_domain_configuration__WEBPACK_IMPORTED_MODULE_1__.serializeLogsConfiguration)(initConfiguration));\n    var internalContext = (0,_domain_internalContext__WEBPACK_IMPORTED_MODULE_12__.startInternalContext)(session);\n    return {\n        handleLog: handleLog,\n        getInternalContext: internalContext.get,\n        stop: function () {\n            cleanupTasks.forEach(function (task) { return task(); });\n        },\n    };\n}\nfunction startLogsTelemetry(configuration, reportError, pageExitObservable, sessionExpireObservable) {\n    var telemetry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__.startTelemetry)(\"browser-logs-sdk\" /* TelemetryService.LOGS */, configuration);\n    var cleanupTasks = [];\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.canUseEventBridge)()) {\n        var bridge_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.getEventBridge)();\n        var telemetrySubscription_1 = telemetry.observable.subscribe(function (event) { return bridge_1.send('internal_telemetry', event); });\n        cleanupTasks.push(function () { return telemetrySubscription_1.unsubscribe(); });\n    }\n    else {\n        var telemetryBatch_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__.startBatchWithReplica)(configuration, {\n            endpoint: configuration.rumEndpointBuilder,\n        }, configuration.replica && {\n            endpoint: configuration.replica.rumEndpointBuilder,\n        }, reportError, pageExitObservable, sessionExpireObservable);\n        cleanupTasks.push(function () { return telemetryBatch_1.stop(); });\n        var telemetrySubscription_2 = telemetry.observable.subscribe(function (event) {\n            return telemetryBatch_1.add(event, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__.isTelemetryReplicationAllowed)(configuration));\n        });\n        cleanupTasks.push(function () { return telemetrySubscription_2.unsubscribe(); });\n    }\n    return {\n        telemetry: telemetry,\n        stop: function () {\n            cleanupTasks.forEach(function (task) { return task(); });\n        },\n    };\n}\n//# sourceMappingURL=startLogs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vYm9vdC9zdGFydExvZ3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9ib290L3N0YXJ0TG9ncy5qcz8wYjE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlbmRUb0V4dGVuc2lvbiwgY3JlYXRlUGFnZUV4aXRPYnNlcnZhYmxlLCB3aWxsU3ludGhldGljc0luamVjdFJ1bSwgY2FuVXNlRXZlbnRCcmlkZ2UsIGdldEV2ZW50QnJpZGdlLCBzdGFydFRlbGVtZXRyeSwgc3RhcnRCYXRjaFdpdGhSZXBsaWNhLCBpc1RlbGVtZXRyeVJlcGxpY2F0aW9uQWxsb3dlZCwgRXJyb3JTb3VyY2UsIGFkZFRlbGVtZXRyeUNvbmZpZ3VyYXRpb24sIGFkZFRlbGVtZXRyeURlYnVnLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBzdGFydExvZ3NTZXNzaW9uTWFuYWdlciwgc3RhcnRMb2dzU2Vzc2lvbk1hbmFnZXJTdHViIH0gZnJvbSAnLi4vZG9tYWluL2xvZ3NTZXNzaW9uTWFuYWdlcic7XG5pbXBvcnQgeyBzZXJpYWxpemVMb2dzQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IHN0YXJ0TG9nc0Fzc2VtYmx5LCBnZXRSVU1JbnRlcm5hbENvbnRleHQgfSBmcm9tICcuLi9kb21haW4vYXNzZW1ibHknO1xuaW1wb3J0IHsgc3RhcnRDb25zb2xlQ29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9jb25zb2xlL2NvbnNvbGVDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0UmVwb3J0Q29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9yZXBvcnQvcmVwb3J0Q29sbGVjdGlvbic7XG5pbXBvcnQgeyBzdGFydE5ldHdvcmtFcnJvckNvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vbmV0d29ya0Vycm9yL25ldHdvcmtFcnJvckNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnRSdW50aW1lRXJyb3JDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bnRpbWVFcnJvci9ydW50aW1lRXJyb3JDb2xsZWN0aW9uJztcbmltcG9ydCB7IExpZmVDeWNsZSB9IGZyb20gJy4uL2RvbWFpbi9saWZlQ3ljbGUnO1xuaW1wb3J0IHsgc3RhcnRMb2dnZXJDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL2xvZ2dlci9sb2dnZXJDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0TG9nc0JhdGNoIH0gZnJvbSAnLi4vdHJhbnNwb3J0L3N0YXJ0TG9nc0JhdGNoJztcbmltcG9ydCB7IHN0YXJ0TG9nc0JyaWRnZSB9IGZyb20gJy4uL3RyYW5zcG9ydC9zdGFydExvZ3NCcmlkZ2UnO1xuaW1wb3J0IHsgU3RhdHVzVHlwZSB9IGZyb20gJy4uL2RvbWFpbi9sb2dnZXInO1xuaW1wb3J0IHsgc3RhcnRJbnRlcm5hbENvbnRleHQgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxDb250ZXh0JztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ3MoaW5pdENvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb24sIGJ1aWxkQ29tbW9uQ29udGV4dCwgbWFpbkxvZ2dlcikge1xuICAgIHZhciBsaWZlQ3ljbGUgPSBuZXcgTGlmZUN5Y2xlKCk7XG4gICAgdmFyIGNsZWFudXBUYXNrcyA9IFtdO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMSAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuTE9HX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKGxvZykgeyByZXR1cm4gc2VuZFRvRXh0ZW5zaW9uKCdsb2dzJywgbG9nKTsgfSk7XG4gICAgdmFyIHJlcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0xPR19DT0xMRUNURUQgKi8sIHtcbiAgICAgICAgICAgIHJhd0xvZ3NFdmVudDoge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZGF0ZTogZXJyb3Iuc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuQUdFTlQsIC8vIFRvZG86IFJlbW92ZSBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLkFHRU5ULFxuICAgICAgICAgICAgICAgIHN0YXR1czogU3RhdHVzVHlwZS5lcnJvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBhZGRUZWxlbWV0cnlEZWJ1ZygnRXJyb3IgcmVwb3J0ZWQgdG8gY3VzdG9tZXInLCB7ICdlcnJvci5tZXNzYWdlJzogZXJyb3IubWVzc2FnZSB9KTtcbiAgICB9O1xuICAgIHZhciBwYWdlRXhpdE9ic2VydmFibGUgPSBjcmVhdGVQYWdlRXhpdE9ic2VydmFibGUoY29uZmlndXJhdGlvbik7XG4gICAgdmFyIHNlc3Npb24gPSBjb25maWd1cmF0aW9uLnNlc3Npb25TdG9yZVN0cmF0ZWd5VHlwZSAmJiAhY2FuVXNlRXZlbnRCcmlkZ2UoKSAmJiAhd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0oKVxuICAgICAgICA/IHN0YXJ0TG9nc1Nlc3Npb25NYW5hZ2VyKGNvbmZpZ3VyYXRpb24pXG4gICAgICAgIDogc3RhcnRMb2dzU2Vzc2lvbk1hbmFnZXJTdHViKGNvbmZpZ3VyYXRpb24pO1xuICAgIHZhciBfYSA9IHN0YXJ0TG9nc1RlbGVtZXRyeShjb25maWd1cmF0aW9uLCByZXBvcnRFcnJvciwgcGFnZUV4aXRPYnNlcnZhYmxlLCBzZXNzaW9uLmV4cGlyZU9ic2VydmFibGUpLCB0ZWxlbWV0cnkgPSBfYS50ZWxlbWV0cnksIHN0b3BMb2dzVGVsZW1ldHJ5ID0gX2Euc3RvcDtcbiAgICBjbGVhbnVwVGFza3MucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9wTG9nc1RlbGVtZXRyeSgpOyB9KTtcbiAgICB0ZWxlbWV0cnkuc2V0Q29udGV4dFByb3ZpZGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgYXBwbGljYXRpb246IHtcbiAgICAgICAgICAgICAgICBpZDogKF9hID0gZ2V0UlVNSW50ZXJuYWxDb250ZXh0KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcHBsaWNhdGlvbl9pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgaWQ6IChfYiA9IHNlc3Npb24uZmluZFRyYWNrZWRTZXNzaW9uKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICAgICAgaWQ6IChfZCA9IChfYyA9IGdldFJVTUludGVybmFsQ29udGV4dCgpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudmlldykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGlkOiAoX2YgPSAoX2UgPSBnZXRSVU1JbnRlcm5hbENvbnRleHQoKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnVzZXJfYWN0aW9uKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBzdGFydE5ldHdvcmtFcnJvckNvbGxlY3Rpb24oY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlKTtcbiAgICBzdGFydFJ1bnRpbWVFcnJvckNvbGxlY3Rpb24oY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlKTtcbiAgICBzdGFydENvbnNvbGVDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSk7XG4gICAgc3RhcnRSZXBvcnRDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSk7XG4gICAgdmFyIGhhbmRsZUxvZyA9IHN0YXJ0TG9nZ2VyQ29sbGVjdGlvbihsaWZlQ3ljbGUpLmhhbmRsZUxvZztcbiAgICBzdGFydExvZ3NBc3NlbWJseShzZXNzaW9uLCBjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUsIGJ1aWxkQ29tbW9uQ29udGV4dCwgbWFpbkxvZ2dlciwgcmVwb3J0RXJyb3IpO1xuICAgIGlmICghY2FuVXNlRXZlbnRCcmlkZ2UoKSkge1xuICAgICAgICB2YXIgc3RvcExvZ3NCYXRjaF8xID0gc3RhcnRMb2dzQmF0Y2goY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCByZXBvcnRFcnJvciwgcGFnZUV4aXRPYnNlcnZhYmxlLCBzZXNzaW9uLmV4cGlyZU9ic2VydmFibGUpLnN0b3A7XG4gICAgICAgIGNsZWFudXBUYXNrcy5wdXNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0b3BMb2dzQmF0Y2hfMSgpOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0TG9nc0JyaWRnZShsaWZlQ3ljbGUpO1xuICAgIH1cbiAgICBhZGRUZWxlbWV0cnlDb25maWd1cmF0aW9uKHNlcmlhbGl6ZUxvZ3NDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSk7XG4gICAgdmFyIGludGVybmFsQ29udGV4dCA9IHN0YXJ0SW50ZXJuYWxDb250ZXh0KHNlc3Npb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhhbmRsZUxvZzogaGFuZGxlTG9nLFxuICAgICAgICBnZXRJbnRlcm5hbENvbnRleHQ6IGludGVybmFsQ29udGV4dC5nZXQsXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFudXBUYXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7IHJldHVybiB0YXNrKCk7IH0pO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBzdGFydExvZ3NUZWxlbWV0cnkoY29uZmlndXJhdGlvbiwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpIHtcbiAgICB2YXIgdGVsZW1ldHJ5ID0gc3RhcnRUZWxlbWV0cnkoXCJicm93c2VyLWxvZ3Mtc2RrXCIgLyogVGVsZW1ldHJ5U2VydmljZS5MT0dTICovLCBjb25maWd1cmF0aW9uKTtcbiAgICB2YXIgY2xlYW51cFRhc2tzID0gW107XG4gICAgaWYgKGNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICAgICAgdmFyIGJyaWRnZV8xID0gZ2V0RXZlbnRCcmlkZ2UoKTtcbiAgICAgICAgdmFyIHRlbGVtZXRyeVN1YnNjcmlwdGlvbl8xID0gdGVsZW1ldHJ5Lm9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gYnJpZGdlXzEuc2VuZCgnaW50ZXJuYWxfdGVsZW1ldHJ5JywgZXZlbnQpOyB9KTtcbiAgICAgICAgY2xlYW51cFRhc2tzLnB1c2goZnVuY3Rpb24gKCkgeyByZXR1cm4gdGVsZW1ldHJ5U3Vic2NyaXB0aW9uXzEudW5zdWJzY3JpYmUoKTsgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdGVsZW1ldHJ5QmF0Y2hfMSA9IHN0YXJ0QmF0Y2hXaXRoUmVwbGljYShjb25maWd1cmF0aW9uLCB7XG4gICAgICAgICAgICBlbmRwb2ludDogY29uZmlndXJhdGlvbi5ydW1FbmRwb2ludEJ1aWxkZXIsXG4gICAgICAgIH0sIGNvbmZpZ3VyYXRpb24ucmVwbGljYSAmJiB7XG4gICAgICAgICAgICBlbmRwb2ludDogY29uZmlndXJhdGlvbi5yZXBsaWNhLnJ1bUVuZHBvaW50QnVpbGRlcixcbiAgICAgICAgfSwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpO1xuICAgICAgICBjbGVhbnVwVGFza3MucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiB0ZWxlbWV0cnlCYXRjaF8xLnN0b3AoKTsgfSk7XG4gICAgICAgIHZhciB0ZWxlbWV0cnlTdWJzY3JpcHRpb25fMiA9IHRlbGVtZXRyeS5vYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZWxlbWV0cnlCYXRjaF8xLmFkZChldmVudCwgaXNUZWxlbWV0cnlSZXBsaWNhdGlvbkFsbG93ZWQoY29uZmlndXJhdGlvbikpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2xlYW51cFRhc2tzLnB1c2goZnVuY3Rpb24gKCkgeyByZXR1cm4gdGVsZW1ldHJ5U3Vic2NyaXB0aW9uXzIudW5zdWJzY3JpYmUoKTsgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhbnVwVGFza3MuZm9yRWFjaChmdW5jdGlvbiAodGFzaykgeyByZXR1cm4gdGFzaygpOyB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRMb2dzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/assembly.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/assembly.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getRUMInternalContext\": () => (/* binding */ getRUMInternalContext),\n/* harmony export */   \"resetRUMInternalContext\": () => (/* binding */ resetRUMInternalContext),\n/* harmony export */   \"startLogsAssembly\": () => (/* binding */ startLogsAssembly)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n/* harmony import */ var _logger_loggerCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger/loggerCollection */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger/loggerCollection.js\");\n\n\n\nfunction startLogsAssembly(sessionManager, configuration, lifeCycle, buildCommonContext, mainLogger, // Todo: [RUMF-1230] Remove this parameter in the next major release\nreportError) {\n    var statusWithCustom = _logger__WEBPACK_IMPORTED_MODULE_0__.STATUSES.concat(['custom']);\n    var logRateLimiters = {};\n    statusWithCustom.forEach(function (status) {\n        logRateLimiters[status] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createEventRateLimiter)(status, configuration.eventRateLimiterThreshold, reportError);\n    });\n    lifeCycle.subscribe(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, function (_a) {\n        var _b, _c, _d;\n        var rawLogsEvent = _a.rawLogsEvent, _e = _a.messageContext, messageContext = _e === void 0 ? undefined : _e, _f = _a.savedCommonContext, savedCommonContext = _f === void 0 ? undefined : _f, _g = _a.logger, logger = _g === void 0 ? mainLogger : _g;\n        var startTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.getRelativeTime)(rawLogsEvent.date);\n        var session = sessionManager.findTrackedSession(startTime);\n        if (!session) {\n            return;\n        }\n        var commonContext = savedCommonContext || buildCommonContext();\n        var log = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)({\n            service: configuration.service,\n            session_id: session.id,\n            // Insert user first to allow overrides from global context\n            usr: !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.isEmptyObject)(commonContext.user) ? commonContext.user : undefined,\n            view: commonContext.view,\n        }, commonContext.context, getRUMInternalContext(startTime), rawLogsEvent, logger.getContext(), messageContext);\n        if (\n        // Todo: [RUMF-1230] Move this check to the logger collection in the next major release\n        !(0,_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_1__.isAuthorized)(rawLogsEvent.status, _logger__WEBPACK_IMPORTED_MODULE_0__.HandlerType.http, logger) ||\n            ((_b = configuration.beforeSend) === null || _b === void 0 ? void 0 : _b.call(configuration, log)) === false ||\n            (((_c = log.error) === null || _c === void 0 ? void 0 : _c.origin) !== _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.ErrorSource.AGENT &&\n                ((_d = logRateLimiters[log.status]) !== null && _d !== void 0 ? _d : logRateLimiters['custom']).isLimitReached())) {\n            return;\n        }\n        lifeCycle.notify(1 /* LifeCycleEventType.LOG_COLLECTED */, log);\n    });\n}\nvar logsSentBeforeRumInjectionTelemetryAdded = false;\nfunction getRUMInternalContext(startTime) {\n    var browserWindow = window;\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.willSyntheticsInjectRum)()) {\n        var context = getInternalContextFromRumGlobal(browserWindow.DD_RUM_SYNTHETICS);\n        if (!context && !logsSentBeforeRumInjectionTelemetryAdded) {\n            logsSentBeforeRumInjectionTelemetryAdded = true;\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.addTelemetryDebug)('Logs sent before RUM is injected by the synthetics worker', {\n                testId: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getSyntheticsTestId)(),\n                resultId: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getSyntheticsResultId)(),\n            });\n        }\n        return context;\n    }\n    return getInternalContextFromRumGlobal(browserWindow.DD_RUM);\n    function getInternalContextFromRumGlobal(rumGlobal) {\n        if (rumGlobal && rumGlobal.getInternalContext) {\n            return rumGlobal.getInternalContext(startTime);\n        }\n    }\n}\nfunction resetRUMInternalContext() {\n    logsSentBeforeRumInjectionTelemetryAdded = false;\n}\n//# sourceMappingURL=assembly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2Fzc2VtYmx5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vYXNzZW1ibHkuanM/MjM3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTeW50aGV0aWNzUmVzdWx0SWQsIGdldFN5bnRoZXRpY3NUZXN0SWQsIGFkZFRlbGVtZXRyeURlYnVnLCB3aWxsU3ludGhldGljc0luamVjdFJ1bSwgRXJyb3JTb3VyY2UsIGNvbWJpbmUsIGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIsIGdldFJlbGF0aXZlVGltZSwgaXNFbXB0eU9iamVjdCwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgU1RBVFVTRVMsIEhhbmRsZXJUeXBlIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgaXNBdXRob3JpemVkIH0gZnJvbSAnLi9sb2dnZXIvbG9nZ2VyQ29sbGVjdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRMb2dzQXNzZW1ibHkoc2Vzc2lvbk1hbmFnZXIsIGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgYnVpbGRDb21tb25Db250ZXh0LCBtYWluTG9nZ2VyLCAvLyBUb2RvOiBbUlVNRi0xMjMwXSBSZW1vdmUgdGhpcyBwYXJhbWV0ZXIgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxucmVwb3J0RXJyb3IpIHtcbiAgICB2YXIgc3RhdHVzV2l0aEN1c3RvbSA9IFNUQVRVU0VTLmNvbmNhdChbJ2N1c3RvbSddKTtcbiAgICB2YXIgbG9nUmF0ZUxpbWl0ZXJzID0ge307XG4gICAgc3RhdHVzV2l0aEN1c3RvbS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgbG9nUmF0ZUxpbWl0ZXJzW3N0YXR1c10gPSBjcmVhdGVFdmVudFJhdGVMaW1pdGVyKHN0YXR1cywgY29uZmlndXJhdGlvbi5ldmVudFJhdGVMaW1pdGVyVGhyZXNob2xkLCByZXBvcnRFcnJvcik7XG4gICAgfSk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfTE9HX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiwgX2MsIF9kO1xuICAgICAgICB2YXIgcmF3TG9nc0V2ZW50ID0gX2EucmF3TG9nc0V2ZW50LCBfZSA9IF9hLm1lc3NhZ2VDb250ZXh0LCBtZXNzYWdlQ29udGV4dCA9IF9lID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfZSwgX2YgPSBfYS5zYXZlZENvbW1vbkNvbnRleHQsIHNhdmVkQ29tbW9uQ29udGV4dCA9IF9mID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfZiwgX2cgPSBfYS5sb2dnZXIsIGxvZ2dlciA9IF9nID09PSB2b2lkIDAgPyBtYWluTG9nZ2VyIDogX2c7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBnZXRSZWxhdGl2ZVRpbWUocmF3TG9nc0V2ZW50LmRhdGUpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyLmZpbmRUcmFja2VkU2Vzc2lvbihzdGFydFRpbWUpO1xuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tbW9uQ29udGV4dCA9IHNhdmVkQ29tbW9uQ29udGV4dCB8fCBidWlsZENvbW1vbkNvbnRleHQoKTtcbiAgICAgICAgdmFyIGxvZyA9IGNvbWJpbmUoe1xuICAgICAgICAgICAgc2VydmljZTogY29uZmlndXJhdGlvbi5zZXJ2aWNlLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgIC8vIEluc2VydCB1c2VyIGZpcnN0IHRvIGFsbG93IG92ZXJyaWRlcyBmcm9tIGdsb2JhbCBjb250ZXh0XG4gICAgICAgICAgICB1c3I6ICFpc0VtcHR5T2JqZWN0KGNvbW1vbkNvbnRleHQudXNlcikgPyBjb21tb25Db250ZXh0LnVzZXIgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2aWV3OiBjb21tb25Db250ZXh0LnZpZXcsXG4gICAgICAgIH0sIGNvbW1vbkNvbnRleHQuY29udGV4dCwgZ2V0UlVNSW50ZXJuYWxDb250ZXh0KHN0YXJ0VGltZSksIHJhd0xvZ3NFdmVudCwgbG9nZ2VyLmdldENvbnRleHQoKSwgbWVzc2FnZUNvbnRleHQpO1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIFRvZG86IFtSVU1GLTEyMzBdIE1vdmUgdGhpcyBjaGVjayB0byB0aGUgbG9nZ2VyIGNvbGxlY3Rpb24gaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgICAgICAhaXNBdXRob3JpemVkKHJhd0xvZ3NFdmVudC5zdGF0dXMsIEhhbmRsZXJUeXBlLmh0dHAsIGxvZ2dlcikgfHxcbiAgICAgICAgICAgICgoX2IgPSBjb25maWd1cmF0aW9uLmJlZm9yZVNlbmQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGNvbmZpZ3VyYXRpb24sIGxvZykpID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgKCgoX2MgPSBsb2cuZXJyb3IpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5vcmlnaW4pICE9PSBFcnJvclNvdXJjZS5BR0VOVCAmJlxuICAgICAgICAgICAgICAgICgoX2QgPSBsb2dSYXRlTGltaXRlcnNbbG9nLnN0YXR1c10pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGxvZ1JhdGVMaW1pdGVyc1snY3VzdG9tJ10pLmlzTGltaXRSZWFjaGVkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgxIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5MT0dfQ09MTEVDVEVEICovLCBsb2cpO1xuICAgIH0pO1xufVxudmFyIGxvZ3NTZW50QmVmb3JlUnVtSW5qZWN0aW9uVGVsZW1ldHJ5QWRkZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRSVU1JbnRlcm5hbENvbnRleHQoc3RhcnRUaW1lKSB7XG4gICAgdmFyIGJyb3dzZXJXaW5kb3cgPSB3aW5kb3c7XG4gICAgaWYgKHdpbGxTeW50aGV0aWNzSW5qZWN0UnVtKCkpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBnZXRJbnRlcm5hbENvbnRleHRGcm9tUnVtR2xvYmFsKGJyb3dzZXJXaW5kb3cuRERfUlVNX1NZTlRIRVRJQ1MpO1xuICAgICAgICBpZiAoIWNvbnRleHQgJiYgIWxvZ3NTZW50QmVmb3JlUnVtSW5qZWN0aW9uVGVsZW1ldHJ5QWRkZWQpIHtcbiAgICAgICAgICAgIGxvZ3NTZW50QmVmb3JlUnVtSW5qZWN0aW9uVGVsZW1ldHJ5QWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgYWRkVGVsZW1ldHJ5RGVidWcoJ0xvZ3Mgc2VudCBiZWZvcmUgUlVNIGlzIGluamVjdGVkIGJ5IHRoZSBzeW50aGV0aWNzIHdvcmtlcicsIHtcbiAgICAgICAgICAgICAgICB0ZXN0SWQ6IGdldFN5bnRoZXRpY3NUZXN0SWQoKSxcbiAgICAgICAgICAgICAgICByZXN1bHRJZDogZ2V0U3ludGhldGljc1Jlc3VsdElkKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGdldEludGVybmFsQ29udGV4dEZyb21SdW1HbG9iYWwoYnJvd3NlcldpbmRvdy5ERF9SVU0pO1xuICAgIGZ1bmN0aW9uIGdldEludGVybmFsQ29udGV4dEZyb21SdW1HbG9iYWwocnVtR2xvYmFsKSB7XG4gICAgICAgIGlmIChydW1HbG9iYWwgJiYgcnVtR2xvYmFsLmdldEludGVybmFsQ29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHJ1bUdsb2JhbC5nZXRJbnRlcm5hbENvbnRleHQoc3RhcnRUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldFJVTUludGVybmFsQ29udGV4dCgpIHtcbiAgICBsb2dzU2VudEJlZm9yZVJ1bUluamVjdGlvblRlbGVtZXRyeUFkZGVkID0gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NlbWJseS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/assembly.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/configuration.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/configuration.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT\": () => (/* binding */ DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT),\n/* harmony export */   \"serializeLogsConfiguration\": () => (/* binding */ serializeLogsConfiguration),\n/* harmony export */   \"validateAndBuildForwardOption\": () => (/* binding */ validateAndBuildForwardOption),\n/* harmony export */   \"validateAndBuildLogsConfiguration\": () => (/* binding */ validateAndBuildLogsConfiguration)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js\");\n\n/**\n * arbitrary value, byte precision not needed\n */\nvar DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT = 32 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\nfunction validateAndBuildLogsConfiguration(initConfiguration) {\n    var baseConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.validateAndBuildConfiguration)(initConfiguration);\n    var forwardConsoleLogs = validateAndBuildForwardOption(initConfiguration.forwardConsoleLogs, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.objectValues)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName), 'Forward Console Logs');\n    var forwardReports = validateAndBuildForwardOption(initConfiguration.forwardReports, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.objectValues)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.RawReportType), 'Forward Reports');\n    if (!baseConfiguration || !forwardConsoleLogs || !forwardReports) {\n        return;\n    }\n    if (initConfiguration.forwardErrorsToLogs && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.includes)(forwardConsoleLogs, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName.error)) {\n        forwardConsoleLogs.push(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName.error);\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        forwardErrorsToLogs: initConfiguration.forwardErrorsToLogs !== false,\n        forwardConsoleLogs: forwardConsoleLogs,\n        forwardReports: forwardReports,\n        requestErrorResponseLengthLimit: DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT,\n    }, baseConfiguration);\n}\nfunction validateAndBuildForwardOption(option, allowedValues, label) {\n    if (option === undefined) {\n        return [];\n    }\n    if (!(option === 'all' || (Array.isArray(option) && option.every(function (api) { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.includes)(allowedValues, api); })))) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.display.error(\"\".concat(label, \" should be \\\"all\\\" or an array with allowed values \\\"\").concat(allowedValues.join('\", \"'), \"\\\"\"));\n        return;\n    }\n    return option === 'all' ? allowedValues : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.removeDuplicates)(option);\n}\nfunction serializeLogsConfiguration(configuration) {\n    var baseSerializedInitConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.serializeConfiguration)(configuration);\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        forward_errors_to_logs: configuration.forwardErrorsToLogs,\n        forward_console_logs: configuration.forwardConsoleLogs,\n        forward_reports: configuration.forwardReports,\n    }, baseSerializedInitConfiguration);\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vY29uZmlndXJhdGlvbi5qcz8xNTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlcmlhbGl6ZUNvbmZpZ3VyYXRpb24sIGFzc2lnbiwgT05FX0tJQklfQllURSwgdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24sIGRpc3BsYXksIHJlbW92ZUR1cGxpY2F0ZXMsIENvbnNvbGVBcGlOYW1lLCBSYXdSZXBvcnRUeXBlLCBpbmNsdWRlcywgb2JqZWN0VmFsdWVzLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vKipcbiAqIGFyYml0cmFyeSB2YWx1ZSwgYnl0ZSBwcmVjaXNpb24gbm90IG5lZWRlZFxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfUkVRVUVTVF9FUlJPUl9SRVNQT05TRV9MRU5HVEhfTElNSVQgPSAzMiAqIE9ORV9LSUJJX0JZVEU7XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBbmRCdWlsZExvZ3NDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGJhc2VDb25maWd1cmF0aW9uID0gdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgIHZhciBmb3J3YXJkQ29uc29sZUxvZ3MgPSB2YWxpZGF0ZUFuZEJ1aWxkRm9yd2FyZE9wdGlvbihpbml0Q29uZmlndXJhdGlvbi5mb3J3YXJkQ29uc29sZUxvZ3MsIG9iamVjdFZhbHVlcyhDb25zb2xlQXBpTmFtZSksICdGb3J3YXJkIENvbnNvbGUgTG9ncycpO1xuICAgIHZhciBmb3J3YXJkUmVwb3J0cyA9IHZhbGlkYXRlQW5kQnVpbGRGb3J3YXJkT3B0aW9uKGluaXRDb25maWd1cmF0aW9uLmZvcndhcmRSZXBvcnRzLCBvYmplY3RWYWx1ZXMoUmF3UmVwb3J0VHlwZSksICdGb3J3YXJkIFJlcG9ydHMnKTtcbiAgICBpZiAoIWJhc2VDb25maWd1cmF0aW9uIHx8ICFmb3J3YXJkQ29uc29sZUxvZ3MgfHwgIWZvcndhcmRSZXBvcnRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGluaXRDb25maWd1cmF0aW9uLmZvcndhcmRFcnJvcnNUb0xvZ3MgJiYgIWluY2x1ZGVzKGZvcndhcmRDb25zb2xlTG9ncywgQ29uc29sZUFwaU5hbWUuZXJyb3IpKSB7XG4gICAgICAgIGZvcndhcmRDb25zb2xlTG9ncy5wdXNoKENvbnNvbGVBcGlOYW1lLmVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgIGZvcndhcmRFcnJvcnNUb0xvZ3M6IGluaXRDb25maWd1cmF0aW9uLmZvcndhcmRFcnJvcnNUb0xvZ3MgIT09IGZhbHNlLFxuICAgICAgICBmb3J3YXJkQ29uc29sZUxvZ3M6IGZvcndhcmRDb25zb2xlTG9ncyxcbiAgICAgICAgZm9yd2FyZFJlcG9ydHM6IGZvcndhcmRSZXBvcnRzLFxuICAgICAgICByZXF1ZXN0RXJyb3JSZXNwb25zZUxlbmd0aExpbWl0OiBERUZBVUxUX1JFUVVFU1RfRVJST1JfUkVTUE9OU0VfTEVOR1RIX0xJTUlULFxuICAgIH0sIGJhc2VDb25maWd1cmF0aW9uKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFuZEJ1aWxkRm9yd2FyZE9wdGlvbihvcHRpb24sIGFsbG93ZWRWYWx1ZXMsIGxhYmVsKSB7XG4gICAgaWYgKG9wdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCEob3B0aW9uID09PSAnYWxsJyB8fCAoQXJyYXkuaXNBcnJheShvcHRpb24pICYmIG9wdGlvbi5ldmVyeShmdW5jdGlvbiAoYXBpKSB7IHJldHVybiBpbmNsdWRlcyhhbGxvd2VkVmFsdWVzLCBhcGkpOyB9KSkpKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoXCJcIi5jb25jYXQobGFiZWwsIFwiIHNob3VsZCBiZSBcXFwiYWxsXFxcIiBvciBhbiBhcnJheSB3aXRoIGFsbG93ZWQgdmFsdWVzIFxcXCJcIikuY29uY2F0KGFsbG93ZWRWYWx1ZXMuam9pbignXCIsIFwiJyksIFwiXFxcIlwiKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbiA9PT0gJ2FsbCcgPyBhbGxvd2VkVmFsdWVzIDogcmVtb3ZlRHVwbGljYXRlcyhvcHRpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUxvZ3NDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgYmFzZVNlcmlhbGl6ZWRJbml0Q29uZmlndXJhdGlvbiA9IHNlcmlhbGl6ZUNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgIGZvcndhcmRfZXJyb3JzX3RvX2xvZ3M6IGNvbmZpZ3VyYXRpb24uZm9yd2FyZEVycm9yc1RvTG9ncyxcbiAgICAgICAgZm9yd2FyZF9jb25zb2xlX2xvZ3M6IGNvbmZpZ3VyYXRpb24uZm9yd2FyZENvbnNvbGVMb2dzLFxuICAgICAgICBmb3J3YXJkX3JlcG9ydHM6IGNvbmZpZ3VyYXRpb24uZm9yd2FyZFJlcG9ydHMsXG4gICAgfSwgYmFzZVNlcmlhbGl6ZWRJbml0Q29uZmlndXJhdGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWd1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/configuration.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/console/consoleCollection.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/console/consoleCollection.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startConsoleCollection\": () => (/* binding */ startConsoleCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\nvar _a;\n\n\nvar LogStatusForApi = (_a = {},\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.log] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.info,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.debug] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.debug,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.info] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.info,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.warn] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.warn,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n    _a);\nfunction startConsoleCollection(configuration, lifeCycle) {\n    var consoleSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initConsoleObservable)(configuration.forwardConsoleLogs).subscribe(function (log) {\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                date: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)(),\n                message: log.message,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.CONSOLE,\n                error: log.api === _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error\n                    ? {\n                        origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.CONSOLE,\n                        stack: log.stack,\n                        fingerprint: log.fingerprint,\n                    }\n                    : undefined,\n                status: LogStatusForApi[log.api],\n            },\n        });\n    });\n    return {\n        stop: function () {\n            consoleSubscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=consoleCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2NvbnNvbGUvY29uc29sZUNvbGxlY3Rpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9jb25zb2xlL2NvbnNvbGVDb2xsZWN0aW9uLmpzP2E3MjAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hO1xuaW1wb3J0IHsgdGltZVN0YW1wTm93LCBDb25zb2xlQXBpTmFtZSwgRXJyb3JTb3VyY2UsIGluaXRDb25zb2xlT2JzZXJ2YWJsZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBTdGF0dXNUeXBlIH0gZnJvbSAnLi4vbG9nZ2VyJztcbnZhciBMb2dTdGF0dXNGb3JBcGkgPSAoX2EgPSB7fSxcbiAgICBfYVtDb25zb2xlQXBpTmFtZS5sb2ddID0gU3RhdHVzVHlwZS5pbmZvLFxuICAgIF9hW0NvbnNvbGVBcGlOYW1lLmRlYnVnXSA9IFN0YXR1c1R5cGUuZGVidWcsXG4gICAgX2FbQ29uc29sZUFwaU5hbWUuaW5mb10gPSBTdGF0dXNUeXBlLmluZm8sXG4gICAgX2FbQ29uc29sZUFwaU5hbWUud2Fybl0gPSBTdGF0dXNUeXBlLndhcm4sXG4gICAgX2FbQ29uc29sZUFwaU5hbWUuZXJyb3JdID0gU3RhdHVzVHlwZS5lcnJvcixcbiAgICBfYSk7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb25zb2xlQ29sbGVjdGlvbihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpIHtcbiAgICB2YXIgY29uc29sZVN1YnNjcmlwdGlvbiA9IGluaXRDb25zb2xlT2JzZXJ2YWJsZShjb25maWd1cmF0aW9uLmZvcndhcmRDb25zb2xlTG9ncykuc3Vic2NyaWJlKGZ1bmN0aW9uIChsb2cpIHtcbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfTE9HX0NPTExFQ1RFRCAqLywge1xuICAgICAgICAgICAgcmF3TG9nc0V2ZW50OiB7XG4gICAgICAgICAgICAgICAgZGF0ZTogdGltZVN0YW1wTm93KCksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9nLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5DT05TT0xFLFxuICAgICAgICAgICAgICAgIGVycm9yOiBsb2cuYXBpID09PSBDb25zb2xlQXBpTmFtZS5lcnJvclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuQ09OU09MRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrOiBsb2cuc3RhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5nZXJwcmludDogbG9nLmZpbmdlcnByaW50LFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogTG9nU3RhdHVzRm9yQXBpW2xvZy5hcGldLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zb2xlQ29sbGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/console/consoleCollection.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startInternalContext\": () => (/* binding */ startInternalContext)\n/* harmony export */ });\nfunction startInternalContext(sessionManager) {\n    return {\n        get: function (startTime) {\n            var trackedSession = sessionManager.findTrackedSession(startTime);\n            if (trackedSession) {\n                return {\n                    session_id: trackedSession.id,\n                };\n            }\n        },\n    };\n}\n//# sourceMappingURL=internalContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2ludGVybmFsQ29udGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vaW50ZXJuYWxDb250ZXh0LmpzP2NiMzEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJuYWxDb250ZXh0KHNlc3Npb25NYW5hZ2VyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2tlZFNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24oc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIGlmICh0cmFja2VkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHRyYWNrZWRTZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVybmFsQ29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LifeCycle\": () => (/* binding */ LifeCycle)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js\");\n\nvar LifeCycle = (_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.AbstractLifeCycle);\n//# sourceMappingURL=lifeCycle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xpZmVDeWNsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9saWZlQ3ljbGUuanM/Yjc0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdExpZmVDeWNsZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIExpZmVDeWNsZSA9IChBYnN0cmFjdExpZmVDeWNsZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWZlQ3ljbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/logger.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logger.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HandlerType\": () => (/* binding */ HandlerType),\n/* harmony export */   \"Logger\": () => (/* binding */ Logger),\n/* harmony export */   \"STATUSES\": () => (/* binding */ STATUSES),\n/* harmony export */   \"StatusType\": () => (/* binding */ StatusType)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/context/contextManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar StatusType = {\n    debug: 'debug',\n    error: 'error',\n    info: 'info',\n    warn: 'warn',\n};\nvar HandlerType = {\n    console: 'console',\n    http: 'http',\n    silent: 'silent',\n};\nvar STATUSES = Object.keys(StatusType);\nvar Logger = /** @class */ (function () {\n    function Logger(handleLogStrategy, name, handlerType, level, loggerContext) {\n        if (handlerType === void 0) { handlerType = HandlerType.http; }\n        if (level === void 0) { level = StatusType.debug; }\n        if (loggerContext === void 0) { loggerContext = {}; }\n        this.handleLogStrategy = handleLogStrategy;\n        this.handlerType = handlerType;\n        this.level = level;\n        this.contextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.createContextManager)(3 /* CustomerDataType.LoggerContext */);\n        this.contextManager.set((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.assign)({}, loggerContext, name ? { logger: { name: name } } : undefined));\n    }\n    Logger.prototype.log = function (message, messageContext, status, error) {\n        if (status === void 0) { status = StatusType.info; }\n        var errorContext;\n        if (status === StatusType.error) {\n            // Always add origin if status is error (backward compatibility - Remove in next major)\n            errorContext = { origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.LOGGER };\n        }\n        if (error !== undefined && error !== null) {\n            var stackTrace = error instanceof Error ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.computeStackTrace)(error) : undefined;\n            var rawError = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.computeRawError)({\n                stackTrace: stackTrace,\n                originalError: error,\n                nonErrorPrefix: \"Provided\" /* NonErrorPrefix.PROVIDED */,\n                source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.LOGGER,\n                handling: \"handled\" /* ErrorHandling.HANDLED */,\n                startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(),\n            });\n            errorContext = {\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.LOGGER,\n                stack: rawError.stack,\n                kind: rawError.type,\n                message: rawError.message,\n            };\n        }\n        var sanitizedMessageContext = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.sanitize)(messageContext);\n        var context = errorContext\n            ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.combine)({ error: errorContext }, sanitizedMessageContext)\n            : sanitizedMessageContext;\n        this.handleLogStrategy({\n            message: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.sanitize)(message),\n            context: context,\n            status: status,\n        }, this);\n    };\n    Logger.prototype.debug = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.debug, error);\n    };\n    Logger.prototype.info = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.info, error);\n    };\n    Logger.prototype.warn = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.warn, error);\n    };\n    Logger.prototype.error = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.error, error);\n    };\n    Logger.prototype.setContext = function (context) {\n        this.contextManager.set(context);\n    };\n    Logger.prototype.getContext = function () {\n        return this.contextManager.get();\n    };\n    Logger.prototype.addContext = function (key, value) {\n        this.contextManager.add(key, value);\n    };\n    Logger.prototype.removeContext = function (key) {\n        this.contextManager.remove(key);\n    };\n    Logger.prototype.setHandler = function (handler) {\n        this.handlerType = handler;\n    };\n    Logger.prototype.getHandler = function () {\n        return this.handlerType;\n    };\n    Logger.prototype.setLevel = function (level) {\n        this.level = level;\n    };\n    Logger.prototype.getLevel = function () {\n        return this.level;\n    };\n    __decorate([\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitored\n    ], Logger.prototype, \"log\", null);\n    return Logger;\n}());\n\n//# sourceMappingURL=logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ2dlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9sb2dnZXIuanM/MmQyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBjbG9ja3NOb3csIGNvbXB1dGVSYXdFcnJvciwgY29tcHV0ZVN0YWNrVHJhY2UsIGFzc2lnbiwgY29tYmluZSwgY3JlYXRlQ29udGV4dE1hbmFnZXIsIEVycm9yU291cmNlLCBtb25pdG9yZWQsIHNhbml0aXplLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIFN0YXR1c1R5cGUgPSB7XG4gICAgZGVidWc6ICdkZWJ1ZycsXG4gICAgZXJyb3I6ICdlcnJvcicsXG4gICAgaW5mbzogJ2luZm8nLFxuICAgIHdhcm46ICd3YXJuJyxcbn07XG5leHBvcnQgdmFyIEhhbmRsZXJUeXBlID0ge1xuICAgIGNvbnNvbGU6ICdjb25zb2xlJyxcbiAgICBodHRwOiAnaHR0cCcsXG4gICAgc2lsZW50OiAnc2lsZW50Jyxcbn07XG5leHBvcnQgdmFyIFNUQVRVU0VTID0gT2JqZWN0LmtleXMoU3RhdHVzVHlwZSk7XG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvZ2dlcihoYW5kbGVMb2dTdHJhdGVneSwgbmFtZSwgaGFuZGxlclR5cGUsIGxldmVsLCBsb2dnZXJDb250ZXh0KSB7XG4gICAgICAgIGlmIChoYW5kbGVyVHlwZSA9PT0gdm9pZCAwKSB7IGhhbmRsZXJUeXBlID0gSGFuZGxlclR5cGUuaHR0cDsgfVxuICAgICAgICBpZiAobGV2ZWwgPT09IHZvaWQgMCkgeyBsZXZlbCA9IFN0YXR1c1R5cGUuZGVidWc7IH1cbiAgICAgICAgaWYgKGxvZ2dlckNvbnRleHQgPT09IHZvaWQgMCkgeyBsb2dnZXJDb250ZXh0ID0ge307IH1cbiAgICAgICAgdGhpcy5oYW5kbGVMb2dTdHJhdGVneSA9IGhhbmRsZUxvZ1N0cmF0ZWd5O1xuICAgICAgICB0aGlzLmhhbmRsZXJUeXBlID0gaGFuZGxlclR5cGU7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFuYWdlciA9IGNyZWF0ZUNvbnRleHRNYW5hZ2VyKDMgLyogQ3VzdG9tZXJEYXRhVHlwZS5Mb2dnZXJDb250ZXh0ICovKTtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFuYWdlci5zZXQoYXNzaWduKHt9LCBsb2dnZXJDb250ZXh0LCBuYW1lID8geyBsb2dnZXI6IHsgbmFtZTogbmFtZSB9IH0gOiB1bmRlZmluZWQpKTtcbiAgICB9XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAobWVzc2FnZSwgbWVzc2FnZUNvbnRleHQsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gdm9pZCAwKSB7IHN0YXR1cyA9IFN0YXR1c1R5cGUuaW5mbzsgfVxuICAgICAgICB2YXIgZXJyb3JDb250ZXh0O1xuICAgICAgICBpZiAoc3RhdHVzID09PSBTdGF0dXNUeXBlLmVycm9yKSB7XG4gICAgICAgICAgICAvLyBBbHdheXMgYWRkIG9yaWdpbiBpZiBzdGF0dXMgaXMgZXJyb3IgKGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgLSBSZW1vdmUgaW4gbmV4dCBtYWpvcilcbiAgICAgICAgICAgIGVycm9yQ29udGV4dCA9IHsgb3JpZ2luOiBFcnJvclNvdXJjZS5MT0dHRVIgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCAmJiBlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHN0YWNrVHJhY2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gY29tcHV0ZVN0YWNrVHJhY2UoZXJyb3IpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIHJhd0Vycm9yID0gY29tcHV0ZVJhd0Vycm9yKHtcbiAgICAgICAgICAgICAgICBzdGFja1RyYWNlOiBzdGFja1RyYWNlLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIG5vbkVycm9yUHJlZml4OiBcIlByb3ZpZGVkXCIgLyogTm9uRXJyb3JQcmVmaXguUFJPVklERUQgKi8sXG4gICAgICAgICAgICAgICAgc291cmNlOiBFcnJvclNvdXJjZS5MT0dHRVIsXG4gICAgICAgICAgICAgICAgaGFuZGxpbmc6IFwiaGFuZGxlZFwiIC8qIEVycm9ySGFuZGxpbmcuSEFORExFRCAqLyxcbiAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVycm9yQ29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLkxPR0dFUixcbiAgICAgICAgICAgICAgICBzdGFjazogcmF3RXJyb3Iuc3RhY2ssXG4gICAgICAgICAgICAgICAga2luZDogcmF3RXJyb3IudHlwZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByYXdFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2FuaXRpemVkTWVzc2FnZUNvbnRleHQgPSBzYW5pdGl6ZShtZXNzYWdlQ29udGV4dCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gZXJyb3JDb250ZXh0XG4gICAgICAgICAgICA/IGNvbWJpbmUoeyBlcnJvcjogZXJyb3JDb250ZXh0IH0sIHNhbml0aXplZE1lc3NhZ2VDb250ZXh0KVxuICAgICAgICAgICAgOiBzYW5pdGl6ZWRNZXNzYWdlQ29udGV4dDtcbiAgICAgICAgdGhpcy5oYW5kbGVMb2dTdHJhdGVneSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBzYW5pdGl6ZShtZXNzYWdlKSxcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBlcnJvcikge1xuICAgICAgICB0aGlzLmxvZyhtZXNzYWdlLCBtZXNzYWdlQ29udGV4dCwgU3RhdHVzVHlwZS5kZWJ1ZywgZXJyb3IpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBlcnJvcikge1xuICAgICAgICB0aGlzLmxvZyhtZXNzYWdlLCBtZXNzYWdlQ29udGV4dCwgU3RhdHVzVHlwZS5pbmZvLCBlcnJvcik7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAobWVzc2FnZSwgbWVzc2FnZUNvbnRleHQsIGVycm9yKSB7XG4gICAgICAgIHRoaXMubG9nKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBTdGF0dXNUeXBlLndhcm4sIGVycm9yKTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSwgbWVzc2FnZUNvbnRleHQsIGVycm9yKSB7XG4gICAgICAgIHRoaXMubG9nKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBTdGF0dXNUeXBlLmVycm9yLCBlcnJvcik7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHRNYW5hZ2VyLnNldChjb250ZXh0KTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZ2V0Q29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dE1hbmFnZXIuZ2V0KCk7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmFkZENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbnRleHRNYW5hZ2VyLmFkZChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUucmVtb3ZlQ29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFuYWdlci5yZW1vdmUoa2V5KTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuc2V0SGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlclR5cGUgPSBoYW5kbGVyO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5nZXRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVyVHlwZTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5nZXRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWw7XG4gICAgfTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgbW9uaXRvcmVkXG4gICAgXSwgTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dcIiwgbnVsbCk7XG4gICAgcmV0dXJuIExvZ2dlcjtcbn0oKSk7XG5leHBvcnQgeyBMb2dnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/logger.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/logger/loggerCollection.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logger/loggerCollection.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"STATUS_PRIORITIES\": () => (/* binding */ STATUS_PRIORITIES),\n/* harmony export */   \"isAuthorized\": () => (/* binding */ isAuthorized),\n/* harmony export */   \"startLoggerCollection\": () => (/* binding */ startLoggerCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\nvar _a;\n\n\nvar STATUS_PRIORITIES = (_a = {},\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.debug] = 0,\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.info] = 1,\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.warn] = 2,\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error] = 3,\n    _a);\nfunction startLoggerCollection(lifeCycle) {\n    function handleLog(logsMessage, logger, savedCommonContext, savedDate) {\n        var messageContext = logsMessage.context;\n        if (isAuthorized(logsMessage.status, _logger__WEBPACK_IMPORTED_MODULE_0__.HandlerType.console, logger)) {\n            displayInConsole(logsMessage, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.combine)(logger.getContext(), messageContext));\n        }\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                date: savedDate || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)(),\n                message: logsMessage.message,\n                status: logsMessage.status,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ErrorSource.LOGGER,\n            },\n            messageContext: messageContext,\n            savedCommonContext: savedCommonContext,\n            logger: logger,\n        });\n    }\n    return {\n        handleLog: handleLog,\n    };\n}\nfunction isAuthorized(status, handlerType, logger) {\n    var loggerHandler = logger.getHandler();\n    var sanitizedHandlerType = Array.isArray(loggerHandler) ? loggerHandler : [loggerHandler];\n    return (STATUS_PRIORITIES[status] >= STATUS_PRIORITIES[logger.getLevel()] && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.includes)(sanitizedHandlerType, handlerType));\n}\nfunction displayInConsole(logsMessage, messageContext) {\n    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.originalConsoleMethods[logsMessage.status].call(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.globalConsole, logsMessage.message, messageContext);\n}\n//# sourceMappingURL=loggerCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ2dlci9sb2dnZXJDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ2dlci9sb2dnZXJDb2xsZWN0aW9uLmpzPzI5YmQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hO1xuaW1wb3J0IHsgaW5jbHVkZXMsIGNvbWJpbmUsIEVycm9yU291cmNlLCB0aW1lU3RhbXBOb3csIG9yaWdpbmFsQ29uc29sZU1ldGhvZHMsIGdsb2JhbENvbnNvbGUsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUsIEhhbmRsZXJUeXBlIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmV4cG9ydCB2YXIgU1RBVFVTX1BSSU9SSVRJRVMgPSAoX2EgPSB7fSxcbiAgICBfYVtTdGF0dXNUeXBlLmRlYnVnXSA9IDAsXG4gICAgX2FbU3RhdHVzVHlwZS5pbmZvXSA9IDEsXG4gICAgX2FbU3RhdHVzVHlwZS53YXJuXSA9IDIsXG4gICAgX2FbU3RhdHVzVHlwZS5lcnJvcl0gPSAzLFxuICAgIF9hKTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ2dlckNvbGxlY3Rpb24obGlmZUN5Y2xlKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlTG9nKGxvZ3NNZXNzYWdlLCBsb2dnZXIsIHNhdmVkQ29tbW9uQ29udGV4dCwgc2F2ZWREYXRlKSB7XG4gICAgICAgIHZhciBtZXNzYWdlQ29udGV4dCA9IGxvZ3NNZXNzYWdlLmNvbnRleHQ7XG4gICAgICAgIGlmIChpc0F1dGhvcml6ZWQobG9nc01lc3NhZ2Uuc3RhdHVzLCBIYW5kbGVyVHlwZS5jb25zb2xlLCBsb2dnZXIpKSB7XG4gICAgICAgICAgICBkaXNwbGF5SW5Db25zb2xlKGxvZ3NNZXNzYWdlLCBjb21iaW5lKGxvZ2dlci5nZXRDb250ZXh0KCksIG1lc3NhZ2VDb250ZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfTE9HX0NPTExFQ1RFRCAqLywge1xuICAgICAgICAgICAgcmF3TG9nc0V2ZW50OiB7XG4gICAgICAgICAgICAgICAgZGF0ZTogc2F2ZWREYXRlIHx8IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvZ3NNZXNzYWdlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBsb2dzTWVzc2FnZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5MT0dHRVIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWVzc2FnZUNvbnRleHQ6IG1lc3NhZ2VDb250ZXh0LFxuICAgICAgICAgICAgc2F2ZWRDb21tb25Db250ZXh0OiBzYXZlZENvbW1vbkNvbnRleHQsXG4gICAgICAgICAgICBsb2dnZXI6IGxvZ2dlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGhhbmRsZUxvZzogaGFuZGxlTG9nLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRob3JpemVkKHN0YXR1cywgaGFuZGxlclR5cGUsIGxvZ2dlcikge1xuICAgIHZhciBsb2dnZXJIYW5kbGVyID0gbG9nZ2VyLmdldEhhbmRsZXIoKTtcbiAgICB2YXIgc2FuaXRpemVkSGFuZGxlclR5cGUgPSBBcnJheS5pc0FycmF5KGxvZ2dlckhhbmRsZXIpID8gbG9nZ2VySGFuZGxlciA6IFtsb2dnZXJIYW5kbGVyXTtcbiAgICByZXR1cm4gKFNUQVRVU19QUklPUklUSUVTW3N0YXR1c10gPj0gU1RBVFVTX1BSSU9SSVRJRVNbbG9nZ2VyLmdldExldmVsKCldICYmIGluY2x1ZGVzKHNhbml0aXplZEhhbmRsZXJUeXBlLCBoYW5kbGVyVHlwZSkpO1xufVxuZnVuY3Rpb24gZGlzcGxheUluQ29uc29sZShsb2dzTWVzc2FnZSwgbWVzc2FnZUNvbnRleHQpIHtcbiAgICBvcmlnaW5hbENvbnNvbGVNZXRob2RzW2xvZ3NNZXNzYWdlLnN0YXR1c10uY2FsbChnbG9iYWxDb25zb2xlLCBsb2dzTWVzc2FnZS5tZXNzYWdlLCBtZXNzYWdlQ29udGV4dCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXJDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/logger/loggerCollection.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LOGS_SESSION_KEY\": () => (/* binding */ LOGS_SESSION_KEY),\n/* harmony export */   \"startLogsSessionManager\": () => (/* binding */ startLogsSessionManager),\n/* harmony export */   \"startLogsSessionManagerStub\": () => (/* binding */ startLogsSessionManagerStub)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n\nvar LOGS_SESSION_KEY = 'logs';\nfunction startLogsSessionManager(configuration) {\n    var sessionManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.startSessionManager)(configuration, LOGS_SESSION_KEY, function (rawTrackingType) {\n        return computeSessionState(configuration, rawTrackingType);\n    });\n    return {\n        findTrackedSession: function (startTime) {\n            var session = sessionManager.findActiveSession(startTime);\n            return session && session.trackingType === \"1\" /* LoggerTrackingType.TRACKED */\n                ? {\n                    id: session.id,\n                }\n                : undefined;\n        },\n        expireObservable: sessionManager.expireObservable,\n    };\n}\nfunction startLogsSessionManagerStub(configuration) {\n    var isTracked = computeTrackingType(configuration) === \"1\" /* LoggerTrackingType.TRACKED */;\n    var session = isTracked ? {} : undefined;\n    return {\n        findTrackedSession: function () { return session; },\n        expireObservable: new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.Observable(),\n    };\n}\nfunction computeTrackingType(configuration) {\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.performDraw)(configuration.sessionSampleRate)) {\n        return \"0\" /* LoggerTrackingType.NOT_TRACKED */;\n    }\n    return \"1\" /* LoggerTrackingType.TRACKED */;\n}\nfunction computeSessionState(configuration, rawSessionType) {\n    var trackingType = hasValidLoggerSession(rawSessionType) ? rawSessionType : computeTrackingType(configuration);\n    return {\n        trackingType: trackingType,\n        isTracked: trackingType === \"1\" /* LoggerTrackingType.TRACKED */,\n    };\n}\nfunction hasValidLoggerSession(trackingType) {\n    return trackingType === \"0\" /* LoggerTrackingType.NOT_TRACKED */ || trackingType === \"1\" /* LoggerTrackingType.TRACKED */;\n}\n//# sourceMappingURL=logsSessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NTZXNzaW9uTWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9sb2dzU2Vzc2lvbk1hbmFnZXIuanM/ZGM4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBwZXJmb3JtRHJhdywgc3RhcnRTZXNzaW9uTWFuYWdlciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIExPR1NfU0VTU0lPTl9LRVkgPSAnbG9ncyc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRMb2dzU2Vzc2lvbk1hbmFnZXIoY29uZmlndXJhdGlvbikge1xuICAgIHZhciBzZXNzaW9uTWFuYWdlciA9IHN0YXJ0U2Vzc2lvbk1hbmFnZXIoY29uZmlndXJhdGlvbiwgTE9HU19TRVNTSU9OX0tFWSwgZnVuY3Rpb24gKHJhd1RyYWNraW5nVHlwZSkge1xuICAgICAgICByZXR1cm4gY29tcHV0ZVNlc3Npb25TdGF0ZShjb25maWd1cmF0aW9uLCByYXdUcmFja2luZ1R5cGUpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpbmRUcmFja2VkU2Vzc2lvbjogZnVuY3Rpb24gKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kQWN0aXZlU2Vzc2lvbihzdGFydFRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24gJiYgc2Vzc2lvbi50cmFja2luZ1R5cGUgPT09IFwiMVwiIC8qIExvZ2dlclRyYWNraW5nVHlwZS5UUkFDS0VEICovXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZXhwaXJlT2JzZXJ2YWJsZTogc2Vzc2lvbk1hbmFnZXIuZXhwaXJlT2JzZXJ2YWJsZSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0TG9nc1Nlc3Npb25NYW5hZ2VyU3R1Yihjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGlzVHJhY2tlZCA9IGNvbXB1dGVUcmFja2luZ1R5cGUoY29uZmlndXJhdGlvbikgPT09IFwiMVwiIC8qIExvZ2dlclRyYWNraW5nVHlwZS5UUkFDS0VEICovO1xuICAgIHZhciBzZXNzaW9uID0gaXNUcmFja2VkID8ge30gOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmluZFRyYWNrZWRTZXNzaW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uOyB9LFxuICAgICAgICBleHBpcmVPYnNlcnZhYmxlOiBuZXcgT2JzZXJ2YWJsZSgpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjb21wdXRlVHJhY2tpbmdUeXBlKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoIXBlcmZvcm1EcmF3KGNvbmZpZ3VyYXRpb24uc2Vzc2lvblNhbXBsZVJhdGUpKSB7XG4gICAgICAgIHJldHVybiBcIjBcIiAvKiBMb2dnZXJUcmFja2luZ1R5cGUuTk9UX1RSQUNLRUQgKi87XG4gICAgfVxuICAgIHJldHVybiBcIjFcIiAvKiBMb2dnZXJUcmFja2luZ1R5cGUuVFJBQ0tFRCAqLztcbn1cbmZ1bmN0aW9uIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbiwgcmF3U2Vzc2lvblR5cGUpIHtcbiAgICB2YXIgdHJhY2tpbmdUeXBlID0gaGFzVmFsaWRMb2dnZXJTZXNzaW9uKHJhd1Nlc3Npb25UeXBlKSA/IHJhd1Nlc3Npb25UeXBlIDogY29tcHV0ZVRyYWNraW5nVHlwZShjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFja2luZ1R5cGU6IHRyYWNraW5nVHlwZSxcbiAgICAgICAgaXNUcmFja2VkOiB0cmFja2luZ1R5cGUgPT09IFwiMVwiIC8qIExvZ2dlclRyYWNraW5nVHlwZS5UUkFDS0VEICovLFxuICAgIH07XG59XG5mdW5jdGlvbiBoYXNWYWxpZExvZ2dlclNlc3Npb24odHJhY2tpbmdUeXBlKSB7XG4gICAgcmV0dXJuIHRyYWNraW5nVHlwZSA9PT0gXCIwXCIgLyogTG9nZ2VyVHJhY2tpbmdUeXBlLk5PVF9UUkFDS0VEICovIHx8IHRyYWNraW5nVHlwZSA9PT0gXCIxXCIgLyogTG9nZ2VyVHJhY2tpbmdUeXBlLlRSQUNLRUQgKi87XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dzU2Vzc2lvbk1hbmFnZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/networkError/networkErrorCollection.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/networkError/networkErrorCollection.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"computeFetchErrorText\": () => (/* binding */ computeFetchErrorText),\n/* harmony export */   \"computeFetchResponseText\": () => (/* binding */ computeFetchResponseText),\n/* harmony export */   \"computeXhrResponseData\": () => (/* binding */ computeXhrResponseData),\n/* harmony export */   \"startNetworkErrorCollection\": () => (/* binding */ startNetworkErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\nfunction startNetworkErrorCollection(configuration, lifeCycle) {\n    if (!configuration.forwardErrorsToLogs) {\n        return { stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var xhrSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initXhrObservable)(configuration).subscribe(function (context) {\n        if (context.state === 'complete') {\n            handleResponse(\"xhr\" /* RequestType.XHR */, context);\n        }\n    });\n    var fetchSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.initFetchObservable)().subscribe(function (context) {\n        if (context.state === 'resolve') {\n            handleResponse(\"fetch\" /* RequestType.FETCH */, context);\n        }\n    });\n    function handleResponse(type, request) {\n        if (!configuration.isIntakeUrl(request.url) && (isRejected(request) || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isServerError)(request.status))) {\n            if ('xhr' in request) {\n                computeXhrResponseData(request.xhr, configuration, onResponseDataAvailable);\n            }\n            else if (request.response) {\n                computeFetchResponseText(request.response, configuration, onResponseDataAvailable);\n            }\n            else if (request.error) {\n                computeFetchErrorText(request.error, configuration, onResponseDataAvailable);\n            }\n        }\n        function onResponseDataAvailable(responseData) {\n            lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n                rawLogsEvent: {\n                    message: \"\".concat(format(type), \" error \").concat(request.method, \" \").concat(request.url),\n                    date: request.startClocks.timeStamp,\n                    error: {\n                        origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ErrorSource.NETWORK,\n                        stack: responseData || 'Failed to load',\n                    },\n                    http: {\n                        method: request.method,\n                        status_code: request.status,\n                        url: request.url,\n                    },\n                    status: _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n                    origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ErrorSource.NETWORK,\n                },\n            });\n        }\n    }\n    return {\n        stop: function () {\n            xhrSubscription.unsubscribe();\n            fetchSubscription.unsubscribe();\n        },\n    };\n}\n// TODO: ideally, computeXhrResponseData should always call the callback with a string instead of\n// `unknown`. But to keep backward compatibility, in the case of XHR with a `responseType` different\n// than \"text\", the response data should be whatever `xhr.response` is. This is a bit confusing as\n// Logs event 'stack' is expected to be a string. This should be changed in a future major version\n// as it could be a breaking change.\nfunction computeXhrResponseData(xhr, configuration, callback) {\n    if (typeof xhr.response === 'string') {\n        callback(truncateResponseText(xhr.response, configuration));\n    }\n    else {\n        callback(xhr.response);\n    }\n}\nfunction computeFetchErrorText(error, configuration, callback) {\n    callback(truncateResponseText((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.toStackTraceString)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.computeStackTrace)(error)), configuration));\n}\nfunction computeFetchResponseText(response, configuration, callback) {\n    var clonedResponse = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.tryToClone)(response);\n    if (!clonedResponse || !clonedResponse.body) {\n        // if the clone failed or if the body is null, let's not try to read it.\n        callback();\n    }\n    else if (!window.TextDecoder) {\n        // If the browser doesn't support TextDecoder, let's read the whole response then truncate it.\n        //\n        // This should only be the case on early versions of Edge (before they migrated to Chromium).\n        // Even if it could be possible to implement a workaround for the missing TextDecoder API (using\n        // a Blob and FileReader), we found another issue preventing us from reading only the first\n        // bytes from the response: contrary to other browsers, when reading from the cloned response,\n        // if the original response gets canceled, the cloned response is also canceled and we can't\n        // know about it.  In the following illustration, the promise returned by `reader.read()` may\n        // never be fulfilled:\n        //\n        // fetch('/').then((response) => {\n        //   const reader = response.clone().body.getReader()\n        //   readMore()\n        //   function readMore() {\n        //     reader.read().then(\n        //       (result) => {\n        //         if (result.done) {\n        //           console.log('done')\n        //         } else {\n        //           readMore()\n        //         }\n        //       },\n        //       () => console.log('error')\n        //     )\n        //   }\n        //   response.body.getReader().cancel()\n        // })\n        clonedResponse.text().then((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitor)(function (text) { return callback(truncateResponseText(text, configuration)); }), (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitor)(function (error) { return callback(\"Unable to retrieve response: \".concat(error)); }));\n    }\n    else {\n        truncateResponseStream(clonedResponse.body, configuration.requestErrorResponseLengthLimit, function (error, responseText) {\n            if (error) {\n                callback(\"Unable to retrieve response: \".concat(error));\n            }\n            else {\n                callback(responseText);\n            }\n        });\n    }\n}\nfunction isRejected(request) {\n    return request.status === 0 && request.responseType !== 'opaque';\n}\nfunction truncateResponseText(responseText, configuration) {\n    if (responseText.length > configuration.requestErrorResponseLengthLimit) {\n        return \"\".concat(responseText.substring(0, configuration.requestErrorResponseLengthLimit), \"...\");\n    }\n    return responseText;\n}\nfunction format(type) {\n    if (\"xhr\" /* RequestType.XHR */ === type) {\n        return 'XHR';\n    }\n    return 'Fetch';\n}\nfunction truncateResponseStream(stream, bytesLimit, callback) {\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.readBytesFromStream)(stream, function (error, bytes, limitExceeded) {\n        if (error) {\n            callback(error);\n        }\n        else {\n            var responseText = new TextDecoder().decode(bytes);\n            if (limitExceeded) {\n                responseText += '...';\n            }\n            callback(undefined, responseText);\n        }\n    }, {\n        bytesLimit: bytesLimit,\n        collectStreamBody: true,\n    });\n}\n//# sourceMappingURL=networkErrorCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL25ldHdvcmtFcnJvci9uZXR3b3JrRXJyb3JDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vbmV0d29ya0Vycm9yL25ldHdvcmtFcnJvckNvbGxlY3Rpb24uanM/YjQxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFcnJvclNvdXJjZSwgaW5pdFhock9ic2VydmFibGUsIGluaXRGZXRjaE9ic2VydmFibGUsIGNvbXB1dGVTdGFja1RyYWNlLCB0b1N0YWNrVHJhY2VTdHJpbmcsIG1vbml0b3IsIG5vb3AsIHJlYWRCeXRlc0Zyb21TdHJlYW0sIHRyeVRvQ2xvbmUsIGlzU2VydmVyRXJyb3IsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUgfSBmcm9tICcuLi9sb2dnZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0TmV0d29ya0Vycm9yQ29sbGVjdGlvbihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpIHtcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24uZm9yd2FyZEVycm9yc1RvTG9ncykge1xuICAgICAgICByZXR1cm4geyBzdG9wOiBub29wIH07XG4gICAgfVxuICAgIHZhciB4aHJTdWJzY3JpcHRpb24gPSBpbml0WGhyT2JzZXJ2YWJsZShjb25maWd1cmF0aW9uKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuc3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKFwieGhyXCIgLyogUmVxdWVzdFR5cGUuWEhSICovLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBmZXRjaFN1YnNjcmlwdGlvbiA9IGluaXRGZXRjaE9ic2VydmFibGUoKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuc3RhdGUgPT09ICdyZXNvbHZlJykge1xuICAgICAgICAgICAgaGFuZGxlUmVzcG9uc2UoXCJmZXRjaFwiIC8qIFJlcXVlc3RUeXBlLkZFVENIICovLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHR5cGUsIHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uLmlzSW50YWtlVXJsKHJlcXVlc3QudXJsKSAmJiAoaXNSZWplY3RlZChyZXF1ZXN0KSB8fCBpc1NlcnZlckVycm9yKHJlcXVlc3Quc3RhdHVzKSkpIHtcbiAgICAgICAgICAgIGlmICgneGhyJyBpbiByZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZVhoclJlc3BvbnNlRGF0YShyZXF1ZXN0LnhociwgY29uZmlndXJhdGlvbiwgb25SZXNwb25zZURhdGFBdmFpbGFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVGZXRjaFJlc3BvbnNlVGV4dChyZXF1ZXN0LnJlc3BvbnNlLCBjb25maWd1cmF0aW9uLCBvblJlc3BvbnNlRGF0YUF2YWlsYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXF1ZXN0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZUZldGNoRXJyb3JUZXh0KHJlcXVlc3QuZXJyb3IsIGNvbmZpZ3VyYXRpb24sIG9uUmVzcG9uc2VEYXRhQXZhaWxhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvblJlc3BvbnNlRGF0YUF2YWlsYWJsZShyZXNwb25zZURhdGEpIHtcbiAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0xPR19DT0xMRUNURUQgKi8sIHtcbiAgICAgICAgICAgICAgICByYXdMb2dzRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJcIi5jb25jYXQoZm9ybWF0KHR5cGUpLCBcIiBlcnJvciBcIikuY29uY2F0KHJlcXVlc3QubWV0aG9kLCBcIiBcIikuY29uY2F0KHJlcXVlc3QudXJsKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogcmVxdWVzdC5zdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLk5FVFdPUkssXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjazogcmVzcG9uc2VEYXRhIHx8ICdGYWlsZWQgdG8gbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGh0dHA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNfY29kZTogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3QudXJsLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFN0YXR1c1R5cGUuZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuTkVUV09SSyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgeGhyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBmZXRjaFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyBUT0RPOiBpZGVhbGx5LCBjb21wdXRlWGhyUmVzcG9uc2VEYXRhIHNob3VsZCBhbHdheXMgY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCBhIHN0cmluZyBpbnN0ZWFkIG9mXG4vLyBgdW5rbm93bmAuIEJ1dCB0byBrZWVwIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGluIHRoZSBjYXNlIG9mIFhIUiB3aXRoIGEgYHJlc3BvbnNlVHlwZWAgZGlmZmVyZW50XG4vLyB0aGFuIFwidGV4dFwiLCB0aGUgcmVzcG9uc2UgZGF0YSBzaG91bGQgYmUgd2hhdGV2ZXIgYHhoci5yZXNwb25zZWAgaXMuIFRoaXMgaXMgYSBiaXQgY29uZnVzaW5nIGFzXG4vLyBMb2dzIGV2ZW50ICdzdGFjaycgaXMgZXhwZWN0ZWQgdG8gYmUgYSBzdHJpbmcuIFRoaXMgc2hvdWxkIGJlIGNoYW5nZWQgaW4gYSBmdXR1cmUgbWFqb3IgdmVyc2lvblxuLy8gYXMgaXQgY291bGQgYmUgYSBicmVha2luZyBjaGFuZ2UuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVhoclJlc3BvbnNlRGF0YSh4aHIsIGNvbmZpZ3VyYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiB4aHIucmVzcG9uc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNhbGxiYWNrKHRydW5jYXRlUmVzcG9uc2VUZXh0KHhoci5yZXNwb25zZSwgY29uZmlndXJhdGlvbikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soeGhyLnJlc3BvbnNlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUZldGNoRXJyb3JUZXh0KGVycm9yLCBjb25maWd1cmF0aW9uLCBjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRydW5jYXRlUmVzcG9uc2VUZXh0KHRvU3RhY2tUcmFjZVN0cmluZyhjb21wdXRlU3RhY2tUcmFjZShlcnJvcikpLCBjb25maWd1cmF0aW9uKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUZldGNoUmVzcG9uc2VUZXh0KHJlc3BvbnNlLCBjb25maWd1cmF0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciBjbG9uZWRSZXNwb25zZSA9IHRyeVRvQ2xvbmUocmVzcG9uc2UpO1xuICAgIGlmICghY2xvbmVkUmVzcG9uc2UgfHwgIWNsb25lZFJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgLy8gaWYgdGhlIGNsb25lIGZhaWxlZCBvciBpZiB0aGUgYm9keSBpcyBudWxsLCBsZXQncyBub3QgdHJ5IHRvIHJlYWQgaXQuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCF3aW5kb3cuVGV4dERlY29kZXIpIHtcbiAgICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IFRleHREZWNvZGVyLCBsZXQncyByZWFkIHRoZSB3aG9sZSByZXNwb25zZSB0aGVuIHRydW5jYXRlIGl0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIHRoZSBjYXNlIG9uIGVhcmx5IHZlcnNpb25zIG9mIEVkZ2UgKGJlZm9yZSB0aGV5IG1pZ3JhdGVkIHRvIENocm9taXVtKS5cbiAgICAgICAgLy8gRXZlbiBpZiBpdCBjb3VsZCBiZSBwb3NzaWJsZSB0byBpbXBsZW1lbnQgYSB3b3JrYXJvdW5kIGZvciB0aGUgbWlzc2luZyBUZXh0RGVjb2RlciBBUEkgKHVzaW5nXG4gICAgICAgIC8vIGEgQmxvYiBhbmQgRmlsZVJlYWRlciksIHdlIGZvdW5kIGFub3RoZXIgaXNzdWUgcHJldmVudGluZyB1cyBmcm9tIHJlYWRpbmcgb25seSB0aGUgZmlyc3RcbiAgICAgICAgLy8gYnl0ZXMgZnJvbSB0aGUgcmVzcG9uc2U6IGNvbnRyYXJ5IHRvIG90aGVyIGJyb3dzZXJzLCB3aGVuIHJlYWRpbmcgZnJvbSB0aGUgY2xvbmVkIHJlc3BvbnNlLFxuICAgICAgICAvLyBpZiB0aGUgb3JpZ2luYWwgcmVzcG9uc2UgZ2V0cyBjYW5jZWxlZCwgdGhlIGNsb25lZCByZXNwb25zZSBpcyBhbHNvIGNhbmNlbGVkIGFuZCB3ZSBjYW4ndFxuICAgICAgICAvLyBrbm93IGFib3V0IGl0LiAgSW4gdGhlIGZvbGxvd2luZyBpbGx1c3RyYXRpb24sIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IGByZWFkZXIucmVhZCgpYCBtYXlcbiAgICAgICAgLy8gbmV2ZXIgYmUgZnVsZmlsbGVkOlxuICAgICAgICAvL1xuICAgICAgICAvLyBmZXRjaCgnLycpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIC8vICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuY2xvbmUoKS5ib2R5LmdldFJlYWRlcigpXG4gICAgICAgIC8vICAgcmVhZE1vcmUoKVxuICAgICAgICAvLyAgIGZ1bmN0aW9uIHJlYWRNb3JlKCkge1xuICAgICAgICAvLyAgICAgcmVhZGVyLnJlYWQoKS50aGVuKFxuICAgICAgICAvLyAgICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgIC8vICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZygnZG9uZScpXG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICAgIHJlYWRNb3JlKClcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICAgIH0sXG4gICAgICAgIC8vICAgICAgICgpID0+IGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgICAgIC8vICAgICApXG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyAgIHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCkuY2FuY2VsKClcbiAgICAgICAgLy8gfSlcbiAgICAgICAgY2xvbmVkUmVzcG9uc2UudGV4dCgpLnRoZW4obW9uaXRvcihmdW5jdGlvbiAodGV4dCkgeyByZXR1cm4gY2FsbGJhY2sodHJ1bmNhdGVSZXNwb25zZVRleHQodGV4dCwgY29uZmlndXJhdGlvbikpOyB9KSwgbW9uaXRvcihmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGNhbGxiYWNrKFwiVW5hYmxlIHRvIHJldHJpZXZlIHJlc3BvbnNlOiBcIi5jb25jYXQoZXJyb3IpKTsgfSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdHJ1bmNhdGVSZXNwb25zZVN0cmVhbShjbG9uZWRSZXNwb25zZS5ib2R5LCBjb25maWd1cmF0aW9uLnJlcXVlc3RFcnJvclJlc3BvbnNlTGVuZ3RoTGltaXQsIGZ1bmN0aW9uIChlcnJvciwgcmVzcG9uc2VUZXh0KSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhcIlVuYWJsZSB0byByZXRyaWV2ZSByZXNwb25zZTogXCIuY29uY2F0KGVycm9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1JlamVjdGVkKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gcmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgcmVxdWVzdC5yZXNwb25zZVR5cGUgIT09ICdvcGFxdWUnO1xufVxuZnVuY3Rpb24gdHJ1bmNhdGVSZXNwb25zZVRleHQocmVzcG9uc2VUZXh0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKHJlc3BvbnNlVGV4dC5sZW5ndGggPiBjb25maWd1cmF0aW9uLnJlcXVlc3RFcnJvclJlc3BvbnNlTGVuZ3RoTGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHJlc3BvbnNlVGV4dC5zdWJzdHJpbmcoMCwgY29uZmlndXJhdGlvbi5yZXF1ZXN0RXJyb3JSZXNwb25zZUxlbmd0aExpbWl0KSwgXCIuLi5cIik7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZVRleHQ7XG59XG5mdW5jdGlvbiBmb3JtYXQodHlwZSkge1xuICAgIGlmIChcInhoclwiIC8qIFJlcXVlc3RUeXBlLlhIUiAqLyA9PT0gdHlwZSkge1xuICAgICAgICByZXR1cm4gJ1hIUic7XG4gICAgfVxuICAgIHJldHVybiAnRmV0Y2gnO1xufVxuZnVuY3Rpb24gdHJ1bmNhdGVSZXNwb25zZVN0cmVhbShzdHJlYW0sIGJ5dGVzTGltaXQsIGNhbGxiYWNrKSB7XG4gICAgcmVhZEJ5dGVzRnJvbVN0cmVhbShzdHJlYW0sIGZ1bmN0aW9uIChlcnJvciwgYnl0ZXMsIGxpbWl0RXhjZWVkZWQpIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VUZXh0ID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIGlmIChsaW1pdEV4Y2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0ICs9ICcuLi4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2sodW5kZWZpbmVkLCByZXNwb25zZVRleHQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBieXRlc0xpbWl0OiBieXRlc0xpbWl0LFxuICAgICAgICBjb2xsZWN0U3RyZWFtQm9keTogdHJ1ZSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldHdvcmtFcnJvckNvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/networkError/networkErrorCollection.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/report/reportCollection.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/report/reportCollection.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startReportCollection\": () => (/* binding */ startReportCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\nvar _a;\n\n\nvar LogStatusForReport = (_a = {},\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.RawReportType.cspViolation] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.RawReportType.intervention] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.RawReportType.deprecation] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.warn,\n    _a);\nfunction startReportCollection(configuration, lifeCycle) {\n    var reportSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.initReportObservable)(configuration, configuration.forwardReports).subscribe(function (report) {\n        var message = report.message;\n        var status = LogStatusForReport[report.type];\n        var error;\n        if (status === _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error) {\n            error = {\n                kind: report.subtype,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.REPORT,\n                stack: report.stack,\n            };\n        }\n        else if (report.stack) {\n            message += \" Found in \".concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.getFileFromStackTraceString)(report.stack));\n        }\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                date: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)(),\n                message: message,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.REPORT,\n                error: error,\n                status: status,\n            },\n        });\n    });\n    return {\n        stop: function () {\n            reportSubscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=reportCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL3JlcG9ydC9yZXBvcnRDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL3JlcG9ydC9yZXBvcnRDb2xsZWN0aW9uLmpzPzk0MDIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hO1xuaW1wb3J0IHsgdGltZVN0YW1wTm93LCBFcnJvclNvdXJjZSwgUmF3UmVwb3J0VHlwZSwgZ2V0RmlsZUZyb21TdGFja1RyYWNlU3RyaW5nLCBpbml0UmVwb3J0T2JzZXJ2YWJsZSwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgU3RhdHVzVHlwZSB9IGZyb20gJy4uL2xvZ2dlcic7XG52YXIgTG9nU3RhdHVzRm9yUmVwb3J0ID0gKF9hID0ge30sXG4gICAgX2FbUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb25dID0gU3RhdHVzVHlwZS5lcnJvcixcbiAgICBfYVtSYXdSZXBvcnRUeXBlLmludGVydmVudGlvbl0gPSBTdGF0dXNUeXBlLmVycm9yLFxuICAgIF9hW1Jhd1JlcG9ydFR5cGUuZGVwcmVjYXRpb25dID0gU3RhdHVzVHlwZS53YXJuLFxuICAgIF9hKTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJlcG9ydENvbGxlY3Rpb24oY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlKSB7XG4gICAgdmFyIHJlcG9ydFN1YnNjcmlwdGlvbiA9IGluaXRSZXBvcnRPYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb24uZm9yd2FyZFJlcG9ydHMpLnN1YnNjcmliZShmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gcmVwb3J0Lm1lc3NhZ2U7XG4gICAgICAgIHZhciBzdGF0dXMgPSBMb2dTdGF0dXNGb3JSZXBvcnRbcmVwb3J0LnR5cGVdO1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IFN0YXR1c1R5cGUuZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yID0ge1xuICAgICAgICAgICAgICAgIGtpbmQ6IHJlcG9ydC5zdWJ0eXBlLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuUkVQT1JULFxuICAgICAgICAgICAgICAgIHN0YWNrOiByZXBvcnQuc3RhY2ssXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlcG9ydC5zdGFjaykge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBcIiBGb3VuZCBpbiBcIi5jb25jYXQoZ2V0RmlsZUZyb21TdGFja1RyYWNlU3RyaW5nKHJlcG9ydC5zdGFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0xPR19DT0xMRUNURUQgKi8sIHtcbiAgICAgICAgICAgIHJhd0xvZ3NFdmVudDoge1xuICAgICAgICAgICAgICAgIGRhdGU6IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5SRVBPUlQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVwb3J0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydENvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/report/reportCollection.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/domain/runtimeError/runtimeErrorCollection.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/runtimeError/runtimeErrorCollection.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startRuntimeErrorCollection\": () => (/* binding */ startRuntimeErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\nfunction startRuntimeErrorCollection(configuration, lifeCycle) {\n    if (!configuration.forwardErrorsToLogs) {\n        return { stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var rawErrorObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Observable();\n    var stopRuntimeErrorTracking = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.trackRuntimeError)(rawErrorObservable).stop;\n    var rawErrorSubscription = rawErrorObservable.subscribe(function (rawError) {\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                message: rawError.message,\n                date: rawError.startClocks.timeStamp,\n                error: {\n                    kind: rawError.type,\n                    origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.SOURCE,\n                    stack: rawError.stack,\n                },\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.SOURCE,\n                status: _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n            },\n        });\n    });\n    return {\n        stop: function () {\n            stopRuntimeErrorTracking();\n            rawErrorSubscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=runtimeErrorCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL3J1bnRpbWVFcnJvci9ydW50aW1lRXJyb3JDb2xsZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL3J1bnRpbWVFcnJvci9ydW50aW1lRXJyb3JDb2xsZWN0aW9uLmpzP2IwMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9vcCwgRXJyb3JTb3VyY2UsIHRyYWNrUnVudGltZUVycm9yLCBPYnNlcnZhYmxlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUgfSBmcm9tICcuLi9sb2dnZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVudGltZUVycm9yQ29sbGVjdGlvbihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpIHtcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24uZm9yd2FyZEVycm9yc1RvTG9ncykge1xuICAgICAgICByZXR1cm4geyBzdG9wOiBub29wIH07XG4gICAgfVxuICAgIHZhciByYXdFcnJvck9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHZhciBzdG9wUnVudGltZUVycm9yVHJhY2tpbmcgPSB0cmFja1J1bnRpbWVFcnJvcihyYXdFcnJvck9ic2VydmFibGUpLnN0b3A7XG4gICAgdmFyIHJhd0Vycm9yU3Vic2NyaXB0aW9uID0gcmF3RXJyb3JPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAocmF3RXJyb3IpIHtcbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfTE9HX0NPTExFQ1RFRCAqLywge1xuICAgICAgICAgICAgcmF3TG9nc0V2ZW50OiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmF3RXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBkYXRlOiByYXdFcnJvci5zdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogcmF3RXJyb3IudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5TT1VSQ0UsXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrOiByYXdFcnJvci5zdGFjayxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuU09VUkNFLFxuICAgICAgICAgICAgICAgIHN0YXR1czogU3RhdHVzVHlwZS5lcnJvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BSdW50aW1lRXJyb3JUcmFja2luZygpO1xuICAgICAgICAgICAgcmF3RXJyb3JTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVudGltZUVycm9yQ29sbGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/domain/runtimeError/runtimeErrorCollection.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/entries/main.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/entries/main.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HandlerType\": () => (/* reexport safe */ _domain_logger__WEBPACK_IMPORTED_MODULE_2__.HandlerType),\n/* harmony export */   \"Logger\": () => (/* reexport safe */ _domain_logger__WEBPACK_IMPORTED_MODULE_2__.Logger),\n/* harmony export */   \"StatusType\": () => (/* reexport safe */ _domain_logger__WEBPACK_IMPORTED_MODULE_2__.StatusType),\n/* harmony export */   \"datadogLogs\": () => (/* binding */ datadogLogs)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n/* harmony import */ var _boot_logsPublicApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../boot/logsPublicApi */ \"../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js\");\n/* harmony import */ var _boot_startLogs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../boot/startLogs */ \"../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js\");\n/* harmony import */ var _domain_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/logger */ \"../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\n\n\nvar datadogLogs = (0,_boot_logsPublicApi__WEBPACK_IMPORTED_MODULE_0__.makeLogsPublicApi)(_boot_startLogs__WEBPACK_IMPORTED_MODULE_1__.startLogs);\n(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.defineGlobal)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.getGlobalObject)(), 'DD_LOGS', datadogLogs);\n//# sourceMappingURL=main.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZW50cmllcy9tYWluLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZW50cmllcy9tYWluLmpzPzc2MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmaW5lR2xvYmFsLCBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgbWFrZUxvZ3NQdWJsaWNBcGkgfSBmcm9tICcuLi9ib290L2xvZ3NQdWJsaWNBcGknO1xuaW1wb3J0IHsgc3RhcnRMb2dzIH0gZnJvbSAnLi4vYm9vdC9zdGFydExvZ3MnO1xuZXhwb3J0IHsgTG9nZ2VyLCBTdGF0dXNUeXBlLCBIYW5kbGVyVHlwZSB9IGZyb20gJy4uL2RvbWFpbi9sb2dnZXInO1xuZXhwb3J0IHZhciBkYXRhZG9nTG9ncyA9IG1ha2VMb2dzUHVibGljQXBpKHN0YXJ0TG9ncyk7XG5kZWZpbmVHbG9iYWwoZ2V0R2xvYmFsT2JqZWN0KCksICdERF9MT0dTJywgZGF0YWRvZ0xvZ3MpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/entries/main.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startLogsBatch\": () => (/* binding */ startLogsBatch)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\");\n\nfunction startLogsBatch(configuration, lifeCycle, reportError, pageExitObservable, sessionExpireObservable) {\n    var batch = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.startBatchWithReplica)(configuration, {\n        endpoint: configuration.logsEndpointBuilder,\n    }, configuration.replica && {\n        endpoint: configuration.replica.logsEndpointBuilder,\n    }, reportError, pageExitObservable, sessionExpireObservable);\n    lifeCycle.subscribe(1 /* LifeCycleEventType.LOG_COLLECTED */, function (serverLogsEvent) {\n        batch.add(serverLogsEvent);\n    });\n    return batch;\n}\n//# sourceMappingURL=startLogsBatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vdHJhbnNwb3J0L3N0YXJ0TG9nc0JhdGNoLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS90cmFuc3BvcnQvc3RhcnRMb2dzQmF0Y2guanM/ODFmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdGFydEJhdGNoV2l0aFJlcGxpY2EgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0TG9nc0JhdGNoKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpIHtcbiAgICB2YXIgYmF0Y2ggPSBzdGFydEJhdGNoV2l0aFJlcGxpY2EoY29uZmlndXJhdGlvbiwge1xuICAgICAgICBlbmRwb2ludDogY29uZmlndXJhdGlvbi5sb2dzRW5kcG9pbnRCdWlsZGVyLFxuICAgIH0sIGNvbmZpZ3VyYXRpb24ucmVwbGljYSAmJiB7XG4gICAgICAgIGVuZHBvaW50OiBjb25maWd1cmF0aW9uLnJlcGxpY2EubG9nc0VuZHBvaW50QnVpbGRlcixcbiAgICB9LCByZXBvcnRFcnJvciwgcGFnZUV4aXRPYnNlcnZhYmxlLCBzZXNzaW9uRXhwaXJlT2JzZXJ2YWJsZSk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgxIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5MT0dfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoc2VydmVyTG9nc0V2ZW50KSB7XG4gICAgICAgIGJhdGNoLmFkZChzZXJ2ZXJMb2dzRXZlbnQpO1xuICAgIH0pO1xuICAgIHJldHVybiBiYXRjaDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0TG9nc0JhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js\n");

/***/ }),

/***/ "../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"startLogsBridge\": () => (/* binding */ startLogsBridge)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n\nfunction startLogsBridge(lifeCycle) {\n    var bridge = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getEventBridge)();\n    lifeCycle.subscribe(1 /* LifeCycleEventType.LOG_COLLECTED */, function (serverLogsEvent) {\n        bridge.send('log', serverLogsEvent);\n    });\n}\n//# sourceMappingURL=startLogsBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vdHJhbnNwb3J0L3N0YXJ0TG9nc0JyaWRnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS90cmFuc3BvcnQvc3RhcnRMb2dzQnJpZGdlLmpzPzMyY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RXZlbnRCcmlkZ2UgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0TG9nc0JyaWRnZShsaWZlQ3ljbGUpIHtcbiAgICB2YXIgYnJpZGdlID0gZ2V0RXZlbnRCcmlkZ2UoKTtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLkxPR19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChzZXJ2ZXJMb2dzRXZlbnQpIHtcbiAgICAgICAgYnJpZGdlLnNlbmQoJ2xvZycsIHNlcnZlckxvZ3NFdmVudCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydExvZ3NCcmlkZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js\n");

/***/ }),

/***/ "../../node_modules/@deriv/deriv-api/dist/DerivAPIBasic.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@deriv/deriv-api/dist/DerivAPIBasic.js ***!
  \*****************************************************************/
/***/ (function(module) {

eval("/*! For license information please see DerivAPIBasic.js.LICENSE.txt */\n!function(e,t){ true?module.exports=t():0}(\"undefined\"!=typeof self?self:this,(()=>(()=>{var e={768:(e,t,r)=>{\"use strict\";var n=r(604),i=r(572),o=i(n(\"String.prototype.indexOf\"));e.exports=function(e,t){var r=n(e,!!t);return\"function\"==typeof r&&o(e,\".prototype.\")>-1?i(r):r}},572:(e,t,r)=>{\"use strict\";var n=r(268),i=r(604),o=r(392),s=r(556),u=i(\"%Function.prototype.apply%\"),a=i(\"%Function.prototype.call%\"),c=i(\"%Reflect.apply%\",!0)||n.call(a,u),p=i(\"%Object.defineProperty%\",!0),d=i(\"%Math.max%\");if(p)try{p({},\"a\",{value:1})}catch(e){p=null}e.exports=function(e){if(\"function\"!=typeof e)throw new s(\"a function is required\");var t=c(n,a,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var y=function(){return c(n,u,arguments)};p?p(e.exports,\"apply\",{value:y}):e.exports.apply=y},456:(e,t,r)=>{\"use strict\";var n=r(188)(),i=r(604),o=n&&i(\"%Object.defineProperty%\",!0);if(o)try{o({},\"a\",{value:1})}catch(e){o=!1}var s=r(668),u=r(556),a=r(872);e.exports=function(e,t,r){if(!e||\"object\"!=typeof e&&\"function\"!=typeof e)throw new u(\"`obj` must be an object or a function`\");if(\"string\"!=typeof t&&\"symbol\"!=typeof t)throw new u(\"`property` must be a string or a symbol`\");if(arguments.length>3&&\"boolean\"!=typeof arguments[3]&&null!==arguments[3])throw new u(\"`nonEnumerable`, if provided, must be a boolean or null\");if(arguments.length>4&&\"boolean\"!=typeof arguments[4]&&null!==arguments[4])throw new u(\"`nonWritable`, if provided, must be a boolean or null\");if(arguments.length>5&&\"boolean\"!=typeof arguments[5]&&null!==arguments[5])throw new u(\"`nonConfigurable`, if provided, must be a boolean or null\");if(arguments.length>6&&\"boolean\"!=typeof arguments[6])throw new u(\"`loose`, if provided, must be a boolean\");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,p=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(o)o(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===n&&d?d.enumerable:!n,value:r,writable:null===i&&d?d.writable:!i});else{if(!p&&(n||i||c))throw new s(\"This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.\");e[t]=r}}},576:e=>{\"use strict\";e.exports=EvalError},772:e=>{\"use strict\";e.exports=Error},360:e=>{\"use strict\";e.exports=RangeError},380:e=>{\"use strict\";e.exports=ReferenceError},668:e=>{\"use strict\";e.exports=SyntaxError},556:e=>{\"use strict\";e.exports=TypeError},568:e=>{\"use strict\";e.exports=URIError},840:e=>{\"use strict\";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if(\"function\"!=typeof i||\"[object Function]\"!==t.apply(i))throw new TypeError(\"Function.prototype.bind called on incompatible \"+i);for(var o,s=function(e,t){for(var r=[],n=1,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments),u=r(0,i.length-s.length),a=[],c=0;c<u;c++)a[c]=\"$\"+c;if(o=Function(\"binder\",\"return function (\"+function(e,t){for(var r=\"\",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=\",\");return r}(a)+\"){ return binder.apply(this,arguments); }\")((function(){if(this instanceof o){var t=i.apply(this,n(s,arguments));return Object(t)===t?t:this}return i.apply(e,n(s,arguments))})),i.prototype){var p=function(){};p.prototype=i.prototype,o.prototype=new p,p.prototype=null}return o}},268:(e,t,r)=>{\"use strict\";var n=r(840);e.exports=Function.prototype.bind||n},604:(e,t,r)=>{\"use strict\";var n,i=r(772),o=r(576),s=r(360),u=r(380),a=r(668),c=r(556),p=r(568),d=Function,y=function(e){try{return d('\"use strict\"; return ('+e+\").constructor;\")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},\"\")}catch(e){l=null}var f=function(){throw new c},h=l?function(){try{return f}catch(e){try{return l(arguments,\"callee\").get}catch(e){return f}}}():f,g=r(308)(),_=r(608)(),m=Object.getPrototypeOf||(_?function(e){return e.__proto__}:null),v={},b=\"undefined\"!=typeof Uint8Array&&m?m(Uint8Array):n,q={__proto__:null,\"%AggregateError%\":\"undefined\"==typeof AggregateError?n:AggregateError,\"%Array%\":Array,\"%ArrayBuffer%\":\"undefined\"==typeof ArrayBuffer?n:ArrayBuffer,\"%ArrayIteratorPrototype%\":g&&m?m([][Symbol.iterator]()):n,\"%AsyncFromSyncIteratorPrototype%\":n,\"%AsyncFunction%\":v,\"%AsyncGenerator%\":v,\"%AsyncGeneratorFunction%\":v,\"%AsyncIteratorPrototype%\":v,\"%Atomics%\":\"undefined\"==typeof Atomics?n:Atomics,\"%BigInt%\":\"undefined\"==typeof BigInt?n:BigInt,\"%BigInt64Array%\":\"undefined\"==typeof BigInt64Array?n:BigInt64Array,\"%BigUint64Array%\":\"undefined\"==typeof BigUint64Array?n:BigUint64Array,\"%Boolean%\":Boolean,\"%DataView%\":\"undefined\"==typeof DataView?n:DataView,\"%Date%\":Date,\"%decodeURI%\":decodeURI,\"%decodeURIComponent%\":decodeURIComponent,\"%encodeURI%\":encodeURI,\"%encodeURIComponent%\":encodeURIComponent,\"%Error%\":i,\"%eval%\":eval,\"%EvalError%\":o,\"%Float32Array%\":\"undefined\"==typeof Float32Array?n:Float32Array,\"%Float64Array%\":\"undefined\"==typeof Float64Array?n:Float64Array,\"%FinalizationRegistry%\":\"undefined\"==typeof FinalizationRegistry?n:FinalizationRegistry,\"%Function%\":d,\"%GeneratorFunction%\":v,\"%Int8Array%\":\"undefined\"==typeof Int8Array?n:Int8Array,\"%Int16Array%\":\"undefined\"==typeof Int16Array?n:Int16Array,\"%Int32Array%\":\"undefined\"==typeof Int32Array?n:Int32Array,\"%isFinite%\":isFinite,\"%isNaN%\":isNaN,\"%IteratorPrototype%\":g&&m?m(m([][Symbol.iterator]())):n,\"%JSON%\":\"object\"==typeof JSON?JSON:n,\"%Map%\":\"undefined\"==typeof Map?n:Map,\"%MapIteratorPrototype%\":\"undefined\"!=typeof Map&&g&&m?m((new Map)[Symbol.iterator]()):n,\"%Math%\":Math,\"%Number%\":Number,\"%Object%\":Object,\"%parseFloat%\":parseFloat,\"%parseInt%\":parseInt,\"%Promise%\":\"undefined\"==typeof Promise?n:Promise,\"%Proxy%\":\"undefined\"==typeof Proxy?n:Proxy,\"%RangeError%\":s,\"%ReferenceError%\":u,\"%Reflect%\":\"undefined\"==typeof Reflect?n:Reflect,\"%RegExp%\":RegExp,\"%Set%\":\"undefined\"==typeof Set?n:Set,\"%SetIteratorPrototype%\":\"undefined\"!=typeof Set&&g&&m?m((new Set)[Symbol.iterator]()):n,\"%SharedArrayBuffer%\":\"undefined\"==typeof SharedArrayBuffer?n:SharedArrayBuffer,\"%String%\":String,\"%StringIteratorPrototype%\":g&&m?m(\"\"[Symbol.iterator]()):n,\"%Symbol%\":g?Symbol:n,\"%SyntaxError%\":a,\"%ThrowTypeError%\":h,\"%TypedArray%\":b,\"%TypeError%\":c,\"%Uint8Array%\":\"undefined\"==typeof Uint8Array?n:Uint8Array,\"%Uint8ClampedArray%\":\"undefined\"==typeof Uint8ClampedArray?n:Uint8ClampedArray,\"%Uint16Array%\":\"undefined\"==typeof Uint16Array?n:Uint16Array,\"%Uint32Array%\":\"undefined\"==typeof Uint32Array?n:Uint32Array,\"%URIError%\":p,\"%WeakMap%\":\"undefined\"==typeof WeakMap?n:WeakMap,\"%WeakRef%\":\"undefined\"==typeof WeakRef?n:WeakRef,\"%WeakSet%\":\"undefined\"==typeof WeakSet?n:WeakSet};if(m)try{null.error}catch(e){var w=m(m(e));q[\"%Error.prototype%\"]=w}var k=function e(t){var r;if(\"%AsyncFunction%\"===t)r=y(\"async function () {}\");else if(\"%GeneratorFunction%\"===t)r=y(\"function* () {}\");else if(\"%AsyncGeneratorFunction%\"===t)r=y(\"async function* () {}\");else if(\"%AsyncGenerator%\"===t){var n=e(\"%AsyncGeneratorFunction%\");n&&(r=n.prototype)}else if(\"%AsyncIteratorPrototype%\"===t){var i=e(\"%AsyncGenerator%\");i&&m&&(r=m(i.prototype))}return q[t]=r,r},A={__proto__:null,\"%ArrayBufferPrototype%\":[\"ArrayBuffer\",\"prototype\"],\"%ArrayPrototype%\":[\"Array\",\"prototype\"],\"%ArrayProto_entries%\":[\"Array\",\"prototype\",\"entries\"],\"%ArrayProto_forEach%\":[\"Array\",\"prototype\",\"forEach\"],\"%ArrayProto_keys%\":[\"Array\",\"prototype\",\"keys\"],\"%ArrayProto_values%\":[\"Array\",\"prototype\",\"values\"],\"%AsyncFunctionPrototype%\":[\"AsyncFunction\",\"prototype\"],\"%AsyncGenerator%\":[\"AsyncGeneratorFunction\",\"prototype\"],\"%AsyncGeneratorPrototype%\":[\"AsyncGeneratorFunction\",\"prototype\",\"prototype\"],\"%BooleanPrototype%\":[\"Boolean\",\"prototype\"],\"%DataViewPrototype%\":[\"DataView\",\"prototype\"],\"%DatePrototype%\":[\"Date\",\"prototype\"],\"%ErrorPrototype%\":[\"Error\",\"prototype\"],\"%EvalErrorPrototype%\":[\"EvalError\",\"prototype\"],\"%Float32ArrayPrototype%\":[\"Float32Array\",\"prototype\"],\"%Float64ArrayPrototype%\":[\"Float64Array\",\"prototype\"],\"%FunctionPrototype%\":[\"Function\",\"prototype\"],\"%Generator%\":[\"GeneratorFunction\",\"prototype\"],\"%GeneratorPrototype%\":[\"GeneratorFunction\",\"prototype\",\"prototype\"],\"%Int8ArrayPrototype%\":[\"Int8Array\",\"prototype\"],\"%Int16ArrayPrototype%\":[\"Int16Array\",\"prototype\"],\"%Int32ArrayPrototype%\":[\"Int32Array\",\"prototype\"],\"%JSONParse%\":[\"JSON\",\"parse\"],\"%JSONStringify%\":[\"JSON\",\"stringify\"],\"%MapPrototype%\":[\"Map\",\"prototype\"],\"%NumberPrototype%\":[\"Number\",\"prototype\"],\"%ObjectPrototype%\":[\"Object\",\"prototype\"],\"%ObjProto_toString%\":[\"Object\",\"prototype\",\"toString\"],\"%ObjProto_valueOf%\":[\"Object\",\"prototype\",\"valueOf\"],\"%PromisePrototype%\":[\"Promise\",\"prototype\"],\"%PromiseProto_then%\":[\"Promise\",\"prototype\",\"then\"],\"%Promise_all%\":[\"Promise\",\"all\"],\"%Promise_reject%\":[\"Promise\",\"reject\"],\"%Promise_resolve%\":[\"Promise\",\"resolve\"],\"%RangeErrorPrototype%\":[\"RangeError\",\"prototype\"],\"%ReferenceErrorPrototype%\":[\"ReferenceError\",\"prototype\"],\"%RegExpPrototype%\":[\"RegExp\",\"prototype\"],\"%SetPrototype%\":[\"Set\",\"prototype\"],\"%SharedArrayBufferPrototype%\":[\"SharedArrayBuffer\",\"prototype\"],\"%StringPrototype%\":[\"String\",\"prototype\"],\"%SymbolPrototype%\":[\"Symbol\",\"prototype\"],\"%SyntaxErrorPrototype%\":[\"SyntaxError\",\"prototype\"],\"%TypedArrayPrototype%\":[\"TypedArray\",\"prototype\"],\"%TypeErrorPrototype%\":[\"TypeError\",\"prototype\"],\"%Uint8ArrayPrototype%\":[\"Uint8Array\",\"prototype\"],\"%Uint8ClampedArrayPrototype%\":[\"Uint8ClampedArray\",\"prototype\"],\"%Uint16ArrayPrototype%\":[\"Uint16Array\",\"prototype\"],\"%Uint32ArrayPrototype%\":[\"Uint32Array\",\"prototype\"],\"%URIErrorPrototype%\":[\"URIError\",\"prototype\"],\"%WeakMapPrototype%\":[\"WeakMap\",\"prototype\"],\"%WeakSetPrototype%\":[\"WeakSet\",\"prototype\"]},x=r(268),S=r(176),O=x.call(Function.call,Array.prototype.concat),R=x.call(Function.apply,Array.prototype.splice),P=x.call(Function.call,String.prototype.replace),M=x.call(Function.call,String.prototype.slice),j=x.call(Function.call,RegExp.prototype.exec),E=/[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g,I=/\\\\(\\\\)?/g,T=function(e,t){var r,n=e;if(S(A,n)&&(n=\"%\"+(r=A[n])[0]+\"%\"),S(q,n)){var i=q[n];if(i===v&&(i=k(n)),void 0===i&&!t)throw new c(\"intrinsic \"+e+\" exists, but is not available. Please file an issue!\");return{alias:r,name:n,value:i}}throw new a(\"intrinsic \"+e+\" does not exist!\")};e.exports=function(e,t){if(\"string\"!=typeof e||0===e.length)throw new c(\"intrinsic name must be a non-empty string\");if(arguments.length>1&&\"boolean\"!=typeof t)throw new c('\"allowMissing\" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,e))throw new a(\"`%` may not be present anywhere but at the beginning and end of the intrinsic name\");var r=function(e){var t=M(e,0,1),r=M(e,-1);if(\"%\"===t&&\"%\"!==r)throw new a(\"invalid intrinsic syntax, expected closing `%`\");if(\"%\"===r&&\"%\"!==t)throw new a(\"invalid intrinsic syntax, expected opening `%`\");var n=[];return P(e,E,(function(e,t,r,i){n[n.length]=r?P(i,I,\"$1\"):t||e})),n}(e),n=r.length>0?r[0]:\"\",i=T(\"%\"+n+\"%\",t),o=i.name,s=i.value,u=!1,p=i.alias;p&&(n=p[0],R(r,O([0,1],p)));for(var d=1,y=!0;d<r.length;d+=1){var f=r[d],h=M(f,0,1),g=M(f,-1);if(('\"'===h||\"'\"===h||\"`\"===h||'\"'===g||\"'\"===g||\"`\"===g)&&h!==g)throw new a(\"property names with quotes must have matching quotes\");if(\"constructor\"!==f&&y||(u=!0),S(q,o=\"%\"+(n+=\".\"+f)+\"%\"))s=q[o];else if(null!=s){if(!(f in s)){if(!t)throw new c(\"base intrinsic for \"+e+\" exists, but the property is not available.\");return}if(l&&d+1>=r.length){var _=l(s,f);s=(y=!!_)&&\"get\"in _&&!(\"originalValue\"in _.get)?_.get:s[f]}else y=S(s,f),s=s[f];y&&!u&&(q[o]=s)}}return s}},872:(e,t,r)=>{\"use strict\";var n=r(604)(\"%Object.getOwnPropertyDescriptor%\",!0);if(n)try{n([],\"length\")}catch(e){n=null}e.exports=n},188:(e,t,r)=>{\"use strict\";var n=r(604)(\"%Object.defineProperty%\",!0),i=function(){if(n)try{return n({},\"a\",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],\"length\",{value:1}).length}catch(e){return!0}},e.exports=i},608:e=>{\"use strict\";var t={foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},308:(e,t,r)=>{\"use strict\";var n=\"undefined\"!=typeof Symbol&&Symbol,i=r(968);e.exports=function(){return\"function\"==typeof n&&\"function\"==typeof Symbol&&\"symbol\"==typeof n(\"foo\")&&\"symbol\"==typeof Symbol(\"bar\")&&i()}},968:e=>{\"use strict\";e.exports=function(){if(\"function\"!=typeof Symbol||\"function\"!=typeof Object.getOwnPropertySymbols)return!1;if(\"symbol\"==typeof Symbol.iterator)return!0;var e={},t=Symbol(\"test\"),r=Object(t);if(\"string\"==typeof t)return!1;if(\"[object Symbol]\"!==Object.prototype.toString.call(t))return!1;if(\"[object Symbol]\"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if(\"function\"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if(\"function\"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(\"function\"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},176:(e,t,r)=>{\"use strict\";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(268);e.exports=o.call(n,i)},600:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==t.call(e)}},532:(e,t,r)=>{\"use strict\";var n=(\"undefined\"!=typeof JSON?JSON:r(0)).stringify,i=r(600),o=r(56),s=r(572),u=r(768),a=u(\"Array.prototype.join\"),c=u(\"Array.prototype.push\"),p=function(e,t){for(var r=\"\",n=0;n<e;n+=1)r+=t;return r},d=function(e,t,r){return r};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,r=t&&t.space||\"\";\"number\"==typeof r&&(r=p(r,\" \"));var u=!!t&&\"boolean\"==typeof t.cycles&&t.cycles,y=t&&t.replacer?s(t.replacer):d,l=\"function\"==typeof t?t:t&&t.cmp,f=l&&function(e){var t=l.length>2&&function(t){return e[t]};return function(r,n){return l({key:r,value:e[r]},{key:n,value:e[n]},t?{__proto__:null,get:t}:void 0)}},h=[];return function e(t,s,d,l){var g=r?\"\\n\"+p(l,r):\"\",_=r?\": \":\":\";if(d&&d.toJSON&&\"function\"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=y(t,s,d))){if(\"object\"!=typeof d||null===d)return n(d);if(i(d)){for(var m=[],v=0;v<d.length;v++){var b=e(d,v,d[v],l+1)||n(null);c(m,g+r+b)}return\"[\"+a(m,\",\")+g+\"]\"}if(-1!==h.indexOf(d)){if(u)return n(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}c(h,d);var q=o(d).sort(f&&f(d));for(m=[],v=0;v<q.length;v++){var w=e(d,s=q[v],d[s],l+1);if(w){var k=n(s)+_+w;c(m,g+r+k)}}return h.splice(h.indexOf(d),1),\"{\"+a(m,\",\")+g+\"}\"}}({\"\":e},\"\",e,0)}},0:(e,t,r)=>{\"use strict\";t.parse=r(960),t.stringify=r(136)},960:e=>{\"use strict\";var t,r,n,i={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"};function o(e){throw{name:\"SyntaxError\",message:e,at:t,text:n}}function s(e){return e&&e!==r&&o(\"Expected '\"+e+\"' instead of '\"+r+\"'\"),r=n.charAt(t),t+=1,r}function u(){var e,t=\"\";for(\"-\"===r&&(t=\"-\",s(\"-\"));r>=\"0\"&&r<=\"9\";)t+=r,s();if(\".\"===r)for(t+=\".\";s()&&r>=\"0\"&&r<=\"9\";)t+=r;if(\"e\"===r||\"E\"===r)for(t+=r,s(),\"-\"!==r&&\"+\"!==r||(t+=r,s());r>=\"0\"&&r<=\"9\";)t+=r,s();return e=Number(t),isFinite(e)||o(\"Bad number\"),e}function a(){var e,t,n,u=\"\";if('\"'===r)for(;s();){if('\"'===r)return s(),u;if(\"\\\\\"===r)if(s(),\"u\"===r){for(n=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)n=16*n+e;u+=String.fromCharCode(n)}else{if(\"string\"!=typeof i[r])break;u+=i[r]}else u+=r}o(\"Bad string\")}function c(){for(;r&&r<=\" \";)s()}function p(){switch(c(),r){case\"{\":return function(){var e,t={};if(\"{\"===r){if(s(\"{\"),c(),\"}\"===r)return s(\"}\"),t;for(;r;){if(e=a(),c(),s(\":\"),Object.prototype.hasOwnProperty.call(t,e)&&o('Duplicate key \"'+e+'\"'),t[e]=p(),c(),\"}\"===r)return s(\"}\"),t;s(\",\"),c()}}o(\"Bad object\")}();case\"[\":return function(){var e=[];if(\"[\"===r){if(s(\"[\"),c(),\"]\"===r)return s(\"]\"),e;for(;r;){if(e.push(p()),c(),\"]\"===r)return s(\"]\"),e;s(\",\"),c()}}o(\"Bad array\")}();case'\"':return a();case\"-\":return u();default:return r>=\"0\"&&r<=\"9\"?u():function(){switch(r){case\"t\":return s(\"t\"),s(\"r\"),s(\"u\"),s(\"e\"),!0;case\"f\":return s(\"f\"),s(\"a\"),s(\"l\"),s(\"s\"),s(\"e\"),!1;case\"n\":return s(\"n\"),s(\"u\"),s(\"l\"),s(\"l\"),null;default:o(\"Unexpected '\"+r+\"'\")}}()}}e.exports=function(e,i){var s;return n=e,t=0,r=\" \",s=p(),c(),r&&o(\"Syntax error\"),\"function\"==typeof i?function e(t,r){var n,o,s=t[r];if(s&&\"object\"==typeof s)for(n in p)Object.prototype.hasOwnProperty.call(s,n)&&(void 0===(o=e(s,n))?delete s[n]:s[n]=o);return i.call(t,r,s)}({\"\":s},\"\"):s}},136:e=>{\"use strict\";var t,r,n,i=/[\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,o={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"};function s(e){return i.lastIndex=0,i.test(e)?'\"'+e.replace(i,(function(e){var t=o[e];return\"string\"==typeof t?t:\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)}))+'\"':'\"'+e+'\"'}function u(e,i){var o,a,c,p,d,y=t,l=i[e];switch(l&&\"object\"==typeof l&&\"function\"==typeof l.toJSON&&(l=l.toJSON(e)),\"function\"==typeof n&&(l=n.call(i,e,l)),typeof l){case\"string\":return s(l);case\"number\":return isFinite(l)?String(l):\"null\";case\"boolean\":case\"null\":return String(l);case\"object\":if(!l)return\"null\";if(t+=r,d=[],\"[object Array]\"===Object.prototype.toString.apply(l)){for(p=l.length,o=0;o<p;o+=1)d[o]=u(o,l)||\"null\";return c=0===d.length?\"[]\":t?\"[\\n\"+t+d.join(\",\\n\"+t)+\"\\n\"+y+\"]\":\"[\"+d.join(\",\")+\"]\",t=y,c}if(n&&\"object\"==typeof n)for(p=n.length,o=0;o<p;o+=1)\"string\"==typeof(a=n[o])&&(c=u(a,l))&&d.push(s(a)+(t?\": \":\":\")+c);else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(c=u(a,l))&&d.push(s(a)+(t?\": \":\":\")+c);return c=0===d.length?\"{}\":t?\"{\\n\"+t+d.join(\",\\n\"+t)+\"\\n\"+y+\"}\":\"{\"+d.join(\",\")+\"}\",t=y,c}}e.exports=function(e,i,o){var s;if(t=\"\",r=\"\",\"number\"==typeof o)for(s=0;s<o;s+=1)r+=\" \";else\"string\"==typeof o&&(r=o);if(n=i,i&&\"function\"!=typeof i&&(\"object\"!=typeof i||\"number\"!=typeof i.length))throw new Error(\"JSON.stringify\");return u(\"\",{\"\":e})}},816:(e,t,r)=>{\"use strict\";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(428),u=Object.prototype.propertyIsEnumerable,a=!u.call({toString:null},\"toString\"),c=u.call((function(){}),\"prototype\"),p=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],d=function(e){var t=e.constructor;return t&&t.prototype===e},y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if(\"undefined\"==typeof window)return!1;for(var e in window)try{if(!y[\"$\"+e]&&i.call(window,e)&&null!==window[e]&&\"object\"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&\"object\"==typeof e,r=\"[object Function]\"===o.call(e),n=s(e),u=t&&\"[object String]\"===o.call(e),y=[];if(!t&&!r&&!n)throw new TypeError(\"Object.keys called on a non-object\");var f=c&&r;if(u&&e.length>0&&!i.call(e,0))for(var h=0;h<e.length;++h)y.push(String(h));if(n&&e.length>0)for(var g=0;g<e.length;++g)y.push(String(g));else for(var _ in e)f&&\"prototype\"===_||!i.call(e,_)||y.push(String(_));if(a)for(var m=function(e){if(\"undefined\"==typeof window||!l)return d(e);try{return d(e)}catch(e){return!1}}(e),v=0;v<p.length;++v)m&&\"constructor\"===p[v]||!i.call(e,p[v])||y.push(p[v]);return y}}e.exports=n},56:(e,t,r)=>{\"use strict\";var n=Array.prototype.slice,i=r(428),o=Object.keys,s=o?function(e){return o(e)}:r(816),u=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?u(n.call(e)):u(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},428:e=>{\"use strict\";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n=\"[object Arguments]\"===r;return n||(n=\"[object Array]\"!==r&&null!==e&&\"object\"==typeof e&&\"number\"==typeof e.length&&e.length>=0&&\"[object Function]\"===t.call(e.callee)),n}},392:(e,t,r)=>{\"use strict\";var n=r(604),i=r(456),o=r(188)(),s=r(872),u=r(556),a=n(\"%Math.floor%\");e.exports=function(e,t){if(\"function\"!=typeof e)throw new u(\"`fn` is not a function\");if(\"number\"!=typeof t||t<0||t>4294967295||a(t)!==t)throw new u(\"`length` must be a positive 32-bit integer\");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if(\"length\"in e&&s){var p=s(e,\"length\");p&&!p.configurable&&(n=!1),p&&!p.writable&&(c=!1)}return(n||c||!r)&&(o?i(e,\"length\",t,!0,!0):i(e,\"length\",t)),e}},636:(e,t,r)=>{var n=r(848).default;function i(){\"use strict\";e.exports=i=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},o=Object.prototype,s=o.hasOwnProperty,u=Object.defineProperty||function(e,t,r){e[t]=r.value},a=\"function\"==typeof Symbol?Symbol:{},c=a.iterator||\"@@iterator\",p=a.asyncIterator||\"@@asyncIterator\",d=a.toStringTag||\"@@toStringTag\";function y(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{y({},\"\")}catch(t){y=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new I(n||[]);return u(o,\"_invoke\",{value:P(e,r,s)}),o}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}r.wrap=l;var h=\"suspendedStart\",g=\"suspendedYield\",_=\"executing\",m=\"completed\",v={};function b(){}function q(){}function w(){}var k={};y(k,c,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(T([])));x&&x!==o&&s.call(x,c)&&(k=x);var S=w.prototype=b.prototype=Object.create(k);function O(e){[\"next\",\"throw\",\"return\"].forEach((function(t){y(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(i,o,u,a){var c=f(e[i],e,o);if(\"throw\"!==c.type){var p=c.arg,d=p.value;return d&&\"object\"==n(d)&&s.call(d,\"__await\")?t.resolve(d.__await).then((function(e){r(\"next\",e,u,a)}),(function(e){r(\"throw\",e,u,a)})):t.resolve(d).then((function(e){p.value=e,u(p)}),(function(e){return r(\"throw\",e,u,a)}))}a(c.arg)}var i;u(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var i=h;return function(o,s){if(i===_)throw new Error(\"Generator is already running\");if(i===m){if(\"throw\"===o)throw s;return{value:t,done:!0}}for(n.method=o,n.arg=s;;){var u=n.delegate;if(u){var a=M(u,n);if(a){if(a===v)continue;return a}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);i=_;var c=f(e,r,n);if(\"normal\"===c.type){if(i=n.done?m:g,c.arg===v)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(i=m,n.method=\"throw\",n.arg=c.arg)}}}function M(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,M(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),v;var o=f(i,e.iterator,r.arg);if(\"throw\"===o.type)return r.method=\"throw\",r.arg=o.arg,r.delegate=null,v;var s=o.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,v):s:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(j,this),this.reset(!0)}function T(e){if(e||\"\"===e){var r=e[c];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(s.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(n(e)+\" is not iterable\")}return q.prototype=w,u(S,\"constructor\",{value:w,configurable:!0}),u(w,\"constructor\",{value:q,configurable:!0}),q.displayName=y(w,d,\"GeneratorFunction\"),r.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===q||\"GeneratorFunction\"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,y(e,d,\"GeneratorFunction\")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},O(R.prototype),y(R.prototype,p,(function(){return this})),r.AsyncIterator=R,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var s=new R(l(e,t,n,i),o);return r.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(S),y(S,d,\"Generator\"),y(S,c,(function(){return this})),y(S,\"toString\",(function(){return\"[object Generator]\"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)\"t\"===r.charAt(0)&&s.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return u.type=\"throw\",u.arg=e,r.next=n,i&&(r.method=\"next\",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var a=s.call(o,\"catchLoc\"),c=s.call(o,\"finallyLoc\");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var i=n;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;E(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),v}},r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},848:e=>{function t(r){return e.exports=t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},248:(e,t,r)=>{var n=r(636)();e.exports=n;try{regeneratorRuntime=n}catch(e){\"object\"==typeof globalThis?globalThis.regeneratorRuntime=n:Function(\"r\",\"regeneratorRuntime = r\")(n)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{\"use strict\";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},t(e)}function i(e,t,r,n,i,o,s){try{var u=e[o](s),a=u.value}catch(e){return void r(e)}u.done?t(a):Promise.resolve(a).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function u(e){i(s,n,o,u,a,\"next\",e)}function a(e){i(s,n,o,u,a,\"throw\",e)}u(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e){var r=function(e,r){if(\"object\"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,\"string\");if(\"object\"!=t(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==t(r)?r:String(r)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function c(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function p(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function d(e,r){if(r&&(\"object\"===t(r)||\"function\"==typeof r))return r;if(void 0!==r)throw new TypeError(\"Derived constructors may only return object or undefined\");return p(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&l(e,t)}r.d(n,{default:()=>ze});var h=r(248),g=r.n(h);function _(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var m=_((function(e){return function(){e(this),this.name=\"EmptyError\",this.message=\"no elements in sequence\"}}));function v(e){return\"function\"==typeof e}function b(e){return function(t){if(function(e){return v(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError(\"Unable to lift unknown Observable type\")}}var q=function(e,t){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},q(e,t)};function w(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function r(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function k(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(r)throw new TypeError(\"Generator is already executing.\");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function A(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function x(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function S(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function O(e){return this instanceof O?(this.v=e,this):new O(e)}Object.create,Object.create,\"function\"==typeof SuppressedError&&SuppressedError;var R=_((function(e){return function(t){e(this),this.message=t?t.length+\" errors occurred during unsubscription:\\n\"+t.map((function(e,t){return t+1+\") \"+e.toString()})).join(\"\\n  \"):\"\",this.name=\"UnsubscriptionError\",this.errors=t}}));function P(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var M=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=A(o),u=s.next();!u.done;u=s.next())u.value.remove(this)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var a=this.initialTeardown;if(v(a))try{a()}catch(e){i=e instanceof R?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var p=A(c),d=p.next();!d.done;d=p.next()){var y=d.value;try{I(y)}catch(e){i=null!=i?i:[],e instanceof R?i=S(S([],x(i)),x(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}}if(i)throw new R(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)I(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&P(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&P(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),j=M.EMPTY;function E(e){return e instanceof M||e&&\"closed\"in e&&v(e.remove)&&v(e.add)&&v(e.unsubscribe)}function I(e){v(e)?e():e.unsubscribe()}var T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=F.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,S([e,t],x(r))):setTimeout.apply(void 0,S([e,t],x(r)))},clearTimeout:function(e){var t=F.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function C(e){F.setTimeout((function(){var t=T.onUnhandledError;if(!t)throw e;t(e)}))}function U(){}var B=N(\"C\",void 0,void 0);function N(e,t,r){return{kind:e,value:t,error:r}}var L=null;function D(e){if(T.useDeprecatedSynchronousErrorHandling){var t=!L;if(t&&(L={errorThrown:!1,error:null}),e(),t){var r=L,n=r.errorThrown,i=r.error;if(L=null,n)throw i}}else e()}var G=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,E(t)&&t.add(r)):r.destination=Y,r}return w(t,e),t.create=function(e,t,r){return new H(e,t,r)},t.prototype.next=function(e){this.isStopped?V(function(e){return N(\"N\",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?V(N(\"E\",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?V(B,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(M),$=Function.prototype.bind;function z(e,t){return $.call(e,t)}var W=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){J(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){J(e)}else J(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){J(e)}},e}(),H=function(e){function t(t,r,n){var i,o,s=e.call(this)||this;return v(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&T.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&z(t.next,o),error:t.error&&z(t.error,o),complete:t.complete&&z(t.complete,o)}):i=t,s.destination=new W(i),s}return w(t,e),t}(G);function J(e){var t;T.useDeprecatedSynchronousErrorHandling?(t=e,T.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=t)):C(e)}function V(e,t){var r=T.onStoppedNotification;r&&F.setTimeout((function(){return r(e,t)}))}var Y={closed:!0,next:U,error:function(e){throw e},complete:U};function K(e,t,r,n,i){return new X(e,t,r,n,i)}var X=function(e){function t(t,r,n,i,o,s){var u=e.call(this,t)||this;return u.onFinalize=o,u.shouldUnsubscribe=s,u._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return w(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(G);function Z(e,t){return b((function(r,n){var i=0;r.subscribe(K(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}var Q=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function ee(e){return e}var te=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof G||function(e){return e&&v(e.next)&&v(e.error)&&v(e.complete)}(n)&&E(n)?e:new H(e,t,r);return D((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=re(t))((function(t,n){var i=new H({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Q]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?ee:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=re(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function re(e){var t;return null!==(t=null!=e?e:T.Promise)&&void 0!==t?t:Promise}var ne=new te((function(e){return e.complete()}));function ie(){return new m}function oe(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Z((function(t,r){return e(t,r,n)})):ee, false?0:b((function(e,t){var r=0;e.subscribe(K(t,(function(e){++r<=1&&(t.next(e),1<=r&&t.complete())})))})),r?function(e){return b((function(t,r){var n=!1;t.subscribe(K(r,(function(e){n=!0,r.next(e)}),(function(){n||r.next(e),r.complete()})))}))}(t):function(e){return void 0===e&&(e=ie),b((function(t,r){var n=!1;t.subscribe(K(r,(function(e){n=!0,r.next(e)}),(function(){return n?r.complete():r.error(e())})))}))}((function(){return new m})))}}var se=function(e){return e&&\"number\"==typeof e.length&&\"function\"!=typeof e},ue=\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\";function ae(e){if(e instanceof te)return e;if(null!=e){if(function(e){return v(e[Q])}(e))return o=e,new te((function(e){var t=o[Q]();if(v(t.subscribe))return t.subscribe(e);throw new TypeError(\"Provided object does not correctly implement Symbol.observable\")}));if(se(e))return i=e,new te((function(e){for(var t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(v(null==(n=e)?void 0:n.then))return r=e,new te((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,C)}));if(function(e){return Symbol.asyncIterator&&v(null==e?void 0:e[Symbol.asyncIterator])}(e))return ce(e);if(function(e){return v(null==e?void 0:e[ue])}(e))return t=e,new te((function(e){var r,n;try{for(var i=A(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return v(null==e?void 0:e.getReader)}(e))return ce(function(e){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n,i=r.apply(e,t||[]),o=[];return n={},s(\"next\"),s(\"throw\"),s(\"return\"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||u(e,t)}))})}function u(e,t){try{(r=i[e](t)).value instanceof O?Promise.resolve(r.value.v).then(a,c):p(o[0][2],r)}catch(e){p(o[0][3],e)}var r}function a(e){u(\"next\",e)}function c(e){u(\"throw\",e)}function p(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,(function(){var t,r,n;return k(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,O(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,O(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,O(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,i,o;throw function(e){return new TypeError(\"You provided \"+(null!==e&&\"object\"==typeof e?\"an invalid object\":\"'\"+e+\"'\")+\" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\")}(e)}function ce(e){return new te((function(t){(function(e,t){var r,n,i,o,s,u,a,c;return s=this,u=void 0,c=function(){var s,u;return k(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=A(e),t={},n(\"next\"),n(\"throw\"),n(\"return\"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}(e),a.label=1;case 1:return[4,r.next()];case 2:if((n=a.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=a.sent(),i={error:u},[3,11];case 6:return a.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(r,n)}i((c=c.apply(s,u||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}var pe=_((function(e){return function(){e(this),this.name=\"ObjectUnsubscribedError\",this.message=\"object unsubscribed\"}})),de=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return w(t,e),t.prototype.lift=function(e){var t=new ye(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new pe},t.prototype.next=function(e){var t=this;D((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=A(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;D((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;D((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,\"observed\",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?j:(this.currentObservers=null,o.push(e),new M((function(){t.currentObservers=null,P(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new te;return e.source=this,e},t.create=function(e,t){return new ye(e,t)},t}(te),ye=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return w(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:j},t}(de);function le(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new de}:t,n=e.resetOnError,i=void 0===n||n,o=e.resetOnComplete,s=void 0===o||o,u=e.resetOnRefCountZero,a=void 0===u||u;return function(e){var t,n,o,u=0,c=!1,p=!1,d=function(){null==n||n.unsubscribe(),n=void 0},y=function(){d(),t=o=void 0,c=p=!1},l=function(){var e=t;y(),null==e||e.unsubscribe()};return b((function(e,f){u++,p||c||d();var h=o=null!=o?o:r();f.add((function(){0!=--u||p||c||(n=fe(l,a))})),h.subscribe(f),!t&&u>0&&(t=new H({next:function(e){return h.next(e)},error:function(e){p=!0,d(),n=fe(y,i,e),h.error(e)},complete:function(){c=!0,d(),n=fe(y,s),h.complete()}}),ae(e).subscribe(t))}))(e)}}function fe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==t){if(!1!==t){var i=new H({next:function(){i.unsubscribe(),e()}});return ae(t.apply(void 0,S([],x(r)))).subscribe(i)}}else e()}function he(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ge=function(){function e(){s(this,e)}return c(e,[{key:\"accountClosure\",value:function(){var e={method:\"account_closure\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_closure:{required:1,type:\"numeric\"},passthrough:{},reason:{required:1,type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"accountSecurity\",value:function(){var e={method:\"account_security\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_security:{required:1,type:\"numeric\"},otp:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},totp_action:{type:\"string\"}}};return this.processRequest(e)}},{key:\"accountStatistics\",value:function(){var e={method:\"account_statistics\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_statistics:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"activeSymbols\",value:function(){var e={method:\"active_symbols\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{active_symbols:{required:1,type:\"string\"},landing_company:{type:\"string\"},passthrough:{},product_type:{type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"affiliateAccountAdd\",value:function(){var e={method:\"affiliate_account_add\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{address_city:{required:1,type:\"string\"},address_line_1:{required:1,type:\"string\"},address_line_2:{type:\"string\"},address_postcode:{required:1,type:\"string\"},address_state:{required:1,type:\"string\"},affiliate_account_add:{required:1,type:\"numeric\"},country:{required:1,type:\"string\"},first_name:{required:1,type:\"string\"},last_name:{required:1,type:\"string\"},non_pep_declaration:{required:1,type:\"numeric\"},passthrough:{},password:{required:1,type:\"string\"},phone:{required:1,type:\"string\"},req_id:{type:\"numeric\"},tnc_accepted:{required:1,type:\"numeric\"},username:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"apiToken\",value:function(){var e={method:\"api_token\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{api_token:{required:1,type:\"numeric\"},delete_token:{type:\"string\"},new_token:{type:\"string\"},new_token_scopes:{},passthrough:{},req_id:{type:\"numeric\"},valid_for_current_ip_only:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"appDelete\",value:function(){var e={method:\"app_delete\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_delete:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"appGet\",value:function(){var e={method:\"app_get\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_get:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"appList\",value:function(){var e={method:\"app_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_list:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"appMarkupDetails\",value:function(){var e={method:\"app_markup_details\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_id:{type:\"numeric\"},app_markup_details:{required:1,type:\"numeric\"},client_loginid:{type:\"string\"},date_from:{required:1,type:\"string\"},date_to:{required:1,type:\"string\"},description:{type:\"numeric\"},limit:{type:\"numeric\"},offset:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},sort:{type:\"string\"},sort_fields:{}}};return this.processRequest(e)}},{key:\"appRegister\",value:function(){var e={method:\"app_register\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_markup_percentage:{type:\"numeric\"},app_register:{required:1,type:\"numeric\"},appstore:{type:\"string\"},github:{type:\"string\"},googleplay:{type:\"string\"},homepage:{type:\"string\"},name:{required:1,type:\"string\"},passthrough:{},redirect_uri:{type:\"string\"},req_id:{type:\"numeric\"},scopes:{required:1},verification_uri:{type:\"string\"}}};return this.processRequest(e)}},{key:\"appUpdate\",value:function(){var e={method:\"app_update\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_markup_percentage:{type:\"numeric\"},app_update:{required:1,type:\"numeric\"},appstore:{type:\"string\"},github:{type:\"string\"},googleplay:{type:\"string\"},homepage:{type:\"string\"},name:{required:1,type:\"string\"},passthrough:{},redirect_uri:{type:\"string\"},req_id:{type:\"numeric\"},scopes:{required:1},verification_uri:{type:\"string\"}}};return this.processRequest(e)}},{key:\"assetIndex\",value:function(){var e={method:\"asset_index\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{asset_index:{required:1,type:\"numeric\"},landing_company:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"authorize\",value:function(){var e={method:\"authorize\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{add_to_login_history:{type:\"numeric\"},authorize:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"balance\",value:function(){var e={method:\"balance\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account:{type:\"string\"},balance:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"buy\",value:function(){var e={method:\"buy\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{buy:{required:1,type:\"string\"},parameters:{amount:{type:\"numeric\"},app_markup_percentage:{type:\"numeric\"},barrier:{type:\"string\"},barrier2:{type:\"string\"},barrier_range:{type:\"string\"},basis:{type:\"string\"},cancellation:{type:\"string\"},contract_type:{required:1,type:\"string\"},currency:{required:1,type:\"string\"},date_expiry:{type:\"numeric\"},date_start:{type:\"numeric\"},duration:{type:\"numeric\"},duration_unit:{type:\"string\"},limit_order:{stop_loss:{type:\"numeric\"},take_profit:{type:\"numeric\"}},multiplier:{type:\"numeric\"},product_type:{type:\"string\"},selected_tick:{type:\"numeric\"},symbol:{required:1,type:\"string\"},trading_period_start:{type:\"numeric\"}},passthrough:{},price:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"buyContractForMultipleAccounts\",value:function(){var e={method:\"buy_contract_for_multiple_accounts\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{buy_contract_for_multiple_accounts:{required:1,type:\"string\"},parameters:{amount:{type:\"numeric\"},app_markup_percentage:{type:\"numeric\"},barrier:{type:\"string\"},barrier2:{type:\"string\"},basis:{type:\"string\"},contract_type:{required:1,type:\"string\"},currency:{required:1,type:\"string\"},date_expiry:{type:\"numeric\"},date_start:{type:\"numeric\"},duration:{type:\"numeric\"},duration_unit:{type:\"string\"},multiplier:{type:\"numeric\"},selected_tick:{type:\"numeric\"},symbol:{required:1,type:\"string\"}},passthrough:{},price:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},tokens:{required:1}}};return this.processRequest(e)}},{key:\"cancel\",value:function(){var e={method:\"cancel\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{cancel:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"cashier\",value:function(){var e={method:\"cashier\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{address:{type:\"string\"},amount:{type:\"numeric\"},cashier:{required:1,type:\"string\"},dry_run:{type:\"numeric\"},passthrough:{},provider:{type:\"string\"},req_id:{type:\"numeric\"},type:{type:\"string\"},verification_code:{type:\"string\"}}};return this.processRequest(e)}},{key:\"cashierPayments\",value:function(){var e={method:\"cashier_payments\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{cashier_payments:{required:1,type:\"numeric\"},passthrough:{},provider:{type:\"string\"},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"},transaction_type:{type:\"string\"}}};return this.processRequest(e)}},{key:\"cashierWithdrawalCancel\",value:function(){var e={method:\"cashier_withdrawal_cancel\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{cashier_withdrawal_cancel:{required:1,type:\"numeric\"},id:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"changeEmail\",value:function(){var e={method:\"change_email\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{change_email:{required:1,type:\"string\"},new_email:{required:1,type:\"string\"},new_password:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},verification_code:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"changePassword\",value:function(){var e={method:\"change_password\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{change_password:{required:1,type:\"numeric\"},new_password:{required:1,type:\"string\"},old_password:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"contractUpdate\",value:function(){var e={method:\"contract_update\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_id:{required:1,type:\"numeric\"},contract_update:{required:1,type:\"numeric\"},limit_order:{stop_loss:{},take_profit:{}},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"contractUpdateHistory\",value:function(){var e={method:\"contract_update_history\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_id:{required:1,type:\"numeric\"},contract_update_history:{required:1,type:\"numeric\"},limit:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"contractsFor\",value:function(){var e={method:\"contracts_for\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contracts_for:{required:1,type:\"string\"},currency:{type:\"string\"},landing_company:{type:\"string\"},passthrough:{},product_type:{type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"copyStart\",value:function(){var e={method:\"copy_start\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{assets:{},copy_start:{required:1,type:\"string\"},max_trade_stake:{type:\"numeric\"},min_trade_stake:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},trade_types:{}}};return this.processRequest(e)}},{key:\"copyStop\",value:function(){var e={method:\"copy_stop\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{copy_stop:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"copytradingList\",value:function(){var e={method:\"copytrading_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{copytrading_list:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"copytradingStatistics\",value:function(){var e={method:\"copytrading_statistics\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{copytrading_statistics:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},trader_id:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"cryptoConfig\",value:function(){var e={method:\"crypto_config\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{crypto_config:{required:1,type:\"numeric\"},currency_code:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"documentUpload\",value:function(){var e={method:\"document_upload\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{document_format:{required:1,type:\"string\"},document_id:{type:\"string\"},document_issuing_country:{type:\"string\"},document_type:{required:1,type:\"string\"},document_upload:{required:1,type:\"numeric\"},expected_checksum:{required:1,type:\"string\"},expiration_date:{type:\"string\"},file_size:{required:1,type:\"numeric\"},lifetime_valid:{type:\"numeric\"},page_type:{type:\"string\"},passthrough:{},proof_of_ownership:{details:{required:1},id:{required:1,type:\"numeric\"}},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"economicCalendar\",value:function(){var e={method:\"economic_calendar\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{currency:{type:\"string\"},economic_calendar:{required:1,type:\"numeric\"},end_date:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},start_date:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"exchangeRates\",value:function(){var e={method:\"exchange_rates\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{base_currency:{required:1,type:\"string\"},exchange_rates:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"},target_currency:{type:\"string\"}}};return this.processRequest(e)}},{key:\"forget\",value:function(){var e={method:\"forget\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{forget:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"forgetAll\",value:function(){var e={method:\"forget_all\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{forget_all:{required:1},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getAccountStatus\",value:function(){var e={method:\"get_account_status\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_account_status:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getAccountTypes\",value:function(){var e={method:\"get_account_types\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_account_types:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getAvailableAccountsToTransfer\",value:function(){var e={method:\"get_available_accounts_to_transfer\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_available_accounts_to_transfer:{required:1,type:\"numeric\"},loginid:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getFinancialAssessment\",value:function(){var e={method:\"get_financial_assessment\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_financial_assessment:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getLimits\",value:function(){var e={method:\"get_limits\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_limits:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getSelfExclusion\",value:function(){var e={method:\"get_self_exclusion\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_self_exclusion:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"getSettings\",value:function(){var e={method:\"get_settings\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_settings:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"identityVerificationDocumentAdd\",value:function(){var e={method:\"identity_verification_document_add\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{document_number:{required:1,type:\"string\"},document_type:{required:1,type:\"string\"},identity_verification_document_add:{required:1,type:\"numeric\"},issuing_country:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"landingCompany\",value:function(){var e={method:\"landing_company\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{landing_company:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"landingCompanyDetails\",value:function(){var e={method:\"landing_company_details\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{landing_company_details:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"linkWallet\",value:function(){var e={method:\"link_wallet\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{client_id:{required:1,type:\"string\"},link_wallet:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},wallet_id:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"loginHistory\",value:function(){var e={method:\"login_history\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{limit:{type:\"numeric\"},login_history:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"logout\",value:function(){var e={method:\"logout\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{logout:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"mt5Deposit\",value:function(){var e={method:\"mt5_deposit\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{type:\"numeric\"},from_binary:{type:\"string\"},mt5_deposit:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},to_mt5:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"mt5GetSettings\",value:function(){var e={method:\"mt5_get_settings\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:\"string\"},mt5_get_settings:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"mt5LoginList\",value:function(){var e={method:\"mt5_login_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{mt5_login_list:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"mt5NewAccount\",value:function(){var e={method:\"mt5_new_account\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_type:{required:1,type:\"string\"},address:{type:\"string\"},city:{type:\"string\"},company:{type:\"string\"},country:{type:\"string\"},currency:{type:\"string\"},dry_run:{type:\"numeric\"},email:{required:1,type:\"string\"},investPassword:{type:\"string\"},leverage:{required:1,type:\"numeric\"},mainPassword:{required:1,type:\"string\"},mt5_account_category:{type:\"string\"},mt5_account_type:{type:\"string\"},mt5_new_account:{required:1,type:\"numeric\"},name:{required:1,type:\"string\"},passthrough:{},phone:{type:\"string\"},phonePassword:{type:\"string\"},req_id:{type:\"numeric\"},server:{},state:{type:\"string\"},zipCode:{type:\"string\"}}};return this.processRequest(e)}},{key:\"mt5PasswordChange\",value:function(){var e={method:\"mt5_password_change\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:\"string\"},mt5_password_change:{required:1,type:\"numeric\"},new_password:{required:1,type:\"string\"},old_password:{required:1,type:\"string\"},passthrough:{},password_type:{type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"mt5PasswordCheck\",value:function(){var e={method:\"mt5_password_check\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:\"string\"},mt5_password_check:{required:1,type:\"numeric\"},passthrough:{},password:{required:1,type:\"string\"},password_type:{type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"mt5PasswordReset\",value:function(){var e={method:\"mt5_password_reset\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:\"string\"},mt5_password_reset:{required:1,type:\"numeric\"},new_password:{required:1,type:\"string\"},passthrough:{},password_type:{type:\"string\"},req_id:{type:\"numeric\"},verification_code:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"mt5Withdrawal\",value:function(){var e={method:\"mt5_withdrawal\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:\"numeric\"},from_mt5:{required:1,type:\"string\"},mt5_withdrawal:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},to_binary:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"newAccountMaltainvest\",value:function(){var e={method:\"new_account_maltainvest\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{accept_risk:{required:1,type:\"numeric\"},account_opening_reason:{type:\"string\"},account_turnover:{type:\"string\"},address_city:{required:1,type:\"string\"},address_line_1:{required:1,type:\"string\"},address_line_2:{type:\"string\"},address_postcode:{type:\"string\"},address_state:{type:\"string\"},affiliate_token:{type:\"string\"},binary_options_trading_experience:{type:\"string\"},binary_options_trading_frequency:{type:\"string\"},cfd_trading_experience:{type:\"string\"},cfd_trading_frequency:{type:\"string\"},citizen:{type:\"string\"},client_type:{type:\"string\"},currency:{type:\"string\"},date_of_birth:{required:1,type:\"string\"},education_level:{required:1,type:\"string\"},employment_industry:{required:1,type:\"string\"},employment_status:{type:\"string\"},estimated_worth:{required:1,type:\"string\"},first_name:{required:1,type:\"string\"},forex_trading_experience:{type:\"string\"},forex_trading_frequency:{type:\"string\"},income_source:{required:1,type:\"string\"},last_name:{required:1,type:\"string\"},net_income:{required:1,type:\"string\"},new_account_maltainvest:{required:1,type:\"numeric\"},non_pep_declaration:{type:\"numeric\"},occupation:{required:1,type:\"string\"},other_instruments_trading_experience:{type:\"string\"},other_instruments_trading_frequency:{type:\"string\"},passthrough:{},phone:{},place_of_birth:{type:\"string\"},req_id:{type:\"numeric\"},residence:{required:1,type:\"string\"},salutation:{required:1,type:\"string\"},secret_answer:{type:\"string\"},secret_question:{type:\"string\"},source_of_wealth:{type:\"string\"},tax_identification_number:{required:1,type:\"string\"},tax_residence:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"newAccountReal\",value:function(){var e={method:\"new_account_real\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_opening_reason:{type:\"string\"},account_turnover:{type:\"string\"},address_city:{type:\"string\"},address_line_1:{type:\"string\"},address_line_2:{type:\"string\"},address_postcode:{type:\"string\"},address_state:{type:\"string\"},affiliate_token:{type:\"string\"},citizen:{},client_type:{type:\"string\"},currency:{type:\"string\"},date_of_birth:{type:\"string\"},first_name:{type:\"string\"},last_name:{type:\"string\"},new_account_real:{required:1,type:\"numeric\"},non_pep_declaration:{type:\"numeric\"},passthrough:{},phone:{},place_of_birth:{type:\"string\"},req_id:{type:\"numeric\"},residence:{type:\"string\"},salutation:{type:\"string\"},secret_answer:{type:\"string\"},secret_question:{type:\"string\"},tax_identification_number:{type:\"string\"},tax_residence:{type:\"string\"}}};return this.processRequest(e)}},{key:\"newAccountVirtual\",value:function(){var e={method:\"new_account_virtual\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{affiliate_token:{type:\"string\"},client_password:{type:\"string\"},date_first_contact:{type:\"string\"},email_consent:{type:\"numeric\"},gclid_url:{type:\"string\"},new_account_virtual:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},residence:{type:\"string\"},signup_device:{type:\"string\"},type:{type:\"string\"},utm_ad_id:{},utm_adgroup_id:{},utm_adrollclk_id:{},utm_campaign:{},utm_campaign_id:{},utm_content:{},utm_fbcl_id:{},utm_gl_client_id:{},utm_medium:{},utm_msclk_id:{},utm_source:{},utm_term:{},verification_code:{type:\"string\"}}};return this.processRequest(e)}},{key:\"newAccountWallet\",value:function(){var e={method:\"new_account_wallet\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{address_city:{type:\"string\"},address_line_1:{type:\"string\"},address_line_2:{type:\"string\"},address_postcode:{type:\"string\"},address_state:{type:\"string\"},currency:{required:1,type:\"string\"},date_of_birth:{type:\"string\"},first_name:{type:\"string\"},last_name:{type:\"string\"},new_account_wallet:{required:1,type:\"numeric\"},non_pep_declaration:{type:\"numeric\"},passthrough:{},payment_method:{required:1,type:\"string\"},phone:{type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"notificationEvent\",value:function(){var e={method:\"notification_event\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{args:{documents:{}},category:{required:1,type:\"string\"},event:{required:1,type:\"string\"},notification_event:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"oauthApps\",value:function(){var e={method:\"oauth_apps\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{oauth_apps:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertCreate\",value:function(){var e={method:\"p2p_advert_create\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:\"numeric\"},contact_info:{type:\"string\"},description:{type:\"string\"},local_currency:{type:\"string\"},max_order_amount:{required:1,type:\"numeric\"},min_order_amount:{required:1,type:\"numeric\"},p2p_advert_create:{required:1,type:\"numeric\"},passthrough:{},payment_info:{type:\"string\"},payment_method:{type:\"string\"},payment_method_ids:{},payment_method_names:{},rate:{required:1,type:\"numeric\"},rate_type:{type:\"string\"},req_id:{type:\"numeric\"},type:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"p2pAdvertInfo\",value:function(){var e={method:\"p2p_advert_info\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{type:\"string\"},p2p_advert_info:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"},use_client_limits:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertList\",value:function(){var e={method:\"p2p_advert_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{advertiser_id:{type:\"string\"},advertiser_name:{type:\"string\"},amount:{type:\"numeric\"},counterparty_type:{type:\"string\"},favourites_only:{type:\"numeric\"},limit:{type:\"numeric\"},local_currency:{type:\"string\"},offset:{type:\"numeric\"},p2p_advert_list:{required:1,type:\"numeric\"},passthrough:{},payment_method:{},req_id:{type:\"numeric\"},sort_by:{type:\"string\"},use_client_limits:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertUpdate\",value:function(){var e={method:\"p2p_advert_update\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contact_info:{type:\"string\"},delete:{type:\"numeric\"},description:{type:\"string\"},id:{required:1,type:\"string\"},is_active:{type:\"numeric\"},local_currency:{type:\"string\"},max_order_amount:{type:\"numeric\"},min_order_amount:{type:\"numeric\"},p2p_advert_update:{required:1,type:\"numeric\"},passthrough:{},payment_info:{type:\"string\"},payment_method_ids:{},payment_method_names:{},rate:{type:\"numeric\"},rate_type:{type:\"string\"},remaining_amount:{type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertiserAdverts\",value:function(){var e={method:\"p2p_advertiser_adverts\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{limit:{type:\"numeric\"},offset:{type:\"numeric\"},p2p_advertiser_adverts:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertiserCreate\",value:function(){var e={method:\"p2p_advertiser_create\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contact_info:{type:\"string\"},default_advert_description:{type:\"string\"},name:{required:1,type:\"string\"},p2p_advertiser_create:{required:1,type:\"numeric\"},passthrough:{},payment_info:{type:\"string\"},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertiserInfo\",value:function(){var e={method:\"p2p_advertiser_info\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{type:\"string\"},p2p_advertiser_info:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertiserPaymentMethods\",value:function(){var e={method:\"p2p_advertiser_payment_methods\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{create:{},delete:{},p2p_advertiser_payment_methods:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},update:{}}};return this.processRequest(e)}},{key:\"p2pAdvertiserRelations\",value:function(){var e={method:\"p2p_advertiser_relations\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{add_blocked:{},add_favourites:{},p2p_advertiser_relations:{required:1,type:\"numeric\"},passthrough:{},remove_blocked:{},remove_favourites:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pAdvertiserUpdate\",value:function(){var e={method:\"p2p_advertiser_update\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contact_info:{type:\"string\"},default_advert_description:{type:\"string\"},is_listed:{type:\"numeric\"},p2p_advertiser_update:{required:1,type:\"numeric\"},passthrough:{},payment_info:{type:\"string\"},req_id:{type:\"numeric\"},show_name:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pChatCreate\",value:function(){var e={method:\"p2p_chat_create\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{order_id:{required:1,type:\"string\"},p2p_chat_create:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderCancel\",value:function(){var e={method:\"p2p_order_cancel\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{required:1,type:\"string\"},p2p_order_cancel:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderConfirm\",value:function(){var e={method:\"p2p_order_confirm\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{required:1,type:\"string\"},p2p_order_confirm:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderCreate\",value:function(){var e={method:\"p2p_order_create\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{advert_id:{required:1,type:\"string\"},amount:{required:1,type:\"numeric\"},contact_info:{type:\"string\"},p2p_order_create:{required:1,type:\"numeric\"},passthrough:{},payment_info:{type:\"string\"},payment_method_ids:{},rate:{type:\"numeric\"},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderDispute\",value:function(){var e={method:\"p2p_order_dispute\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{dispute_reason:{required:1,type:\"string\"},id:{required:1,type:\"string\"},p2p_order_dispute:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderInfo\",value:function(){var e={method:\"p2p_order_info\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{required:1,type:\"string\"},p2p_order_info:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderList\",value:function(){var e={method:\"p2p_order_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{active:{type:\"numeric\"},advert_id:{type:\"string\"},limit:{type:\"numeric\"},offset:{type:\"numeric\"},p2p_order_list:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pOrderReview\",value:function(){var e={method:\"p2p_order_review\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{order_id:{required:1,type:\"string\"},p2p_order_review:{required:1,type:\"numeric\"},passthrough:{},rating:{required:1,type:\"numeric\"},recommended:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pPaymentMethods\",value:function(){var e={method:\"p2p_payment_methods\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{p2p_payment_methods:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"p2pPing\",value:function(){var e={method:\"p2p_ping\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{p2p_ping:{required:1,type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"paymentMethods\",value:function(){var e={method:\"payment_methods\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{country:{type:\"string\"},passthrough:{},payment_methods:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"paymentagentCreate\",value:function(){var e={method:\"paymentagent_create\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{affiliate_id:{type:\"string\"},code_of_conduct_approval:{required:1,type:\"numeric\"},commission_deposit:{required:1,type:\"numeric\"},commission_withdrawal:{required:1,type:\"numeric\"},email:{required:1,type:\"string\"},information:{required:1,type:\"string\"},passthrough:{},payment_agent_name:{required:1,type:\"string\"},paymentagent_create:{required:1,type:\"numeric\"},phone_numbers:{},req_id:{type:\"numeric\"},supported_payment_methods:{required:1},urls:{required:1}}};return this.processRequest(e)}},{key:\"paymentagentDetails\",value:function(){var e={method:\"paymentagent_details\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},paymentagent_details:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"paymentagentList\",value:function(){var e={method:\"paymentagent_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{currency:{type:\"string\"},passthrough:{},paymentagent_list:{required:1,type:\"string\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"paymentagentTransfer\",value:function(){var e={method:\"paymentagent_transfer\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:\"numeric\"},currency:{required:1,type:\"string\"},description:{type:\"string\"},dry_run:{type:\"numeric\"},passthrough:{},paymentagent_transfer:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},transfer_to:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"paymentagentWithdraw\",value:function(){var e={method:\"paymentagent_withdraw\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:\"numeric\"},currency:{required:1,type:\"string\"},description:{type:\"string\"},dry_run:{type:\"numeric\"},passthrough:{},paymentagent_loginid:{required:1,type:\"string\"},paymentagent_withdraw:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},verification_code:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"payoutCurrencies\",value:function(){var e={method:\"payout_currencies\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},payout_currencies:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"ping\",value:function(){var e={method:\"ping\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},ping:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"portfolio\",value:function(){var e={method:\"portfolio\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_type:{},passthrough:{},portfolio:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"profitTable\",value:function(){var e={method:\"profit_table\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_type:{},date_from:{type:\"string\"},date_to:{type:\"string\"},description:{type:\"numeric\"},limit:{type:\"numeric\"},offset:{type:\"numeric\"},passthrough:{},profit_table:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},sort:{type:\"string\"}}};return this.processRequest(e)}},{key:\"proposal\",value:function(){var e={method:\"proposal\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{type:\"numeric\"},barrier:{type:\"string\"},barrier2:{type:\"string\"},barrier_range:{type:\"string\"},basis:{type:\"string\"},cancellation:{type:\"string\"},contract_type:{required:1,type:\"string\"},currency:{required:1,type:\"string\"},date_expiry:{type:\"numeric\"},date_start:{type:\"numeric\"},duration:{type:\"numeric\"},duration_unit:{type:\"string\"},limit_order:{stop_loss:{type:\"numeric\"},take_profit:{type:\"numeric\"}},multiplier:{type:\"numeric\"},passthrough:{},product_type:{type:\"string\"},proposal:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},selected_tick:{type:\"numeric\"},subscribe:{type:\"numeric\"},symbol:{required:1,type:\"string\"},trading_period_start:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"proposalOpenContract\",value:function(){var e={method:\"proposal_open_contract\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_id:{type:\"numeric\"},passthrough:{},proposal_open_contract:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"realityCheck\",value:function(){var e={method:\"reality_check\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},reality_check:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"requestReport\",value:function(){var e={method:\"request_report\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{date_from:{required:1,type:\"numeric\"},date_to:{required:1,type:\"numeric\"},passthrough:{},report_type:{required:1,type:\"string\"},req_id:{type:\"numeric\"},request_report:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"resetPassword\",value:function(){var e={method:\"reset_password\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{date_of_birth:{type:\"string\"},new_password:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},reset_password:{required:1,type:\"numeric\"},verification_code:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"residenceList\",value:function(){var e={method:\"residence_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},residence_list:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"revokeOauthApp\",value:function(){var e={method:\"revoke_oauth_app\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},revoke_oauth_app:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"sell\",value:function(){var e={method:\"sell\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},price:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},sell:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"sellContractForMultipleAccounts\",value:function(){var e={method:\"sell_contract_for_multiple_accounts\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},price:{required:1,type:\"numeric\"},req_id:{type:\"numeric\"},sell_contract_for_multiple_accounts:{required:1,type:\"numeric\"},shortcode:{required:1,type:\"string\"},tokens:{required:1}}};return this.processRequest(e)}},{key:\"sellExpired\",value:function(){var e={method:\"sell_expired\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},sell_expired:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"serviceToken\",value:function(){var e={method:\"service_token\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{country:{type:\"string\"},passthrough:{},referrer:{type:\"string\"},req_id:{type:\"numeric\"},server:{type:\"string\"},service:{required:1},service_token:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"setAccountCurrency\",value:function(){var e={method:\"set_account_currency\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},set_account_currency:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"setFinancialAssessment\",value:function(){var e={method:\"set_financial_assessment\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_turnover:{type:\"string\"},binary_options_trading_experience:{type:\"string\"},binary_options_trading_frequency:{type:\"string\"},cfd_trading_experience:{type:\"string\"},cfd_trading_frequency:{type:\"string\"},education_level:{required:1,type:\"string\"},employment_industry:{required:1,type:\"string\"},employment_status:{type:\"string\"},estimated_worth:{required:1,type:\"string\"},forex_trading_experience:{type:\"string\"},forex_trading_frequency:{type:\"string\"},income_source:{required:1,type:\"string\"},net_income:{required:1,type:\"string\"},occupation:{required:1,type:\"string\"},other_instruments_trading_experience:{type:\"string\"},other_instruments_trading_frequency:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},set_financial_assessment:{required:1,type:\"numeric\"},source_of_wealth:{type:\"string\"}}};return this.processRequest(e)}},{key:\"setSelfExclusion\",value:function(){var e={method:\"set_self_exclusion\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{exclude_until:{},max_30day_deposit:{},max_30day_losses:{},max_30day_turnover:{},max_7day_deposit:{},max_7day_losses:{},max_7day_turnover:{},max_balance:{},max_deposit:{},max_losses:{},max_open_bets:{},max_turnover:{},passthrough:{},req_id:{type:\"numeric\"},session_duration_limit:{},set_self_exclusion:{required:1,type:\"numeric\"},timeout_until:{}}};return this.processRequest(e)}},{key:\"setSettings\",value:function(){var e={method:\"set_settings\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_opening_reason:{type:\"string\"},address_city:{type:\"string\"},address_line_1:{type:\"string\"},address_line_2:{},address_postcode:{type:\"string\"},address_state:{type:\"string\"},allow_copiers:{type:\"numeric\"},citizen:{},date_of_birth:{type:\"string\"},email_consent:{type:\"numeric\"},feature_flag:{wallet:{type:\"numeric\"}},first_name:{type:\"string\"},last_name:{type:\"string\"},non_pep_declaration:{type:\"numeric\"},passthrough:{},phone:{},place_of_birth:{type:\"string\"},preferred_language:{},req_id:{type:\"numeric\"},request_professional_status:{type:\"numeric\"},residence:{},salutation:{type:\"string\"},secret_answer:{type:\"string\"},secret_question:{type:\"string\"},set_settings:{required:1,type:\"numeric\"},tax_identification_number:{type:\"string\"},tax_residence:{type:\"string\"}}};return this.processRequest(e)}},{key:\"statement\",value:function(){var e={method:\"statement\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{action_type:{type:\"string\"},date_from:{type:\"numeric\"},date_to:{type:\"numeric\"},description:{type:\"numeric\"},limit:{type:\"numeric\"},offset:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},statement:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"statesList\",value:function(){var e={method:\"states_list\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},states_list:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"ticks\",value:function(){var e={method:\"ticks\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"},ticks:{required:1}}};return this.processRequest(e)}},{key:\"ticksHistory\",value:function(){var e={method:\"ticks_history\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{adjust_start_time:{type:\"numeric\"},count:{type:\"numeric\"},end:{required:1,type:\"string\"},granularity:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},start:{type:\"numeric\"},style:{type:\"string\"},subscribe:{type:\"numeric\"},ticks_history:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"time\",value:function(){var e={method:\"time\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},time:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tncApproval\",value:function(){var e={method:\"tnc_approval\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{affiliate_coc_agreement:{type:\"numeric\"},passthrough:{},req_id:{type:\"numeric\"},tnc_approval:{required:1,type:\"numeric\"},ukgc_funds_protection:{type:\"numeric\"}}};return this.processRequest(e)}},{key:\"topupVirtual\",value:function(){var e={method:\"topup_virtual\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},topup_virtual:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingDurations\",value:function(){var e={method:\"trading_durations\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{landing_company:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},trading_durations:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformAccounts\",value:function(){var e={method:\"trading_platform_accounts\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},trading_platform_accounts:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformDeposit\",value:function(){var e={method:\"trading_platform_deposit\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{type:\"numeric\"},from_account:{type:\"string\"},passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},to_account:{required:1,type:\"string\"},trading_platform_deposit:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformInvestorPasswordChange\",value:function(){var e={method:\"trading_platform_investor_password_change\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_id:{required:1,type:\"string\"},new_password:{required:1,type:\"string\"},old_password:{required:1,type:\"string\"},passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},trading_platform_investor_password_change:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformInvestorPasswordReset\",value:function(){var e={method:\"trading_platform_investor_password_reset\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_id:{required:1,type:\"string\"},new_password:{required:1,type:\"string\"},passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},trading_platform_investor_password_reset:{required:1,type:\"numeric\"},verification_code:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"tradingPlatformNewAccount\",value:function(){var e={method:\"trading_platform_new_account\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_type:{required:1,type:\"string\"},currency:{type:\"string\"},dry_run:{type:\"numeric\"},market_type:{required:1,type:\"string\"},passthrough:{},password:{required:1,type:\"string\"},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},sub_account_type:{type:\"string\"},trading_platform_new_account:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformPasswordChange\",value:function(){var e={method:\"trading_platform_password_change\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{new_password:{required:1,type:\"string\"},old_password:{type:\"string\"},passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},trading_platform_password_change:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformPasswordReset\",value:function(){var e={method:\"trading_platform_password_reset\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{new_password:{required:1,type:\"string\"},passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},trading_platform_password_reset:{required:1,type:\"numeric\"},verification_code:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"tradingPlatformProductListing\",value:function(){var e={method:\"trading_platform_product_listing\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_id:{},country_code:{required:1,type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},trading_platform_product_listing:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingPlatformWithdrawal\",value:function(){var e={method:\"trading_platform_withdrawal\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:\"numeric\"},from_account:{required:1,type:\"string\"},passthrough:{},platform:{required:1,type:\"string\"},req_id:{type:\"numeric\"},to_account:{required:1,type:\"string\"},trading_platform_withdrawal:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingServers\",value:function(){var e={method:\"trading_servers\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_type:{type:\"string\"},environment:{type:\"string\"},market_type:{type:\"string\"},passthrough:{},platform:{type:\"string\"},req_id:{type:\"numeric\"},trading_servers:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"tradingTimes\",value:function(){var e={method:\"trading_times\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},trading_times:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"transaction\",value:function(){var e={method:\"transaction\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},subscribe:{required:1,type:\"numeric\"},transaction:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"transferBetweenAccounts\",value:function(){var e={method:\"transfer_between_accounts\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_from:{type:\"string\"},account_to:{type:\"string\"},accounts:{type:\"string\"},amount:{type:\"numeric\"},currency:{type:\"string\"},passthrough:{},req_id:{type:\"numeric\"},transfer_between_accounts:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"verifyEmail\",value:function(){var e={method:\"verify_email\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},type:{required:1,type:\"string\"},url_parameters:{affiliate_token:{type:\"string\"},date_first_contact:{type:\"string\"},gclid_url:{type:\"string\"},pa_amount:{type:\"numeric\"},pa_currency:{type:\"string\"},pa_loginid:{type:\"string\"},pa_remarks:{type:\"string\"},redirect_to:{type:\"numeric\"},signup_device:{type:\"string\"},utm_ad_id:{},utm_adgroup_id:{},utm_adrollclk_id:{},utm_campaign:{},utm_campaign_id:{},utm_content:{},utm_fbcl_id:{},utm_gl_client_id:{},utm_medium:{},utm_msclk_id:{},utm_source:{},utm_term:{}},verify_email:{required:1,type:\"string\"}}};return this.processRequest(e)}},{key:\"websiteStatus\",value:function(){var e={method:\"website_status\",needsMethodArg:\"1\",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:\"numeric\"},subscribe:{type:\"numeric\"},website_status:{required:1,type:\"numeric\"}}};return this.processRequest(e)}},{key:\"processRequest\",value:function(e){var r=e.config,n=function(e){var t=e.config,r=e.args,n=e.method,i=e.needsMethodArg,o=r;return i&&!_e(o)&&(o=he({},n,o)),o[n]=o[n]||1,Object.keys(o).forEach((function(e){var r=o[e];e in t&&(\"string\"===t[e].type?o[e]=\"\".concat(r):\"numeric\"===t[e].type?o[e]=parseFloat(r):\"boolean\"===t[e].type&&(o[e]=+r))})),o}(e),i=function(e){var r=e.config,n=e.args;if(!_e(n))return\"Requires an object but a \".concat(t(n),\" is passed.\");var i=[],o=Object.keys(r).filter((function(e){return(r[e]||{}).required&&!(e in n)}));return o.length&&i.push(\"Required parameters missing: \".concat(o.join(\", \"))),Object.keys(n).forEach((function(e){var o=n[e];if(e in r){var s=r[e].type;s&&(me[s](o)||i.push(\"\".concat(s,\" value expected but found \").concat(t(o),\": \").concat(e)))}})),i.length?i.join(\" - \"):\"\"}({config:r,args:n});return i?Promise.reject(i):this.send(n)}}]),e}(),_e=function(e){return e instanceof Object},me={object:_e,numeric:function(e){return!Number.isNaN(1*e)},string:function(e){return\"string\"==typeof e},boolean:function(e){return[!0,!1,0,1].includes(e)}};function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}function be(e){var t=\"function\"==typeof Map?new Map:void 0;return be=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf(\"[native code]\")}catch(t){return\"function\"==typeof e}}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(ve())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&l(i,r.prototype),i}(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},be(e)}function qe(e,t,r){return t=y(t),d(e,we()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}function ke(e){return function(t){function r(t){var n;return s(this,r),(n=qe(this,r)).type=e,n.message=t,n}return f(r,t),c(r,[{key:\"toString\",value:function(){return\"\".concat(this.type,\": \").concat(this.message)}}]),r}(be(Error))}var Ae=function(e){function t(){return s(this,t),qe(this,t,arguments)}return f(t,e),c(t)}(ke(\"APIError\")),xe=function(e){function t(){return s(this,t),qe(this,t,arguments)}return f(t,e),c(t)}(ke(\"ConstructionError\")),Se=r(532),Oe=r.n(Se);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete t.req_id,delete t.passthrough,delete t.subscribe,Oe()(t)}function Me(e,t,r){return t=y(t),d(e,je()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}var Ee=function(e){function t(e,r){var n;if(s(this,t),!e)throw new xe(\"Cache object needs an API to work\");return(n=Me(this,t)).api=e,n.storage=r,n}var r,n,i,u,a;return f(t,e),c(t,[{key:\"send\",value:(a=o(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.has(t);case 2:if(!e.sent){e.next=4;break}return e.abrupt(\"return\",this.get(t));case 4:return e.next=6,this.api.send(t);case 6:return r=e.sent,e.next=9,this.set(t,r);case 9:return e.abrupt(\"return\",r);case 10:case\"end\":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:\"has\",value:(u=o(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.storage.has(Pe(t)));case 1:case\"end\":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:\"get\",value:(i=o(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.storage.get(Pe(t)));case 1:case\"end\":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:\"getByMsgType\",value:(n=o(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.storage.getByMsgType(t));case 1:case\"end\":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:\"set\",value:(r=o(g().mark((function e(t,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.storage.set(Pe(t),r));case 1:case\"end\":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),t}(ge);function Ie(e,t,r){return t=y(t),d(e,Te()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}var Fe=function(e){function t(){var e,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return s(this,t),e=Ie(this,t,[function(e,t){r=e,n=t}]),i(r,n),e.resolveCallback=r,e.rejectCallback=n,e.state=\"pending\",e}return f(t,e),c(t,[{key:\"resolve\",value:function(e){return this.resolveCallback(e),this.state=\"resolved\",this}},{key:\"reject\",value:function(e){return this.rejectCallback(e),this.state=\"rejected\",this}},{key:\"isPending\",value:function(){return\"pending\"===this.state}},{key:\"isRejected\",value:function(){return\"rejected\"===this.state}},{key:\"isResolved\",value:function(){return\"resolved\"===this.state}}],[{key:\"wrap\",value:function(e){if(e instanceof this)return e;var t=new this;return e.then(t.resolve.bind(t),t.reject.bind(t)),t}}]),t}(be(Promise)),Ce=function(){function e(){s(this,e),this.store={by_msg_type:{}}}return c(e,[{key:\"has\",value:function(e){return e in this.store}},{key:\"get\",value:function(e){return this.store[e]}},{key:\"getByMsgType\",value:function(e){return this.store.by_msg_type[e]}},{key:\"set\",value:function(e,t){this.store.by_msg_type[t.msg_type]=t,this.store[e]=t}}]),e}();const Ue=[\"balance\",\"buy\",\"cashier_payments\",\"exchange_rates\",\"p2p_advert_info\",\"p2p_advertiser_create\",\"p2p_advertiser_info\",\"p2p_order_create\",\"p2p_order_info\",\"p2p_order_list\",\"proposal\",\"proposal_open_contract\",\"ticks\",\"ticks_history\",\"transaction\",\"website_status\"];function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le=function(){function e(t){s(this,e),this.api=t,this.sources={},this.subs_id_to_key={},this.key_to_subs_id={},this.buy_key_to_contract_id={},this.subs_per_msg_type=[],this.streams_list=Ue}return c(e,[{key:\"subscribe\",value:function(e){return this.sourceExists(e)?this.getSource(e):this.createNewSource(Ne(Ne({},e),{},{subscribe:1}))}},{key:\"getSource\",value:function(e){var t=De(e);if(t in this.sources)return this.sources[t];if(e.proposal_open_contract&&e.contract_id){var r=Object.values(this.buy_key_to_contract_id).find((function(t){return t.contract_id===e.contract_id}));if(r)return this.sources[r.buy_key]}}},{key:\"sourceExists\",value:function(e){return this.getSource(e)}},{key:\"createNewSource\",value:function(e){var t,r=this,n=De(e),i=this.api.sendAndGetSource(e).pipe((t=function(){n in r.key_to_subs_id&&r.forget(r.key_to_subs_id[n]).then((function(){}),(function(){}))},b((function(e,r){try{e.subscribe(r)}finally{r.add(t)}}))),le());return this.sources[n]=i,this.saveSubsPerMsgType(e,n),i.pipe(oe()).toPromise().then((function(t){e.buy&&(r.buy_key_to_contract_id[n]={contract_id:t.buy.contract_id,buy_key:n}),r.saveSubsId(n,t)}),this.removeKeyOnError(n)),i}},{key:\"forget\",value:function(e){return this.completeSubsByIds(e),this.api.send({forget:e})}},{key:\"forgetAll\",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){(e.subs_per_msg_type[t]||[]).forEach((function(t){return e.completeSubsByKey(t)})),e.subs_per_msg_type[t]=[]})),this.api.send({forget_all:r})}},{key:\"completeSubsByIds\",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){var r=e.subs_id_to_key[t];delete e.subs_id_to_key[t],e.completeSubsByKey(r)}))}},{key:\"saveSubsId\",value:function(e,t){var r=t.subscription;if(!r)return this.completeSubsByKey(e);var n=r.id;n in this.subs_id_to_key||(this.subs_id_to_key[n]=e,this.key_to_subs_id[e]=n)}},{key:\"saveSubsPerMsgType\",value:function(e,t){var r=this.getMsgType(e);r?(this.subs_per_msg_type[r]=this.subs_per_msg_type[r]||[],this.subs_per_msg_type[r].push(t)):this.api.sanityErrors.next(new Ae(\"Subscription type is not found in deriv-api\"))}},{key:\"removeKeyOnError\",value:function(e){var t=this;return function(){return t.completeSubsByKey(e)}}},{key:\"completeSubsByKey\",value:function(e){if(e&&this.sources[e]){var t=this.sources[e];delete this.sources[e];var r=this.key_to_subs_id[e];delete this.subs_id_to_key[r],delete this.key_to_subs_id[e],delete this.buy_key_to_contract_id[e],t.complete()}}},{key:\"getMsgType\",value:function(e){return this.streams_list.find((function(t){return t in e}))}}]),e}();function De(e){return Pe(e)}function Ge(e,t,r){return t=y(t),d(e,$e()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function $e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($e=function(){return!!e})()}var ze=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.storage,i=r.app_id,o=r.connection,u=r.cache,a=void 0===u?new Ce:u,c=r.endpoint,d=void 0===c?\"ws.derivws.com\":c,y=r.lang,l=void 0===y?\"EN\":y,f=r.brand,h=void 0===f?\"\":f,g=r.middleware,_=void 0===g?{}:g,m=r.excluded_request_block,v=void 0===m?[\"website_status\",\"authorize\"]:m;if(s(this,t),(e=Ge(this,t)).events=new de,o)e.connection=o;else{if(!i)throw Error(\"An app_id is required to connect to the API\");e.shouldReconnect=!0,e.connectionArgs={app_id:i,endpointUrl:We(d),lang:l.toUpperCase(),brand:h.toLowerCase()},e.connect()}return e.lang=l,e.reqId=0,e.connected=new Fe,e.sanityErrors=new de,e.middleware=_,e.pendingRequests={},e.expect_response_types={},e.subscription_manager=new Le(p(e)),e.reconnect_timeout=!1,e.keep_alive_interval=!1,e.is_request_blocked=!1,e.excluded_request_block=v,n&&(e.storage=new Ee(p(e),n)),e.cache=new Ee(e.storage?e.storage:p(e),a),e.connectionHandlers(),e}var r,n,i,u;return f(t,e),c(t,[{key:\"blockRequest\",value:function(e){this.is_request_blocked=e}},{key:\"connectionHandlers\",value:function(){this.connection.onopen=this.openHandler.bind(this),this.connection.onclose=this.closeHandler.bind(this),this.connection.onmessage=this.messageHandler.bind(this),this.connection.onerror=this.errorHandler.bind(this)}},{key:\"connect\",value:function(){if(!this.connectionArgs)throw new xe(\"Connection arguments are required to create a connection.\");this.events.next({name:\"connect\"});var e=this.connectionArgs,t=e.endpointUrl,r=e.lang,n=e.app_id,i=e.brand;this.connection=new WebSocket(\"\".concat(t.toString(),\"websockets/v3?app_id=\").concat(n,\"&l=\").concat(r,\"&brand=\").concat(i))}},{key:\"disconnect\",value:function(){this.shouldReconnect=!1,this.connection.close()}},{key:\"isConnectionClosed\",value:function(){return 2===this.connection.readyState||3===this.connection.readyState}},{key:\"sendAndGetSource\",value:function(e){var t=this,r=new de;return e.req_id=e.req_id||++this.reqId,this.pendingRequests[e.req_id]=r,this.connected.then((function(){t.isConnectionClosed()||t.connection.send(JSON.stringify(e))})).catch((function(e){return r.error(e)})),r}},{key:\"send\",value:(u=o(g().mark((function e(){var t,r,n,i,o,s,u,a,c,p=this,d=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=d.length,r=new Array(t),n=0;n<t;n++)r[n]=d[n];if(i=Object.keys(r[0])[0],!this.is_request_blocked||this.excluded_request_block.includes(i)){e.next=4;break}return e.abrupt(\"return\",new Promise((function(){})));case 4:if(!(o=this.callMiddleware(\"sendWillBeCalled\",{args:r}))){e.next=7;break}return e.abrupt(\"return\",o);case 7:if(s=r[0],u=this.callMiddleware(\"requestDataTransformer\",s)||s,this.events.next({name:\"send\",data:u}),this.deleteFromExpectResponse(u),(a=this.sendAndGetSource(u).pipe(oe()).toPromise()).then((function(e){p.cache.set(u,e),p.storage&&p.storage.set(u,e)}),(function(){})),!(c=this.callMiddleware(\"sendIsCalled\",{response_promise:a,args:r}))){e.next=16;break}return e.abrupt(\"return\",c);case 16:return e.abrupt(\"return\",a);case 17:case\"end\":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:\"callMiddleware\",value:function(e,t){if(e in this.middleware)return this.middleware[e](t)}},{key:\"subscribe\",value:function(e){if(this.is_request_blocked)return new de;var t=this.callMiddleware(\"requestDataTransformer\",e)||e;return this.subscription_manager.subscribe(t)}},{key:\"forget\",value:(i=o(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.subscription_manager.forget(t));case 1:case\"end\":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:\"forgetAll\",value:(n=o(g().mark((function e(){var t,r=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",(t=this.subscription_manager).forgetAll.apply(t,r));case 1:case\"end\":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:\"keepAlivePing\",value:function(){this.ping({ping:1}),this.reconnect_timeout=setTimeout(this.reconnect.bind(this),5e3)}},{key:\"pong\",value:function(){this.reconnect_timeout&&(clearTimeout(this.reconnect_timeout),this.reconnect_timeout=!1)}},{key:\"openHandler\",value:function(){this.events.next({name:\"open\"}),this.shouldReconnect&&(this.keep_alive_interval=setInterval(this.keepAlivePing.bind(this),3e4)),1===this.connection.readyState?this.connected.resolve():setTimeout(this.openHandler.bind(this),50)}},{key:\"messageHandler\",value:function(e){if(e.data){var t=JSON.parse(e.data);this.reconnect_timeout&&\"pong\"===t.ping&&this.pong(),this.events.next({name:\"message\",data:t});var r=t.req_id;if(r in this.pendingRequests){var n=this.expect_response_types[t.msg_type];n&&n.isPending()&&n.resolve(t);var i=t.echo_req,o=i&&i.proposal_open_contract&&!i.contract_id;if(t.error&&!o)this.pendingRequests[r].error(t);else if(this.pendingRequests[r].isStopped&&t.subscription){var s=t.subscription.id;this.forget(s)}else this.pendingRequests[r].next(t)}else this.sanityErrors.next(new Ae(\"Extra response\"))}else this.sanityErrors.next(new Ae(\"Something went wrong while receiving the response from API.\"))}},{key:\"closeHandler\",value:function(){this.events.next({name:\"close\"}),this.shouldReconnect&&(this.events.next({name:\"reconnecting\"}),this.reconnect())}},{key:\"reconnect\",value:function(){this.shouldReconnect&&(this.keep_alive_interval&&(clearInterval(this.keep_alive_interval),this.keep_alive_interval=!1),this.pong(),this.connect(),this.connectionHandlers())}},{key:\"errorHandler\",value:function(){this.sanityErrors.next(new Ae(\"Something went wrong while receiving the response from API.\"))}},{key:\"onClose\",value:function(){return this.events.pipe(Z((function(e){return\"close\"===e.name})),le())}},{key:\"onOpen\",value:function(){return this.events.pipe(Z((function(e){return\"open\"===e.name})),le())}},{key:\"onMessage\",value:function(){return this.events.pipe(Z((function(e){return\"message\"===e.name})),le())}},{key:\"expectResponse\",value:(r=o(g().mark((function e(){var t,r,n,i=this,o=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,r=new Array(t),n=0;n<t;n++)r[n]=o[n];if(r.forEach((function(e){var t;e in i.expect_response_types||(i.expect_response_types[e]=(t=i.cache.getByMsgType(e).then((function(t){return!t&&i.storage?i.storage.getByMsgType(e):t})),Fe.wrap(t.then((function(e){return e||new Fe})))))})),1!==r.length){e.next=4;break}return e.abrupt(\"return\",this.expect_response_types[r[0]]);case 4:return e.abrupt(\"return\",Promise.all(r.map((function(e){return i.expect_response_types[e]}))));case 5:case\"end\":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:\"deleteFromExpectResponse\",value:function(e){var t=Object.keys(this.expect_response_types).find((function(t){return t in e}));this.expect_response_types[t]&&!this.expect_response_types[t].isPending()&&delete this.expect_response_types[t]}}]),t}(ge);function We(r){if(\"string\"!=typeof r)throw new xe(\"Endpoint must be a string, passed: \".concat(t(r)));var n,i,o;try{var s=(i=r.match(/((?:\\w*:\\/\\/)*)(.*)/),o=3,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,i,o,s,u=[],a=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return u}}(i,o)||function(t,r){if(t){if(\"string\"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(i,o)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),u=(s[0],s[1]),a=s[2];n=new URL(\"\".concat(\"ws://\"===u?u:\"wss://\").concat(a))}catch(e){throw new xe(\"Invalid URL: \".concat(r))}return n}})(),n.default})()));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkZXJpdi9kZXJpdi1hcGkvZGlzdC9EZXJpdkFQSUJhc2ljLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRlcml2L2Rlcml2LWFwaS9kaXN0L0Rlcml2QVBJQmFzaWMuanM/MmYxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBEZXJpdkFQSUJhc2ljLmpzLkxJQ0VOU0UudHh0ICovXG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkRlcml2QVBJQmFzaWM9dCgpOmUuRGVyaXZBUElCYXNpYz10KCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoKCk9PigoKT0+e3ZhciBlPXs3Njg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3ZhciBuPXIoNjA0KSxpPXIoNTcyKSxvPWkobihcIlN0cmluZy5wcm90b3R5cGUuaW5kZXhPZlwiKSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bihlLCEhdCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgciYmbyhlLFwiLnByb3RvdHlwZS5cIik+LTE/aShyKTpyfX0sNTcyOihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDI2OCksaT1yKDYwNCksbz1yKDM5Mikscz1yKDU1NiksdT1pKFwiJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSVcIiksYT1pKFwiJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJVwiKSxjPWkoXCIlUmVmbGVjdC5hcHBseSVcIiwhMCl8fG4uY2FsbChhLHUpLHA9aShcIiVPYmplY3QuZGVmaW5lUHJvcGVydHklXCIsITApLGQ9aShcIiVNYXRoLm1heCVcIik7aWYocCl0cnl7cCh7fSxcImFcIix7dmFsdWU6MX0pfWNhdGNoKGUpe3A9bnVsbH1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgcyhcImEgZnVuY3Rpb24gaXMgcmVxdWlyZWRcIik7dmFyIHQ9YyhuLGEsYXJndW1lbnRzKTtyZXR1cm4gbyh0LDErZCgwLGUubGVuZ3RoLShhcmd1bWVudHMubGVuZ3RoLTEpKSwhMCl9O3ZhciB5PWZ1bmN0aW9uKCl7cmV0dXJuIGMobix1LGFyZ3VtZW50cyl9O3A/cChlLmV4cG9ydHMsXCJhcHBseVwiLHt2YWx1ZTp5fSk6ZS5leHBvcnRzLmFwcGx5PXl9LDQ1NjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxODgpKCksaT1yKDYwNCksbz1uJiZpKFwiJU9iamVjdC5kZWZpbmVQcm9wZXJ0eSVcIiwhMCk7aWYobyl0cnl7byh7fSxcImFcIix7dmFsdWU6MX0pfWNhdGNoKGUpe289ITF9dmFyIHM9cig2NjgpLHU9cig1NTYpLGE9cig4NzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyB1KFwiYG9iamAgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbmBcIik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJlwic3ltYm9sXCIhPXR5cGVvZiB0KXRocm93IG5ldyB1KFwiYHByb3BlcnR5YCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sYFwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjMmJlwiYm9vbGVhblwiIT10eXBlb2YgYXJndW1lbnRzWzNdJiZudWxsIT09YXJndW1lbnRzWzNdKXRocm93IG5ldyB1KFwiYG5vbkVudW1lcmFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbFwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjQmJlwiYm9vbGVhblwiIT10eXBlb2YgYXJndW1lbnRzWzRdJiZudWxsIT09YXJndW1lbnRzWzRdKXRocm93IG5ldyB1KFwiYG5vbldyaXRhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGxcIik7aWYoYXJndW1lbnRzLmxlbmd0aD41JiZcImJvb2xlYW5cIiE9dHlwZW9mIGFyZ3VtZW50c1s1XSYmbnVsbCE9PWFyZ3VtZW50c1s1XSl0aHJvdyBuZXcgdShcImBub25Db25maWd1cmFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbFwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjYmJlwiYm9vbGVhblwiIT10eXBlb2YgYXJndW1lbnRzWzZdKXRocm93IG5ldyB1KFwiYGxvb3NlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuXCIpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106bnVsbCxpPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06bnVsbCxjPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06bnVsbCxwPWFyZ3VtZW50cy5sZW5ndGg+NiYmYXJndW1lbnRzWzZdLGQ9ISFhJiZhKGUsdCk7aWYobylvKGUsdCx7Y29uZmlndXJhYmxlOm51bGw9PT1jJiZkP2QuY29uZmlndXJhYmxlOiFjLGVudW1lcmFibGU6bnVsbD09PW4mJmQ/ZC5lbnVtZXJhYmxlOiFuLHZhbHVlOnIsd3JpdGFibGU6bnVsbD09PWkmJmQ/ZC53cml0YWJsZTohaX0pO2Vsc2V7aWYoIXAmJihufHxpfHxjKSl0aHJvdyBuZXcgcyhcIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBkZWZpbmluZyBhIHByb3BlcnR5IGFzIG5vbi1jb25maWd1cmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWVudW1lcmFibGUuXCIpO2VbdF09cn19fSw1NzY6ZT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1FdmFsRXJyb3J9LDc3MjplPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPUVycm9yfSwzNjA6ZT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1SYW5nZUVycm9yfSwzODA6ZT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1SZWZlcmVuY2VFcnJvcn0sNjY4OmU9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9U3ludGF4RXJyb3J9LDU1NjplPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVR5cGVFcnJvcn0sNTY4OmU9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9VVJJRXJyb3J9LDg0MDplPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxyPU1hdGgubWF4LG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bis9MSlyW25dPWVbbl07Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKz0xKXJbaStlLmxlbmd0aF09dFtpXTtyZXR1cm4gcn07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaXx8XCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT09dC5hcHBseShpKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcIitpKTtmb3IodmFyIG8scz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxuPTEsaT0wO248ZS5sZW5ndGg7bis9MSxpKz0xKXJbaV09ZVtuXTtyZXR1cm4gcn0oYXJndW1lbnRzKSx1PXIoMCxpLmxlbmd0aC1zLmxlbmd0aCksYT1bXSxjPTA7Yzx1O2MrKylhW2NdPVwiJFwiK2M7aWYobz1GdW5jdGlvbihcImJpbmRlclwiLFwicmV0dXJuIGZ1bmN0aW9uIChcIitmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1cIlwiLG49MDtuPGUubGVuZ3RoO24rPTEpcis9ZVtuXSxuKzE8ZS5sZW5ndGgmJihyKz1cIixcIik7cmV0dXJuIHJ9KGEpK1wiKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH1cIikoKGZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIG8pe3ZhciB0PWkuYXBwbHkodGhpcyxuKHMsYXJndW1lbnRzKSk7cmV0dXJuIE9iamVjdCh0KT09PXQ/dDp0aGlzfXJldHVybiBpLmFwcGx5KGUsbihzLGFyZ3VtZW50cykpfSkpLGkucHJvdG90eXBlKXt2YXIgcD1mdW5jdGlvbigpe307cC5wcm90b3R5cGU9aS5wcm90b3R5cGUsby5wcm90b3R5cGU9bmV3IHAscC5wcm90b3R5cGU9bnVsbH1yZXR1cm4gb319LDI2ODooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig4NDApO2UuZXhwb3J0cz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8bn0sNjA0OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbixpPXIoNzcyKSxvPXIoNTc2KSxzPXIoMzYwKSx1PXIoMzgwKSxhPXIoNjY4KSxjPXIoNTU2KSxwPXIoNTY4KSxkPUZ1bmN0aW9uLHk9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkKCdcInVzZSBzdHJpY3RcIjsgcmV0dXJuICgnK2UrXCIpLmNvbnN0cnVjdG9yO1wiKSgpfWNhdGNoKGUpe319LGw9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtpZihsKXRyeXtsKHt9LFwiXCIpfWNhdGNoKGUpe2w9bnVsbH12YXIgZj1mdW5jdGlvbigpe3Rocm93IG5ldyBjfSxoPWw/ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGZ9Y2F0Y2goZSl7dHJ5e3JldHVybiBsKGFyZ3VtZW50cyxcImNhbGxlZVwiKS5nZXR9Y2F0Y2goZSl7cmV0dXJuIGZ9fX0oKTpmLGc9cigzMDgpKCksXz1yKDYwOCkoKSxtPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8KF8/ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffTpudWxsKSx2PXt9LGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJm0/bShVaW50OEFycmF5KTpuLHE9e19fcHJvdG9fXzpudWxsLFwiJUFnZ3JlZ2F0ZUVycm9yJVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBBZ2dyZWdhdGVFcnJvcj9uOkFnZ3JlZ2F0ZUVycm9yLFwiJUFycmF5JVwiOkFycmF5LFwiJUFycmF5QnVmZmVyJVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcj9uOkFycmF5QnVmZmVyLFwiJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlXCI6ZyYmbT9tKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk6bixcIiVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlXCI6bixcIiVBc3luY0Z1bmN0aW9uJVwiOnYsXCIlQXN5bmNHZW5lcmF0b3IlXCI6dixcIiVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJVwiOnYsXCIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSVcIjp2LFwiJUF0b21pY3MlXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIEF0b21pY3M/bjpBdG9taWNzLFwiJUJpZ0ludCVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgQmlnSW50P246QmlnSW50LFwiJUJpZ0ludDY0QXJyYXklXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIEJpZ0ludDY0QXJyYXk/bjpCaWdJbnQ2NEFycmF5LFwiJUJpZ1VpbnQ2NEFycmF5JVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBCaWdVaW50NjRBcnJheT9uOkJpZ1VpbnQ2NEFycmF5LFwiJUJvb2xlYW4lXCI6Qm9vbGVhbixcIiVEYXRhVmlldyVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgRGF0YVZpZXc/bjpEYXRhVmlldyxcIiVEYXRlJVwiOkRhdGUsXCIlZGVjb2RlVVJJJVwiOmRlY29kZVVSSSxcIiVkZWNvZGVVUklDb21wb25lbnQlXCI6ZGVjb2RlVVJJQ29tcG9uZW50LFwiJWVuY29kZVVSSSVcIjplbmNvZGVVUkksXCIlZW5jb2RlVVJJQ29tcG9uZW50JVwiOmVuY29kZVVSSUNvbXBvbmVudCxcIiVFcnJvciVcIjppLFwiJWV2YWwlXCI6ZXZhbCxcIiVFdmFsRXJyb3IlXCI6byxcIiVGbG9hdDMyQXJyYXklXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIEZsb2F0MzJBcnJheT9uOkZsb2F0MzJBcnJheSxcIiVGbG9hdDY0QXJyYXklXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIEZsb2F0NjRBcnJheT9uOkZsb2F0NjRBcnJheSxcIiVGaW5hbGl6YXRpb25SZWdpc3RyeSVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnk/bjpGaW5hbGl6YXRpb25SZWdpc3RyeSxcIiVGdW5jdGlvbiVcIjpkLFwiJUdlbmVyYXRvckZ1bmN0aW9uJVwiOnYsXCIlSW50OEFycmF5JVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBJbnQ4QXJyYXk/bjpJbnQ4QXJyYXksXCIlSW50MTZBcnJheSVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgSW50MTZBcnJheT9uOkludDE2QXJyYXksXCIlSW50MzJBcnJheSVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgSW50MzJBcnJheT9uOkludDMyQXJyYXksXCIlaXNGaW5pdGUlXCI6aXNGaW5pdGUsXCIlaXNOYU4lXCI6aXNOYU4sXCIlSXRlcmF0b3JQcm90b3R5cGUlXCI6ZyYmbT9tKG0oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSk6bixcIiVKU09OJVwiOlwib2JqZWN0XCI9PXR5cGVvZiBKU09OP0pTT046bixcIiVNYXAlXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIE1hcD9uOk1hcCxcIiVNYXBJdGVyYXRvclByb3RvdHlwZSVcIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgTWFwJiZnJiZtP20oKG5ldyBNYXApW1N5bWJvbC5pdGVyYXRvcl0oKSk6bixcIiVNYXRoJVwiOk1hdGgsXCIlTnVtYmVyJVwiOk51bWJlcixcIiVPYmplY3QlXCI6T2JqZWN0LFwiJXBhcnNlRmxvYXQlXCI6cGFyc2VGbG9hdCxcIiVwYXJzZUludCVcIjpwYXJzZUludCxcIiVQcm9taXNlJVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBQcm9taXNlP246UHJvbWlzZSxcIiVQcm94eSVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgUHJveHk/bjpQcm94eSxcIiVSYW5nZUVycm9yJVwiOnMsXCIlUmVmZXJlbmNlRXJyb3IlXCI6dSxcIiVSZWZsZWN0JVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0P246UmVmbGVjdCxcIiVSZWdFeHAlXCI6UmVnRXhwLFwiJVNldCVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgU2V0P246U2V0LFwiJVNldEl0ZXJhdG9yUHJvdG90eXBlJVwiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQmJmcmJm0/bSgobmV3IFNldClbU3ltYm9sLml0ZXJhdG9yXSgpKTpuLFwiJVNoYXJlZEFycmF5QnVmZmVyJVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcj9uOlNoYXJlZEFycmF5QnVmZmVyLFwiJVN0cmluZyVcIjpTdHJpbmcsXCIlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlXCI6ZyYmbT9tKFwiXCJbU3ltYm9sLml0ZXJhdG9yXSgpKTpuLFwiJVN5bWJvbCVcIjpnP1N5bWJvbDpuLFwiJVN5bnRheEVycm9yJVwiOmEsXCIlVGhyb3dUeXBlRXJyb3IlXCI6aCxcIiVUeXBlZEFycmF5JVwiOmIsXCIlVHlwZUVycm9yJVwiOmMsXCIlVWludDhBcnJheSVcIjpcInVuZGVmaW5lZFwiPT10eXBlb2YgVWludDhBcnJheT9uOlVpbnQ4QXJyYXksXCIlVWludDhDbGFtcGVkQXJyYXklXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P246VWludDhDbGFtcGVkQXJyYXksXCIlVWludDE2QXJyYXklXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQxNkFycmF5P246VWludDE2QXJyYXksXCIlVWludDMyQXJyYXklXCI6XCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQzMkFycmF5P246VWludDMyQXJyYXksXCIlVVJJRXJyb3IlXCI6cCxcIiVXZWFrTWFwJVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBXZWFrTWFwP246V2Vha01hcCxcIiVXZWFrUmVmJVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBXZWFrUmVmP246V2Vha1JlZixcIiVXZWFrU2V0JVwiOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBXZWFrU2V0P246V2Vha1NldH07aWYobSl0cnl7bnVsbC5lcnJvcn1jYXRjaChlKXt2YXIgdz1tKG0oZSkpO3FbXCIlRXJyb3IucHJvdG90eXBlJVwiXT13fXZhciBrPWZ1bmN0aW9uIGUodCl7dmFyIHI7aWYoXCIlQXN5bmNGdW5jdGlvbiVcIj09PXQpcj15KFwiYXN5bmMgZnVuY3Rpb24gKCkge31cIik7ZWxzZSBpZihcIiVHZW5lcmF0b3JGdW5jdGlvbiVcIj09PXQpcj15KFwiZnVuY3Rpb24qICgpIHt9XCIpO2Vsc2UgaWYoXCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiVcIj09PXQpcj15KFwiYXN5bmMgZnVuY3Rpb24qICgpIHt9XCIpO2Vsc2UgaWYoXCIlQXN5bmNHZW5lcmF0b3IlXCI9PT10KXt2YXIgbj1lKFwiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lXCIpO24mJihyPW4ucHJvdG90eXBlKX1lbHNlIGlmKFwiJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlXCI9PT10KXt2YXIgaT1lKFwiJUFzeW5jR2VuZXJhdG9yJVwiKTtpJiZtJiYocj1tKGkucHJvdG90eXBlKSl9cmV0dXJuIHFbdF09cixyfSxBPXtfX3Byb3RvX186bnVsbCxcIiVBcnJheUJ1ZmZlclByb3RvdHlwZSVcIjpbXCJBcnJheUJ1ZmZlclwiLFwicHJvdG90eXBlXCJdLFwiJUFycmF5UHJvdG90eXBlJVwiOltcIkFycmF5XCIsXCJwcm90b3R5cGVcIl0sXCIlQXJyYXlQcm90b19lbnRyaWVzJVwiOltcIkFycmF5XCIsXCJwcm90b3R5cGVcIixcImVudHJpZXNcIl0sXCIlQXJyYXlQcm90b19mb3JFYWNoJVwiOltcIkFycmF5XCIsXCJwcm90b3R5cGVcIixcImZvckVhY2hcIl0sXCIlQXJyYXlQcm90b19rZXlzJVwiOltcIkFycmF5XCIsXCJwcm90b3R5cGVcIixcImtleXNcIl0sXCIlQXJyYXlQcm90b192YWx1ZXMlXCI6W1wiQXJyYXlcIixcInByb3RvdHlwZVwiLFwidmFsdWVzXCJdLFwiJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlXCI6W1wiQXN5bmNGdW5jdGlvblwiLFwicHJvdG90eXBlXCJdLFwiJUFzeW5jR2VuZXJhdG9yJVwiOltcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIixcInByb3RvdHlwZVwiXSxcIiVBc3luY0dlbmVyYXRvclByb3RvdHlwZSVcIjpbXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCIsXCJwcm90b3R5cGVcIixcInByb3RvdHlwZVwiXSxcIiVCb29sZWFuUHJvdG90eXBlJVwiOltcIkJvb2xlYW5cIixcInByb3RvdHlwZVwiXSxcIiVEYXRhVmlld1Byb3RvdHlwZSVcIjpbXCJEYXRhVmlld1wiLFwicHJvdG90eXBlXCJdLFwiJURhdGVQcm90b3R5cGUlXCI6W1wiRGF0ZVwiLFwicHJvdG90eXBlXCJdLFwiJUVycm9yUHJvdG90eXBlJVwiOltcIkVycm9yXCIsXCJwcm90b3R5cGVcIl0sXCIlRXZhbEVycm9yUHJvdG90eXBlJVwiOltcIkV2YWxFcnJvclwiLFwicHJvdG90eXBlXCJdLFwiJUZsb2F0MzJBcnJheVByb3RvdHlwZSVcIjpbXCJGbG9hdDMyQXJyYXlcIixcInByb3RvdHlwZVwiXSxcIiVGbG9hdDY0QXJyYXlQcm90b3R5cGUlXCI6W1wiRmxvYXQ2NEFycmF5XCIsXCJwcm90b3R5cGVcIl0sXCIlRnVuY3Rpb25Qcm90b3R5cGUlXCI6W1wiRnVuY3Rpb25cIixcInByb3RvdHlwZVwiXSxcIiVHZW5lcmF0b3IlXCI6W1wiR2VuZXJhdG9yRnVuY3Rpb25cIixcInByb3RvdHlwZVwiXSxcIiVHZW5lcmF0b3JQcm90b3R5cGUlXCI6W1wiR2VuZXJhdG9yRnVuY3Rpb25cIixcInByb3RvdHlwZVwiLFwicHJvdG90eXBlXCJdLFwiJUludDhBcnJheVByb3RvdHlwZSVcIjpbXCJJbnQ4QXJyYXlcIixcInByb3RvdHlwZVwiXSxcIiVJbnQxNkFycmF5UHJvdG90eXBlJVwiOltcIkludDE2QXJyYXlcIixcInByb3RvdHlwZVwiXSxcIiVJbnQzMkFycmF5UHJvdG90eXBlJVwiOltcIkludDMyQXJyYXlcIixcInByb3RvdHlwZVwiXSxcIiVKU09OUGFyc2UlXCI6W1wiSlNPTlwiLFwicGFyc2VcIl0sXCIlSlNPTlN0cmluZ2lmeSVcIjpbXCJKU09OXCIsXCJzdHJpbmdpZnlcIl0sXCIlTWFwUHJvdG90eXBlJVwiOltcIk1hcFwiLFwicHJvdG90eXBlXCJdLFwiJU51bWJlclByb3RvdHlwZSVcIjpbXCJOdW1iZXJcIixcInByb3RvdHlwZVwiXSxcIiVPYmplY3RQcm90b3R5cGUlXCI6W1wiT2JqZWN0XCIsXCJwcm90b3R5cGVcIl0sXCIlT2JqUHJvdG9fdG9TdHJpbmclXCI6W1wiT2JqZWN0XCIsXCJwcm90b3R5cGVcIixcInRvU3RyaW5nXCJdLFwiJU9ialByb3RvX3ZhbHVlT2YlXCI6W1wiT2JqZWN0XCIsXCJwcm90b3R5cGVcIixcInZhbHVlT2ZcIl0sXCIlUHJvbWlzZVByb3RvdHlwZSVcIjpbXCJQcm9taXNlXCIsXCJwcm90b3R5cGVcIl0sXCIlUHJvbWlzZVByb3RvX3RoZW4lXCI6W1wiUHJvbWlzZVwiLFwicHJvdG90eXBlXCIsXCJ0aGVuXCJdLFwiJVByb21pc2VfYWxsJVwiOltcIlByb21pc2VcIixcImFsbFwiXSxcIiVQcm9taXNlX3JlamVjdCVcIjpbXCJQcm9taXNlXCIsXCJyZWplY3RcIl0sXCIlUHJvbWlzZV9yZXNvbHZlJVwiOltcIlByb21pc2VcIixcInJlc29sdmVcIl0sXCIlUmFuZ2VFcnJvclByb3RvdHlwZSVcIjpbXCJSYW5nZUVycm9yXCIsXCJwcm90b3R5cGVcIl0sXCIlUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlXCI6W1wiUmVmZXJlbmNlRXJyb3JcIixcInByb3RvdHlwZVwiXSxcIiVSZWdFeHBQcm90b3R5cGUlXCI6W1wiUmVnRXhwXCIsXCJwcm90b3R5cGVcIl0sXCIlU2V0UHJvdG90eXBlJVwiOltcIlNldFwiLFwicHJvdG90eXBlXCJdLFwiJVNoYXJlZEFycmF5QnVmZmVyUHJvdG90eXBlJVwiOltcIlNoYXJlZEFycmF5QnVmZmVyXCIsXCJwcm90b3R5cGVcIl0sXCIlU3RyaW5nUHJvdG90eXBlJVwiOltcIlN0cmluZ1wiLFwicHJvdG90eXBlXCJdLFwiJVN5bWJvbFByb3RvdHlwZSVcIjpbXCJTeW1ib2xcIixcInByb3RvdHlwZVwiXSxcIiVTeW50YXhFcnJvclByb3RvdHlwZSVcIjpbXCJTeW50YXhFcnJvclwiLFwicHJvdG90eXBlXCJdLFwiJVR5cGVkQXJyYXlQcm90b3R5cGUlXCI6W1wiVHlwZWRBcnJheVwiLFwicHJvdG90eXBlXCJdLFwiJVR5cGVFcnJvclByb3RvdHlwZSVcIjpbXCJUeXBlRXJyb3JcIixcInByb3RvdHlwZVwiXSxcIiVVaW50OEFycmF5UHJvdG90eXBlJVwiOltcIlVpbnQ4QXJyYXlcIixcInByb3RvdHlwZVwiXSxcIiVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSVcIjpbXCJVaW50OENsYW1wZWRBcnJheVwiLFwicHJvdG90eXBlXCJdLFwiJVVpbnQxNkFycmF5UHJvdG90eXBlJVwiOltcIlVpbnQxNkFycmF5XCIsXCJwcm90b3R5cGVcIl0sXCIlVWludDMyQXJyYXlQcm90b3R5cGUlXCI6W1wiVWludDMyQXJyYXlcIixcInByb3RvdHlwZVwiXSxcIiVVUklFcnJvclByb3RvdHlwZSVcIjpbXCJVUklFcnJvclwiLFwicHJvdG90eXBlXCJdLFwiJVdlYWtNYXBQcm90b3R5cGUlXCI6W1wiV2Vha01hcFwiLFwicHJvdG90eXBlXCJdLFwiJVdlYWtTZXRQcm90b3R5cGUlXCI6W1wiV2Vha1NldFwiLFwicHJvdG90eXBlXCJdfSx4PXIoMjY4KSxTPXIoMTc2KSxPPXguY2FsbChGdW5jdGlvbi5jYWxsLEFycmF5LnByb3RvdHlwZS5jb25jYXQpLFI9eC5jYWxsKEZ1bmN0aW9uLmFwcGx5LEFycmF5LnByb3RvdHlwZS5zcGxpY2UpLFA9eC5jYWxsKEZ1bmN0aW9uLmNhbGwsU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKSxNPXguY2FsbChGdW5jdGlvbi5jYWxsLFN0cmluZy5wcm90b3R5cGUuc2xpY2UpLGo9eC5jYWxsKEZ1bmN0aW9uLmNhbGwsUmVnRXhwLnByb3RvdHlwZS5leGVjKSxFPS9bXiUuW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JSQpKS9nLEk9L1xcXFwoXFxcXCk/L2csVD1mdW5jdGlvbihlLHQpe3ZhciByLG49ZTtpZihTKEEsbikmJihuPVwiJVwiKyhyPUFbbl0pWzBdK1wiJVwiKSxTKHEsbikpe3ZhciBpPXFbbl07aWYoaT09PXYmJihpPWsobikpLHZvaWQgMD09PWkmJiF0KXRocm93IG5ldyBjKFwiaW50cmluc2ljIFwiK2UrXCIgZXhpc3RzLCBidXQgaXMgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGZpbGUgYW4gaXNzdWUhXCIpO3JldHVybnthbGlhczpyLG5hbWU6bix2YWx1ZTppfX10aHJvdyBuZXcgYShcImludHJpbnNpYyBcIitlK1wiIGRvZXMgbm90IGV4aXN0IVwiKX07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgYyhcImludHJpbnNpYyBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSYmXCJib29sZWFuXCIhPXR5cGVvZiB0KXRocm93IG5ldyBjKCdcImFsbG93TWlzc2luZ1wiIGFyZ3VtZW50IG11c3QgYmUgYSBib29sZWFuJyk7aWYobnVsbD09PWooL14lP1teJV0qJT8kLyxlKSl0aHJvdyBuZXcgYShcImAlYCBtYXkgbm90IGJlIHByZXNlbnQgYW55d2hlcmUgYnV0IGF0IHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiB0aGUgaW50cmluc2ljIG5hbWVcIik7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9TShlLDAsMSkscj1NKGUsLTEpO2lmKFwiJVwiPT09dCYmXCIlXCIhPT1yKXRocm93IG5ldyBhKFwiaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBjbG9zaW5nIGAlYFwiKTtpZihcIiVcIj09PXImJlwiJVwiIT09dCl0aHJvdyBuZXcgYShcImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgb3BlbmluZyBgJWBcIik7dmFyIG49W107cmV0dXJuIFAoZSxFLChmdW5jdGlvbihlLHQscixpKXtuW24ubGVuZ3RoXT1yP1AoaSxJLFwiJDFcIik6dHx8ZX0pKSxufShlKSxuPXIubGVuZ3RoPjA/clswXTpcIlwiLGk9VChcIiVcIituK1wiJVwiLHQpLG89aS5uYW1lLHM9aS52YWx1ZSx1PSExLHA9aS5hbGlhcztwJiYobj1wWzBdLFIocixPKFswLDFdLHApKSk7Zm9yKHZhciBkPTEseT0hMDtkPHIubGVuZ3RoO2QrPTEpe3ZhciBmPXJbZF0saD1NKGYsMCwxKSxnPU0oZiwtMSk7aWYoKCdcIic9PT1ofHxcIidcIj09PWh8fFwiYFwiPT09aHx8J1wiJz09PWd8fFwiJ1wiPT09Z3x8XCJgXCI9PT1nKSYmaCE9PWcpdGhyb3cgbmV3IGEoXCJwcm9wZXJ0eSBuYW1lcyB3aXRoIHF1b3RlcyBtdXN0IGhhdmUgbWF0Y2hpbmcgcXVvdGVzXCIpO2lmKFwiY29uc3RydWN0b3JcIiE9PWYmJnl8fCh1PSEwKSxTKHEsbz1cIiVcIisobis9XCIuXCIrZikrXCIlXCIpKXM9cVtvXTtlbHNlIGlmKG51bGwhPXMpe2lmKCEoZiBpbiBzKSl7aWYoIXQpdGhyb3cgbmV3IGMoXCJiYXNlIGludHJpbnNpYyBmb3IgXCIrZStcIiBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS5cIik7cmV0dXJufWlmKGwmJmQrMT49ci5sZW5ndGgpe3ZhciBfPWwocyxmKTtzPSh5PSEhXykmJlwiZ2V0XCJpbiBfJiYhKFwib3JpZ2luYWxWYWx1ZVwiaW4gXy5nZXQpP18uZ2V0OnNbZl19ZWxzZSB5PVMocyxmKSxzPXNbZl07eSYmIXUmJihxW29dPXMpfX1yZXR1cm4gc319LDg3MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig2MDQpKFwiJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlXCIsITApO2lmKG4pdHJ5e24oW10sXCJsZW5ndGhcIil9Y2F0Y2goZSl7bj1udWxsfWUuZXhwb3J0cz1ufSwxODg6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3ZhciBuPXIoNjA0KShcIiVPYmplY3QuZGVmaW5lUHJvcGVydHklXCIsITApLGk9ZnVuY3Rpb24oKXtpZihuKXRyeXtyZXR1cm4gbih7fSxcImFcIix7dmFsdWU6MX0pLCEwfWNhdGNoKGUpe3JldHVybiExfXJldHVybiExfTtpLmhhc0FycmF5TGVuZ3RoRGVmaW5lQnVnPWZ1bmN0aW9uKCl7aWYoIWkoKSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIDEhPT1uKFtdLFwibGVuZ3RoXCIse3ZhbHVlOjF9KS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITB9fSxlLmV4cG9ydHM9aX0sNjA4OmU9PntcInVzZSBzdHJpY3RcIjt2YXIgdD17Zm9vOnt9fSxyPU9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOnR9LmZvbz09PXQuZm9vJiYhKHtfX3Byb3RvX186bnVsbH1pbnN0YW5jZW9mIHIpfX0sMzA4OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wsaT1yKDk2OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgbihcImZvb1wiKSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbChcImJhclwiKSYmaSgpfX0sOTY4OmU9PntcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBTeW1ib2x8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpcmV0dXJuITE7aWYoXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcilyZXR1cm4hMDt2YXIgZT17fSx0PVN5bWJvbChcInRlc3RcIikscj1PYmplY3QodCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuITE7aWYoXCJbb2JqZWN0IFN5bWJvbF1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4hMTtpZihcIltvYmplY3QgU3ltYm9sXVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpKXJldHVybiExO2Zvcih0IGluIGVbdF09NDIsZSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3Qua2V5cyYmMCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmMCE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2lmKDEhPT1uLmxlbmd0aHx8blswXSE9PXQpcmV0dXJuITE7aWYoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHQpKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTtpZig0MiE9PWkudmFsdWV8fCEwIT09aS5lbnVtZXJhYmxlKXJldHVybiExfXJldHVybiEwfX0sMTc2OihlLHQscik9PntcInVzZSBzdHJpY3RcIjt2YXIgbj1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbz1yKDI2OCk7ZS5leHBvcnRzPW8uY2FsbChuLGkpfSw2MDA6ZT0+e3ZhciB0PXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PXQuY2FsbChlKX19LDUzMjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBKU09OP0pTT046cigwKSkuc3RyaW5naWZ5LGk9cig2MDApLG89cig1Nikscz1yKDU3MiksdT1yKDc2OCksYT11KFwiQXJyYXkucHJvdG90eXBlLmpvaW5cIiksYz11KFwiQXJyYXkucHJvdG90eXBlLnB1c2hcIikscD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1cIlwiLG49MDtuPGU7bis9MSlyKz10O3JldHVybiByfSxkPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcn07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLHI9dCYmdC5zcGFjZXx8XCJcIjtcIm51bWJlclwiPT10eXBlb2YgciYmKHI9cChyLFwiIFwiKSk7dmFyIHU9ISF0JiZcImJvb2xlYW5cIj09dHlwZW9mIHQuY3ljbGVzJiZ0LmN5Y2xlcyx5PXQmJnQucmVwbGFjZXI/cyh0LnJlcGxhY2VyKTpkLGw9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90OnQmJnQuY21wLGY9bCYmZnVuY3Rpb24oZSl7dmFyIHQ9bC5sZW5ndGg+MiYmZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19O3JldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBsKHtrZXk6cix2YWx1ZTplW3JdfSx7a2V5Om4sdmFsdWU6ZVtuXX0sdD97X19wcm90b19fOm51bGwsZ2V0OnR9OnZvaWQgMCl9fSxoPVtdO3JldHVybiBmdW5jdGlvbiBlKHQscyxkLGwpe3ZhciBnPXI/XCJcXG5cIitwKGwscik6XCJcIixfPXI/XCI6IFwiOlwiOlwiO2lmKGQmJmQudG9KU09OJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLnRvSlNPTiYmKGQ9ZC50b0pTT04oKSksdm9pZCAwIT09KGQ9eSh0LHMsZCkpKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZHx8bnVsbD09PWQpcmV0dXJuIG4oZCk7aWYoaShkKSl7Zm9yKHZhciBtPVtdLHY9MDt2PGQubGVuZ3RoO3YrKyl7dmFyIGI9ZShkLHYsZFt2XSxsKzEpfHxuKG51bGwpO2MobSxnK3IrYil9cmV0dXJuXCJbXCIrYShtLFwiLFwiKStnK1wiXVwifWlmKC0xIT09aC5pbmRleE9mKGQpKXtpZih1KXJldHVybiBuKFwiX19jeWNsZV9fXCIpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZSB0byBKU09OXCIpfWMoaCxkKTt2YXIgcT1vKGQpLnNvcnQoZiYmZihkKSk7Zm9yKG09W10sdj0wO3Y8cS5sZW5ndGg7disrKXt2YXIgdz1lKGQscz1xW3ZdLGRbc10sbCsxKTtpZih3KXt2YXIgaz1uKHMpK18rdztjKG0sZytyK2spfX1yZXR1cm4gaC5zcGxpY2UoaC5pbmRleE9mKGQpLDEpLFwie1wiK2EobSxcIixcIikrZytcIn1cIn19KHtcIlwiOmV9LFwiXCIsZSwwKX19LDA6KGUsdCxyKT0+e1widXNlIHN0cmljdFwiO3QucGFyc2U9cig5NjApLHQuc3RyaW5naWZ5PXIoMTM2KX0sOTYwOmU9PntcInVzZSBzdHJpY3RcIjt2YXIgdCxyLG4saT17J1wiJzonXCInLFwiXFxcXFwiOlwiXFxcXFwiLFwiL1wiOlwiL1wiLGI6XCJcXGJcIixmOlwiXFxmXCIsbjpcIlxcblwiLHI6XCJcXHJcIix0OlwiXFx0XCJ9O2Z1bmN0aW9uIG8oZSl7dGhyb3d7bmFtZTpcIlN5bnRheEVycm9yXCIsbWVzc2FnZTplLGF0OnQsdGV4dDpufX1mdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlIT09ciYmbyhcIkV4cGVjdGVkICdcIitlK1wiJyBpbnN0ZWFkIG9mICdcIityK1wiJ1wiKSxyPW4uY2hhckF0KHQpLHQrPTEscn1mdW5jdGlvbiB1KCl7dmFyIGUsdD1cIlwiO2ZvcihcIi1cIj09PXImJih0PVwiLVwiLHMoXCItXCIpKTtyPj1cIjBcIiYmcjw9XCI5XCI7KXQrPXIscygpO2lmKFwiLlwiPT09cilmb3IodCs9XCIuXCI7cygpJiZyPj1cIjBcIiYmcjw9XCI5XCI7KXQrPXI7aWYoXCJlXCI9PT1yfHxcIkVcIj09PXIpZm9yKHQrPXIscygpLFwiLVwiIT09ciYmXCIrXCIhPT1yfHwodCs9cixzKCkpO3I+PVwiMFwiJiZyPD1cIjlcIjspdCs9cixzKCk7cmV0dXJuIGU9TnVtYmVyKHQpLGlzRmluaXRlKGUpfHxvKFwiQmFkIG51bWJlclwiKSxlfWZ1bmN0aW9uIGEoKXt2YXIgZSx0LG4sdT1cIlwiO2lmKCdcIic9PT1yKWZvcig7cygpOyl7aWYoJ1wiJz09PXIpcmV0dXJuIHMoKSx1O2lmKFwiXFxcXFwiPT09cilpZihzKCksXCJ1XCI9PT1yKXtmb3Iobj0wLHQ9MDt0PDQmJihlPXBhcnNlSW50KHMoKSwxNiksaXNGaW5pdGUoZSkpO3QrPTEpbj0xNipuK2U7dSs9U3RyaW5nLmZyb21DaGFyQ29kZShuKX1lbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpW3JdKWJyZWFrO3UrPWlbcl19ZWxzZSB1Kz1yfW8oXCJCYWQgc3RyaW5nXCIpfWZ1bmN0aW9uIGMoKXtmb3IoO3ImJnI8PVwiIFwiOylzKCl9ZnVuY3Rpb24gcCgpe3N3aXRjaChjKCkscil7Y2FzZVwie1wiOnJldHVybiBmdW5jdGlvbigpe3ZhciBlLHQ9e307aWYoXCJ7XCI9PT1yKXtpZihzKFwie1wiKSxjKCksXCJ9XCI9PT1yKXJldHVybiBzKFwifVwiKSx0O2Zvcig7cjspe2lmKGU9YSgpLGMoKSxzKFwiOlwiKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbygnRHVwbGljYXRlIGtleSBcIicrZSsnXCInKSx0W2VdPXAoKSxjKCksXCJ9XCI9PT1yKXJldHVybiBzKFwifVwiKSx0O3MoXCIsXCIpLGMoKX19byhcIkJhZCBvYmplY3RcIil9KCk7Y2FzZVwiW1wiOnJldHVybiBmdW5jdGlvbigpe3ZhciBlPVtdO2lmKFwiW1wiPT09cil7aWYocyhcIltcIiksYygpLFwiXVwiPT09cilyZXR1cm4gcyhcIl1cIiksZTtmb3IoO3I7KXtpZihlLnB1c2gocCgpKSxjKCksXCJdXCI9PT1yKXJldHVybiBzKFwiXVwiKSxlO3MoXCIsXCIpLGMoKX19byhcIkJhZCBhcnJheVwiKX0oKTtjYXNlJ1wiJzpyZXR1cm4gYSgpO2Nhc2VcIi1cIjpyZXR1cm4gdSgpO2RlZmF1bHQ6cmV0dXJuIHI+PVwiMFwiJiZyPD1cIjlcIj91KCk6ZnVuY3Rpb24oKXtzd2l0Y2gocil7Y2FzZVwidFwiOnJldHVybiBzKFwidFwiKSxzKFwiclwiKSxzKFwidVwiKSxzKFwiZVwiKSwhMDtjYXNlXCJmXCI6cmV0dXJuIHMoXCJmXCIpLHMoXCJhXCIpLHMoXCJsXCIpLHMoXCJzXCIpLHMoXCJlXCIpLCExO2Nhc2VcIm5cIjpyZXR1cm4gcyhcIm5cIikscyhcInVcIikscyhcImxcIikscyhcImxcIiksbnVsbDtkZWZhdWx0Om8oXCJVbmV4cGVjdGVkICdcIityK1wiJ1wiKX19KCl9fWUuZXhwb3J0cz1mdW5jdGlvbihlLGkpe3ZhciBzO3JldHVybiBuPWUsdD0wLHI9XCIgXCIscz1wKCksYygpLHImJm8oXCJTeW50YXggZXJyb3JcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgaT9mdW5jdGlvbiBlKHQscil7dmFyIG4sbyxzPXRbcl07aWYocyYmXCJvYmplY3RcIj09dHlwZW9mIHMpZm9yKG4gaW4gcClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxuKSYmKHZvaWQgMD09PShvPWUocyxuKSk/ZGVsZXRlIHNbbl06c1tuXT1vKTtyZXR1cm4gaS5jYWxsKHQscixzKX0oe1wiXCI6c30sXCJcIik6c319LDEzNjplPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIHQscixuLGk9L1tcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceDlmXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2csbz17XCJcXGJcIjpcIlxcXFxiXCIsXCJcXHRcIjpcIlxcXFx0XCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXHJcIjpcIlxcXFxyXCIsJ1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCJ9O2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGkubGFzdEluZGV4PTAsaS50ZXN0KGUpPydcIicrZS5yZXBsYWNlKGksKGZ1bmN0aW9uKGUpe3ZhciB0PW9bZV07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpcIlxcXFx1XCIrKFwiMDAwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKSsnXCInOidcIicrZSsnXCInfWZ1bmN0aW9uIHUoZSxpKXt2YXIgbyxhLGMscCxkLHk9dCxsPWlbZV07c3dpdGNoKGwmJlwib2JqZWN0XCI9PXR5cGVvZiBsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsLnRvSlNPTiYmKGw9bC50b0pTT04oZSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihsPW4uY2FsbChpLGUsbCkpLHR5cGVvZiBsKXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gcyhsKTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gaXNGaW5pdGUobCk/U3RyaW5nKGwpOlwibnVsbFwiO2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJudWxsXCI6cmV0dXJuIFN0cmluZyhsKTtjYXNlXCJvYmplY3RcIjppZighbClyZXR1cm5cIm51bGxcIjtpZih0Kz1yLGQ9W10sXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShsKSl7Zm9yKHA9bC5sZW5ndGgsbz0wO288cDtvKz0xKWRbb109dShvLGwpfHxcIm51bGxcIjtyZXR1cm4gYz0wPT09ZC5sZW5ndGg/XCJbXVwiOnQ/XCJbXFxuXCIrdCtkLmpvaW4oXCIsXFxuXCIrdCkrXCJcXG5cIit5K1wiXVwiOlwiW1wiK2Quam9pbihcIixcIikrXCJdXCIsdD15LGN9aWYobiYmXCJvYmplY3RcIj09dHlwZW9mIG4pZm9yKHA9bi5sZW5ndGgsbz0wO288cDtvKz0xKVwic3RyaW5nXCI9PXR5cGVvZihhPW5bb10pJiYoYz11KGEsbCkpJiZkLnB1c2gocyhhKSsodD9cIjogXCI6XCI6XCIpK2MpO2Vsc2UgZm9yKGEgaW4gbClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCxhKSYmKGM9dShhLGwpKSYmZC5wdXNoKHMoYSkrKHQ/XCI6IFwiOlwiOlwiKStjKTtyZXR1cm4gYz0wPT09ZC5sZW5ndGg/XCJ7fVwiOnQ/XCJ7XFxuXCIrdCtkLmpvaW4oXCIsXFxuXCIrdCkrXCJcXG5cIit5K1wifVwiOlwie1wiK2Quam9pbihcIixcIikrXCJ9XCIsdD15LGN9fWUuZXhwb3J0cz1mdW5jdGlvbihlLGksbyl7dmFyIHM7aWYodD1cIlwiLHI9XCJcIixcIm51bWJlclwiPT10eXBlb2Ygbylmb3Iocz0wO3M8bztzKz0xKXIrPVwiIFwiO2Vsc2VcInN0cmluZ1wiPT10eXBlb2YgbyYmKHI9byk7aWYobj1pLGkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihcIm9iamVjdFwiIT10eXBlb2YgaXx8XCJudW1iZXJcIiE9dHlwZW9mIGkubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLnN0cmluZ2lmeVwiKTtyZXR1cm4gdShcIlwiLHtcIlwiOmV9KX19LDgxNjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG47aWYoIU9iamVjdC5rZXlzKXt2YXIgaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPXIoNDI4KSx1PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsYT0hdS5jYWxsKHt0b1N0cmluZzpudWxsfSxcInRvU3RyaW5nXCIpLGM9dS5jYWxsKChmdW5jdGlvbigpe30pLFwicHJvdG90eXBlXCIpLHA9W1widG9TdHJpbmdcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ2YWx1ZU9mXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcImNvbnN0cnVjdG9yXCJdLGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdCYmdC5wcm90b3R5cGU9PT1lfSx5PXskYXBwbGljYXRpb25DYWNoZTohMCwkY29uc29sZTohMCwkZXh0ZXJuYWw6ITAsJGZyYW1lOiEwLCRmcmFtZUVsZW1lbnQ6ITAsJGZyYW1lczohMCwkaW5uZXJIZWlnaHQ6ITAsJGlubmVyV2lkdGg6ITAsJG9ubW96ZnVsbHNjcmVlbmNoYW5nZTohMCwkb25tb3pmdWxsc2NyZWVuZXJyb3I6ITAsJG91dGVySGVpZ2h0OiEwLCRvdXRlcldpZHRoOiEwLCRwYWdlWE9mZnNldDohMCwkcGFnZVlPZmZzZXQ6ITAsJHBhcmVudDohMCwkc2Nyb2xsTGVmdDohMCwkc2Nyb2xsVG9wOiEwLCRzY3JvbGxYOiEwLCRzY3JvbGxZOiEwLCRzZWxmOiEwLCR3ZWJraXRJbmRleGVkREI6ITAsJHdlYmtpdFN0b3JhZ2VJbmZvOiEwLCR3aW5kb3c6ITB9LGw9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93KXJldHVybiExO2Zvcih2YXIgZSBpbiB3aW5kb3cpdHJ5e2lmKCF5W1wiJFwiK2VdJiZpLmNhbGwod2luZG93LGUpJiZudWxsIT09d2luZG93W2VdJiZcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93W2VdKXRyeXtkKHdpbmRvd1tlXSl9Y2F0Y2goZSl7cmV0dXJuITB9fWNhdGNoKGUpe3JldHVybiEwfXJldHVybiExfSgpO249ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLHI9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09by5jYWxsKGUpLG49cyhlKSx1PXQmJlwiW29iamVjdCBTdHJpbmddXCI9PT1vLmNhbGwoZSkseT1bXTtpZighdCYmIXImJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XCIpO3ZhciBmPWMmJnI7aWYodSYmZS5sZW5ndGg+MCYmIWkuY2FsbChlLDApKWZvcih2YXIgaD0wO2g8ZS5sZW5ndGg7KytoKXkucHVzaChTdHJpbmcoaCkpO2lmKG4mJmUubGVuZ3RoPjApZm9yKHZhciBnPTA7ZzxlLmxlbmd0aDsrK2cpeS5wdXNoKFN0cmluZyhnKSk7ZWxzZSBmb3IodmFyIF8gaW4gZSlmJiZcInByb3RvdHlwZVwiPT09X3x8IWkuY2FsbChlLF8pfHx5LnB1c2goU3RyaW5nKF8pKTtpZihhKWZvcih2YXIgbT1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhbClyZXR1cm4gZChlKTt0cnl7cmV0dXJuIGQoZSl9Y2F0Y2goZSl7cmV0dXJuITF9fShlKSx2PTA7djxwLmxlbmd0aDsrK3YpbSYmXCJjb25zdHJ1Y3RvclwiPT09cFt2XXx8IWkuY2FsbChlLHBbdl0pfHx5LnB1c2gocFt2XSk7cmV0dXJuIHl9fWUuZXhwb3J0cz1ufSw1NjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLGk9cig0MjgpLG89T2JqZWN0LmtleXMscz1vP2Z1bmN0aW9uKGUpe3JldHVybiBvKGUpfTpyKDgxNiksdT1PYmplY3Qua2V5cztzLnNoaW09ZnVuY3Rpb24oKXtpZihPYmplY3Qua2V5cyl7dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Qua2V5cyhhcmd1bWVudHMpO3JldHVybiBlJiZlLmxlbmd0aD09PWFyZ3VtZW50cy5sZW5ndGh9KDEsMik7ZXx8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpP3Uobi5jYWxsKGUpKTp1KGUpfSl9ZWxzZSBPYmplY3Qua2V5cz1zO3JldHVybiBPYmplY3Qua2V5c3x8c30sZS5leHBvcnRzPXN9LDQyODplPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHI9dC5jYWxsKGUpLG49XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PXI7cmV0dXJuIG58fChuPVwiW29iamVjdCBBcnJheV1cIiE9PXImJm51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoJiZlLmxlbmd0aD49MCYmXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09dC5jYWxsKGUuY2FsbGVlKSksbn19LDM5MjooZSx0LHIpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig2MDQpLGk9cig0NTYpLG89cigxODgpKCkscz1yKDg3MiksdT1yKDU1NiksYT1uKFwiJU1hdGguZmxvb3IlXCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IHUoXCJgZm5gIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fHQ+NDI5NDk2NzI5NXx8YSh0KSE9PXQpdGhyb3cgbmV3IHUoXCJgbGVuZ3RoYCBtdXN0IGJlIGEgcG9zaXRpdmUgMzItYml0IGludGVnZXJcIik7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiYhIWFyZ3VtZW50c1syXSxuPSEwLGM9ITA7aWYoXCJsZW5ndGhcImluIGUmJnMpe3ZhciBwPXMoZSxcImxlbmd0aFwiKTtwJiYhcC5jb25maWd1cmFibGUmJihuPSExKSxwJiYhcC53cml0YWJsZSYmKGM9ITEpfXJldHVybihufHxjfHwhcikmJihvP2koZSxcImxlbmd0aFwiLHQsITAsITApOmkoZSxcImxlbmd0aFwiLHQpKSxlfX0sNjM2OihlLHQscik9Pnt2YXIgbj1yKDg0OCkuZGVmYXVsdDtmdW5jdGlvbiBpKCl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWk9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzO3ZhciB0LHI9e30sbz1PYmplY3QucHJvdG90eXBlLHM9by5oYXNPd25Qcm9wZXJ0eSx1PU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LHIpe2VbdF09ci52YWx1ZX0sYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9YS5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIscD1hLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsZD1hLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiB5KGUsdCxyKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3koe30sXCJcIil9Y2F0Y2godCl7eT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cn19ZnVuY3Rpb24gbChlLHQscixuKXt2YXIgaT10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLG89T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgSShufHxbXSk7cmV0dXJuIHUobyxcIl9pbnZva2VcIix7dmFsdWU6UChlLHIscyl9KSxvfWZ1bmN0aW9uIGYoZSx0LHIpe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzplLmNhbGwodCxyKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzplfX19ci53cmFwPWw7dmFyIGg9XCJzdXNwZW5kZWRTdGFydFwiLGc9XCJzdXNwZW5kZWRZaWVsZFwiLF89XCJleGVjdXRpbmdcIixtPVwiY29tcGxldGVkXCIsdj17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIHEoKXt9ZnVuY3Rpb24gdygpe312YXIgaz17fTt5KGssYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgQT1PYmplY3QuZ2V0UHJvdG90eXBlT2YseD1BJiZBKEEoVChbXSkpKTt4JiZ4IT09byYmcy5jYWxsKHgsYykmJihrPXgpO3ZhciBTPXcucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoayk7ZnVuY3Rpb24gTyhlKXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3koZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gUihlLHQpe2Z1bmN0aW9uIHIoaSxvLHUsYSl7dmFyIGM9ZihlW2ldLGUsbyk7aWYoXCJ0aHJvd1wiIT09Yy50eXBlKXt2YXIgcD1jLmFyZyxkPXAudmFsdWU7cmV0dXJuIGQmJlwib2JqZWN0XCI9PW4oZCkmJnMuY2FsbChkLFwiX19hd2FpdFwiKT90LnJlc29sdmUoZC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtyKFwibmV4dFwiLGUsdSxhKX0pLChmdW5jdGlvbihlKXtyKFwidGhyb3dcIixlLHUsYSl9KSk6dC5yZXNvbHZlKGQpLnRoZW4oKGZ1bmN0aW9uKGUpe3AudmFsdWU9ZSx1KHApfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKFwidGhyb3dcIixlLHUsYSl9KSl9YShjLmFyZyl9dmFyIGk7dSh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsaSl7cihlLG4sdCxpKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBQKGUscixuKXt2YXIgaT1oO3JldHVybiBmdW5jdGlvbihvLHMpe2lmKGk9PT1fKXRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYoaT09PW0pe2lmKFwidGhyb3dcIj09PW8pdGhyb3cgcztyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Iobi5tZXRob2Q9byxuLmFyZz1zOzspe3ZhciB1PW4uZGVsZWdhdGU7aWYodSl7dmFyIGE9TSh1LG4pO2lmKGEpe2lmKGE9PT12KWNvbnRpbnVlO3JldHVybiBhfX1pZihcIm5leHRcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKGk9PT1oKXRocm93IGk9bSxuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlXCJyZXR1cm5cIj09PW4ubWV0aG9kJiZuLmFicnVwdChcInJldHVyblwiLG4uYXJnKTtpPV87dmFyIGM9ZihlLHIsbik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYoaT1uLmRvbmU/bTpnLGMuYXJnPT09diljb250aW51ZTtyZXR1cm57dmFsdWU6Yy5hcmcsZG9uZTpuLmRvbmV9fVwidGhyb3dcIj09PWMudHlwZSYmKGk9bSxuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9Yy5hcmcpfX19ZnVuY3Rpb24gTShlLHIpe3ZhciBuPXIubWV0aG9kLGk9ZS5pdGVyYXRvcltuXTtpZihpPT09dClyZXR1cm4gci5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PW4mJmUuaXRlcmF0b3IucmV0dXJuJiYoci5tZXRob2Q9XCJyZXR1cm5cIixyLmFyZz10LE0oZSxyKSxcInRocm93XCI9PT1yLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1uJiYoci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIituK1wiJyBtZXRob2RcIikpLHY7dmFyIG89ZihpLGUuaXRlcmF0b3Isci5hcmcpO2lmKFwidGhyb3dcIj09PW8udHlwZSlyZXR1cm4gci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPW8uYXJnLHIuZGVsZWdhdGU9bnVsbCx2O3ZhciBzPW8uYXJnO3JldHVybiBzP3MuZG9uZT8ocltlLnJlc3VsdE5hbWVdPXMudmFsdWUsci5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09ci5tZXRob2QmJihyLm1ldGhvZD1cIm5leHRcIixyLmFyZz10KSxyLmRlbGVnYXRlPW51bGwsdik6czooci5tZXRob2Q9XCJ0aHJvd1wiLHIuYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxyLmRlbGVnYXRlPW51bGwsdil9ZnVuY3Rpb24gaihlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBFKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPVwibm9ybWFsXCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIEkoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sZS5mb3JFYWNoKGosdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gVChlKXtpZihlfHxcIlwiPT09ZSl7dmFyIHI9ZVtjXTtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBpPS0xLG89ZnVuY3Rpb24gcigpe2Zvcig7KytpPGUubGVuZ3RoOylpZihzLmNhbGwoZSxpKSlyZXR1cm4gci52YWx1ZT1lW2ldLHIuZG9uZT0hMSxyO3JldHVybiByLnZhbHVlPXQsci5kb25lPSEwLHJ9O3JldHVybiBvLm5leHQ9b319dGhyb3cgbmV3IFR5cGVFcnJvcihuKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4gcS5wcm90b3R5cGU9dyx1KFMsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTp3LGNvbmZpZ3VyYWJsZTohMH0pLHUodyxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOnEsY29uZmlndXJhYmxlOiEwfSkscS5kaXNwbGF5TmFtZT15KHcsZCxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLHIuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1xfHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LHIubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHcpOihlLl9fcHJvdG9fXz13LHkoZSxkLFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUyksZX0sci5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sTyhSLnByb3RvdHlwZSkseShSLnByb3RvdHlwZSxwLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHIuQXN5bmNJdGVyYXRvcj1SLHIuYXN5bmM9ZnVuY3Rpb24oZSx0LG4saSxvKXt2b2lkIDA9PT1vJiYobz1Qcm9taXNlKTt2YXIgcz1uZXcgUihsKGUsdCxuLGkpLG8pO3JldHVybiByLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/czpzLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6cy5uZXh0KCl9KSl9LE8oUykseShTLGQsXCJHZW5lcmF0b3JcIikseShTLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkseShTLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLHIua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSkscj1bXTtmb3IodmFyIG4gaW4gdClyLnB1c2gobik7cmV0dXJuIHIucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO3IubGVuZ3RoOyl7dmFyIG49ci5wb3AoKTtpZihuIGluIHQpcmV0dXJuIGUudmFsdWU9bixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSxyLnZhbHVlcz1ULEkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpJLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKEUpLCFlKWZvcih2YXIgciBpbiB0aGlzKVwidFwiPT09ci5jaGFyQXQoMCkmJnMuY2FsbCh0aGlzLHIpJiYhaXNOYU4oK3Iuc2xpY2UoMSkpJiYodGhpc1tyXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHI9dGhpcztmdW5jdGlvbiBuKG4saSl7cmV0dXJuIHUudHlwZT1cInRocm93XCIsdS5hcmc9ZSxyLm5leHQ9bixpJiYoci5tZXRob2Q9XCJuZXh0XCIsci5hcmc9dCksISFpfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBvPXRoaXMudHJ5RW50cmllc1tpXSx1PW8uY29tcGxldGlvbjtpZihcInJvb3RcIj09PW8udHJ5TG9jKXJldHVybiBuKFwiZW5kXCIpO2lmKG8udHJ5TG9jPD10aGlzLnByZXYpe3ZhciBhPXMuY2FsbChvLFwiY2F0Y2hMb2NcIiksYz1zLmNhbGwobyxcImZpbmFsbHlMb2NcIik7aWYoYSYmYyl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIG4oby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gbihvLmZpbmFsbHlMb2MpfWVsc2UgaWYoYSl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIG4oby5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiBuKG8uZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tyXTtpZihuLnRyeUxvYzw9dGhpcy5wcmV2JiZzLmNhbGwobixcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxuLmZpbmFsbHlMb2Mpe3ZhciBpPW47YnJlYWt9fWkmJihcImJyZWFrXCI9PT1lfHxcImNvbnRpbnVlXCI9PT1lKSYmaS50cnlMb2M8PXQmJnQ8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIG89aT9pLmNvbXBsZXRpb246e307cmV0dXJuIG8udHlwZT1lLG8uYXJnPXQsaT8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx2KTp0aGlzLmNvbXBsZXRlKG8pfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKFwidGhyb3dcIj09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm5cImJyZWFrXCI9PT1lLnR5cGV8fFwiY29udGludWVcIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6XCJyZXR1cm5cIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCksdn0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxFKHIpLHZ9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci50cnlMb2M9PT1lKXt2YXIgbj1yLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09bi50eXBlKXt2YXIgaT1uLmFyZztFKHIpfXJldHVybiBpfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpUKGUpLHJlc3VsdE5hbWU6cixuZXh0TG9jOm59LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx2fX0scn1lLmV4cG9ydHM9aSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LDg0ODplPT57ZnVuY3Rpb24gdChyKXtyZXR1cm4gZS5leHBvcnRzPXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHQocil9ZS5leHBvcnRzPXQsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSwyNDg6KGUsdCxyKT0+e3ZhciBuPXIoNjM2KSgpO2UuZXhwb3J0cz1uO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9bn1jYXRjaChlKXtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZT1uOkZ1bmN0aW9uKFwiclwiLFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShuKX19fSx0PXt9O2Z1bmN0aW9uIHIobil7dmFyIGk9dFtuXTtpZih2b2lkIDAhPT1pKXJldHVybiBpLmV4cG9ydHM7dmFyIG89dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0obyxvLmV4cG9ydHMsciksby5leHBvcnRzfXIubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIHIuZCh0LHthOnR9KSx0fSxyLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClyLm8odCxuKSYmIXIubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LHIubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk7dmFyIG49e307cmV0dXJuKCgpPT57XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sdChlKX1mdW5jdGlvbiBpKGUsdCxyLG4saSxvLHMpe3RyeXt2YXIgdT1lW29dKHMpLGE9dS52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfXUuZG9uZT90KGEpOlByb21pc2UucmVzb2x2ZShhKS50aGVuKG4saSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixvKXt2YXIgcz1lLmFwcGx5KHQscik7ZnVuY3Rpb24gdShlKXtpKHMsbixvLHUsYSxcIm5leHRcIixlKX1mdW5jdGlvbiBhKGUpe2kocyxuLG8sdSxhLFwidGhyb3dcIixlKX11KHZvaWQgMCl9KSl9fWZ1bmN0aW9uIHMoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHUoZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXtpZihcIm9iamVjdFwiIT10KGUpfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIGk9bi5jYWxsKGUsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9dChpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhlKX0oZSk7cmV0dXJuXCJzeW1ib2xcIj09dChyKT9yOlN0cmluZyhyKX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHUobi5rZXkpLG4pfX1mdW5jdGlvbiBjKGUsdCxyKXtyZXR1cm4gdCYmYShlLnByb3RvdHlwZSx0KSxyJiZhKGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIHAoZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9ZnVuY3Rpb24gZChlLHIpe2lmKHImJihcIm9iamVjdFwiPT09dChyKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgcikpcmV0dXJuIHI7aWYodm9pZCAwIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHAoZSl9ZnVuY3Rpb24geShlKXtyZXR1cm4geT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0seShlKX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSxsKGUsdCl9ZnVuY3Rpb24gZihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0JiZsKGUsdCl9ci5kKG4se2RlZmF1bHQ6KCk9PnplfSk7dmFyIGg9cigyNDgpLGc9ci5uKGgpO2Z1bmN0aW9uIF8oZSl7dmFyIHQ9ZSgoZnVuY3Rpb24oZSl7RXJyb3IuY2FsbChlKSxlLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrfSkpO3JldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0fXZhciBtPV8oKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2UodGhpcyksdGhpcy5uYW1lPVwiRW1wdHlFcnJvclwiLHRoaXMubWVzc2FnZT1cIm5vIGVsZW1lbnRzIGluIHNlcXVlbmNlXCJ9fSkpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX1mdW5jdGlvbiBiKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihmdW5jdGlvbihlKXtyZXR1cm4gdihudWxsPT1lP3ZvaWQgMDplLmxpZnQpfSh0KSlyZXR1cm4gdC5saWZ0KChmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGUodCx0aGlzKX1jYXRjaChlKXt0aGlzLmVycm9yKGUpfX0pKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGVcIil9fXZhciBxPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxxKGUsdCl9O2Z1bmN0aW9uIHcoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXEoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9ZnVuY3Rpb24gayhlLHQpe3ZhciByLG4saSxvLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6dSgwKSx0aHJvdzp1KDEpLHJldHVybjp1KDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gdSh1KXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKHUpe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtvJiYobz0wLHVbMF0mJihzPTApKSxzOyl0cnl7aWYocj0xLG4mJihpPTImdVswXT9uLnJldHVybjp1WzBdP24udGhyb3d8fCgoaT1uLnJldHVybikmJmkuY2FsbChuKSwwKTpuLm5leHQpJiYhKGk9aS5jYWxsKG4sdVsxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKG49MCxpJiYodT1bMiZ1WzBdLGkudmFsdWVdKSx1WzBdKXtjYXNlIDA6Y2FzZSAxOmk9dTticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6dVsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLG49dVsxXSx1PVswXTtjb250aW51ZTtjYXNlIDc6dT1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKChpPShpPXMudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09dVswXSYmMiE9PXVbMF0pKXtzPTA7Y29udGludWV9aWYoMz09PXVbMF0mJighaXx8dVsxXT5pWzBdJiZ1WzFdPGlbM10pKXtzLmxhYmVsPXVbMV07YnJlYWt9aWYoNj09PXVbMF0mJnMubGFiZWw8aVsxXSl7cy5sYWJlbD1pWzFdLGk9dTticmVha31pZihpJiZzLmxhYmVsPGlbMl0pe3MubGFiZWw9aVsyXSxzLm9wcy5wdXNoKHUpO2JyZWFrfWlbMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX11PXQuY2FsbChlLHMpfWNhdGNoKGUpe3U9WzYsZV0sbj0wfWZpbmFsbHl7cj1pPTB9aWYoNSZ1WzBdKXRocm93IHVbMV07cmV0dXJue3ZhbHVlOnVbMF0/dVsxXTp2b2lkIDAsZG9uZTohMH19KFt1LGFdKX19fWZ1bmN0aW9uIEEoZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX1mdW5jdGlvbiB4KGUsdCl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIG4saSxvPXIuY2FsbChlKSxzPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKG49by5uZXh0KCkpLmRvbmU7KXMucHVzaChuLnZhbHVlKX1jYXRjaChlKXtpPXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIHN9ZnVuY3Rpb24gUyhlLHQscil7aWYocnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuLGk9MCxvPXQubGVuZ3RoO2k8bztpKyspIW4mJmkgaW4gdHx8KG58fChuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxpKSksbltpXT10W2ldKTtyZXR1cm4gZS5jb25jYXQobnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBPPyh0aGlzLnY9ZSx0aGlzKTpuZXcgTyhlKX1PYmplY3QuY3JlYXRlLE9iamVjdC5jcmVhdGUsXCJmdW5jdGlvblwiPT10eXBlb2YgU3VwcHJlc3NlZEVycm9yJiZTdXBwcmVzc2VkRXJyb3I7dmFyIFI9XygoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2UodGhpcyksdGhpcy5tZXNzYWdlPXQ/dC5sZW5ndGgrXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIit0Lm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCsxK1wiKSBcIitlLnRvU3RyaW5nKCl9KSkuam9pbihcIlxcbiAgXCIpOlwiXCIsdGhpcy5uYW1lPVwiVW5zdWJzY3JpcHRpb25FcnJvclwiLHRoaXMuZXJyb3JzPXR9fSkpO2Z1bmN0aW9uIFAoZSx0KXtpZihlKXt2YXIgcj1lLmluZGV4T2YodCk7MDw9ciYmZS5zcGxpY2UociwxKX19dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaW5pdGlhbFRlYXJkb3duPWUsdGhpcy5jbG9zZWQ9ITEsdGhpcy5fcGFyZW50YWdlPW51bGwsdGhpcy5fZmluYWxpemVycz1udWxsfXJldHVybiBlLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciBlLHQscixuLGk7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLmNsb3NlZD0hMDt2YXIgbz10aGlzLl9wYXJlbnRhZ2U7aWYobylpZih0aGlzLl9wYXJlbnRhZ2U9bnVsbCxBcnJheS5pc0FycmF5KG8pKXRyeXtmb3IodmFyIHM9QShvKSx1PXMubmV4dCgpOyF1LmRvbmU7dT1zLm5leHQoKSl1LnZhbHVlLnJlbW92ZSh0aGlzKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXt1JiYhdS5kb25lJiYodD1zLnJldHVybikmJnQuY2FsbChzKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19ZWxzZSBvLnJlbW92ZSh0aGlzKTt2YXIgYT10aGlzLmluaXRpYWxUZWFyZG93bjtpZih2KGEpKXRyeXthKCl9Y2F0Y2goZSl7aT1lIGluc3RhbmNlb2YgUj9lLmVycm9yczpbZV19dmFyIGM9dGhpcy5fZmluYWxpemVycztpZihjKXt0aGlzLl9maW5hbGl6ZXJzPW51bGw7dHJ5e2Zvcih2YXIgcD1BKGMpLGQ9cC5uZXh0KCk7IWQuZG9uZTtkPXAubmV4dCgpKXt2YXIgeT1kLnZhbHVlO3RyeXtJKHkpfWNhdGNoKGUpe2k9bnVsbCE9aT9pOltdLGUgaW5zdGFuY2VvZiBSP2k9UyhTKFtdLHgoaSkpLHgoZS5lcnJvcnMpKTppLnB1c2goZSl9fX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtkJiYhZC5kb25lJiYobj1wLnJldHVybikmJm4uY2FsbChwKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19fWlmKGkpdGhyb3cgbmV3IFIoaSl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIHI7aWYodCYmdCE9PXRoaXMpaWYodGhpcy5jbG9zZWQpSSh0KTtlbHNle2lmKHQgaW5zdGFuY2VvZiBlKXtpZih0LmNsb3NlZHx8dC5faGFzUGFyZW50KHRoaXMpKXJldHVybjt0Ll9hZGRQYXJlbnQodGhpcyl9KHRoaXMuX2ZpbmFsaXplcnM9bnVsbCE9PShyPXRoaXMuX2ZpbmFsaXplcnMpJiZ2b2lkIDAhPT1yP3I6W10pLnB1c2godCl9fSxlLnByb3RvdHlwZS5faGFzUGFyZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcmVudGFnZTtyZXR1cm4gdD09PWV8fEFycmF5LmlzQXJyYXkodCkmJnQuaW5jbHVkZXMoZSl9LGUucHJvdG90eXBlLl9hZGRQYXJlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcGFyZW50YWdlO3RoaXMuX3BhcmVudGFnZT1BcnJheS5pc0FycmF5KHQpPyh0LnB1c2goZSksdCk6dD9bdCxlXTplfSxlLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3BhcmVudGFnZTt0PT09ZT90aGlzLl9wYXJlbnRhZ2U9bnVsbDpBcnJheS5pc0FycmF5KHQpJiZQKHQsZSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9maW5hbGl6ZXJzO3ImJlAocix0KSx0IGluc3RhbmNlb2YgZSYmdC5fcmVtb3ZlUGFyZW50KHRoaXMpfSxlLkVNUFRZPSgodD1uZXcgZSkuY2xvc2VkPSEwLHQpLGU7dmFyIHR9KCksaj1NLkVNUFRZO2Z1bmN0aW9uIEUoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNfHxlJiZcImNsb3NlZFwiaW4gZSYmdihlLnJlbW92ZSkmJnYoZS5hZGQpJiZ2KGUudW5zdWJzY3JpYmUpfWZ1bmN0aW9uIEkoZSl7dihlKT9lKCk6ZS51bnN1YnNjcmliZSgpfXZhciBUPXtvblVuaGFuZGxlZEVycm9yOm51bGwsb25TdG9wcGVkTm90aWZpY2F0aW9uOm51bGwsUHJvbWlzZTp2b2lkIDAsdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzohMSx1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6ITF9LEY9e3NldFRpbWVvdXQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuLTJdPWFyZ3VtZW50c1tuXTt2YXIgaT1GLmRlbGVnYXRlO3JldHVybihudWxsPT1pP3ZvaWQgMDppLnNldFRpbWVvdXQpP2kuc2V0VGltZW91dC5hcHBseShpLFMoW2UsdF0seChyKSkpOnNldFRpbWVvdXQuYXBwbHkodm9pZCAwLFMoW2UsdF0seChyKSkpfSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5kZWxlZ2F0ZTtyZXR1cm4oKG51bGw9PXQ/dm9pZCAwOnQuY2xlYXJUaW1lb3V0KXx8Y2xlYXJUaW1lb3V0KShlKX0sZGVsZWdhdGU6dm9pZCAwfTtmdW5jdGlvbiBDKGUpe0Yuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgdD1ULm9uVW5oYW5kbGVkRXJyb3I7aWYoIXQpdGhyb3cgZTt0KGUpfSkpfWZ1bmN0aW9uIFUoKXt9dmFyIEI9TihcIkNcIix2b2lkIDAsdm9pZCAwKTtmdW5jdGlvbiBOKGUsdCxyKXtyZXR1cm57a2luZDplLHZhbHVlOnQsZXJyb3I6cn19dmFyIEw9bnVsbDtmdW5jdGlvbiBEKGUpe2lmKFQudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl7dmFyIHQ9IUw7aWYodCYmKEw9e2Vycm9yVGhyb3duOiExLGVycm9yOm51bGx9KSxlKCksdCl7dmFyIHI9TCxuPXIuZXJyb3JUaHJvd24saT1yLmVycm9yO2lmKEw9bnVsbCxuKXRocm93IGl9fWVsc2UgZSgpfXZhciBHPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmlzU3RvcHBlZD0hMSx0PyhyLmRlc3RpbmF0aW9uPXQsRSh0KSYmdC5hZGQocikpOnIuZGVzdGluYXRpb249WSxyfXJldHVybiB3KHQsZSksdC5jcmVhdGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgSChlLHQscil9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7dGhpcy5pc1N0b3BwZWQ/VihmdW5jdGlvbihlKXtyZXR1cm4gTihcIk5cIixlLHZvaWQgMCl9KGUpLHRoaXMpOnRoaXMuX25leHQoZSl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUpe3RoaXMuaXNTdG9wcGVkP1YoTihcIkVcIix2b2lkIDAsZSksdGhpcyk6KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKGUpKX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD9WKEIsdGhpcyk6KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2NvbXBsZXRlKCkpfSx0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuY2xvc2VkfHwodGhpcy5pc1N0b3BwZWQ9ITAsZS5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSx0aGlzLmRlc3RpbmF0aW9uPW51bGwpfSx0LnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihlKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9LHQucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihlKXt0cnl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX1maW5hbGx5e3RoaXMudW5zdWJzY3JpYmUoKX19LHQucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RyeXt0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9ZmluYWxseXt0aGlzLnVuc3Vic2NyaWJlKCl9fSx0fShNKSwkPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO2Z1bmN0aW9uIHooZSx0KXtyZXR1cm4gJC5jYWxsKGUsdCl9dmFyIFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMucGFydGlhbE9ic2VydmVyPWV9cmV0dXJuIGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7aWYodC5uZXh0KXRyeXt0Lm5leHQoZSl9Y2F0Y2goZSl7SihlKX19LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFydGlhbE9ic2VydmVyO2lmKHQuZXJyb3IpdHJ5e3QuZXJyb3IoZSl9Y2F0Y2goZSl7SihlKX1lbHNlIEooZSl9LGUucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7aWYoZS5jb21wbGV0ZSl0cnl7ZS5jb21wbGV0ZSgpfWNhdGNoKGUpe0ooZSl9fSxlfSgpLEg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsbil7dmFyIGksbyxzPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdih0KXx8IXQ/aT17bmV4dDpudWxsIT10P3Q6dm9pZCAwLGVycm9yOm51bGwhPXI/cjp2b2lkIDAsY29tcGxldGU6bnVsbCE9bj9uOnZvaWQgMH06cyYmVC51c2VEZXByZWNhdGVkTmV4dENvbnRleHQ/KChvPU9iamVjdC5jcmVhdGUodCkpLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIHMudW5zdWJzY3JpYmUoKX0saT17bmV4dDp0Lm5leHQmJnoodC5uZXh0LG8pLGVycm9yOnQuZXJyb3ImJnoodC5lcnJvcixvKSxjb21wbGV0ZTp0LmNvbXBsZXRlJiZ6KHQuY29tcGxldGUsbyl9KTppPXQscy5kZXN0aW5hdGlvbj1uZXcgVyhpKSxzfXJldHVybiB3KHQsZSksdH0oRyk7ZnVuY3Rpb24gSihlKXt2YXIgdDtULnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc/KHQ9ZSxULnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJkwmJihMLmVycm9yVGhyb3duPSEwLEwuZXJyb3I9dCkpOkMoZSl9ZnVuY3Rpb24gVihlLHQpe3ZhciByPVQub25TdG9wcGVkTm90aWZpY2F0aW9uO3ImJkYuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gcihlLHQpfSkpfXZhciBZPXtjbG9zZWQ6ITAsbmV4dDpVLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGNvbXBsZXRlOlV9O2Z1bmN0aW9uIEsoZSx0LHIsbixpKXtyZXR1cm4gbmV3IFgoZSx0LHIsbixpKX12YXIgWD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixuLGksbyxzKXt2YXIgdT1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gdS5vbkZpbmFsaXplPW8sdS5zaG91bGRVbnN1YnNjcmliZT1zLHUuX25leHQ9cj9mdW5jdGlvbihlKXt0cnl7cihlKX1jYXRjaChlKXt0LmVycm9yKGUpfX06ZS5wcm90b3R5cGUuX25leHQsdS5fZXJyb3I9aT9mdW5jdGlvbihlKXt0cnl7aShlKX1jYXRjaChlKXt0LmVycm9yKGUpfWZpbmFsbHl7dGhpcy51bnN1YnNjcmliZSgpfX06ZS5wcm90b3R5cGUuX2Vycm9yLHUuX2NvbXBsZXRlPW4/ZnVuY3Rpb24oKXt0cnl7bigpfWNhdGNoKGUpe3QuZXJyb3IoZSl9ZmluYWxseXt0aGlzLnVuc3Vic2NyaWJlKCl9fTplLnByb3RvdHlwZS5fY29tcGxldGUsdX1yZXR1cm4gdyh0LGUpLHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIHQ7aWYoIXRoaXMuc2hvdWxkVW5zdWJzY3JpYmV8fHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSl7dmFyIHI9dGhpcy5jbG9zZWQ7ZS5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSwhciYmKG51bGw9PT0odD10aGlzLm9uRmluYWxpemUpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcykpfX0sdH0oRyk7ZnVuY3Rpb24gWihlLHQpe3JldHVybiBiKChmdW5jdGlvbihyLG4pe3ZhciBpPTA7ci5zdWJzY3JpYmUoSyhuLChmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscixpKyspJiZuLm5leHQocil9KSkpfSkpfXZhciBRPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fFwiQEBvYnNlcnZhYmxlXCI7ZnVuY3Rpb24gZWUoZSl7cmV0dXJuIGV9dmFyIHRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtlJiYodGhpcy5fc3Vic2NyaWJlPWUpfXJldHVybiBlLnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBlO3JldHVybiByLnNvdXJjZT10aGlzLHIub3BlcmF0b3I9dCxyfSxlLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGk9dGhpcyxvPShuPWUpJiZuIGluc3RhbmNlb2YgR3x8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnYoZS5uZXh0KSYmdihlLmVycm9yKSYmdihlLmNvbXBsZXRlKX0obikmJkUobik/ZTpuZXcgSChlLHQscik7cmV0dXJuIEQoKGZ1bmN0aW9uKCl7dmFyIGU9aSx0PWUub3BlcmF0b3Iscj1lLnNvdXJjZTtvLmFkZCh0P3QuY2FsbChvLHIpOnI/aS5fc3Vic2NyaWJlKG8pOmkuX3RyeVN1YnNjcmliZShvKSl9KSksb30sZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZShlKX1jYXRjaCh0KXtlLmVycm9yKHQpfX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyh0PXJlKHQpKSgoZnVuY3Rpb24odCxuKXt2YXIgaT1uZXcgSCh7bmV4dDpmdW5jdGlvbih0KXt0cnl7ZSh0KX1jYXRjaChlKXtuKGUpLGkudW5zdWJzY3JpYmUoKX19LGVycm9yOm4sY29tcGxldGU6dH0pO3Iuc3Vic2NyaWJlKGkpfSkpfSxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5zb3VyY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN1YnNjcmliZShlKX0sZS5wcm90b3R5cGVbUV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4oMD09PShyPWUpLmxlbmd0aD9lZToxPT09ci5sZW5ndGg/clswXTpmdW5jdGlvbihlKXtyZXR1cm4gci5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQoZSl9KSxlKX0pKHRoaXMpO3ZhciByfSxlLnByb3RvdHlwZS50b1Byb21pc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3KGU9cmUoZSkpKChmdW5jdGlvbihlLHIpe3ZhciBuO3Quc3Vic2NyaWJlKChmdW5jdGlvbihlKXtyZXR1cm4gbj1lfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKGUpfSksKGZ1bmN0aW9uKCl7cmV0dXJuIGUobil9KSl9KSl9LGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZX0oKTtmdW5jdGlvbiByZShlKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PW51bGwhPWU/ZTpULlByb21pc2UpJiZ2b2lkIDAhPT10P3Q6UHJvbWlzZX12YXIgbmU9bmV3IHRlKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb21wbGV0ZSgpfSkpO2Z1bmN0aW9uIGllKCl7cmV0dXJuIG5ldyBtfWZ1bmN0aW9uIG9lKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4ucGlwZShlP1ooKGZ1bmN0aW9uKHQscil7cmV0dXJuIGUodCxyLG4pfSkpOmVlLDE8PTA/ZnVuY3Rpb24oKXtyZXR1cm4gbmV9OmIoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9MDtlLnN1YnNjcmliZShLKHQsKGZ1bmN0aW9uKGUpeysrcjw9MSYmKHQubmV4dChlKSwxPD1yJiZ0LmNvbXBsZXRlKCkpfSkpKX0pKSxyP2Z1bmN0aW9uKGUpe3JldHVybiBiKChmdW5jdGlvbih0LHIpe3ZhciBuPSExO3Quc3Vic2NyaWJlKEsociwoZnVuY3Rpb24oZSl7bj0hMCxyLm5leHQoZSl9KSwoZnVuY3Rpb24oKXtufHxyLm5leHQoZSksci5jb21wbGV0ZSgpfSkpKX0pKX0odCk6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWllKSxiKChmdW5jdGlvbih0LHIpe3ZhciBuPSExO3Quc3Vic2NyaWJlKEsociwoZnVuY3Rpb24oZSl7bj0hMCxyLm5leHQoZSl9KSwoZnVuY3Rpb24oKXtyZXR1cm4gbj9yLmNvbXBsZXRlKCk6ci5lcnJvcihlKCkpfSkpKX0pKX0oKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtfSkpKX19dmFyIHNlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGV9LHVlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjpcIkBAaXRlcmF0b3JcIjtmdW5jdGlvbiBhZShlKXtpZihlIGluc3RhbmNlb2YgdGUpcmV0dXJuIGU7aWYobnVsbCE9ZSl7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIHYoZVtRXSl9KGUpKXJldHVybiBvPWUsbmV3IHRlKChmdW5jdGlvbihlKXt2YXIgdD1vW1FdKCk7aWYodih0LnN1YnNjcmliZSkpcmV0dXJuIHQuc3Vic2NyaWJlKGUpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZVwiKX0pKTtpZihzZShlKSlyZXR1cm4gaT1lLG5ldyB0ZSgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxpLmxlbmd0aCYmIWUuY2xvc2VkO3QrKyllLm5leHQoaVt0XSk7ZS5jb21wbGV0ZSgpfSkpO2lmKHYobnVsbD09KG49ZSk/dm9pZCAwOm4udGhlbikpcmV0dXJuIHI9ZSxuZXcgdGUoKGZ1bmN0aW9uKGUpe3IudGhlbigoZnVuY3Rpb24odCl7ZS5jbG9zZWR8fChlLm5leHQodCksZS5jb21wbGV0ZSgpKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gZS5lcnJvcih0KX0pKS50aGVuKG51bGwsQyl9KSk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yJiZ2KG51bGw9PWU/dm9pZCAwOmVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKX0oZSkpcmV0dXJuIGNlKGUpO2lmKGZ1bmN0aW9uKGUpe3JldHVybiB2KG51bGw9PWU/dm9pZCAwOmVbdWVdKX0oZSkpcmV0dXJuIHQ9ZSxuZXcgdGUoKGZ1bmN0aW9uKGUpe3ZhciByLG47dHJ5e2Zvcih2YXIgaT1BKHQpLG89aS5uZXh0KCk7IW8uZG9uZTtvPWkubmV4dCgpKXt2YXIgcz1vLnZhbHVlO2lmKGUubmV4dChzKSxlLmNsb3NlZClyZXR1cm59fWNhdGNoKGUpe3I9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1lLmNvbXBsZXRlKCl9KSk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIHYobnVsbD09ZT92b2lkIDA6ZS5nZXRSZWFkZXIpfShlKSlyZXR1cm4gY2UoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtpZighU3ltYm9sLmFzeW5jSXRlcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTt2YXIgbixpPXIuYXBwbHkoZSx0fHxbXSksbz1bXTtyZXR1cm4gbj17fSxzKFwibmV4dFwiKSxzKFwidGhyb3dcIikscyhcInJldHVyblwiKSxuW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuO2Z1bmN0aW9uIHMoZSl7aVtlXSYmKG5bZV09ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG4pe28ucHVzaChbZSx0LHIsbl0pPjF8fHUoZSx0KX0pKX0pfWZ1bmN0aW9uIHUoZSx0KXt0cnl7KHI9aVtlXSh0KSkudmFsdWUgaW5zdGFuY2VvZiBPP1Byb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oYSxjKTpwKG9bMF1bMl0scil9Y2F0Y2goZSl7cChvWzBdWzNdLGUpfXZhciByfWZ1bmN0aW9uIGEoZSl7dShcIm5leHRcIixlKX1mdW5jdGlvbiBjKGUpe3UoXCJ0aHJvd1wiLGUpfWZ1bmN0aW9uIHAoZSx0KXtlKHQpLG8uc2hpZnQoKSxvLmxlbmd0aCYmdShvWzBdWzBdLG9bMF1bMV0pfX0odGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKCl7dmFyIHQscixuO3JldHVybiBrKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6dD1lLmdldFJlYWRlcigpLGkubGFiZWw9MTtjYXNlIDE6aS50cnlzLnB1c2goWzEsLDksMTBdKSxpLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LE8odC5yZWFkKCkpXTtjYXNlIDM6cmV0dXJuIHI9aS5zZW50KCksbj1yLnZhbHVlLHIuZG9uZT9bNCxPKHZvaWQgMCldOlszLDVdO2Nhc2UgNDpyZXR1cm5bMixpLnNlbnQoKV07Y2FzZSA1OnJldHVybls0LE8obildO2Nhc2UgNjpyZXR1cm5bNCxpLnNlbnQoKV07Y2FzZSA3OnJldHVybiBpLnNlbnQoKSxbMywyXTtjYXNlIDg6cmV0dXJuWzMsMTBdO2Nhc2UgOTpyZXR1cm4gdC5yZWxlYXNlTG9jaygpLFs3XTtjYXNlIDEwOnJldHVyblsyXX19KSl9KSl9KGUpKX12YXIgdCxyLG4saSxvO3Rocm93IGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiKyhudWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/XCJhbiBpbnZhbGlkIG9iamVjdFwiOlwiJ1wiK2UrXCInXCIpK1wiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpfShlKX1mdW5jdGlvbiBjZShlKXtyZXR1cm4gbmV3IHRlKChmdW5jdGlvbih0KXsoZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxzLHUsYSxjO3JldHVybiBzPXRoaXMsdT12b2lkIDAsYz1mdW5jdGlvbigpe3ZhciBzLHU7cmV0dXJuIGsodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDphLnRyeXMucHVzaChbMCw1LDYsMTFdKSxyPWZ1bmN0aW9uKGUpe2lmKCFTeW1ib2wuYXN5bmNJdGVyYXRvcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO3ZhciB0LHI9ZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl07cmV0dXJuIHI/ci5jYWxsKGUpOihlPUEoZSksdD17fSxuKFwibmV4dFwiKSxuKFwidGhyb3dcIiksbihcInJldHVyblwiKSx0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0KTtmdW5jdGlvbiBuKHIpe3Rbcl09ZVtyXSYmZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpeyFmdW5jdGlvbihlLHQscixuKXtQcm9taXNlLnJlc29sdmUobikudGhlbigoZnVuY3Rpb24odCl7ZSh7dmFsdWU6dCxkb25lOnJ9KX0pLHQpfShuLGksKHQ9ZVtyXSh0KSkuZG9uZSx0LnZhbHVlKX0pKX19fShlKSxhLmxhYmVsPTE7Y2FzZSAxOnJldHVybls0LHIubmV4dCgpXTtjYXNlIDI6aWYoKG49YS5zZW50KCkpLmRvbmUpcmV0dXJuWzMsNF07aWYocz1uLnZhbHVlLHQubmV4dChzKSx0LmNsb3NlZClyZXR1cm5bMl07YS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMywxXTtjYXNlIDQ6cmV0dXJuWzMsMTFdO2Nhc2UgNTpyZXR1cm4gdT1hLnNlbnQoKSxpPXtlcnJvcjp1fSxbMywxMV07Y2FzZSA2OnJldHVybiBhLnRyeXMucHVzaChbNiwsOSwxMF0pLG4mJiFuLmRvbmUmJihvPXIucmV0dXJuKT9bNCxvLmNhbGwocildOlszLDhdO2Nhc2UgNzphLnNlbnQoKSxhLmxhYmVsPTg7Y2FzZSA4OnJldHVyblszLDEwXTtjYXNlIDk6aWYoaSl0aHJvdyBpLmVycm9yO3JldHVybls3XTtjYXNlIDEwOnJldHVybls3XTtjYXNlIDExOnJldHVybiB0LmNvbXBsZXRlKCksWzJdfX0pKX0sbmV3KChhPXZvaWQgMCl8fChhPVByb21pc2UpKSgoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe3RyeXtpKGMubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gbihlKXt0cnl7aShjLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBpKHQpe3ZhciBpO3QuZG9uZT9lKHQudmFsdWUpOihpPXQudmFsdWUsaSBpbnN0YW5jZW9mIGE/aTpuZXcgYSgoZnVuY3Rpb24oZSl7ZShpKX0pKSkudGhlbihyLG4pfWkoKGM9Yy5hcHBseShzLHV8fFtdKSkubmV4dCgpKX0pKX0pKGUsdCkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVycm9yKGUpfSkpfSkpfXZhciBwZT1fKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtlKHRoaXMpLHRoaXMubmFtZT1cIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yXCIsdGhpcy5tZXNzYWdlPVwib2JqZWN0IHVuc3Vic2NyaWJlZFwifX0pKSxkZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0LmNsb3NlZD0hMSx0LmN1cnJlbnRPYnNlcnZlcnM9bnVsbCx0Lm9ic2VydmVycz1bXSx0LmlzU3RvcHBlZD0hMSx0Lmhhc0Vycm9yPSExLHQudGhyb3duRXJyb3I9bnVsbCx0fXJldHVybiB3KHQsZSksdC5wcm90b3R5cGUubGlmdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgeWUodGhpcyx0aGlzKTtyZXR1cm4gdC5vcGVyYXRvcj1lLHR9LHQucHJvdG90eXBlLl90aHJvd0lmQ2xvc2VkPWZ1bmN0aW9uKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IHBlfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7RCgoZnVuY3Rpb24oKXt2YXIgcixuO2lmKHQuX3Rocm93SWZDbG9zZWQoKSwhdC5pc1N0b3BwZWQpe3QuY3VycmVudE9ic2VydmVyc3x8KHQuY3VycmVudE9ic2VydmVycz1BcnJheS5mcm9tKHQub2JzZXJ2ZXJzKSk7dHJ5e2Zvcih2YXIgaT1BKHQuY3VycmVudE9ic2VydmVycyksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpby52YWx1ZS5uZXh0KGUpfWNhdGNoKGUpe3I9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX19fSkpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO0QoKGZ1bmN0aW9uKCl7aWYodC5fdGhyb3dJZkNsb3NlZCgpLCF0LmlzU3RvcHBlZCl7dC5oYXNFcnJvcj10LmlzU3RvcHBlZD0hMCx0LnRocm93bkVycm9yPWU7Zm9yKHZhciByPXQub2JzZXJ2ZXJzO3IubGVuZ3RoOylyLnNoaWZ0KCkuZXJyb3IoZSl9fSkpfSx0LnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7RCgoZnVuY3Rpb24oKXtpZihlLl90aHJvd0lmQ2xvc2VkKCksIWUuaXNTdG9wcGVkKXtlLmlzU3RvcHBlZD0hMDtmb3IodmFyIHQ9ZS5vYnNlcnZlcnM7dC5sZW5ndGg7KXQuc2hpZnQoKS5jb21wbGV0ZSgpfX0pKX0sdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD10aGlzLmNsb3NlZD0hMCx0aGlzLm9ic2VydmVycz10aGlzLmN1cnJlbnRPYnNlcnZlcnM9bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib2JzZXJ2ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT10aGlzLm9ic2VydmVycyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubGVuZ3RoKT4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Rocm93SWZDbG9zZWQoKSxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcyx0KX0sdC5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdGhyb3dJZkNsb3NlZCgpLHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoZSksdGhpcy5faW5uZXJTdWJzY3JpYmUoZSl9LHQucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcyxuPXIuaGFzRXJyb3IsaT1yLmlzU3RvcHBlZCxvPXIub2JzZXJ2ZXJzO3JldHVybiBufHxpP2o6KHRoaXMuY3VycmVudE9ic2VydmVycz1udWxsLG8ucHVzaChlKSxuZXcgTSgoZnVuY3Rpb24oKXt0LmN1cnJlbnRPYnNlcnZlcnM9bnVsbCxQKG8sZSl9KSkpfSx0LnByb3RvdHlwZS5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5oYXNFcnJvcixuPXQudGhyb3duRXJyb3IsaT10LmlzU3RvcHBlZDtyP2UuZXJyb3Iobik6aSYmZS5jb21wbGV0ZSgpfSx0LnByb3RvdHlwZS5hc09ic2VydmFibGU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdGU7cmV0dXJuIGUuc291cmNlPXRoaXMsZX0sdC5jcmVhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHllKGUsdCl9LHR9KHRlKSx5ZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmRlc3RpbmF0aW9uPXQsbi5zb3VyY2U9cixufXJldHVybiB3KHQsZSksdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt2YXIgdCxyO251bGw9PT0ocj1udWxsPT09KHQ9dGhpcy5kZXN0aW5hdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQubmV4dCl8fHZvaWQgMD09PXJ8fHIuY2FsbCh0LGUpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgdCxyO251bGw9PT0ocj1udWxsPT09KHQ9dGhpcy5kZXN0aW5hdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXJyb3IpfHx2b2lkIDA9PT1yfHxyLmNhbGwodCxlKX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgZSx0O251bGw9PT0odD1udWxsPT09KGU9dGhpcy5kZXN0aW5hdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuY29tcGxldGUpfHx2b2lkIDA9PT10fHx0LmNhbGwoZSl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dmFyIHQscjtyZXR1cm4gbnVsbCE9PShyPW51bGw9PT0odD10aGlzLnNvdXJjZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3Vic2NyaWJlKGUpKSYmdm9pZCAwIT09cj9yOmp9LHR9KGRlKTtmdW5jdGlvbiBsZShlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHQ9ZS5jb25uZWN0b3Iscj12b2lkIDA9PT10P2Z1bmN0aW9uKCl7cmV0dXJuIG5ldyBkZX06dCxuPWUucmVzZXRPbkVycm9yLGk9dm9pZCAwPT09bnx8bixvPWUucmVzZXRPbkNvbXBsZXRlLHM9dm9pZCAwPT09b3x8byx1PWUucmVzZXRPblJlZkNvdW50WmVybyxhPXZvaWQgMD09PXV8fHU7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4sbyx1PTAsYz0hMSxwPSExLGQ9ZnVuY3Rpb24oKXtudWxsPT1ufHxuLnVuc3Vic2NyaWJlKCksbj12b2lkIDB9LHk9ZnVuY3Rpb24oKXtkKCksdD1vPXZvaWQgMCxjPXA9ITF9LGw9ZnVuY3Rpb24oKXt2YXIgZT10O3koKSxudWxsPT1lfHxlLnVuc3Vic2NyaWJlKCl9O3JldHVybiBiKChmdW5jdGlvbihlLGYpe3UrKyxwfHxjfHxkKCk7dmFyIGg9bz1udWxsIT1vP286cigpO2YuYWRkKChmdW5jdGlvbigpezAhPS0tdXx8cHx8Y3x8KG49ZmUobCxhKSl9KSksaC5zdWJzY3JpYmUoZiksIXQmJnU+MCYmKHQ9bmV3IEgoe25leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGgubmV4dChlKX0sZXJyb3I6ZnVuY3Rpb24oZSl7cD0hMCxkKCksbj1mZSh5LGksZSksaC5lcnJvcihlKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtjPSEwLGQoKSxuPWZlKHkscyksaC5jb21wbGV0ZSgpfX0pLGFlKGUpLnN1YnNjcmliZSh0KSl9KSkoZSl9fWZ1bmN0aW9uIGZlKGUsdCl7Zm9yKHZhciByPVtdLG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbi0yXT1hcmd1bWVudHNbbl07aWYoITAhPT10KXtpZighMSE9PXQpe3ZhciBpPW5ldyBIKHtuZXh0OmZ1bmN0aW9uKCl7aS51bnN1YnNjcmliZSgpLGUoKX19KTtyZXR1cm4gYWUodC5hcHBseSh2b2lkIDAsUyhbXSx4KHIpKSkpLnN1YnNjcmliZShpKX19ZWxzZSBlKCl9ZnVuY3Rpb24gaGUoZSx0LHIpe3JldHVybih0PXUodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIGdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ModGhpcyxlKX1yZXR1cm4gYyhlLFt7a2V5OlwiYWNjb3VudENsb3N1cmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJhY2NvdW50X2Nsb3N1cmVcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY291bnRfY2xvc3VyZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZWFzb246e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiYWNjb3VudFNlY3VyaXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYWNjb3VudF9zZWN1cml0eVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWNjb3VudF9zZWN1cml0eTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxvdHA6e3R5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0b3RwX2FjdGlvbjp7dHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImFjY291bnRTdGF0aXN0aWNzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYWNjb3VudF9zdGF0aXN0aWNzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthY2NvdW50X3N0YXRpc3RpY3M6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImFjdGl2ZVN5bWJvbHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJhY3RpdmVfc3ltYm9sc1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWN0aXZlX3N5bWJvbHM6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxsYW5kaW5nX2NvbXBhbnk6e3R5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scHJvZHVjdF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJhZmZpbGlhdGVBY2NvdW50QWRkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYWZmaWxpYXRlX2FjY291bnRfYWRkXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthZGRyZXNzX2NpdHk6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxhZGRyZXNzX2xpbmVfMTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfbGluZV8yOnt0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfcG9zdGNvZGU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxhZGRyZXNzX3N0YXRlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sYWZmaWxpYXRlX2FjY291bnRfYWRkOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGNvdW50cnk6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxmaXJzdF9uYW1lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbGFzdF9uYW1lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbm9uX3BlcF9kZWNsYXJhdGlvbjp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBob25lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0bmNfYWNjZXB0ZWQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sdXNlcm5hbWU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImFwaVRva2VuXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXBpX3Rva2VuXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthcGlfdG9rZW46e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sZGVsZXRlX3Rva2VuOnt0eXBlOlwic3RyaW5nXCJ9LG5ld190b2tlbjp7dHlwZTpcInN0cmluZ1wifSxuZXdfdG9rZW5fc2NvcGVzOnt9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdmFsaWRfZm9yX2N1cnJlbnRfaXBfb25seTp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJhcHBEZWxldGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJhcHBfZGVsZXRlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthcHBfZGVsZXRlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJhcHBHZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJhcHBfZ2V0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthcHBfZ2V0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJhcHBMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXBwX2xpc3RcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FwcF9saXN0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJhcHBNYXJrdXBEZXRhaWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXBwX21hcmt1cF9kZXRhaWxzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthcHBfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LGFwcF9tYXJrdXBfZGV0YWlsczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxjbGllbnRfbG9naW5pZDp7dHlwZTpcInN0cmluZ1wifSxkYXRlX2Zyb206e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxkYXRlX3RvOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZGVzY3JpcHRpb246e3R5cGU6XCJudW1lcmljXCJ9LGxpbWl0Ont0eXBlOlwibnVtZXJpY1wifSxvZmZzZXQ6e3R5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc29ydDp7dHlwZTpcInN0cmluZ1wifSxzb3J0X2ZpZWxkczp7fX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImFwcFJlZ2lzdGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXBwX3JlZ2lzdGVyXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthcHBfbWFya3VwX3BlcmNlbnRhZ2U6e3R5cGU6XCJudW1lcmljXCJ9LGFwcF9yZWdpc3Rlcjp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxhcHBzdG9yZTp7dHlwZTpcInN0cmluZ1wifSxnaXRodWI6e3R5cGU6XCJzdHJpbmdcIn0sZ29vZ2xlcGxheTp7dHlwZTpcInN0cmluZ1wifSxob21lcGFnZTp7dHlwZTpcInN0cmluZ1wifSxuYW1lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVkaXJlY3RfdXJpOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2NvcGVzOntyZXF1aXJlZDoxfSx2ZXJpZmljYXRpb25fdXJpOnt0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiYXBwVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXBwX3VwZGF0ZVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YXBwX21hcmt1cF9wZXJjZW50YWdlOnt0eXBlOlwibnVtZXJpY1wifSxhcHBfdXBkYXRlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGFwcHN0b3JlOnt0eXBlOlwic3RyaW5nXCJ9LGdpdGh1Yjp7dHlwZTpcInN0cmluZ1wifSxnb29nbGVwbGF5Ont0eXBlOlwic3RyaW5nXCJ9LGhvbWVwYWdlOnt0eXBlOlwic3RyaW5nXCJ9LG5hbWU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxyZWRpcmVjdF91cmk6e3R5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzY29wZXM6e3JlcXVpcmVkOjF9LHZlcmlmaWNhdGlvbl91cmk6e3R5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJhc3NldEluZGV4XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXNzZXRfaW5kZXhcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2Fzc2V0X2luZGV4OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGxhbmRpbmdfY29tcGFueTp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiYXV0aG9yaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYXV0aG9yaXplXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthZGRfdG9fbG9naW5faGlzdG9yeTp7dHlwZTpcIm51bWVyaWNcIn0sYXV0aG9yaXplOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImJhbGFuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJiYWxhbmNlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthY2NvdW50Ont0eXBlOlwic3RyaW5nXCJ9LGJhbGFuY2U6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzdWJzY3JpYmU6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiYnV5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiYnV5XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntidXk6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwYXJhbWV0ZXJzOnthbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LGFwcF9tYXJrdXBfcGVyY2VudGFnZTp7dHlwZTpcIm51bWVyaWNcIn0sYmFycmllcjp7dHlwZTpcInN0cmluZ1wifSxiYXJyaWVyMjp7dHlwZTpcInN0cmluZ1wifSxiYXJyaWVyX3JhbmdlOnt0eXBlOlwic3RyaW5nXCJ9LGJhc2lzOnt0eXBlOlwic3RyaW5nXCJ9LGNhbmNlbGxhdGlvbjp7dHlwZTpcInN0cmluZ1wifSxjb250cmFjdF90eXBlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sY3VycmVuY3k6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxkYXRlX2V4cGlyeTp7dHlwZTpcIm51bWVyaWNcIn0sZGF0ZV9zdGFydDp7dHlwZTpcIm51bWVyaWNcIn0sZHVyYXRpb246e3R5cGU6XCJudW1lcmljXCJ9LGR1cmF0aW9uX3VuaXQ6e3R5cGU6XCJzdHJpbmdcIn0sbGltaXRfb3JkZXI6e3N0b3BfbG9zczp7dHlwZTpcIm51bWVyaWNcIn0sdGFrZV9wcm9maXQ6e3R5cGU6XCJudW1lcmljXCJ9fSxtdWx0aXBsaWVyOnt0eXBlOlwibnVtZXJpY1wifSxwcm9kdWN0X3R5cGU6e3R5cGU6XCJzdHJpbmdcIn0sc2VsZWN0ZWRfdGljazp7dHlwZTpcIm51bWVyaWNcIn0sc3ltYm9sOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sdHJhZGluZ19wZXJpb2Rfc3RhcnQ6e3R5cGU6XCJudW1lcmljXCJ9fSxwYXNzdGhyb3VnaDp7fSxwcmljZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1YnNjcmliZTp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJidXlDb250cmFjdEZvck11bHRpcGxlQWNjb3VudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJidXlfY29udHJhY3RfZm9yX211bHRpcGxlX2FjY291bnRzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntidXlfY29udHJhY3RfZm9yX211bHRpcGxlX2FjY291bnRzOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFyYW1ldGVyczp7YW1vdW50Ont0eXBlOlwibnVtZXJpY1wifSxhcHBfbWFya3VwX3BlcmNlbnRhZ2U6e3R5cGU6XCJudW1lcmljXCJ9LGJhcnJpZXI6e3R5cGU6XCJzdHJpbmdcIn0sYmFycmllcjI6e3R5cGU6XCJzdHJpbmdcIn0sYmFzaXM6e3R5cGU6XCJzdHJpbmdcIn0sY29udHJhY3RfdHlwZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGN1cnJlbmN5OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZGF0ZV9leHBpcnk6e3R5cGU6XCJudW1lcmljXCJ9LGRhdGVfc3RhcnQ6e3R5cGU6XCJudW1lcmljXCJ9LGR1cmF0aW9uOnt0eXBlOlwibnVtZXJpY1wifSxkdXJhdGlvbl91bml0Ont0eXBlOlwic3RyaW5nXCJ9LG11bHRpcGxpZXI6e3R5cGU6XCJudW1lcmljXCJ9LHNlbGVjdGVkX3RpY2s6e3R5cGU6XCJudW1lcmljXCJ9LHN5bWJvbDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fSxwYXNzdGhyb3VnaDp7fSxwcmljZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRva2Vuczp7cmVxdWlyZWQ6MX19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJjYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJjYW5jZWxcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NhbmNlbDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiY2FzaGllclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImNhc2hpZXJcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FkZHJlc3M6e3R5cGU6XCJzdHJpbmdcIn0sYW1vdW50Ont0eXBlOlwibnVtZXJpY1wifSxjYXNoaWVyOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZHJ5X3J1bjp7dHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scHJvdmlkZXI6e3R5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHZlcmlmaWNhdGlvbl9jb2RlOnt0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiY2FzaGllclBheW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiY2FzaGllcl9wYXltZW50c1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Y2FzaGllcl9wYXltZW50czp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwcm92aWRlcjp7dHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1YnNjcmliZTp7dHlwZTpcIm51bWVyaWNcIn0sdHJhbnNhY3Rpb25fdHlwZTp7dHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImNhc2hpZXJXaXRoZHJhd2FsQ2FuY2VsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiY2FzaGllcl93aXRoZHJhd2FsX2NhbmNlbFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Y2FzaGllcl93aXRoZHJhd2FsX2NhbmNlbDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxpZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJjaGFuZ2VFbWFpbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImNoYW5nZV9lbWFpbFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Y2hhbmdlX2VtYWlsOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbmV3X2VtYWlsOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbmV3X3Bhc3N3b3JkOnt0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdmVyaWZpY2F0aW9uX2NvZGU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImNoYW5nZVBhc3N3b3JkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiY2hhbmdlX3Bhc3N3b3JkXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjaGFuZ2VfcGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sbmV3X3Bhc3N3b3JkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sb2xkX3Bhc3N3b3JkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImNvbnRyYWN0VXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiY29udHJhY3RfdXBkYXRlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjb250cmFjdF9pZDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxjb250cmFjdF91cGRhdGU6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sbGltaXRfb3JkZXI6e3N0b3BfbG9zczp7fSx0YWtlX3Byb2ZpdDp7fX0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImNvbnRyYWN0VXBkYXRlSGlzdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImNvbnRyYWN0X3VwZGF0ZV9oaXN0b3J5XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjb250cmFjdF9pZDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxjb250cmFjdF91cGRhdGVfaGlzdG9yeTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxsaW1pdDp7dHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImNvbnRyYWN0c0ZvclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImNvbnRyYWN0c19mb3JcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NvbnRyYWN0c19mb3I6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxjdXJyZW5jeTp7dHlwZTpcInN0cmluZ1wifSxsYW5kaW5nX2NvbXBhbnk6e3R5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scHJvZHVjdF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJjb3B5U3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJjb3B5X3N0YXJ0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthc3NldHM6e30sY29weV9zdGFydDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG1heF90cmFkZV9zdGFrZTp7dHlwZTpcIm51bWVyaWNcIn0sbWluX3RyYWRlX3N0YWtlOnt0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRyYWRlX3R5cGVzOnt9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiY29weVN0b3BcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJjb3B5X3N0b3BcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NvcHlfc3RvcDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJjb3B5dHJhZGluZ0xpc3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJjb3B5dHJhZGluZ19saXN0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjb3B5dHJhZGluZ19saXN0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJjb3B5dHJhZGluZ1N0YXRpc3RpY3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJjb3B5dHJhZGluZ19zdGF0aXN0aWNzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjb3B5dHJhZGluZ19zdGF0aXN0aWNzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHJhZGVyX2lkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJjcnlwdG9Db25maWdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJjcnlwdG9fY29uZmlnXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjcnlwdG9fY29uZmlnOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGN1cnJlbmN5X2NvZGU6e3R5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImRvY3VtZW50VXBsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiZG9jdW1lbnRfdXBsb2FkXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntkb2N1bWVudF9mb3JtYXQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxkb2N1bWVudF9pZDp7dHlwZTpcInN0cmluZ1wifSxkb2N1bWVudF9pc3N1aW5nX2NvdW50cnk6e3R5cGU6XCJzdHJpbmdcIn0sZG9jdW1lbnRfdHlwZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGRvY3VtZW50X3VwbG9hZDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxleHBlY3RlZF9jaGVja3N1bTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGV4cGlyYXRpb25fZGF0ZTp7dHlwZTpcInN0cmluZ1wifSxmaWxlX3NpemU6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sbGlmZXRpbWVfdmFsaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHBhZ2VfdHlwZTp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwcm9vZl9vZl9vd25lcnNoaXA6e2RldGFpbHM6e3JlcXVpcmVkOjF9LGlkOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiZWNvbm9taWNDYWxlbmRhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImVjb25vbWljX2NhbGVuZGFyXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjdXJyZW5jeTp7dHlwZTpcInN0cmluZ1wifSxlY29ub21pY19jYWxlbmRhcjp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxlbmRfZGF0ZTp7dHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzdGFydF9kYXRlOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImV4Y2hhbmdlUmF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJleGNoYW5nZV9yYXRlc1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YmFzZV9jdXJyZW5jeTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGV4Y2hhbmdlX3JhdGVzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifSx0YXJnZXRfY3VycmVuY3k6e3R5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJmb3JnZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJmb3JnZXRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2ZvcmdldDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJmb3JnZXRBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJmb3JnZXRfYWxsXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntmb3JnZXRfYWxsOntyZXF1aXJlZDoxfSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiZ2V0QWNjb3VudFN0YXR1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImdldF9hY2NvdW50X3N0YXR1c1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Z2V0X2FjY291bnRfc3RhdHVzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJnZXRBY2NvdW50VHlwZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJnZXRfYWNjb3VudF90eXBlc1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Z2V0X2FjY291bnRfdHlwZXM6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImdldEF2YWlsYWJsZUFjY291bnRzVG9UcmFuc2ZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImdldF9hdmFpbGFibGVfYWNjb3VudHNfdG9fdHJhbnNmZXJcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2dldF9hdmFpbGFibGVfYWNjb3VudHNfdG9fdHJhbnNmZXI6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sbG9naW5pZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJnZXRGaW5hbmNpYWxBc3Nlc3NtZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwiZ2V0X2ZpbmFuY2lhbF9hc3Nlc3NtZW50XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntnZXRfZmluYW5jaWFsX2Fzc2Vzc21lbnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImdldExpbWl0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImdldF9saW1pdHNcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2dldF9saW1pdHM6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImdldFNlbGZFeGNsdXNpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJnZXRfc2VsZl9leGNsdXNpb25cIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2dldF9zZWxmX2V4Y2x1c2lvbjp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiZ2V0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJnZXRfc2V0dGluZ3NcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2dldF9zZXR0aW5nczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwiaWRlbnRpdHlWZXJpZmljYXRpb25Eb2N1bWVudEFkZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImlkZW50aXR5X3ZlcmlmaWNhdGlvbl9kb2N1bWVudF9hZGRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2RvY3VtZW50X251bWJlcjp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGRvY3VtZW50X3R5cGU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxpZGVudGl0eV92ZXJpZmljYXRpb25fZG9jdW1lbnRfYWRkOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGlzc3VpbmdfY291bnRyeTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJsYW5kaW5nQ29tcGFueVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImxhbmRpbmdfY29tcGFueVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7bGFuZGluZ19jb21wYW55OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcImxhbmRpbmdDb21wYW55RGV0YWlsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcImxhbmRpbmdfY29tcGFueV9kZXRhaWxzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntsYW5kaW5nX2NvbXBhbnlfZGV0YWlsczp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJsaW5rV2FsbGV0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwibGlua193YWxsZXRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NsaWVudF9pZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGxpbmtfd2FsbGV0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sd2FsbGV0X2lkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJsb2dpbkhpc3RvcnlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJsb2dpbl9oaXN0b3J5XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntsaW1pdDp7dHlwZTpcIm51bWVyaWNcIn0sbG9naW5faGlzdG9yeTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwibG9nb3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwibG9nb3V0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntsb2dvdXQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIm10NURlcG9zaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJtdDVfZGVwb3NpdFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YW1vdW50Ont0eXBlOlwibnVtZXJpY1wifSxmcm9tX2JpbmFyeTp7dHlwZTpcInN0cmluZ1wifSxtdDVfZGVwb3NpdDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRvX210NTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwibXQ1R2V0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJtdDVfZ2V0X3NldHRpbmdzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntsb2dpbjp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG10NV9nZXRfc2V0dGluZ3M6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIm10NUxvZ2luTGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm10NV9sb2dpbl9saXN0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnttdDVfbG9naW5fbGlzdDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwibXQ1TmV3QWNjb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm10NV9uZXdfYWNjb3VudFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWNjb3VudF90eXBlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sYWRkcmVzczp7dHlwZTpcInN0cmluZ1wifSxjaXR5Ont0eXBlOlwic3RyaW5nXCJ9LGNvbXBhbnk6e3R5cGU6XCJzdHJpbmdcIn0sY291bnRyeTp7dHlwZTpcInN0cmluZ1wifSxjdXJyZW5jeTp7dHlwZTpcInN0cmluZ1wifSxkcnlfcnVuOnt0eXBlOlwibnVtZXJpY1wifSxlbWFpbDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGludmVzdFBhc3N3b3JkOnt0eXBlOlwic3RyaW5nXCJ9LGxldmVyYWdlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LG1haW5QYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG10NV9hY2NvdW50X2NhdGVnb3J5Ont0eXBlOlwic3RyaW5nXCJ9LG10NV9hY2NvdW50X3R5cGU6e3R5cGU6XCJzdHJpbmdcIn0sbXQ1X25ld19hY2NvdW50OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LG5hbWU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwaG9uZTp7dHlwZTpcInN0cmluZ1wifSxwaG9uZVBhc3N3b3JkOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2VydmVyOnt9LHN0YXRlOnt0eXBlOlwic3RyaW5nXCJ9LHppcENvZGU6e3R5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJtdDVQYXNzd29yZENoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm10NV9wYXNzd29yZF9jaGFuZ2VcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2xvZ2luOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbXQ1X3Bhc3N3b3JkX2NoYW5nZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxuZXdfcGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxvbGRfcGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwYXNzd29yZF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJtdDVQYXNzd29yZENoZWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwibXQ1X3Bhc3N3b3JkX2NoZWNrXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntsb2dpbjp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG10NV9wYXNzd29yZF9jaGVjazp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N3b3JkX3R5cGU6e3R5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIm10NVBhc3N3b3JkUmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJtdDVfcGFzc3dvcmRfcmVzZXRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2xvZ2luOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbXQ1X3Bhc3N3b3JkX3Jlc2V0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LG5ld19wYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHBhc3N3b3JkX3R5cGU6e3R5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx2ZXJpZmljYXRpb25fY29kZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwibXQ1V2l0aGRyYXdhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm10NV93aXRoZHJhd2FsXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthbW91bnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sZnJvbV9tdDU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxtdDVfd2l0aGRyYXdhbDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRvX2JpbmFyeTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwibmV3QWNjb3VudE1hbHRhaW52ZXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwibmV3X2FjY291bnRfbWFsdGFpbnZlc3RcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY2VwdF9yaXNrOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGFjY291bnRfb3BlbmluZ19yZWFzb246e3R5cGU6XCJzdHJpbmdcIn0sYWNjb3VudF90dXJub3Zlcjp7dHlwZTpcInN0cmluZ1wifSxhZGRyZXNzX2NpdHk6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxhZGRyZXNzX2xpbmVfMTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfbGluZV8yOnt0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfcG9zdGNvZGU6e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19zdGF0ZTp7dHlwZTpcInN0cmluZ1wifSxhZmZpbGlhdGVfdG9rZW46e3R5cGU6XCJzdHJpbmdcIn0sYmluYXJ5X29wdGlvbnNfdHJhZGluZ19leHBlcmllbmNlOnt0eXBlOlwic3RyaW5nXCJ9LGJpbmFyeV9vcHRpb25zX3RyYWRpbmdfZnJlcXVlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGNmZF90cmFkaW5nX2V4cGVyaWVuY2U6e3R5cGU6XCJzdHJpbmdcIn0sY2ZkX3RyYWRpbmdfZnJlcXVlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGNpdGl6ZW46e3R5cGU6XCJzdHJpbmdcIn0sY2xpZW50X3R5cGU6e3R5cGU6XCJzdHJpbmdcIn0sY3VycmVuY3k6e3R5cGU6XCJzdHJpbmdcIn0sZGF0ZV9vZl9iaXJ0aDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGVkdWNhdGlvbl9sZXZlbDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGVtcGxveW1lbnRfaW5kdXN0cnk6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxlbXBsb3ltZW50X3N0YXR1czp7dHlwZTpcInN0cmluZ1wifSxlc3RpbWF0ZWRfd29ydGg6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxmaXJzdF9uYW1lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZm9yZXhfdHJhZGluZ19leHBlcmllbmNlOnt0eXBlOlwic3RyaW5nXCJ9LGZvcmV4X3RyYWRpbmdfZnJlcXVlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGluY29tZV9zb3VyY2U6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxsYXN0X25hbWU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxuZXRfaW5jb21lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sbmV3X2FjY291bnRfbWFsdGFpbnZlc3Q6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sbm9uX3BlcF9kZWNsYXJhdGlvbjp7dHlwZTpcIm51bWVyaWNcIn0sb2NjdXBhdGlvbjp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG90aGVyX2luc3RydW1lbnRzX3RyYWRpbmdfZXhwZXJpZW5jZTp7dHlwZTpcInN0cmluZ1wifSxvdGhlcl9pbnN0cnVtZW50c190cmFkaW5nX2ZyZXF1ZW5jeTp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwaG9uZTp7fSxwbGFjZV9vZl9iaXJ0aDp7dHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHJlc2lkZW5jZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHNhbHV0YXRpb246e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxzZWNyZXRfYW5zd2VyOnt0eXBlOlwic3RyaW5nXCJ9LHNlY3JldF9xdWVzdGlvbjp7dHlwZTpcInN0cmluZ1wifSxzb3VyY2Vfb2Zfd2VhbHRoOnt0eXBlOlwic3RyaW5nXCJ9LHRheF9pZGVudGlmaWNhdGlvbl9udW1iZXI6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSx0YXhfcmVzaWRlbmNlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJuZXdBY2NvdW50UmVhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm5ld19hY2NvdW50X3JlYWxcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY291bnRfb3BlbmluZ19yZWFzb246e3R5cGU6XCJzdHJpbmdcIn0sYWNjb3VudF90dXJub3Zlcjp7dHlwZTpcInN0cmluZ1wifSxhZGRyZXNzX2NpdHk6e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19saW5lXzE6e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19saW5lXzI6e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19wb3N0Y29kZTp7dHlwZTpcInN0cmluZ1wifSxhZGRyZXNzX3N0YXRlOnt0eXBlOlwic3RyaW5nXCJ9LGFmZmlsaWF0ZV90b2tlbjp7dHlwZTpcInN0cmluZ1wifSxjaXRpemVuOnt9LGNsaWVudF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LGN1cnJlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGRhdGVfb2ZfYmlydGg6e3R5cGU6XCJzdHJpbmdcIn0sZmlyc3RfbmFtZTp7dHlwZTpcInN0cmluZ1wifSxsYXN0X25hbWU6e3R5cGU6XCJzdHJpbmdcIn0sbmV3X2FjY291bnRfcmVhbDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxub25fcGVwX2RlY2xhcmF0aW9uOnt0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwaG9uZTp7fSxwbGFjZV9vZl9iaXJ0aDp7dHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHJlc2lkZW5jZTp7dHlwZTpcInN0cmluZ1wifSxzYWx1dGF0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LHNlY3JldF9hbnN3ZXI6e3R5cGU6XCJzdHJpbmdcIn0sc2VjcmV0X3F1ZXN0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LHRheF9pZGVudGlmaWNhdGlvbl9udW1iZXI6e3R5cGU6XCJzdHJpbmdcIn0sdGF4X3Jlc2lkZW5jZTp7dHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIm5ld0FjY291bnRWaXJ0dWFsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwibmV3X2FjY291bnRfdmlydHVhbFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWZmaWxpYXRlX3Rva2VuOnt0eXBlOlwic3RyaW5nXCJ9LGNsaWVudF9wYXNzd29yZDp7dHlwZTpcInN0cmluZ1wifSxkYXRlX2ZpcnN0X2NvbnRhY3Q6e3R5cGU6XCJzdHJpbmdcIn0sZW1haWxfY29uc2VudDp7dHlwZTpcIm51bWVyaWNcIn0sZ2NsaWRfdXJsOnt0eXBlOlwic3RyaW5nXCJ9LG5ld19hY2NvdW50X3ZpcnR1YWw6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxyZXNpZGVuY2U6e3R5cGU6XCJzdHJpbmdcIn0sc2lnbnVwX2RldmljZTp7dHlwZTpcInN0cmluZ1wifSx0eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHV0bV9hZF9pZDp7fSx1dG1fYWRncm91cF9pZDp7fSx1dG1fYWRyb2xsY2xrX2lkOnt9LHV0bV9jYW1wYWlnbjp7fSx1dG1fY2FtcGFpZ25faWQ6e30sdXRtX2NvbnRlbnQ6e30sdXRtX2ZiY2xfaWQ6e30sdXRtX2dsX2NsaWVudF9pZDp7fSx1dG1fbWVkaXVtOnt9LHV0bV9tc2Nsa19pZDp7fSx1dG1fc291cmNlOnt9LHV0bV90ZXJtOnt9LHZlcmlmaWNhdGlvbl9jb2RlOnt0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwibmV3QWNjb3VudFdhbGxldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm5ld19hY2NvdW50X3dhbGxldFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWRkcmVzc19jaXR5Ont0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfbGluZV8xOnt0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfbGluZV8yOnt0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfcG9zdGNvZGU6e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19zdGF0ZTp7dHlwZTpcInN0cmluZ1wifSxjdXJyZW5jeTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGRhdGVfb2ZfYmlydGg6e3R5cGU6XCJzdHJpbmdcIn0sZmlyc3RfbmFtZTp7dHlwZTpcInN0cmluZ1wifSxsYXN0X25hbWU6e3R5cGU6XCJzdHJpbmdcIn0sbmV3X2FjY291bnRfd2FsbGV0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LG5vbl9wZXBfZGVjbGFyYXRpb246e3R5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHBheW1lbnRfbWV0aG9kOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGhvbmU6e3R5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIm5vdGlmaWNhdGlvbkV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwibm90aWZpY2F0aW9uX2V2ZW50XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthcmdzOntkb2N1bWVudHM6e319LGNhdGVnb3J5OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZXZlbnQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxub3RpZmljYXRpb25fZXZlbnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIm9hdXRoQXBwc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcIm9hdXRoX2FwcHNcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e29hdXRoX2FwcHM6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycEFkdmVydENyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9hZHZlcnRfY3JlYXRlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthbW91bnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sY29udGFjdF9pbmZvOnt0eXBlOlwic3RyaW5nXCJ9LGRlc2NyaXB0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LGxvY2FsX2N1cnJlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LG1heF9vcmRlcl9hbW91bnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sbWluX29yZGVyX2Ftb3VudDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwMnBfYWR2ZXJ0X2NyZWF0ZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwYXltZW50X2luZm86e3R5cGU6XCJzdHJpbmdcIn0scGF5bWVudF9tZXRob2Q6e3R5cGU6XCJzdHJpbmdcIn0scGF5bWVudF9tZXRob2RfaWRzOnt9LHBheW1lbnRfbWV0aG9kX25hbWVzOnt9LHJhdGU6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scmF0ZV90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHlwZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicDJwQWR2ZXJ0SW5mb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9hZHZlcnRfaW5mb1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7aWQ6e3R5cGU6XCJzdHJpbmdcIn0scDJwX2FkdmVydF9pbmZvOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifSx1c2VfY2xpZW50X2xpbWl0czp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBBZHZlcnRMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicDJwX2FkdmVydF9saXN0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthZHZlcnRpc2VyX2lkOnt0eXBlOlwic3RyaW5nXCJ9LGFkdmVydGlzZXJfbmFtZTp7dHlwZTpcInN0cmluZ1wifSxhbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LGNvdW50ZXJwYXJ0eV90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LGZhdm91cml0ZXNfb25seTp7dHlwZTpcIm51bWVyaWNcIn0sbGltaXQ6e3R5cGU6XCJudW1lcmljXCJ9LGxvY2FsX2N1cnJlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LG9mZnNldDp7dHlwZTpcIm51bWVyaWNcIn0scDJwX2FkdmVydF9saXN0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHBheW1lbnRfbWV0aG9kOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc29ydF9ieTp7dHlwZTpcInN0cmluZ1wifSx1c2VfY2xpZW50X2xpbWl0czp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBBZHZlcnRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwMnBfYWR2ZXJ0X3VwZGF0ZVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Y29udGFjdF9pbmZvOnt0eXBlOlwic3RyaW5nXCJ9LGRlbGV0ZTp7dHlwZTpcIm51bWVyaWNcIn0sZGVzY3JpcHRpb246e3R5cGU6XCJzdHJpbmdcIn0saWQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxpc19hY3RpdmU6e3R5cGU6XCJudW1lcmljXCJ9LGxvY2FsX2N1cnJlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LG1heF9vcmRlcl9hbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LG1pbl9vcmRlcl9hbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LHAycF9hZHZlcnRfdXBkYXRlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHBheW1lbnRfaW5mbzp7dHlwZTpcInN0cmluZ1wifSxwYXltZW50X21ldGhvZF9pZHM6e30scGF5bWVudF9tZXRob2RfbmFtZXM6e30scmF0ZTp7dHlwZTpcIm51bWVyaWNcIn0scmF0ZV90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHJlbWFpbmluZ19hbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBBZHZlcnRpc2VyQWR2ZXJ0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9hZHZlcnRpc2VyX2FkdmVydHNcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2xpbWl0Ont0eXBlOlwibnVtZXJpY1wifSxvZmZzZXQ6e3R5cGU6XCJudW1lcmljXCJ9LHAycF9hZHZlcnRpc2VyX2FkdmVydHM6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycEFkdmVydGlzZXJDcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwMnBfYWR2ZXJ0aXNlcl9jcmVhdGVcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NvbnRhY3RfaW5mbzp7dHlwZTpcInN0cmluZ1wifSxkZWZhdWx0X2FkdmVydF9kZXNjcmlwdGlvbjp7dHlwZTpcInN0cmluZ1wifSxuYW1lOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scDJwX2FkdmVydGlzZXJfY3JlYXRlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHBheW1lbnRfaW5mbzp7dHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1YnNjcmliZTp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBBZHZlcnRpc2VySW5mb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9hZHZlcnRpc2VyX2luZm9cIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2lkOnt0eXBlOlwic3RyaW5nXCJ9LHAycF9hZHZlcnRpc2VyX2luZm86e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzdWJzY3JpYmU6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicDJwQWR2ZXJ0aXNlclBheW1lbnRNZXRob2RzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicDJwX2FkdmVydGlzZXJfcGF5bWVudF9tZXRob2RzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjcmVhdGU6e30sZGVsZXRlOnt9LHAycF9hZHZlcnRpc2VyX3BheW1lbnRfbWV0aG9kczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHVwZGF0ZTp7fX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycEFkdmVydGlzZXJSZWxhdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwMnBfYWR2ZXJ0aXNlcl9yZWxhdGlvbnNcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FkZF9ibG9ja2VkOnt9LGFkZF9mYXZvdXJpdGVzOnt9LHAycF9hZHZlcnRpc2VyX3JlbGF0aW9uczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZW1vdmVfYmxvY2tlZDp7fSxyZW1vdmVfZmF2b3VyaXRlczp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicDJwQWR2ZXJ0aXNlclVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9hZHZlcnRpc2VyX3VwZGF0ZVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Y29udGFjdF9pbmZvOnt0eXBlOlwic3RyaW5nXCJ9LGRlZmF1bHRfYWR2ZXJ0X2Rlc2NyaXB0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LGlzX2xpc3RlZDp7dHlwZTpcIm51bWVyaWNcIn0scDJwX2FkdmVydGlzZXJfdXBkYXRlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHBheW1lbnRfaW5mbzp7dHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHNob3dfbmFtZTp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBDaGF0Q3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicDJwX2NoYXRfY3JlYXRlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntvcmRlcl9pZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHAycF9jaGF0X2NyZWF0ZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicDJwT3JkZXJDYW5jZWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwMnBfb3JkZXJfY2FuY2VsXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntpZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHAycF9vcmRlcl9jYW5jZWw6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycE9yZGVyQ29uZmlybVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9vcmRlcl9jb25maXJtXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntpZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHAycF9vcmRlcl9jb25maXJtOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBPcmRlckNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9vcmRlcl9jcmVhdGVcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FkdmVydF9pZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGFtb3VudDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxjb250YWN0X2luZm86e3R5cGU6XCJzdHJpbmdcIn0scDJwX29yZGVyX2NyZWF0ZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwYXltZW50X2luZm86e3R5cGU6XCJzdHJpbmdcIn0scGF5bWVudF9tZXRob2RfaWRzOnt9LHJhdGU6e3R5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycE9yZGVyRGlzcHV0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9vcmRlcl9kaXNwdXRlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntkaXNwdXRlX3JlYXNvbjp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGlkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scDJwX29yZGVyX2Rpc3B1dGU6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycE9yZGVySW5mb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9vcmRlcl9pbmZvXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntpZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHAycF9vcmRlcl9pbmZvOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycE9yZGVyTGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9vcmRlcl9saXN0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthY3RpdmU6e3R5cGU6XCJudW1lcmljXCJ9LGFkdmVydF9pZDp7dHlwZTpcInN0cmluZ1wifSxsaW1pdDp7dHlwZTpcIm51bWVyaWNcIn0sb2Zmc2V0Ont0eXBlOlwibnVtZXJpY1wifSxwMnBfb3JkZXJfbGlzdDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1YnNjcmliZTp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwMnBPcmRlclJldmlld1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9vcmRlcl9yZXZpZXdcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e29yZGVyX2lkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scDJwX29yZGVyX3Jldmlldzp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyYXRpbmc6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scmVjb21tZW5kZWQ6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInAycFBheW1lbnRNZXRob2RzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicDJwX3BheW1lbnRfbWV0aG9kc1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cDJwX3BheW1lbnRfbWV0aG9kczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicDJwUGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInAycF9waW5nXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntwMnBfcGluZzp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicGF5bWVudE1ldGhvZHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwYXltZW50X21ldGhvZHNcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NvdW50cnk6e3R5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scGF5bWVudF9tZXRob2RzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwYXltZW50YWdlbnRDcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwYXltZW50YWdlbnRfY3JlYXRlXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthZmZpbGlhdGVfaWQ6e3R5cGU6XCJzdHJpbmdcIn0sY29kZV9vZl9jb25kdWN0X2FwcHJvdmFsOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGNvbW1pc3Npb25fZGVwb3NpdDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxjb21taXNzaW9uX3dpdGhkcmF3YWw6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sZW1haWw6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxpbmZvcm1hdGlvbjp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHBheW1lbnRfYWdlbnRfbmFtZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBheW1lbnRhZ2VudF9jcmVhdGU6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGhvbmVfbnVtYmVyczp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1cHBvcnRlZF9wYXltZW50X21ldGhvZHM6e3JlcXVpcmVkOjF9LHVybHM6e3JlcXVpcmVkOjF9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicGF5bWVudGFnZW50RGV0YWlsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInBheW1lbnRhZ2VudF9kZXRhaWxzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntwYXNzdGhyb3VnaDp7fSxwYXltZW50YWdlbnRfZGV0YWlsczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicGF5bWVudGFnZW50TGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInBheW1lbnRhZ2VudF9saXN0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjdXJyZW5jeTp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwYXltZW50YWdlbnRfbGlzdDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwYXltZW50YWdlbnRUcmFuc2ZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInBheW1lbnRhZ2VudF90cmFuc2ZlclwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YW1vdW50OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGN1cnJlbmN5OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZGVzY3JpcHRpb246e3R5cGU6XCJzdHJpbmdcIn0sZHJ5X3J1bjp7dHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scGF5bWVudGFnZW50X3RyYW5zZmVyOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHJhbnNmZXJfdG86e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInBheW1lbnRhZ2VudFdpdGhkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicGF5bWVudGFnZW50X3dpdGhkcmF3XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthbW91bnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sY3VycmVuY3k6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxkZXNjcmlwdGlvbjp7dHlwZTpcInN0cmluZ1wifSxkcnlfcnVuOnt0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwYXltZW50YWdlbnRfbG9naW5pZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBheW1lbnRhZ2VudF93aXRoZHJhdzp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHZlcmlmaWNhdGlvbl9jb2RlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwYXlvdXRDdXJyZW5jaWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicGF5b3V0X2N1cnJlbmNpZXNcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e3Bhc3N0aHJvdWdoOnt9LHBheW91dF9jdXJyZW5jaWVzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicGluZ1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scGluZzp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicG9ydGZvbGlvXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicG9ydGZvbGlvXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntjb250cmFjdF90eXBlOnt9LHBhc3N0aHJvdWdoOnt9LHBvcnRmb2xpbzp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicHJvZml0VGFibGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJwcm9maXRfdGFibGVcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NvbnRyYWN0X3R5cGU6e30sZGF0ZV9mcm9tOnt0eXBlOlwic3RyaW5nXCJ9LGRhdGVfdG86e3R5cGU6XCJzdHJpbmdcIn0sZGVzY3JpcHRpb246e3R5cGU6XCJudW1lcmljXCJ9LGxpbWl0Ont0eXBlOlwibnVtZXJpY1wifSxvZmZzZXQ6e3R5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHByb2ZpdF90YWJsZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHNvcnQ6e3R5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwcm9wb3NhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInByb3Bvc2FsXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LGJhcnJpZXI6e3R5cGU6XCJzdHJpbmdcIn0sYmFycmllcjI6e3R5cGU6XCJzdHJpbmdcIn0sYmFycmllcl9yYW5nZTp7dHlwZTpcInN0cmluZ1wifSxiYXNpczp7dHlwZTpcInN0cmluZ1wifSxjYW5jZWxsYXRpb246e3R5cGU6XCJzdHJpbmdcIn0sY29udHJhY3RfdHlwZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGN1cnJlbmN5OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sZGF0ZV9leHBpcnk6e3R5cGU6XCJudW1lcmljXCJ9LGRhdGVfc3RhcnQ6e3R5cGU6XCJudW1lcmljXCJ9LGR1cmF0aW9uOnt0eXBlOlwibnVtZXJpY1wifSxkdXJhdGlvbl91bml0Ont0eXBlOlwic3RyaW5nXCJ9LGxpbWl0X29yZGVyOntzdG9wX2xvc3M6e3R5cGU6XCJudW1lcmljXCJ9LHRha2VfcHJvZml0Ont0eXBlOlwibnVtZXJpY1wifX0sbXVsdGlwbGllcjp7dHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scHJvZHVjdF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHByb3Bvc2FsOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2VsZWN0ZWRfdGljazp7dHlwZTpcIm51bWVyaWNcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifSxzeW1ib2w6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSx0cmFkaW5nX3BlcmlvZF9zdGFydDp7dHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJwcm9wb3NhbE9wZW5Db250cmFjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInByb3Bvc2FsX29wZW5fY29udHJhY3RcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2NvbnRyYWN0X2lkOnt0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwcm9wb3NhbF9vcGVuX2NvbnRyYWN0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInJlYWxpdHlDaGVja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInJlYWxpdHlfY2hlY2tcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e3Bhc3N0aHJvdWdoOnt9LHJlYWxpdHlfY2hlY2s6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInJlcXVlc3RSZXBvcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJyZXF1ZXN0X3JlcG9ydFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7ZGF0ZV9mcm9tOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LGRhdGVfdG86e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVwb3J0X3R5cGU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHJlcXVlc3RfcmVwb3J0OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicmVzZXRQYXNzd29yZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInJlc2V0X3Bhc3N3b3JkXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntkYXRlX29mX2JpcnRoOnt0eXBlOlwic3RyaW5nXCJ9LG5ld19wYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0scmVzZXRfcGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sdmVyaWZpY2F0aW9uX2NvZGU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInJlc2lkZW5jZUxpc3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJyZXNpZGVuY2VfbGlzdFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxyZXNpZGVuY2VfbGlzdDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInJldm9rZU9hdXRoQXBwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwicmV2b2tlX29hdXRoX2FwcFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxyZXZva2Vfb2F1dGhfYXBwOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5Olwic2VsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInNlbGxcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e3Bhc3N0aHJvdWdoOnt9LHByaWNlOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2VsbDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInNlbGxDb250cmFjdEZvck11bHRpcGxlQWNjb3VudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJzZWxsX2NvbnRyYWN0X2Zvcl9tdWx0aXBsZV9hY2NvdW50c1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scHJpY2U6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzZWxsX2NvbnRyYWN0X2Zvcl9tdWx0aXBsZV9hY2NvdW50czp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSxzaG9ydGNvZGU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSx0b2tlbnM6e3JlcXVpcmVkOjF9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5Olwic2VsbEV4cGlyZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJzZWxsX2V4cGlyZWRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e3Bhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2VsbF9leHBpcmVkOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5Olwic2VydmljZVRva2VuXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwic2VydmljZV90b2tlblwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7Y291bnRyeTp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxyZWZlcnJlcjp7dHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHNlcnZlcjp7dHlwZTpcInN0cmluZ1wifSxzZXJ2aWNlOntyZXF1aXJlZDoxfSxzZXJ2aWNlX3Rva2VuOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5Olwic2V0QWNjb3VudEN1cnJlbmN5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwic2V0X2FjY291bnRfY3VycmVuY3lcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e3Bhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2V0X2FjY291bnRfY3VycmVuY3k6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInNldEZpbmFuY2lhbEFzc2Vzc21lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJzZXRfZmluYW5jaWFsX2Fzc2Vzc21lbnRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY291bnRfdHVybm92ZXI6e3R5cGU6XCJzdHJpbmdcIn0sYmluYXJ5X29wdGlvbnNfdHJhZGluZ19leHBlcmllbmNlOnt0eXBlOlwic3RyaW5nXCJ9LGJpbmFyeV9vcHRpb25zX3RyYWRpbmdfZnJlcXVlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGNmZF90cmFkaW5nX2V4cGVyaWVuY2U6e3R5cGU6XCJzdHJpbmdcIn0sY2ZkX3RyYWRpbmdfZnJlcXVlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGVkdWNhdGlvbl9sZXZlbDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGVtcGxveW1lbnRfaW5kdXN0cnk6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxlbXBsb3ltZW50X3N0YXR1czp7dHlwZTpcInN0cmluZ1wifSxlc3RpbWF0ZWRfd29ydGg6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxmb3JleF90cmFkaW5nX2V4cGVyaWVuY2U6e3R5cGU6XCJzdHJpbmdcIn0sZm9yZXhfdHJhZGluZ19mcmVxdWVuY3k6e3R5cGU6XCJzdHJpbmdcIn0saW5jb21lX3NvdXJjZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG5ldF9pbmNvbWU6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxvY2N1cGF0aW9uOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sb3RoZXJfaW5zdHJ1bWVudHNfdHJhZGluZ19leHBlcmllbmNlOnt0eXBlOlwic3RyaW5nXCJ9LG90aGVyX2luc3RydW1lbnRzX3RyYWRpbmdfZnJlcXVlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc2V0X2ZpbmFuY2lhbF9hc3Nlc3NtZW50OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9LHNvdXJjZV9vZl93ZWFsdGg6e3R5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJzZXRTZWxmRXhjbHVzaW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwic2V0X3NlbGZfZXhjbHVzaW9uXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntleGNsdWRlX3VudGlsOnt9LG1heF8zMGRheV9kZXBvc2l0Ont9LG1heF8zMGRheV9sb3NzZXM6e30sbWF4XzMwZGF5X3R1cm5vdmVyOnt9LG1heF83ZGF5X2RlcG9zaXQ6e30sbWF4XzdkYXlfbG9zc2VzOnt9LG1heF83ZGF5X3R1cm5vdmVyOnt9LG1heF9iYWxhbmNlOnt9LG1heF9kZXBvc2l0Ont9LG1heF9sb3NzZXM6e30sbWF4X29wZW5fYmV0czp7fSxtYXhfdHVybm92ZXI6e30scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzZXNzaW9uX2R1cmF0aW9uX2xpbWl0Ont9LHNldF9zZWxmX2V4Y2x1c2lvbjp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSx0aW1lb3V0X3VudGlsOnt9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5Olwic2V0U2V0dGluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJzZXRfc2V0dGluZ3NcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY291bnRfb3BlbmluZ19yZWFzb246e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19jaXR5Ont0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfbGluZV8xOnt0eXBlOlwic3RyaW5nXCJ9LGFkZHJlc3NfbGluZV8yOnt9LGFkZHJlc3NfcG9zdGNvZGU6e3R5cGU6XCJzdHJpbmdcIn0sYWRkcmVzc19zdGF0ZTp7dHlwZTpcInN0cmluZ1wifSxhbGxvd19jb3BpZXJzOnt0eXBlOlwibnVtZXJpY1wifSxjaXRpemVuOnt9LGRhdGVfb2ZfYmlydGg6e3R5cGU6XCJzdHJpbmdcIn0sZW1haWxfY29uc2VudDp7dHlwZTpcIm51bWVyaWNcIn0sZmVhdHVyZV9mbGFnOnt3YWxsZXQ6e3R5cGU6XCJudW1lcmljXCJ9fSxmaXJzdF9uYW1lOnt0eXBlOlwic3RyaW5nXCJ9LGxhc3RfbmFtZTp7dHlwZTpcInN0cmluZ1wifSxub25fcGVwX2RlY2xhcmF0aW9uOnt0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxwaG9uZTp7fSxwbGFjZV9vZl9iaXJ0aDp7dHlwZTpcInN0cmluZ1wifSxwcmVmZXJyZWRfbGFuZ3VhZ2U6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxyZXF1ZXN0X3Byb2Zlc3Npb25hbF9zdGF0dXM6e3R5cGU6XCJudW1lcmljXCJ9LHJlc2lkZW5jZTp7fSxzYWx1dGF0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LHNlY3JldF9hbnN3ZXI6e3R5cGU6XCJzdHJpbmdcIn0sc2VjcmV0X3F1ZXN0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LHNldF9zZXR0aW5nczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSx0YXhfaWRlbnRpZmljYXRpb25fbnVtYmVyOnt0eXBlOlwic3RyaW5nXCJ9LHRheF9yZXNpZGVuY2U6e3R5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJzdGF0ZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJzdGF0ZW1lbnRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjdGlvbl90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LGRhdGVfZnJvbTp7dHlwZTpcIm51bWVyaWNcIn0sZGF0ZV90bzp7dHlwZTpcIm51bWVyaWNcIn0sZGVzY3JpcHRpb246e3R5cGU6XCJudW1lcmljXCJ9LGxpbWl0Ont0eXBlOlwibnVtZXJpY1wifSxvZmZzZXQ6e3R5cGU6XCJudW1lcmljXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3RhdGVtZW50OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5Olwic3RhdGVzTGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInN0YXRlc19saXN0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN0YXRlc19saXN0OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ0aWNrc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInRpY2tzXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1YnNjcmliZTp7dHlwZTpcIm51bWVyaWNcIn0sdGlja3M6e3JlcXVpcmVkOjF9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidGlja3NIaXN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidGlja3NfaGlzdG9yeVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWRqdXN0X3N0YXJ0X3RpbWU6e3R5cGU6XCJudW1lcmljXCJ9LGNvdW50Ont0eXBlOlwibnVtZXJpY1wifSxlbmQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxncmFudWxhcml0eTp7dHlwZTpcIm51bWVyaWNcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzdGFydDp7dHlwZTpcIm51bWVyaWNcIn0sc3R5bGU6e3R5cGU6XCJzdHJpbmdcIn0sc3Vic2NyaWJlOnt0eXBlOlwibnVtZXJpY1wifSx0aWNrc19oaXN0b3J5OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ0aW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidGltZVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0aW1lOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidG5jQXBwcm92YWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJ0bmNfYXBwcm92YWxcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FmZmlsaWF0ZV9jb2NfYWdyZWVtZW50Ont0eXBlOlwibnVtZXJpY1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRuY19hcHByb3ZhbDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSx1a2djX2Z1bmRzX3Byb3RlY3Rpb246e3R5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidG9wdXBWaXJ0dWFsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidG9wdXBfdmlydHVhbFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0b3B1cF92aXJ0dWFsOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidHJhZGluZ0R1cmF0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInRyYWRpbmdfZHVyYXRpb25zXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntsYW5kaW5nX2NvbXBhbnk6e3R5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0cmFkaW5nX2R1cmF0aW9uczp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInRyYWRpbmdQbGF0Zm9ybUFjY291bnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50c1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scGxhdGZvcm06e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRyYWRpbmdfcGxhdGZvcm1fYWNjb3VudHM6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ0cmFkaW5nUGxhdGZvcm1EZXBvc2l0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidHJhZGluZ19wbGF0Zm9ybV9kZXBvc2l0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthbW91bnQ6e3R5cGU6XCJudW1lcmljXCJ9LGZyb21fYWNjb3VudDp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwbGF0Zm9ybTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdG9fYWNjb3VudDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHRyYWRpbmdfcGxhdGZvcm1fZGVwb3NpdDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInRyYWRpbmdQbGF0Zm9ybUludmVzdG9yUGFzc3dvcmRDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJ0cmFkaW5nX3BsYXRmb3JtX2ludmVzdG9yX3Bhc3N3b3JkX2NoYW5nZVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWNjb3VudF9pZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG5ld19wYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LG9sZF9wYXNzd29yZDp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHBsYXRmb3JtOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0cmFkaW5nX3BsYXRmb3JtX2ludmVzdG9yX3Bhc3N3b3JkX2NoYW5nZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInRyYWRpbmdQbGF0Zm9ybUludmVzdG9yUGFzc3dvcmRSZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInRyYWRpbmdfcGxhdGZvcm1faW52ZXN0b3JfcGFzc3dvcmRfcmVzZXRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY291bnRfaWQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxuZXdfcGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwbGF0Zm9ybTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHJhZGluZ19wbGF0Zm9ybV9pbnZlc3Rvcl9wYXNzd29yZF9yZXNldDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSx2ZXJpZmljYXRpb25fY29kZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidHJhZGluZ1BsYXRmb3JtTmV3QWNjb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInRyYWRpbmdfcGxhdGZvcm1fbmV3X2FjY291bnRcIixuZWVkc01ldGhvZEFyZzpcIjFcIixhcmdzOmFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxjb25maWc6e2FjY291bnRfdHlwZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LGN1cnJlbmN5Ont0eXBlOlwic3RyaW5nXCJ9LGRyeV9ydW46e3R5cGU6XCJudW1lcmljXCJ9LG1hcmtldF90eXBlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwbGF0Zm9ybTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sc3ViX2FjY291bnRfdHlwZTp7dHlwZTpcInN0cmluZ1wifSx0cmFkaW5nX3BsYXRmb3JtX25ld19hY2NvdW50OntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidHJhZGluZ1BsYXRmb3JtUGFzc3dvcmRDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJ0cmFkaW5nX3BsYXRmb3JtX3Bhc3N3b3JkX2NoYW5nZVwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7bmV3X3Bhc3N3b3JkOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sb2xkX3Bhc3N3b3JkOnt0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHBsYXRmb3JtOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0cmFkaW5nX3BsYXRmb3JtX3Bhc3N3b3JkX2NoYW5nZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInRyYWRpbmdQbGF0Zm9ybVBhc3N3b3JkUmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJ0cmFkaW5nX3BsYXRmb3JtX3Bhc3N3b3JkX3Jlc2V0XCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntuZXdfcGFzc3dvcmQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxwbGF0Zm9ybTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHJhZGluZ19wbGF0Zm9ybV9wYXNzd29yZF9yZXNldDp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSx2ZXJpZmljYXRpb25fY29kZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidHJhZGluZ1BsYXRmb3JtUHJvZHVjdExpc3RpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJ0cmFkaW5nX3BsYXRmb3JtX3Byb2R1Y3RfbGlzdGluZ1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YXBwX2lkOnt9LGNvdW50cnlfY29kZTp7cmVxdWlyZWQ6MSx0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHJhZGluZ19wbGF0Zm9ybV9wcm9kdWN0X2xpc3Rpbmc6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ0cmFkaW5nUGxhdGZvcm1XaXRoZHJhd2FsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidHJhZGluZ19wbGF0Zm9ybV93aXRoZHJhd2FsXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOnthbW91bnQ6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn0sZnJvbV9hY2NvdW50OntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0scGFzc3Rocm91Z2g6e30scGxhdGZvcm06e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRvX2FjY291bnQ6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifSx0cmFkaW5nX3BsYXRmb3JtX3dpdGhkcmF3YWw6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ0cmFkaW5nU2VydmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInRyYWRpbmdfc2VydmVyc1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWNjb3VudF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LGVudmlyb25tZW50Ont0eXBlOlwic3RyaW5nXCJ9LG1hcmtldF90eXBlOnt0eXBlOlwic3RyaW5nXCJ9LHBhc3N0aHJvdWdoOnt9LHBsYXRmb3JtOnt0eXBlOlwic3RyaW5nXCJ9LHJlcV9pZDp7dHlwZTpcIm51bWVyaWNcIn0sdHJhZGluZ19zZXJ2ZXJzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwidHJhZGluZ1RpbWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidHJhZGluZ190aW1lc1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0cmFkaW5nX3RpbWVzOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ0cmFuc2FjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInRyYW5zYWN0aW9uXCIsbmVlZHNNZXRob2RBcmc6XCIxXCIsYXJnczphcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sY29uZmlnOntwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHN1YnNjcmliZTp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifSx0cmFuc2FjdGlvbjp7cmVxdWlyZWQ6MSx0eXBlOlwibnVtZXJpY1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcInRyYW5zZmVyQmV0d2VlbkFjY291bnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17bWV0aG9kOlwidHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50c1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7YWNjb3VudF9mcm9tOnt0eXBlOlwic3RyaW5nXCJ9LGFjY291bnRfdG86e3R5cGU6XCJzdHJpbmdcIn0sYWNjb3VudHM6e3R5cGU6XCJzdHJpbmdcIn0sYW1vdW50Ont0eXBlOlwibnVtZXJpY1wifSxjdXJyZW5jeTp7dHlwZTpcInN0cmluZ1wifSxwYXNzdGhyb3VnaDp7fSxyZXFfaWQ6e3R5cGU6XCJudW1lcmljXCJ9LHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHM6e3JlcXVpcmVkOjEsdHlwZTpcIm51bWVyaWNcIn19fTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVxdWVzdChlKX19LHtrZXk6XCJ2ZXJpZnlFbWFpbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e21ldGhvZDpcInZlcmlmeV9lbWFpbFwiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSx0eXBlOntyZXF1aXJlZDoxLHR5cGU6XCJzdHJpbmdcIn0sdXJsX3BhcmFtZXRlcnM6e2FmZmlsaWF0ZV90b2tlbjp7dHlwZTpcInN0cmluZ1wifSxkYXRlX2ZpcnN0X2NvbnRhY3Q6e3R5cGU6XCJzdHJpbmdcIn0sZ2NsaWRfdXJsOnt0eXBlOlwic3RyaW5nXCJ9LHBhX2Ftb3VudDp7dHlwZTpcIm51bWVyaWNcIn0scGFfY3VycmVuY3k6e3R5cGU6XCJzdHJpbmdcIn0scGFfbG9naW5pZDp7dHlwZTpcInN0cmluZ1wifSxwYV9yZW1hcmtzOnt0eXBlOlwic3RyaW5nXCJ9LHJlZGlyZWN0X3RvOnt0eXBlOlwibnVtZXJpY1wifSxzaWdudXBfZGV2aWNlOnt0eXBlOlwic3RyaW5nXCJ9LHV0bV9hZF9pZDp7fSx1dG1fYWRncm91cF9pZDp7fSx1dG1fYWRyb2xsY2xrX2lkOnt9LHV0bV9jYW1wYWlnbjp7fSx1dG1fY2FtcGFpZ25faWQ6e30sdXRtX2NvbnRlbnQ6e30sdXRtX2ZiY2xfaWQ6e30sdXRtX2dsX2NsaWVudF9pZDp7fSx1dG1fbWVkaXVtOnt9LHV0bV9tc2Nsa19pZDp7fSx1dG1fc291cmNlOnt9LHV0bV90ZXJtOnt9fSx2ZXJpZnlfZW1haWw6e3JlcXVpcmVkOjEsdHlwZTpcInN0cmluZ1wifX19O3JldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfX0se2tleTpcIndlYnNpdGVTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXttZXRob2Q6XCJ3ZWJzaXRlX3N0YXR1c1wiLG5lZWRzTWV0aG9kQXJnOlwiMVwiLGFyZ3M6YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGNvbmZpZzp7cGFzc3Rocm91Z2g6e30scmVxX2lkOnt0eXBlOlwibnVtZXJpY1wifSxzdWJzY3JpYmU6e3R5cGU6XCJudW1lcmljXCJ9LHdlYnNpdGVfc3RhdHVzOntyZXF1aXJlZDoxLHR5cGU6XCJudW1lcmljXCJ9fX07cmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3QoZSl9fSx7a2V5OlwicHJvY2Vzc1JlcXVlc3RcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgcj1lLmNvbmZpZyxuPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29uZmlnLHI9ZS5hcmdzLG49ZS5tZXRob2QsaT1lLm5lZWRzTWV0aG9kQXJnLG89cjtyZXR1cm4gaSYmIV9lKG8pJiYobz1oZSh7fSxuLG8pKSxvW25dPW9bbl18fDEsT2JqZWN0LmtleXMobykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9b1tlXTtlIGluIHQmJihcInN0cmluZ1wiPT09dFtlXS50eXBlP29bZV09XCJcIi5jb25jYXQocik6XCJudW1lcmljXCI9PT10W2VdLnR5cGU/b1tlXT1wYXJzZUZsb2F0KHIpOlwiYm9vbGVhblwiPT09dFtlXS50eXBlJiYob1tlXT0rcikpfSkpLG99KGUpLGk9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5jb25maWcsbj1lLmFyZ3M7aWYoIV9lKG4pKXJldHVyblwiUmVxdWlyZXMgYW4gb2JqZWN0IGJ1dCBhIFwiLmNvbmNhdCh0KG4pLFwiIGlzIHBhc3NlZC5cIik7dmFyIGk9W10sbz1PYmplY3Qua2V5cyhyKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybihyW2VdfHx7fSkucmVxdWlyZWQmJiEoZSBpbiBuKX0pKTtyZXR1cm4gby5sZW5ndGgmJmkucHVzaChcIlJlcXVpcmVkIHBhcmFtZXRlcnMgbWlzc2luZzogXCIuY29uY2F0KG8uam9pbihcIiwgXCIpKSksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89bltlXTtpZihlIGluIHIpe3ZhciBzPXJbZV0udHlwZTtzJiYobWVbc10obyl8fGkucHVzaChcIlwiLmNvbmNhdChzLFwiIHZhbHVlIGV4cGVjdGVkIGJ1dCBmb3VuZCBcIikuY29uY2F0KHQobyksXCI6IFwiKS5jb25jYXQoZSkpKX19KSksaS5sZW5ndGg/aS5qb2luKFwiIC0gXCIpOlwiXCJ9KHtjb25maWc6cixhcmdzOm59KTtyZXR1cm4gaT9Qcm9taXNlLnJlamVjdChpKTp0aGlzLnNlbmQobil9fV0pLGV9KCksX2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBPYmplY3R9LG1lPXtvYmplY3Q6X2UsbnVtZXJpYzpmdW5jdGlvbihlKXtyZXR1cm4hTnVtYmVyLmlzTmFOKDEqZSl9LHN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0sYm9vbGVhbjpmdW5jdGlvbihlKXtyZXR1cm5bITAsITEsMCwxXS5pbmNsdWRlcyhlKX19O2Z1bmN0aW9uIHZlKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4odmU9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfWZ1bmN0aW9uIGJlKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4gYmU9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fCFmdW5jdGlvbihlKXt0cnl7cmV0dXJuLTEhPT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKGUpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpfWNhdGNoKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9fShlKSlyZXR1cm4gZTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtpZih2b2lkIDAhPT10KXtpZih0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dC5zZXQoZSxyKX1mdW5jdGlvbiByKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtpZih2ZSgpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLGFyZ3VtZW50cyk7dmFyIG49W251bGxdO24ucHVzaC5hcHBseShuLHQpO3ZhciBpPW5ldyhlLmJpbmQuYXBwbHkoZSxuKSk7cmV0dXJuIHImJmwoaSxyLnByb3RvdHlwZSksaX0oZSxhcmd1bWVudHMseSh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGwocixlKX0sYmUoZSl9ZnVuY3Rpb24gcWUoZSx0LHIpe3JldHVybiB0PXkodCksZChlLHdlKCk/UmVmbGVjdC5jb25zdHJ1Y3QodCxyfHxbXSx5KGUpLmNvbnN0cnVjdG9yKTp0LmFwcGx5KGUscikpfWZ1bmN0aW9uIHdlKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4od2U9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfWZ1bmN0aW9uIGtlKGUpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiByKHQpe3ZhciBuO3JldHVybiBzKHRoaXMsciksKG49cWUodGhpcyxyKSkudHlwZT1lLG4ubWVzc2FnZT10LG59cmV0dXJuIGYocix0KSxjKHIsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIi5jb25jYXQodGhpcy50eXBlLFwiOiBcIikuY29uY2F0KHRoaXMubWVzc2FnZSl9fV0pLHJ9KGJlKEVycm9yKSl9dmFyIEFlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gcyh0aGlzLHQpLHFlKHRoaXMsdCxhcmd1bWVudHMpfXJldHVybiBmKHQsZSksYyh0KX0oa2UoXCJBUElFcnJvclwiKSkseGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBzKHRoaXMsdCkscWUodGhpcyx0LGFyZ3VtZW50cyl9cmV0dXJuIGYodCxlKSxjKHQpfShrZShcIkNvbnN0cnVjdGlvbkVycm9yXCIpKSxTZT1yKDUzMiksT2U9ci5uKFNlKTtmdW5jdGlvbiBSZShlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gUGUoZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/UmUoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtoZShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6UmUoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9KHt9LGUpO3JldHVybiBkZWxldGUgdC5yZXFfaWQsZGVsZXRlIHQucGFzc3Rocm91Z2gsZGVsZXRlIHQuc3Vic2NyaWJlLE9lKCkodCl9ZnVuY3Rpb24gTWUoZSx0LHIpe3JldHVybiB0PXkodCksZChlLGplKCk/UmVmbGVjdC5jb25zdHJ1Y3QodCxyfHxbXSx5KGUpLmNvbnN0cnVjdG9yKTp0LmFwcGx5KGUscikpfWZ1bmN0aW9uIGplKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oamU9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfXZhciBFZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7dmFyIG47aWYocyh0aGlzLHQpLCFlKXRocm93IG5ldyB4ZShcIkNhY2hlIG9iamVjdCBuZWVkcyBhbiBBUEkgdG8gd29ya1wiKTtyZXR1cm4obj1NZSh0aGlzLHQpKS5hcGk9ZSxuLnN0b3JhZ2U9cixufXZhciByLG4saSx1LGE7cmV0dXJuIGYodCxlKSxjKHQsW3trZXk6XCJzZW5kXCIsdmFsdWU6KGE9byhnKCkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcjtyZXR1cm4gZygpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0aGlzLmhhcyh0KTtjYXNlIDI6aWYoIWUuc2VudCl7ZS5uZXh0PTQ7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5nZXQodCkpO2Nhc2UgNDpyZXR1cm4gZS5uZXh0PTYsdGhpcy5hcGkuc2VuZCh0KTtjYXNlIDY6cmV0dXJuIHI9ZS5zZW50LGUubmV4dD05LHRoaXMuc2V0KHQscik7Y2FzZSA5OnJldHVybiBlLmFicnVwdChcInJldHVyblwiLHIpO2Nhc2UgMTA6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiaGFzXCIsdmFsdWU6KHU9byhnKCkubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gZygpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdChcInJldHVyblwiLHRoaXMuc3RvcmFnZS5oYXMoUGUodCkpKTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiB1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0XCIsdmFsdWU6KGk9byhnKCkubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gZygpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdChcInJldHVyblwiLHRoaXMuc3RvcmFnZS5nZXQoUGUodCkpKTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZ2V0QnlNc2dUeXBlXCIsdmFsdWU6KG49byhnKCkubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gZygpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdChcInJldHVyblwiLHRoaXMuc3RvcmFnZS5nZXRCeU1zZ1R5cGUodCkpO2Nhc2UgMTpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJzZXRcIix2YWx1ZToocj1vKGcoKS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIGcoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIix0aGlzLnN0b3JhZ2Uuc2V0KFBlKHQpLHIpKTtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksdH0oZ2UpO2Z1bmN0aW9uIEllKGUsdCxyKXtyZXR1cm4gdD15KHQpLGQoZSxUZSgpP1JlZmxlY3QuY29uc3RydWN0KHQscnx8W10seShlKS5jb25zdHJ1Y3Rvcik6dC5hcHBseShlLHIpKX1mdW5jdGlvbiBUZSgpe3RyeXt2YXIgZT0hQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKX1jYXRjaChlKXt9cmV0dXJuKFRlPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX12YXIgRmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHIsbixpPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpmdW5jdGlvbigpe307cmV0dXJuIHModGhpcyx0KSxlPUllKHRoaXMsdCxbZnVuY3Rpb24oZSx0KXtyPWUsbj10fV0pLGkocixuKSxlLnJlc29sdmVDYWxsYmFjaz1yLGUucmVqZWN0Q2FsbGJhY2s9bixlLnN0YXRlPVwicGVuZGluZ1wiLGV9cmV0dXJuIGYodCxlKSxjKHQsW3trZXk6XCJyZXNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVzb2x2ZUNhbGxiYWNrKGUpLHRoaXMuc3RhdGU9XCJyZXNvbHZlZFwiLHRoaXN9fSx7a2V5OlwicmVqZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVqZWN0Q2FsbGJhY2soZSksdGhpcy5zdGF0ZT1cInJlamVjdGVkXCIsdGhpc319LHtrZXk6XCJpc1BlbmRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwicGVuZGluZ1wiPT09dGhpcy5zdGF0ZX19LHtrZXk6XCJpc1JlamVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInJlamVjdGVkXCI9PT10aGlzLnN0YXRlfX0se2tleTpcImlzUmVzb2x2ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwicmVzb2x2ZWRcIj09PXRoaXMuc3RhdGV9fV0sW3trZXk6XCJ3cmFwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHRoaXMpcmV0dXJuIGU7dmFyIHQ9bmV3IHRoaXM7cmV0dXJuIGUudGhlbih0LnJlc29sdmUuYmluZCh0KSx0LnJlamVjdC5iaW5kKHQpKSx0fX1dKSx0fShiZShQcm9taXNlKSksQ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cyh0aGlzLGUpLHRoaXMuc3RvcmU9e2J5X21zZ190eXBlOnt9fX1yZXR1cm4gYyhlLFt7a2V5OlwiaGFzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW4gdGhpcy5zdG9yZX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdG9yZVtlXX19LHtrZXk6XCJnZXRCeU1zZ1R5cGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdG9yZS5ieV9tc2dfdHlwZVtlXX19LHtrZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc3RvcmUuYnlfbXNnX3R5cGVbdC5tc2dfdHlwZV09dCx0aGlzLnN0b3JlW2VdPXR9fV0pLGV9KCk7Y29uc3QgVWU9W1wiYmFsYW5jZVwiLFwiYnV5XCIsXCJjYXNoaWVyX3BheW1lbnRzXCIsXCJleGNoYW5nZV9yYXRlc1wiLFwicDJwX2FkdmVydF9pbmZvXCIsXCJwMnBfYWR2ZXJ0aXNlcl9jcmVhdGVcIixcInAycF9hZHZlcnRpc2VyX2luZm9cIixcInAycF9vcmRlcl9jcmVhdGVcIixcInAycF9vcmRlcl9pbmZvXCIsXCJwMnBfb3JkZXJfbGlzdFwiLFwicHJvcG9zYWxcIixcInByb3Bvc2FsX29wZW5fY29udHJhY3RcIixcInRpY2tzXCIsXCJ0aWNrc19oaXN0b3J5XCIsXCJ0cmFuc2FjdGlvblwiLFwid2Vic2l0ZV9zdGF0dXNcIl07ZnVuY3Rpb24gQmUoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIE5lKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0JlKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aGUoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOkJlKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfXZhciBMZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cyh0aGlzLGUpLHRoaXMuYXBpPXQsdGhpcy5zb3VyY2VzPXt9LHRoaXMuc3Vic19pZF90b19rZXk9e30sdGhpcy5rZXlfdG9fc3Vic19pZD17fSx0aGlzLmJ1eV9rZXlfdG9fY29udHJhY3RfaWQ9e30sdGhpcy5zdWJzX3Blcl9tc2dfdHlwZT1bXSx0aGlzLnN0cmVhbXNfbGlzdD1VZX1yZXR1cm4gYyhlLFt7a2V5Olwic3Vic2NyaWJlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlRXhpc3RzKGUpP3RoaXMuZ2V0U291cmNlKGUpOnRoaXMuY3JlYXRlTmV3U291cmNlKE5lKE5lKHt9LGUpLHt9LHtzdWJzY3JpYmU6MX0pKX19LHtrZXk6XCJnZXRTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1EZShlKTtpZih0IGluIHRoaXMuc291cmNlcylyZXR1cm4gdGhpcy5zb3VyY2VzW3RdO2lmKGUucHJvcG9zYWxfb3Blbl9jb250cmFjdCYmZS5jb250cmFjdF9pZCl7dmFyIHI9T2JqZWN0LnZhbHVlcyh0aGlzLmJ1eV9rZXlfdG9fY29udHJhY3RfaWQpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRyYWN0X2lkPT09ZS5jb250cmFjdF9pZH0pKTtpZihyKXJldHVybiB0aGlzLnNvdXJjZXNbci5idXlfa2V5XX19fSx7a2V5Olwic291cmNlRXhpc3RzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0U291cmNlKGUpfX0se2tleTpcImNyZWF0ZU5ld1NvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcyxuPURlKGUpLGk9dGhpcy5hcGkuc2VuZEFuZEdldFNvdXJjZShlKS5waXBlKCh0PWZ1bmN0aW9uKCl7biBpbiByLmtleV90b19zdWJzX2lkJiZyLmZvcmdldChyLmtleV90b19zdWJzX2lkW25dKS50aGVuKChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKX0sYigoZnVuY3Rpb24oZSxyKXt0cnl7ZS5zdWJzY3JpYmUocil9ZmluYWxseXtyLmFkZCh0KX19KSkpLGxlKCkpO3JldHVybiB0aGlzLnNvdXJjZXNbbl09aSx0aGlzLnNhdmVTdWJzUGVyTXNnVHlwZShlLG4pLGkucGlwZShvZSgpKS50b1Byb21pc2UoKS50aGVuKChmdW5jdGlvbih0KXtlLmJ1eSYmKHIuYnV5X2tleV90b19jb250cmFjdF9pZFtuXT17Y29udHJhY3RfaWQ6dC5idXkuY29udHJhY3RfaWQsYnV5X2tleTpufSksci5zYXZlU3Vic0lkKG4sdCl9KSx0aGlzLnJlbW92ZUtleU9uRXJyb3IobikpLGl9fSx7a2V5OlwiZm9yZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcGxldGVTdWJzQnlJZHMoZSksdGhpcy5hcGkuc2VuZCh7Zm9yZ2V0OmV9KX19LHtrZXk6XCJmb3JnZXRBbGxcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0KXsoZS5zdWJzX3Blcl9tc2dfdHlwZVt0XXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbXBsZXRlU3Vic0J5S2V5KHQpfSkpLGUuc3Vic19wZXJfbXNnX3R5cGVbdF09W119KSksdGhpcy5hcGkuc2VuZCh7Zm9yZ2V0X2FsbDpyfSl9fSx7a2V5OlwiY29tcGxldGVTdWJzQnlJZHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKylyW25dPWFyZ3VtZW50c1tuXTtyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPWUuc3Vic19pZF90b19rZXlbdF07ZGVsZXRlIGUuc3Vic19pZF90b19rZXlbdF0sZS5jb21wbGV0ZVN1YnNCeUtleShyKX0pKX19LHtrZXk6XCJzYXZlU3Vic0lkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnN1YnNjcmlwdGlvbjtpZighcilyZXR1cm4gdGhpcy5jb21wbGV0ZVN1YnNCeUtleShlKTt2YXIgbj1yLmlkO24gaW4gdGhpcy5zdWJzX2lkX3RvX2tleXx8KHRoaXMuc3Vic19pZF90b19rZXlbbl09ZSx0aGlzLmtleV90b19zdWJzX2lkW2VdPW4pfX0se2tleTpcInNhdmVTdWJzUGVyTXNnVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXRNc2dUeXBlKGUpO3I/KHRoaXMuc3Vic19wZXJfbXNnX3R5cGVbcl09dGhpcy5zdWJzX3Blcl9tc2dfdHlwZVtyXXx8W10sdGhpcy5zdWJzX3Blcl9tc2dfdHlwZVtyXS5wdXNoKHQpKTp0aGlzLmFwaS5zYW5pdHlFcnJvcnMubmV4dChuZXcgQWUoXCJTdWJzY3JpcHRpb24gdHlwZSBpcyBub3QgZm91bmQgaW4gZGVyaXYtYXBpXCIpKX19LHtrZXk6XCJyZW1vdmVLZXlPbkVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5jb21wbGV0ZVN1YnNCeUtleShlKX19fSx7a2V5OlwiY29tcGxldGVTdWJzQnlLZXlcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlJiZ0aGlzLnNvdXJjZXNbZV0pe3ZhciB0PXRoaXMuc291cmNlc1tlXTtkZWxldGUgdGhpcy5zb3VyY2VzW2VdO3ZhciByPXRoaXMua2V5X3RvX3N1YnNfaWRbZV07ZGVsZXRlIHRoaXMuc3Vic19pZF90b19rZXlbcl0sZGVsZXRlIHRoaXMua2V5X3RvX3N1YnNfaWRbZV0sZGVsZXRlIHRoaXMuYnV5X2tleV90b19jb250cmFjdF9pZFtlXSx0LmNvbXBsZXRlKCl9fX0se2tleTpcImdldE1zZ1R5cGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdHJlYW1zX2xpc3QuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gZX0pKX19XSksZX0oKTtmdW5jdGlvbiBEZShlKXtyZXR1cm4gUGUoZSl9ZnVuY3Rpb24gR2UoZSx0LHIpe3JldHVybiB0PXkodCksZChlLCRlKCk/UmVmbGVjdC5jb25zdHJ1Y3QodCxyfHxbXSx5KGUpLmNvbnN0cnVjdG9yKTp0LmFwcGx5KGUscikpfWZ1bmN0aW9uICRlKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oJGU9ZnVuY3Rpb24oKXtyZXR1cm4hIWV9KSgpfXZhciB6ZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1yLnN0b3JhZ2UsaT1yLmFwcF9pZCxvPXIuY29ubmVjdGlvbix1PXIuY2FjaGUsYT12b2lkIDA9PT11P25ldyBDZTp1LGM9ci5lbmRwb2ludCxkPXZvaWQgMD09PWM/XCJ3cy5kZXJpdndzLmNvbVwiOmMseT1yLmxhbmcsbD12b2lkIDA9PT15P1wiRU5cIjp5LGY9ci5icmFuZCxoPXZvaWQgMD09PWY/XCJcIjpmLGc9ci5taWRkbGV3YXJlLF89dm9pZCAwPT09Zz97fTpnLG09ci5leGNsdWRlZF9yZXF1ZXN0X2Jsb2NrLHY9dm9pZCAwPT09bT9bXCJ3ZWJzaXRlX3N0YXR1c1wiLFwiYXV0aG9yaXplXCJdOm07aWYocyh0aGlzLHQpLChlPUdlKHRoaXMsdCkpLmV2ZW50cz1uZXcgZGUsbyllLmNvbm5lY3Rpb249bztlbHNle2lmKCFpKXRocm93IEVycm9yKFwiQW4gYXBwX2lkIGlzIHJlcXVpcmVkIHRvIGNvbm5lY3QgdG8gdGhlIEFQSVwiKTtlLnNob3VsZFJlY29ubmVjdD0hMCxlLmNvbm5lY3Rpb25BcmdzPXthcHBfaWQ6aSxlbmRwb2ludFVybDpXZShkKSxsYW5nOmwudG9VcHBlckNhc2UoKSxicmFuZDpoLnRvTG93ZXJDYXNlKCl9LGUuY29ubmVjdCgpfXJldHVybiBlLmxhbmc9bCxlLnJlcUlkPTAsZS5jb25uZWN0ZWQ9bmV3IEZlLGUuc2FuaXR5RXJyb3JzPW5ldyBkZSxlLm1pZGRsZXdhcmU9XyxlLnBlbmRpbmdSZXF1ZXN0cz17fSxlLmV4cGVjdF9yZXNwb25zZV90eXBlcz17fSxlLnN1YnNjcmlwdGlvbl9tYW5hZ2VyPW5ldyBMZShwKGUpKSxlLnJlY29ubmVjdF90aW1lb3V0PSExLGUua2VlcF9hbGl2ZV9pbnRlcnZhbD0hMSxlLmlzX3JlcXVlc3RfYmxvY2tlZD0hMSxlLmV4Y2x1ZGVkX3JlcXVlc3RfYmxvY2s9dixuJiYoZS5zdG9yYWdlPW5ldyBFZShwKGUpLG4pKSxlLmNhY2hlPW5ldyBFZShlLnN0b3JhZ2U/ZS5zdG9yYWdlOnAoZSksYSksZS5jb25uZWN0aW9uSGFuZGxlcnMoKSxlfXZhciByLG4saSx1O3JldHVybiBmKHQsZSksYyh0LFt7a2V5OlwiYmxvY2tSZXF1ZXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5pc19yZXF1ZXN0X2Jsb2NrZWQ9ZX19LHtrZXk6XCJjb25uZWN0aW9uSGFuZGxlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29ubmVjdGlvbi5vbm9wZW49dGhpcy5vcGVuSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMuY29ubmVjdGlvbi5vbmNsb3NlPXRoaXMuY2xvc2VIYW5kbGVyLmJpbmQodGhpcyksdGhpcy5jb25uZWN0aW9uLm9ubWVzc2FnZT10aGlzLm1lc3NhZ2VIYW5kbGVyLmJpbmQodGhpcyksdGhpcy5jb25uZWN0aW9uLm9uZXJyb3I9dGhpcy5lcnJvckhhbmRsZXIuYmluZCh0aGlzKX19LHtrZXk6XCJjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5jb25uZWN0aW9uQXJncyl0aHJvdyBuZXcgeGUoXCJDb25uZWN0aW9uIGFyZ3VtZW50cyBhcmUgcmVxdWlyZWQgdG8gY3JlYXRlIGEgY29ubmVjdGlvbi5cIik7dGhpcy5ldmVudHMubmV4dCh7bmFtZTpcImNvbm5lY3RcIn0pO3ZhciBlPXRoaXMuY29ubmVjdGlvbkFyZ3MsdD1lLmVuZHBvaW50VXJsLHI9ZS5sYW5nLG49ZS5hcHBfaWQsaT1lLmJyYW5kO3RoaXMuY29ubmVjdGlvbj1uZXcgV2ViU29ja2V0KFwiXCIuY29uY2F0KHQudG9TdHJpbmcoKSxcIndlYnNvY2tldHMvdjM/YXBwX2lkPVwiKS5jb25jYXQobixcIiZsPVwiKS5jb25jYXQocixcIiZicmFuZD1cIikuY29uY2F0KGkpKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNob3VsZFJlY29ubmVjdD0hMSx0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKX19LHtrZXk6XCJpc0Nvbm5lY3Rpb25DbG9zZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAyPT09dGhpcy5jb25uZWN0aW9uLnJlYWR5U3RhdGV8fDM9PT10aGlzLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZX19LHtrZXk6XCJzZW5kQW5kR2V0U291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW5ldyBkZTtyZXR1cm4gZS5yZXFfaWQ9ZS5yZXFfaWR8fCsrdGhpcy5yZXFJZCx0aGlzLnBlbmRpbmdSZXF1ZXN0c1tlLnJlcV9pZF09cix0aGlzLmNvbm5lY3RlZC50aGVuKChmdW5jdGlvbigpe3QuaXNDb25uZWN0aW9uQ2xvc2VkKCl8fHQuY29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KGUpKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZXJyb3IoZSl9KSkscn19LHtrZXk6XCJzZW5kXCIsdmFsdWU6KHU9byhnKCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLG8scyx1LGEsYyxwPXRoaXMsZD1hcmd1bWVudHM7cmV0dXJuIGcoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpmb3IodD1kLmxlbmd0aCxyPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKylyW25dPWRbbl07aWYoaT1PYmplY3Qua2V5cyhyWzBdKVswXSwhdGhpcy5pc19yZXF1ZXN0X2Jsb2NrZWR8fHRoaXMuZXhjbHVkZWRfcmVxdWVzdF9ibG9jay5pbmNsdWRlcyhpKSl7ZS5uZXh0PTQ7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKCl7fSkpKTtjYXNlIDQ6aWYoIShvPXRoaXMuY2FsbE1pZGRsZXdhcmUoXCJzZW5kV2lsbEJlQ2FsbGVkXCIse2FyZ3M6cn0pKSl7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsbyk7Y2FzZSA3OmlmKHM9clswXSx1PXRoaXMuY2FsbE1pZGRsZXdhcmUoXCJyZXF1ZXN0RGF0YVRyYW5zZm9ybWVyXCIscyl8fHMsdGhpcy5ldmVudHMubmV4dCh7bmFtZTpcInNlbmRcIixkYXRhOnV9KSx0aGlzLmRlbGV0ZUZyb21FeHBlY3RSZXNwb25zZSh1KSwoYT10aGlzLnNlbmRBbmRHZXRTb3VyY2UodSkucGlwZShvZSgpKS50b1Byb21pc2UoKSkudGhlbigoZnVuY3Rpb24oZSl7cC5jYWNoZS5zZXQodSxlKSxwLnN0b3JhZ2UmJnAuc3RvcmFnZS5zZXQodSxlKX0pLChmdW5jdGlvbigpe30pKSwhKGM9dGhpcy5jYWxsTWlkZGxld2FyZShcInNlbmRJc0NhbGxlZFwiLHtyZXNwb25zZV9wcm9taXNlOmEsYXJnczpyfSkpKXtlLm5leHQ9MTY7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsYyk7Y2FzZSAxNjpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIixhKTtjYXNlIDE3OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiB1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiY2FsbE1pZGRsZXdhcmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUgaW4gdGhpcy5taWRkbGV3YXJlKXJldHVybiB0aGlzLm1pZGRsZXdhcmVbZV0odCl9fSx7a2V5Olwic3Vic2NyaWJlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc19yZXF1ZXN0X2Jsb2NrZWQpcmV0dXJuIG5ldyBkZTt2YXIgdD10aGlzLmNhbGxNaWRkbGV3YXJlKFwicmVxdWVzdERhdGFUcmFuc2Zvcm1lclwiLGUpfHxlO3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbl9tYW5hZ2VyLnN1YnNjcmliZSh0KX19LHtrZXk6XCJmb3JnZXRcIix2YWx1ZTooaT1vKGcoKS5tYXJrKChmdW5jdGlvbiBlKHQpe3JldHVybiBnKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5zdWJzY3JpcHRpb25fbWFuYWdlci5mb3JnZXQodCkpO2Nhc2UgMTpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6XCJmb3JnZXRBbGxcIix2YWx1ZToobj1vKGcoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQscj1hcmd1bWVudHM7cmV0dXJuIGcoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIiwodD10aGlzLnN1YnNjcmlwdGlvbl9tYW5hZ2VyKS5mb3JnZXRBbGwuYXBwbHkodCxyKSk7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwia2VlcEFsaXZlUGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5waW5nKHtwaW5nOjF9KSx0aGlzLnJlY29ubmVjdF90aW1lb3V0PXNldFRpbWVvdXQodGhpcy5yZWNvbm5lY3QuYmluZCh0aGlzKSw1ZTMpfX0se2tleTpcInBvbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVjb25uZWN0X3RpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RfdGltZW91dCksdGhpcy5yZWNvbm5lY3RfdGltZW91dD0hMSl9fSx7a2V5Olwib3BlbkhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZXZlbnRzLm5leHQoe25hbWU6XCJvcGVuXCJ9KSx0aGlzLnNob3VsZFJlY29ubmVjdCYmKHRoaXMua2VlcF9hbGl2ZV9pbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLmtlZXBBbGl2ZVBpbmcuYmluZCh0aGlzKSwzZTQpKSwxPT09dGhpcy5jb25uZWN0aW9uLnJlYWR5U3RhdGU/dGhpcy5jb25uZWN0ZWQucmVzb2x2ZSgpOnNldFRpbWVvdXQodGhpcy5vcGVuSGFuZGxlci5iaW5kKHRoaXMpLDUwKX19LHtrZXk6XCJtZXNzYWdlSGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUuZGF0YSl7dmFyIHQ9SlNPTi5wYXJzZShlLmRhdGEpO3RoaXMucmVjb25uZWN0X3RpbWVvdXQmJlwicG9uZ1wiPT09dC5waW5nJiZ0aGlzLnBvbmcoKSx0aGlzLmV2ZW50cy5uZXh0KHtuYW1lOlwibWVzc2FnZVwiLGRhdGE6dH0pO3ZhciByPXQucmVxX2lkO2lmKHIgaW4gdGhpcy5wZW5kaW5nUmVxdWVzdHMpe3ZhciBuPXRoaXMuZXhwZWN0X3Jlc3BvbnNlX3R5cGVzW3QubXNnX3R5cGVdO24mJm4uaXNQZW5kaW5nKCkmJm4ucmVzb2x2ZSh0KTt2YXIgaT10LmVjaG9fcmVxLG89aSYmaS5wcm9wb3NhbF9vcGVuX2NvbnRyYWN0JiYhaS5jb250cmFjdF9pZDtpZih0LmVycm9yJiYhbyl0aGlzLnBlbmRpbmdSZXF1ZXN0c1tyXS5lcnJvcih0KTtlbHNlIGlmKHRoaXMucGVuZGluZ1JlcXVlc3RzW3JdLmlzU3RvcHBlZCYmdC5zdWJzY3JpcHRpb24pe3ZhciBzPXQuc3Vic2NyaXB0aW9uLmlkO3RoaXMuZm9yZ2V0KHMpfWVsc2UgdGhpcy5wZW5kaW5nUmVxdWVzdHNbcl0ubmV4dCh0KX1lbHNlIHRoaXMuc2FuaXR5RXJyb3JzLm5leHQobmV3IEFlKFwiRXh0cmEgcmVzcG9uc2VcIikpfWVsc2UgdGhpcy5zYW5pdHlFcnJvcnMubmV4dChuZXcgQWUoXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSByZWNlaXZpbmcgdGhlIHJlc3BvbnNlIGZyb20gQVBJLlwiKSl9fSx7a2V5OlwiY2xvc2VIYW5kbGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cy5uZXh0KHtuYW1lOlwiY2xvc2VcIn0pLHRoaXMuc2hvdWxkUmVjb25uZWN0JiYodGhpcy5ldmVudHMubmV4dCh7bmFtZTpcInJlY29ubmVjdGluZ1wifSksdGhpcy5yZWNvbm5lY3QoKSl9fSx7a2V5OlwicmVjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNob3VsZFJlY29ubmVjdCYmKHRoaXMua2VlcF9hbGl2ZV9pbnRlcnZhbCYmKGNsZWFySW50ZXJ2YWwodGhpcy5rZWVwX2FsaXZlX2ludGVydmFsKSx0aGlzLmtlZXBfYWxpdmVfaW50ZXJ2YWw9ITEpLHRoaXMucG9uZygpLHRoaXMuY29ubmVjdCgpLHRoaXMuY29ubmVjdGlvbkhhbmRsZXJzKCkpfX0se2tleTpcImVycm9ySGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zYW5pdHlFcnJvcnMubmV4dChuZXcgQWUoXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSByZWNlaXZpbmcgdGhlIHJlc3BvbnNlIGZyb20gQVBJLlwiKSl9fSx7a2V5Olwib25DbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnRzLnBpcGUoWigoZnVuY3Rpb24oZSl7cmV0dXJuXCJjbG9zZVwiPT09ZS5uYW1lfSkpLGxlKCkpfX0se2tleTpcIm9uT3BlblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnRzLnBpcGUoWigoZnVuY3Rpb24oZSl7cmV0dXJuXCJvcGVuXCI9PT1lLm5hbWV9KSksbGUoKSl9fSx7a2V5Olwib25NZXNzYWdlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudHMucGlwZShaKChmdW5jdGlvbihlKXtyZXR1cm5cIm1lc3NhZ2VcIj09PWUubmFtZX0pKSxsZSgpKX19LHtrZXk6XCJleHBlY3RSZXNwb25zZVwiLHZhbHVlOihyPW8oZygpLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG4saT10aGlzLG89YXJndW1lbnRzO3JldHVybiBnKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Zm9yKHQ9by5sZW5ndGgscj1uZXcgQXJyYXkodCksbj0wO248dDtuKyspcltuXT1vW25dO2lmKHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ7ZSBpbiBpLmV4cGVjdF9yZXNwb25zZV90eXBlc3x8KGkuZXhwZWN0X3Jlc3BvbnNlX3R5cGVzW2VdPSh0PWkuY2FjaGUuZ2V0QnlNc2dUeXBlKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiF0JiZpLnN0b3JhZ2U/aS5zdG9yYWdlLmdldEJ5TXNnVHlwZShlKTp0fSkpLEZlLndyYXAodC50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZXx8bmV3IEZlfSkpKSkpfSkpLDEhPT1yLmxlbmd0aCl7ZS5uZXh0PTQ7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5leHBlY3RfcmVzcG9uc2VfdHlwZXNbclswXV0pO2Nhc2UgNDpyZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIixQcm9taXNlLmFsbChyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZXhwZWN0X3Jlc3BvbnNlX3R5cGVzW2VdfSkpKSk7Y2FzZSA1OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiZGVsZXRlRnJvbUV4cGVjdFJlc3BvbnNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXModGhpcy5leHBlY3RfcmVzcG9uc2VfdHlwZXMpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluIGV9KSk7dGhpcy5leHBlY3RfcmVzcG9uc2VfdHlwZXNbdF0mJiF0aGlzLmV4cGVjdF9yZXNwb25zZV90eXBlc1t0XS5pc1BlbmRpbmcoKSYmZGVsZXRlIHRoaXMuZXhwZWN0X3Jlc3BvbnNlX3R5cGVzW3RdfX1dKSx0fShnZSk7ZnVuY3Rpb24gV2Uocil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IHhlKFwiRW5kcG9pbnQgbXVzdCBiZSBhIHN0cmluZywgcGFzc2VkOiBcIi5jb25jYXQodChyKSkpO3ZhciBuLGksbzt0cnl7dmFyIHM9KGk9ci5tYXRjaCgvKCg/Olxcdyo6XFwvXFwvKSopKC4qKS8pLG89MyxmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShpKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlW1wiQEBpdGVyYXRvclwiXTtpZihudWxsIT1yKXt2YXIgbixpLG8scyx1PVtdLGE9ITAsYz0hMTt0cnl7aWYobz0ocj1yLmNhbGwoZSkpLm5leHQsMD09PXQpe2lmKE9iamVjdChyKSE9PXIpcmV0dXJuO2E9ITF9ZWxzZSBmb3IoOyEoYT0obj1vLmNhbGwocikpLmRvbmUpJiYodS5wdXNoKG4udmFsdWUpLHUubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2lmKCFhJiZudWxsIT1yLnJldHVybiYmKHM9ci5yZXR1cm4oKSxPYmplY3QocykhPT1zKSlyZXR1cm59ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiB1fX0oaSxvKXx8ZnVuY3Rpb24odCxyKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZSh0LHIpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/ZSh0LHIpOnZvaWQgMH19KGksbyl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKSksdT0oc1swXSxzWzFdKSxhPXNbMl07bj1uZXcgVVJMKFwiXCIuY29uY2F0KFwid3M6Ly9cIj09PXU/dTpcIndzczovL1wiKS5jb25jYXQoYSkpfWNhdGNoKGUpe3Rocm93IG5ldyB4ZShcIkludmFsaWQgVVJMOiBcIi5jb25jYXQocikpfXJldHVybiBufX0pKCksbi5kZWZhdWx0fSkoKSkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@deriv/deriv-api/dist/DerivAPIBasic.js\n");

/***/ }),

/***/ "../../node_modules/@deriv/js-interpreter/lib/js-interpreter.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@deriv/js-interpreter/lib/js-interpreter.js ***!
  \**********************************************************************/
/***/ (function(module) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/vm-browserify/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/vm-browserify/index.js ***!\n  \\*********************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\nvar indexOf = function (xs, item) {\n    if (xs.indexOf) return xs.indexOf(item);\n    else for (var i = 0; i < xs.length; i++) {\n        if (xs[i] === item) return i;\n    }\n    return -1;\n};\nvar Object_keys = function (obj) {\n    if (Object.keys) return Object.keys(obj)\n    else {\n        var res = [];\n        for (var key in obj) res.push(key)\n        return res;\n    }\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nvar defineProp = (function() {\n    try {\n        Object.defineProperty({}, '_', {});\n        return function(obj, name, value) {\n            Object.defineProperty(obj, name, {\n                writable: true,\n                enumerable: false,\n                configurable: true,\n                value: value\n            })\n        };\n    } catch(e) {\n        return function(obj, name, value) {\n            obj[name] = value;\n        };\n    }\n}());\n\nvar globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',\n'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',\n'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',\n'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',\n'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\n\nfunction Context() {}\nContext.prototype = {};\n\nvar Script = exports.Script = function NodeScript (code) {\n    if (!(this instanceof Script)) return new Script(code);\n    this.code = code;\n};\n\nScript.prototype.runInContext = function (context) {\n    if (!(context instanceof Context)) {\n        throw new TypeError(\"needs a 'context' argument.\");\n    }\n    \n    var iframe = document.createElement('iframe');\n    if (!iframe.style) iframe.style = {};\n    iframe.style.display = 'none';\n    \n    document.body.appendChild(iframe);\n    \n    var win = iframe.contentWindow;\n    var wEval = win.eval, wExecScript = win.execScript;\n\n    if (!wEval && wExecScript) {\n        // win.eval() magically appears when this is called in IE:\n        wExecScript.call(win, 'null');\n        wEval = win.eval;\n    }\n    \n    forEach(Object_keys(context), function (key) {\n        win[key] = context[key];\n    });\n    forEach(globals, function (key) {\n        if (context[key]) {\n            win[key] = context[key];\n        }\n    });\n    \n    var winKeys = Object_keys(win);\n\n    var res = wEval.call(win, this.code);\n    \n    forEach(Object_keys(win), function (key) {\n        // Avoid copying circular objects like `top` and `window` by only\n        // updating existing context properties or new properties in the `win`\n        // that was only introduced after the eval.\n        if (key in context || indexOf(winKeys, key) === -1) {\n            context[key] = win[key];\n        }\n    });\n\n    forEach(globals, function (key) {\n        if (!(key in context)) {\n            defineProp(context, key, win[key]);\n        }\n    });\n    \n    document.body.removeChild(iframe);\n    \n    return res;\n};\n\nScript.prototype.runInThisContext = function () {\n    return eval(this.code); // maybe...\n};\n\nScript.prototype.runInNewContext = function (context) {\n    var ctx = Script.createContext(context);\n    var res = this.runInContext(ctx);\n\n    if (context) {\n        forEach(Object_keys(ctx), function (key) {\n            context[key] = ctx[key];\n        });\n    }\n\n    return res;\n};\n\nforEach(Object_keys(Script.prototype), function (name) {\n    exports[name] = Script[name] = function (code) {\n        var s = Script(code);\n        return s[name].apply(s, [].slice.call(arguments, 1));\n    };\n});\n\nexports.isContext = function (context) {\n    return context instanceof Context;\n};\n\nexports.createScript = function (code) {\n    return exports.Script(code);\n};\n\nexports.createContext = Script.createContext = function (context) {\n    var copy = new Context();\n    if(typeof context === 'object') {\n        forEach(Object_keys(context), function (key) {\n            copy[key] = context[key];\n        });\n    }\n    return copy;\n};\n\n\n/***/ }),\n\n/***/ \"./original-repo/acorn.js\":\n/*!********************************!*\\\n  !*** ./original-repo/acorn.js ***!\n  \\********************************/\n/***/ (function(module, exports) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n//\n// Acorn was written by Marijn Haverbeke and released under an MIT\n// license. The Unicode regexps (for identifiers and whitespace) were\n// taken from [Esprima](http://esprima.org) by Ariya Hidayat.\n//\n// Git repositories for Acorn are available at\n//\n//     http://marijnhaverbeke.nl/git/acorn\n//     https://github.com/marijnh/acorn.git\n//\n// Please use the [github bug tracker][ghbt] to report issues.\n//\n// [ghbt]: https://github.com/marijnh/acorn/issues\n//\n// This file defines the main parser interface. The library also comes\n// with a [error-tolerant parser][dammit] and an\n// [abstract syntax tree walker][walk], defined in other files.\n//\n// [dammit]: acorn_loose.js\n// [walk]: util/walk.js\n\n(function(root, mod) {\n  if (true) return mod(exports); // CommonJS\n  if (true) return !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (mod),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // AMD\n  mod(root.acorn || (root.acorn = {})); // Plain browser env\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.4.1\";\n\n  // The main exported interface (under `self.acorn` when in the\n  // browser) is a `parse` function that takes a code string and\n  // returns an abstract syntax tree as specified by [Mozilla parser\n  // API][api], with the caveat that the SpiderMonkey-specific syntax\n  // (`let`, `yield`, inline XML, etc) is not recognized.\n  //\n  // [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n    input = String(inpt); inputLen = input.length;\n    setOptions(opts);\n    initTokenState();\n    return parseTopLevel(options.program);\n  };\n\n  // A second optional argument can be given to further configure\n  // the parser process. These options are recognized:\n\n  var defaultOptions = exports.defaultOptions = {\n    // `ecmaVersion` indicates the ECMAScript version to parse. Must\n    // be either 3 or 5. This\n    // influences support for strict mode, the set of reserved words, and\n    // support for getters and setter.\n    ecmaVersion: 5,\n    // Turn on `strictSemicolons` to prevent the parser from doing\n    // automatic semicolon insertion.\n    strictSemicolons: false,\n    // When `allowTrailingCommas` is false, the parser will not allow\n    // trailing commas in array and object literals.\n    allowTrailingCommas: true,\n    // By default, reserved words are not enforced. Enable\n    // `forbidReserved` to enforce them.\n    forbidReserved: false,\n    // When `locations` is on, `loc` properties holding objects with\n    // `start` and `end` properties in `{line, column}` form (with\n    // line being 1-based and column 0-based) will be attached to the\n    // nodes.\n    locations: false,\n    // A function can be passed as `onComment` option, which will\n    // cause Acorn to call that function with `(block, text, start,\n    // end)` parameters whenever a comment is skipped. `block` is a\n    // boolean indicating whether this is a block (`/* */`) comment,\n    // `text` is the content of the comment, and `start` and `end` are\n    // character offsets that denote the start and end of the comment.\n    // When the `locations` option is on, two more parameters are\n    // passed, the full `{line, column}` locations of the start and\n    // end of the comments.\n    onComment: null,\n    // Nodes have their start and end characters offsets recorded in\n    // `start` and `end` properties (directly on the node, rather than\n    // the `loc` object, which holds line/column data. To also add a\n    // [semi-standardized][range] `range` property holding a `[start,\n    // end]` array with the same numbers, set the `ranges` option to\n    // `true`.\n    //\n    // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n    ranges: false,\n    // It is possible to parse multiple files into a single AST by\n    // passing the tree produced by parsing the first file as\n    // `program` option in subsequent parses. This will add the\n    // toplevel forms of the parsed file to the `Program` (top) node\n    // of an existing parse tree.\n    program: null,\n    // When `location` is on, you can pass this to record the source\n    // file in every node's `loc` object.\n    sourceFile: null,\n    // This value, if given, is stored in every node, whether\n    // `location` is on or off.\n    directSourceFile: null\n  };\n\n  function setOptions(opts) {\n    options = opts || {};\n    for (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n      options[opt] = defaultOptions[opt];\n    sourceFile = options.sourceFile || null;\n  }\n\n  // The `getLineInfo` function is mostly useful when the\n  // `locations` option is off (for performance reasons) and you\n  // want to find the line/column position for a given character\n  // offset. `input` should be the code string that the offset refers\n  // into.\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreak.lastIndex = cur;\n      var match = lineBreak.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else break;\n    }\n    return {line: line, column: offset - cur};\n  };\n\n  // Acorn is organized as a tokenizer and a recursive-descent parser.\n  // The `tokenize` export provides an interface to the tokenizer.\n  // Because the tokenizer is optimized for being efficiently used by\n  // the Acorn parser itself, this interface is somewhat crude and not\n  // very modular. Performing another parse or call to `tokenize` will\n  // reset the internal state, and invalidate existing tokenizers.\n\n  exports.tokenize = function(inpt, opts) {\n    input = String(inpt); inputLen = input.length;\n    setOptions(opts);\n    initTokenState();\n\n    var t = {};\n    function getToken(forceRegexp) {\n      readToken(forceRegexp);\n      t.start = tokStart; t.end = tokEnd;\n      t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n      t.type = tokType; t.value = tokVal;\n      return t;\n    }\n    getToken.jumpTo = function(pos, reAllowed) {\n      tokPos = pos;\n      if (options.locations) {\n        tokCurLine = 1;\n        tokLineStart = lineBreak.lastIndex = 0;\n        var match;\n        while ((match = lineBreak.exec(input)) && match.index < pos) {\n          ++tokCurLine;\n          tokLineStart = match.index + match[0].length;\n        }\n      }\n      tokRegexpAllowed = reAllowed;\n      skipSpace();\n    };\n    return getToken;\n  };\n\n  // State is kept in (closure-)global variables. We already saw the\n  // `options`, `input`, and `inputLen` variables above.\n\n  // The current position of the tokenizer in the input.\n\n  var tokPos;\n\n  // The start and end offsets of the current token.\n\n  var tokStart, tokEnd;\n\n  // When `options.locations` is true, these hold objects\n  // containing the tokens start and end line/column pairs.\n\n  var tokStartLoc, tokEndLoc;\n\n  // The type and value of the current token. Token types are objects,\n  // named by variables against which they can be compared, and\n  // holding properties that describe them (indicating, for example,\n  // the precedence of an infix operator, and the original name of a\n  // keyword token). The kind of value that's held in `tokVal` depends\n  // on the type of the token. For literals, it is the literal value,\n  // for operators, the operator name, and so on.\n\n  var tokType, tokVal;\n\n  // Interal state for the tokenizer. To distinguish between division\n  // operators and regular expressions, it remembers whether the last\n  // token was one that is allowed to be followed by an expression.\n  // (If it is, a slash is probably a regexp, if it isn't it's a\n  // division operator. See the `parseStatement` function for a\n  // caveat.)\n\n  var tokRegexpAllowed;\n\n  // When `options.locations` is true, these are used to keep\n  // track of the current line, and know when a new line has been\n  // entered.\n\n  var tokCurLine, tokLineStart;\n\n  // These store the position of the previous token, which is useful\n  // when finishing a node and assigning its `end` position.\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  // This is the parser's state. `inFunction` is used to reject\n  // `return` statements outside of functions, `labels` to verify that\n  // `break` and `continue` have somewhere to jump to, and `strict`\n  // indicates whether strict mode is on.\n\n  var inFunction, labels, strict;\n\n  // This function is used to raise exceptions on parse errors. It\n  // takes an offset integer (into the current `input`) to indicate\n  // the location of the error, attaches the position to the end\n  // of the error message, and then raises a `SyntaxError` with that\n  // message.\n\n  function raise(pos, message) {\n    var loc = getLineInfo(input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n    throw err;\n  }\n\n  // Reused empty array added for node fields that are always empty.\n\n  var empty = [];\n\n  // ## Token types\n\n  // The assignment of fine-grained, information-carrying type objects\n  // allows the tokenizer to store the information it has about a\n  // token in a way that is very cheap for the parser to look up.\n\n  // All token type variables start with an underscore, to make them\n  // easy to recognize.\n\n  // These are the general types. The `type` property is only used to\n  // make them recognizeable when debugging.\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  // Keyword tokens. The `keyword` property (also used in keyword-like\n  // operators) indicates that the token originated from an\n  // identifier-like word, which is used when parsing property names.\n  //\n  // The `beforeExpr` property is used to disambiguate between regular\n  // expressions and divisions. It is set on all token types that can\n  // be followed by an expression (thus, a slash after them would be a\n  // regular expression).\n  //\n  // `isLoop` marks a keyword as starting a loop, which is important\n  // to know when parsing a label, in order to allow or disallow\n  // continue jumps to that label.\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  // The keywords that denote values.\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  // Some keywords are treated as regular operators. `in` sometimes\n  // (when parsing `for`) needs to be tested against specifically, so\n  // we assign a variable name to it for quick comparing.\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  // Map keyword names to token types.\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n                      \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n                      \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n                      \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n                      \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n                      \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n                      \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n                      \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n                      \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n                      \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  // Punctuation token types. Again, the `type` property is purely for debugging.\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator. `isUpdate` specifies that the node produced by\n  // the operator should be of type UpdateExpression rather than\n  // simply UnaryExpression (`++` and `--`).\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  // Provide access to the token types for external users of the\n  // tokenizer.\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n                      parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n                      dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n                      num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  // This is a trick taken from Esprima. It turns out that, on\n  // non-Chrome browsers, to check whether a string is in a set, a\n  // predicate containing a big ugly `switch` statement is faster than\n  // a regular expression, and on Chrome the two are about on par.\n  // This function uses `eval` (non-lexical) to produce such a\n  // predicate from a space-separated string of words.\n  //\n  // It starts by sorting the words by length.\n\n  function makePredicate(words) {\n    words = words.split(\" \");\n    var f = \"\", cats = [];\n    out: for (var i = 0; i < words.length; ++i) {\n      for (var j = 0; j < cats.length; ++j)\n        if (cats[j][0].length == words[i].length) {\n          cats[j].push(words[i]);\n          continue out;\n        }\n      cats.push([words[i]]);\n    }\n    function compareTo(arr) {\n      if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n      f += \"switch(str){\";\n      for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n      f += \"return true}return false;\";\n    }\n\n    // When there are more than three length categories, an outer\n    // switch first dispatches on the lengths, to save on comparisons.\n\n    if (cats.length > 3) {\n      cats.sort(function(a, b) {return b.length - a.length;});\n      f += \"switch(str.length){\";\n      for (var i = 0; i < cats.length; ++i) {\n        var cat = cats[i];\n        f += \"case \" + cat[0].length + \":\";\n        compareTo(cat);\n      }\n      f += \"}\";\n\n    // Otherwise, simply generate a flat `switch` statement.\n\n    } else {\n      compareTo(words);\n    }\n    return new Function(\"str\", f);\n  }\n\n  // The ECMAScript 3 reserved word list.\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  // ECMAScript 5 reserved words.\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  // The additional reserved words in strict mode.\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  // The forbidden variable names in strict mode.\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  // And the keywords.\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  // ## Character categories\n\n  // Big ugly regular expressions that match characters in the\n  // whitespace, identifier, and identifier-start categories. These\n  // are only applied when a character is found to actually have a\n  // code point above 128.\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  // Whether a single character denotes a newline.\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  // Matches a whole line break (where CRLF is considered a single\n  // line break). Used to count lines.\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  // Test whether a given character code starts an identifier.\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n    if (code < 65) return code === 36;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123)return true;\n    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  // Test whether a given character is part of an identifier.\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n    if (code < 48) return code === 36;\n    if (code < 58) return true;\n    if (code < 65) return false;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123)return true;\n    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  // ## Tokenizer\n\n  // These are used when `options.locations` is on, for the\n  // `tokStartLoc` and `tokEndLoc` properties.\n\n  function line_loc_t() {\n    this.line = tokCurLine;\n    this.column = tokPos - tokLineStart;\n  }\n\n  // Reset the token state. Used at the start of a parse.\n\n  function initTokenState() {\n    tokCurLine = 1;\n    tokPos = tokLineStart = 0;\n    tokRegexpAllowed = true;\n    skipSpace();\n  }\n\n  // Called at the end of every token. Sets `tokEnd`, `tokVal`, and\n  // `tokRegexpAllowed`, and skips the space after the token, so that\n  // the next one's `tokStart` will point at the right position.\n\n  function finishToken(type, val) {\n    tokEnd = tokPos;\n    if (options.locations) tokEndLoc = new line_loc_t;\n    tokType = type;\n    skipSpace();\n    tokVal = val;\n    tokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n    var startLoc = options.onComment && options.locations && new line_loc_t;\n    var start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n    if (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n    tokPos = end + 2;\n    if (options.locations) {\n      lineBreak.lastIndex = start;\n      var match;\n      while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n        ++tokCurLine;\n        tokLineStart = match.index + match[0].length;\n      }\n    }\n    if (options.onComment)\n      options.onComment(true, input.slice(start + 2, end), start, tokPos,\n                        startLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n    var start = tokPos;\n    var startLoc = options.onComment && options.locations && new line_loc_t;\n    var ch = input.charCodeAt(tokPos+=2);\n    while (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n      ++tokPos;\n      ch = input.charCodeAt(tokPos);\n    }\n    if (options.onComment)\n      options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n                        startLoc, options.locations && new line_loc_t);\n  }\n\n  // Called at the start of the parse and after every token. Skips\n  // whitespace and comments, and.\n\n  function skipSpace() {\n    while (tokPos < inputLen) {\n      var ch = input.charCodeAt(tokPos);\n      if (ch === 32) { // ' '\n        ++tokPos;\n      } else if (ch === 13) {\n        ++tokPos;\n        var next = input.charCodeAt(tokPos);\n        if (next === 10) {\n          ++tokPos;\n        }\n        if (options.locations) {\n          ++tokCurLine;\n          tokLineStart = tokPos;\n        }\n      } else if (ch === 10 || ch === 8232 || ch === 8233) {\n        ++tokPos;\n        if (options.locations) {\n          ++tokCurLine;\n          tokLineStart = tokPos;\n        }\n      } else if (ch > 8 && ch < 14) {\n        ++tokPos;\n      } else if (ch === 47) { // '/'\n        var next = input.charCodeAt(tokPos + 1);\n        if (next === 42) { // '*'\n          skipBlockComment();\n        } else if (next === 47) { // '/'\n          skipLineComment();\n        } else break;\n      } else if (ch === 160) { // '\\xa0'\n        ++tokPos;\n      } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++tokPos;\n      } else {\n        break;\n      }\n    }\n  }\n\n  // ### Token reading\n\n  // This is the function that is called to fetch the next token. It\n  // is somewhat obscure, because it works in character codes rather\n  // than characters, and because operator parsing has been inlined\n  // into it.\n  //\n  // All in the name of speed.\n  //\n  // The `forceRegexp` parameter is used in the one case where the\n  // `tokRegexpAllowed` trick does not work. See `parseStatement`.\n\n  function readToken_dot() {\n    var next = input.charCodeAt(tokPos + 1);\n    if (next >= 48 && next <= 57) return readNumber(true);\n    ++tokPos;\n    return finishToken(_dot);\n  }\n\n  function readToken_slash() { // '/'\n    var next = input.charCodeAt(tokPos + 1);\n    if (tokRegexpAllowed) {++tokPos; return readRegexp();}\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() { // '%*'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) { // '|&'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() { // '^'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) { // '+-'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === code) {\n      if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n          newline.test(input.slice(lastEnd, tokPos))) {\n        // A `-->` line comment\n        tokPos += 3;\n        skipLineComment();\n        skipSpace();\n        return readToken();\n      }\n      return finishOp(_incDec, 2);\n    }\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) { // '<>'\n    var next = input.charCodeAt(tokPos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n      if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n      return finishOp(_bitShift, size);\n    }\n    if (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n        input.charCodeAt(tokPos + 3) == 45) {\n      // `<!--`, an XML-style comment that should be interpreted as a line comment\n      tokPos += 4;\n      skipLineComment();\n      skipSpace();\n      return readToken();\n    }\n    if (next === 61)\n      size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n    return finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) { // '=!'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n    return finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n    switch(code) {\n      // The interpretation of a dot depends on whether it is followed\n      // by a digit.\n    case 46: // '.'\n      return readToken_dot();\n\n      // Punctuation tokens.\n    case 40: ++tokPos; return finishToken(_parenL);\n    case 41: ++tokPos; return finishToken(_parenR);\n    case 59: ++tokPos; return finishToken(_semi);\n    case 44: ++tokPos; return finishToken(_comma);\n    case 91: ++tokPos; return finishToken(_bracketL);\n    case 93: ++tokPos; return finishToken(_bracketR);\n    case 123: ++tokPos; return finishToken(_braceL);\n    case 125: ++tokPos; return finishToken(_braceR);\n    case 58: ++tokPos; return finishToken(_colon);\n    case 63: ++tokPos; return finishToken(_question);\n\n      // '0x' is a hexadecimal number.\n    case 48: // '0'\n      var next = input.charCodeAt(tokPos + 1);\n      if (next === 120 || next === 88) return readHexNumber();\n      // Anything else beginning with a digit is an integer, octal\n      // number, or float.\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n      return readNumber(false);\n\n      // Quotes produce strings.\n    case 34: case 39: // '\"', \"'\"\n      return readString(code);\n\n    // Operators are parsed inline in tiny state machines. '=' (61) is\n    // often referred to. `finishOp` simply skips the amount of\n    // characters it is given as second argument, and returns a token\n    // of the type given by its first argument.\n\n    case 47: // '/'\n      return readToken_slash(code);\n\n    case 37: case 42: // '%*'\n      return readToken_mult_modulo();\n\n    case 124: case 38: // '|&'\n      return readToken_pipe_amp(code);\n\n    case 94: // '^'\n      return readToken_caret();\n\n    case 43: case 45: // '+-'\n      return readToken_plus_min(code);\n\n    case 60: case 62: // '<>'\n      return readToken_lt_gt(code);\n\n    case 61: case 33: // '=!'\n      return readToken_eq_excl(code);\n\n    case 126: // '~'\n      return finishOp(_prefix, 1);\n    }\n\n    return false;\n  }\n\n  function readToken(forceRegexp) {\n    if (!forceRegexp) tokStart = tokPos;\n    else tokPos = tokStart + 1;\n    if (options.locations) tokStartLoc = new line_loc_t;\n    if (forceRegexp) return readRegexp();\n    if (tokPos >= inputLen) return finishToken(_eof);\n\n    var code = input.charCodeAt(tokPos);\n    // Identifier or keyword. '\\uXXXX' sequences are allowed in\n    // identifiers, so '\\' also dispatches to that.\n    if (isIdentifierStart(code) || code === 92 /* '\\' */) return readWord();\n\n    var tok = getTokenFromCode(code);\n\n    if (tok === false) {\n      // If we are here, we either found a non-ASCII identifier\n      // character, or something that's entirely disallowed.\n      var ch = String.fromCharCode(code);\n      if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n      raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n    }\n    return tok;\n  }\n\n  function finishOp(type, size) {\n    var str = input.slice(tokPos, tokPos + size);\n    tokPos += size;\n    finishToken(type, str);\n  }\n\n  // Parse a regular expression. Some context-awareness is necessary,\n  // since a '/' inside a '[]' set does not end the expression.\n\n  function readRegexp() {\n    var content = \"\", escaped, inClass, start = tokPos;\n    for (;;) {\n      if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n      var ch = input.charAt(tokPos);\n      if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n      if (!escaped) {\n        if (ch === \"[\") inClass = true;\n        else if (ch === \"]\" && inClass) inClass = false;\n        else if (ch === \"/\" && !inClass) break;\n        escaped = ch === \"\\\\\";\n      } else escaped = false;\n      ++tokPos;\n    }\n    var content = input.slice(start, tokPos);\n    ++tokPos;\n    // Need to use `readWord1` because '\\uXXXX' sequences are allowed\n    // here (don't ask).\n    var mods = readWord1();\n    if (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n    return finishToken(_regexp, new RegExp(content, mods));\n  }\n\n  // Read an integer in the given radix. Return null if zero digits\n  // were read, the integer value otherwise. When `len` is given, this\n  // will return `null` unless the integer has exactly `len` digits.\n\n  function readInt(radix, len) {\n    var start = tokPos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = input.charCodeAt(tokPos), val;\n      if (code >= 97) val = code - 97 + 10; // a\n      else if (code >= 65) val = code - 65 + 10; // A\n      else if (code >= 48 && code <= 57) val = code - 48; // 0-9\n      else val = Infinity;\n      if (val >= radix) break;\n      ++tokPos;\n      total = total * radix + val;\n    }\n    if (tokPos === start || len != null && tokPos - start !== len) return null;\n\n    return total;\n  }\n\n  function readHexNumber() {\n    tokPos += 2; // 0x\n    var val = readInt(16);\n    if (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n    if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n    return finishToken(_num, val);\n  }\n\n  // Read an integer, octal integer, or floating-point number.\n\n  function readNumber(startsWithDot) {\n    var start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n    if (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n    if (input.charCodeAt(tokPos) === 46) {\n      ++tokPos;\n      readInt(10);\n      isFloat = true;\n    }\n    var next = input.charCodeAt(tokPos);\n    if (next === 69 || next === 101) { // 'eE'\n      next = input.charCodeAt(++tokPos);\n      if (next === 43 || next === 45) ++tokPos; // '+-'\n      if (readInt(10) === null) raise(start, \"Invalid number\");\n      isFloat = true;\n    }\n    if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n    var str = input.slice(start, tokPos), val;\n    if (isFloat) val = parseFloat(str);\n    else if (!octal || str.length === 1) val = parseInt(str, 10);\n    else if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n    else val = parseInt(str, 8);\n    return finishToken(_num, val);\n  }\n\n  // Read a string value, interpreting backslash-escapes.\n\n  function readString(quote) {\n    tokPos++;\n    var out = \"\";\n    for (;;) {\n      if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n      var ch = input.charCodeAt(tokPos);\n      if (ch === quote) {\n        ++tokPos;\n        return finishToken(_string, out);\n      }\n      if (ch === 92) { // '\\'\n        ch = input.charCodeAt(++tokPos);\n        var octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n        if (octal) octal = octal[0];\n        while (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n        if (octal === \"0\") octal = null;\n        ++tokPos;\n        if (octal) {\n          if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n          out += String.fromCharCode(parseInt(octal, 8));\n          tokPos += octal.length - 1;\n        } else {\n          switch (ch) {\n          case 110: out += \"\\n\"; break; // 'n' -> '\\n'\n          case 114: out += \"\\r\"; break; // 'r' -> '\\r'\n          case 120: out += String.fromCharCode(readHexChar(2)); break; // 'x'\n          case 117: out += String.fromCharCode(readHexChar(4)); break; // 'u'\n          case 85: out += String.fromCharCode(readHexChar(8)); break; // 'U'\n          case 116: out += \"\\t\"; break; // 't' -> '\\t'\n          case 98: out += \"\\b\"; break; // 'b' -> '\\b'\n          case 118: out += \"\\u000b\"; break; // 'v' -> '\\u000b'\n          case 102: out += \"\\f\"; break; // 'f' -> '\\f'\n          case 48: out += \"\\0\"; break; // 0 -> '\\0'\n          case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos; // '\\r\\n'\n          case 10: // ' \\n'\n            if (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n            break;\n          default: out += String.fromCharCode(ch); break;\n          }\n        }\n      } else {\n        if (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n        out += String.fromCharCode(ch); // '\\'\n        ++tokPos;\n      }\n    }\n  }\n\n  // Used to read character escape sequences ('\\x', '\\u', '\\U').\n\n  function readHexChar(len) {\n    var n = readInt(16, len);\n    if (n === null) raise(tokStart, \"Bad character escape sequence\");\n    return n;\n  }\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n\n  var containsEsc;\n\n  // Read an identifier, and return it as a string. Sets `containsEsc`\n  // to whether the word contained a '\\u' escape.\n  //\n  // Only builds up the word character-by-character when it actually\n  // containeds an escape, as a micro-optimization.\n\n  function readWord1() {\n    containsEsc = false;\n    var word, first = true, start = tokPos;\n    for (;;) {\n      var ch = input.charCodeAt(tokPos);\n      if (isIdentifierChar(ch)) {\n        if (containsEsc) word += input.charAt(tokPos);\n        ++tokPos;\n      } else if (ch === 92) { // \"\\\"\n        if (!containsEsc) word = input.slice(start, tokPos);\n        containsEsc = true;\n        if (input.charCodeAt(++tokPos) != 117) // \"u\"\n          raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n        ++tokPos;\n        var esc = readHexChar(4);\n        var escStr = String.fromCharCode(esc);\n        if (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n        if (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n          raise(tokPos - 4, \"Invalid Unicode escape\");\n        word += escStr;\n      } else {\n        break;\n      }\n      first = false;\n    }\n    return containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  // Read an identifier or keyword token. Will check for reserved\n  // words when necessary.\n\n  function readWord() {\n    var word = readWord1();\n    var type = _name;\n    if (!containsEsc) {\n      if (isKeyword(word)) type = keywordTypes[word];\n      else if (options.forbidReserved &&\n               (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(word) ||\n               strict && isStrictReservedWord(word))\n        raise(tokStart, \"The keyword '\" + word + \"' is reserved\");\n    }\n    return finishToken(type, word);\n  }\n\n  // ## Parser\n\n  // A recursive descent parser operates by defining functions for all\n  // syntactic elements, and recursively calling those, each function\n  // advancing the input stream and returning an AST node. Precedence\n  // of constructs (for example, the fact that `!x[1]` means `!(x[1])`\n  // instead of `(!x)[1]` is handled by the fact that the parser\n  // function that parses unary prefix operators is called first, and\n  // in turn calls the function that parses `[]` subscripts — that\n  // way, it'll receive the node for `x[1]` already parsed, and wraps\n  // *that* in the unary operator node.\n  //\n  // Acorn uses an [operator precedence parser][opp] to handle binary\n  // operator precedence, because it is much more compact than using\n  // the technique outlined above, which uses different, nesting\n  // functions to specify precedence, for all of the ten binary\n  // precedence levels that JavaScript defines.\n  //\n  // [opp]: http://en.wikipedia.org/wiki/Operator-precedence_parser\n\n  // ### Parser utilities\n\n  // Continue to the next token.\n\n  function next() {\n    lastStart = tokStart;\n    lastEnd = tokEnd;\n    lastEndLoc = tokEndLoc;\n    readToken();\n  }\n\n  // Enter strict mode. Re-reads the next token to please pedantic\n  // tests (\"use strict\"; 010; -- should fail).\n\n  function setStrict(strct) {\n    strict = strct;\n    tokPos = lastEnd;\n    if (options.locations) {\n      while (tokPos < tokLineStart) {\n        tokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n        --tokCurLine;\n      }\n    }\n    skipSpace();\n    readToken();\n  }\n\n  // Start an AST node, attaching a start offset.\n\n  function node_t() {\n    this.type = null;\n    this.start = tokStart;\n    this.end = null;\n  }\n\n  function node_loc_t() {\n    this.start = tokStartLoc;\n    this.end = null;\n    if (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n    var node = new node_t();\n    if (options.locations)\n      node.loc = new node_loc_t();\n    if (options.directSourceFile)\n      node.sourceFile = options.directSourceFile;\n    if (options.ranges)\n      node.range = [tokStart, 0];\n    return node;\n  }\n\n  // Start a node whose start offset information should be based on\n  // the start of another node. For example, a binary operator node is\n  // only started after its left-hand side has already been parsed.\n\n  function startNodeFrom(other) {\n    var node = new node_t();\n    node.start = other.start;\n    if (options.locations) {\n      node.loc = new node_loc_t();\n      node.loc.start = other.loc.start;\n    }\n    if (options.ranges)\n      node.range = [other.range[0], 0];\n\n    return node;\n  }\n\n  // Finish an AST node, adding `type` and `end` properties.\n\n  function finishNode(node, type) {\n    node.type = type;\n    node.end = lastEnd;\n    if (options.locations)\n      node.loc.end = lastEndLoc;\n    if (options.ranges)\n      node.range[1] = lastEnd;\n    return node;\n  }\n\n  // Test whether a statement node is the string literal `\"use strict\"`.\n\n  function isUseStrict(stmt) {\n    return options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n      stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  // Predicate that tests whether the next token is of the given\n  // type, and if yes, consumes it as a side effect.\n\n  function eat(type) {\n    if (tokType === type) {\n      next();\n      return true;\n    }\n  }\n\n  // Test whether a semicolon can be inserted at the current position.\n\n  function canInsertSemicolon() {\n    return !options.strictSemicolons &&\n      (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  // Consume a semicolon, or, failing that, see if we are allowed to\n  // pretend that there is a semicolon at this position.\n\n  function semicolon() {\n    if (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  // Expect a token of a given type. If found, consume it, otherwise,\n  // raise an unexpected token error.\n\n  function expect(type) {\n    if (tokType === type) next();\n    else unexpected();\n  }\n\n  // Raise an unexpected token error.\n\n  function unexpected() {\n    raise(tokStart, \"Unexpected token\");\n  }\n\n  // Verify that a node is an lval — something that can be assigned\n  // to.\n\n  function checkLVal(expr) {\n    if (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n      raise(expr.start, \"Assigning to rvalue\");\n    if (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n      raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  // ### Statement parsing\n\n  // Parse a program. Initializes the parser, reads any number of\n  // statements, and wraps them in a Program node.  Optionally takes a\n  // `program` argument.  If present, the statements will be appended\n  // to its body instead of creating a new node.\n\n  function parseTopLevel(program) {\n    lastStart = lastEnd = tokPos;\n    if (options.locations) lastEndLoc = new line_loc_t;\n    inFunction = strict = null;\n    labels = [];\n    readToken();\n\n    var node = program || startNode(), first = true;\n    if (!program) node.body = [];\n    while (tokType !== _eof) {\n      var stmt = parseStatement();\n      node.body.push(stmt);\n      if (first && isUseStrict(stmt)) setStrict(true);\n      first = false;\n    }\n    return finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  // Parse a single statement.\n  //\n  // If expecting a statement and finding a slash operator, parse a\n  // regular expression literal. This is to handle cases like\n  // `if (foo) /blah/.exec(foo);`, where looking at the previous token\n  // does not help.\n\n  function parseStatement() {\n    if (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n      readToken(true);\n\n    var starttype = tokType, node = startNode();\n\n    // Most types of statements are recognized by the keyword they\n    // start with. Many are trivial to parse, some require a bit of\n    // complexity.\n\n    switch (starttype) {\n    case _break: case _continue:\n      next();\n      var isBreak = starttype === _break;\n      if (eat(_semi) || canInsertSemicolon()) node.label = null;\n      else if (tokType !== _name) unexpected();\n      else {\n        node.label = parseIdent();\n        semicolon();\n      }\n\n      // Verify that there is an actual destination to break or\n      // continue to.\n      for (var i = 0; i < labels.length; ++i) {\n        var lab = labels[i];\n        if (node.label == null || lab.name === node.label.name) {\n          if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n          if (node.label && isBreak) break;\n        }\n      }\n      if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n      return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n    case _debugger:\n      next();\n      semicolon();\n      return finishNode(node, \"DebuggerStatement\");\n\n    case _do:\n      next();\n      labels.push(loopLabel);\n      node.body = parseStatement();\n      labels.pop();\n      expect(_while);\n      node.test = parseParenExpression();\n      semicolon();\n      return finishNode(node, \"DoWhileStatement\");\n\n      // Disambiguating between a `for` and a `for`/`in` loop is\n      // non-trivial. Basically, we have to parse the init `var`\n      // statement or expression, disallowing the `in` operator (see\n      // the second parameter to `parseExpression`), and then check\n      // whether the next token is `in`. When there is no init part\n      // (semicolon immediately after the opening parenthesis), it is\n      // a regular `for` loop.\n\n    case _for:\n      next();\n      labels.push(loopLabel);\n      expect(_parenL);\n      if (tokType === _semi) return parseFor(node, null);\n      if (tokType === _var) {\n        var init = startNode();\n        next();\n        parseVar(init, true);\n        finishNode(init, \"VariableDeclaration\");\n        if (init.declarations.length === 1 && eat(_in))\n          return parseForIn(node, init);\n        return parseFor(node, init);\n      }\n      var init = parseExpression(false, true);\n      if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n      return parseFor(node, init);\n\n    case _function:\n      next();\n      return parseFunction(node, true);\n\n    case _if:\n      next();\n      node.test = parseParenExpression();\n      node.consequent = parseStatement();\n      node.alternate = eat(_else) ? parseStatement() : null;\n      return finishNode(node, \"IfStatement\");\n\n    case _return:\n      if (!inFunction) raise(tokStart, \"'return' outside of function\");\n      next();\n\n      // In `return` (and `break`/`continue`), the keywords with\n      // optional arguments, we eagerly look for a semicolon or the\n      // possibility to insert one.\n\n      if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n      else { node.argument = parseExpression(); semicolon(); }\n      return finishNode(node, \"ReturnStatement\");\n\n    case _switch:\n      next();\n      node.discriminant = parseParenExpression();\n      node.cases = [];\n      expect(_braceL);\n      labels.push(switchLabel);\n\n      // Statements under must be grouped (by label) in SwitchCase\n      // nodes. `cur` is used to keep the node that we are currently\n      // adding statements to.\n\n      for (var cur, sawDefault; tokType != _braceR;) {\n        if (tokType === _case || tokType === _default) {\n          var isCase = tokType === _case;\n          if (cur) finishNode(cur, \"SwitchCase\");\n          node.cases.push(cur = startNode());\n          cur.consequent = [];\n          next();\n          if (isCase) cur.test = parseExpression();\n          else {\n            if (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n            cur.test = null;\n          }\n          expect(_colon);\n        } else {\n          if (!cur) unexpected();\n          cur.consequent.push(parseStatement());\n        }\n      }\n      if (cur) finishNode(cur, \"SwitchCase\");\n      next(); // Closing brace\n      labels.pop();\n      return finishNode(node, \"SwitchStatement\");\n\n    case _throw:\n      next();\n      if (newline.test(input.slice(lastEnd, tokStart)))\n        raise(lastEnd, \"Illegal newline after throw\");\n      node.argument = parseExpression();\n      semicolon();\n      return finishNode(node, \"ThrowStatement\");\n\n    case _try:\n      next();\n      node.block = parseBlock();\n      node.handler = null;\n      if (tokType === _catch) {\n        var clause = startNode();\n        next();\n        expect(_parenL);\n        clause.param = parseIdent();\n        if (strict && isStrictBadIdWord(clause.param.name))\n          raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n        expect(_parenR);\n        clause.guard = null;\n        clause.body = parseBlock();\n        node.handler = finishNode(clause, \"CatchClause\");\n      }\n      node.guardedHandlers = empty;\n      node.finalizer = eat(_finally) ? parseBlock() : null;\n      if (!node.handler && !node.finalizer)\n        raise(node.start, \"Missing catch or finally clause\");\n      return finishNode(node, \"TryStatement\");\n\n    case _var:\n      next();\n      parseVar(node);\n      semicolon();\n      return finishNode(node, \"VariableDeclaration\");\n\n    case _while:\n      next();\n      node.test = parseParenExpression();\n      labels.push(loopLabel);\n      node.body = parseStatement();\n      labels.pop();\n      return finishNode(node, \"WhileStatement\");\n\n    case _with:\n      if (strict) raise(tokStart, \"'with' in strict mode\");\n      next();\n      node.object = parseParenExpression();\n      node.body = parseStatement();\n      return finishNode(node, \"WithStatement\");\n\n    case _braceL:\n      return parseBlock();\n\n    case _semi:\n      next();\n      return finishNode(node, \"EmptyStatement\");\n\n      // If the statement does not start with a statement keyword or a\n      // brace, it's an ExpressionStatement or LabeledStatement. We\n      // simply start parsing an expression, and afterwards, if the\n      // next token is a colon and the expression was a simple\n      // Identifier node, we switch to interpreting it as a label.\n\n    default:\n      var maybeName = tokVal, expr = parseExpression();\n      if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n        for (var i = 0; i < labels.length; ++i)\n          if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n        var kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n        labels.push({name: maybeName, kind: kind});\n        node.body = parseStatement();\n        labels.pop();\n        node.label = expr;\n        return finishNode(node, \"LabeledStatement\");\n      } else {\n        node.expression = expr;\n        semicolon();\n        return finishNode(node, \"ExpressionStatement\");\n      }\n    }\n  }\n\n  // Used for constructs like `switch` and `if` that insist on\n  // parentheses around their expression.\n\n  function parseParenExpression() {\n    expect(_parenL);\n    var val = parseExpression();\n    expect(_parenR);\n    return val;\n  }\n\n  // Parse a semicolon-enclosed block of statements, handling `\"use\n  // strict\"` declarations when `allowStrict` is true (used for\n  // function bodies).\n\n  function parseBlock(allowStrict) {\n    var node = startNode(), first = true, strict = false, oldStrict;\n    node.body = [];\n    expect(_braceL);\n    while (!eat(_braceR)) {\n      var stmt = parseStatement();\n      node.body.push(stmt);\n      if (first && allowStrict && isUseStrict(stmt)) {\n        oldStrict = strict;\n        setStrict(strict = true);\n      }\n      first = false;\n    }\n    if (strict && !oldStrict) setStrict(false);\n    return finishNode(node, \"BlockStatement\");\n  }\n\n  // Parse a regular `for` loop. The disambiguation code in\n  // `parseStatement` will already have parsed the init statement or\n  // expression.\n\n  function parseFor(node, init) {\n    node.init = init;\n    expect(_semi);\n    node.test = tokType === _semi ? null : parseExpression();\n    expect(_semi);\n    node.update = tokType === _parenR ? null : parseExpression();\n    expect(_parenR);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, \"ForStatement\");\n  }\n\n  // Parse a `for`/`in` loop.\n\n  function parseForIn(node, init) {\n    node.left = init;\n    node.right = parseExpression();\n    expect(_parenR);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, \"ForInStatement\");\n  }\n\n  // Parse a list of variable declarations.\n\n  function parseVar(node, noIn) {\n    node.declarations = [];\n    node.kind = \"var\";\n    for (;;) {\n      var decl = startNode();\n      decl.id = parseIdent();\n      if (strict && isStrictBadIdWord(decl.id.name))\n        raise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n      decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n      node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n      if (!eat(_comma)) break;\n    }\n    return node;\n  }\n\n  // ### Expression parsing\n\n  // These nest, from the most general expression type at the top to\n  // 'atomic', nondivisible expression types at the bottom. Most of\n  // the functions will simply let the function(s) below them parse,\n  // and, *if* the syntactic construct they handle is present, wrap\n  // the AST node that the inner parser gave them in another node.\n\n  // Parse a full expression. The arguments are used to forbid comma\n  // sequences (in argument lists, array literals, or object literals)\n  // or the `in` operator (in for loops initalization expressions).\n\n  function parseExpression(noComma, noIn) {\n    var expr = parseMaybeAssign(noIn);\n    if (!noComma && tokType === _comma) {\n      var node = startNodeFrom(expr);\n      node.expressions = [expr];\n      while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n      return finishNode(node, \"SequenceExpression\");\n    }\n    return expr;\n  }\n\n  // Parse an assignment expression. This includes applications of\n  // operators like `+=`.\n\n  function parseMaybeAssign(noIn) {\n    var left = parseMaybeConditional(noIn);\n    if (tokType.isAssign) {\n      var node = startNodeFrom(left);\n      node.operator = tokVal;\n      node.left = left;\n      next();\n      node.right = parseMaybeAssign(noIn);\n      checkLVal(left);\n      return finishNode(node, \"AssignmentExpression\");\n    }\n    return left;\n  }\n\n  // Parse a ternary conditional (`?:`) operator.\n\n  function parseMaybeConditional(noIn) {\n    var expr = parseExprOps(noIn);\n    if (eat(_question)) {\n      var node = startNodeFrom(expr);\n      node.test = expr;\n      node.consequent = parseExpression(true);\n      expect(_colon);\n      node.alternate = parseExpression(true, noIn);\n      return finishNode(node, \"ConditionalExpression\");\n    }\n    return expr;\n  }\n\n  // Start the precedence parser.\n\n  function parseExprOps(noIn) {\n    return parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  // Parse binary operators with the operator precedence parsing\n  // algorithm. `left` is the left-hand side of the operator.\n  // `minPrec` provides context that allows the function to stop and\n  // defer further parser to one of its callers when it encounters an\n  // operator that has a lower precedence than the set it is parsing.\n\n  function parseExprOp(left, minPrec, noIn) {\n    var prec = tokType.binop;\n    if (prec != null && (!noIn || tokType !== _in)) {\n      if (prec > minPrec) {\n        var node = startNodeFrom(left);\n        node.left = left;\n        node.operator = tokVal;\n        var op = tokType;\n        next();\n        node.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n        var exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n        return parseExprOp(exprNode, minPrec, noIn);\n      }\n    }\n    return left;\n  }\n\n  // Parse unary operators, both prefix and postfix.\n\n  function parseMaybeUnary() {\n    if (tokType.prefix) {\n      var node = startNode(), update = tokType.isUpdate;\n      node.operator = tokVal;\n      node.prefix = true;\n      tokRegexpAllowed = true;\n      next();\n      node.argument = parseMaybeUnary();\n      if (update) checkLVal(node.argument);\n      else if (strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        raise(node.start, \"Deleting local variable in strict mode\");\n      return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    }\n    var expr = parseExprSubscripts();\n    while (tokType.postfix && !canInsertSemicolon()) {\n      var node = startNodeFrom(expr);\n      node.operator = tokVal;\n      node.prefix = false;\n      node.argument = expr;\n      checkLVal(expr);\n      next();\n      expr = finishNode(node, \"UpdateExpression\");\n    }\n    return expr;\n  }\n\n  // Parse call, dot, and `[]`-subscript expressions.\n\n  function parseExprSubscripts() {\n    return parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n    if (eat(_dot)) {\n      var node = startNodeFrom(base);\n      node.object = base;\n      node.property = parseIdent(true);\n      node.computed = false;\n      return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n    } else if (eat(_bracketL)) {\n      var node = startNodeFrom(base);\n      node.object = base;\n      node.property = parseExpression();\n      node.computed = true;\n      expect(_bracketR);\n      return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n    } else if (!noCalls && eat(_parenL)) {\n      var node = startNodeFrom(base);\n      node.callee = base;\n      node.arguments = parseExprList(_parenR, false);\n      return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n    } else return base;\n  }\n\n  // Parse an atomic expression — either a single token that is an\n  // expression, an expression started by a keyword like `function` or\n  // `new`, or an expression wrapped in punctuation like `()`, `[]`,\n  // or `{}`.\n\n  function parseExprAtom() {\n    switch (tokType) {\n    case _this:\n      var node = startNode();\n      next();\n      return finishNode(node, \"ThisExpression\");\n    case _name:\n      return parseIdent();\n    case _num: case _string: case _regexp:\n      var node = startNode();\n      node.value = tokVal;\n      node.raw = input.slice(tokStart, tokEnd);\n      next();\n      return finishNode(node, \"Literal\");\n\n    case _null: case _true: case _false:\n      var node = startNode();\n      node.value = tokType.atomValue;\n      node.raw = tokType.keyword;\n      next();\n      return finishNode(node, \"Literal\");\n\n    case _parenL:\n      var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n      next();\n      var val = parseExpression();\n      val.start = tokStart1;\n      val.end = tokEnd;\n      if (options.locations) {\n        val.loc.start = tokStartLoc1;\n        val.loc.end = tokEndLoc;\n      }\n      if (options.ranges)\n        val.range = [tokStart1, tokEnd];\n      expect(_parenR);\n      return val;\n\n    case _bracketL:\n      var node = startNode();\n      next();\n      node.elements = parseExprList(_bracketR, true, true);\n      return finishNode(node, \"ArrayExpression\");\n\n    case _braceL:\n      return parseObj();\n\n    case _function:\n      var node = startNode();\n      next();\n      return parseFunction(node, false);\n\n    case _new:\n      return parseNew();\n\n    default:\n      unexpected();\n    }\n  }\n\n  // New's precedence is slightly tricky. It must allow its argument\n  // to be a `[]` or dot subscript expression, but not a call — at\n  // least, not without wrapping it in parentheses. Thus, it uses the\n\n  function parseNew() {\n    var node = startNode();\n    next();\n    node.callee = parseSubscripts(parseExprAtom(), true);\n    if (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n    else node.arguments = empty;\n    return finishNode(node, \"NewExpression\");\n  }\n\n  // Parse an object literal.\n\n  function parseObj() {\n    var node = startNode(), first = true, sawGetSet = false;\n    node.properties = [];\n    next();\n    while (!eat(_braceR)) {\n      if (!first) {\n        expect(_comma);\n        if (options.allowTrailingCommas && eat(_braceR)) break;\n      } else first = false;\n\n      var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n      if (eat(_colon)) {\n        prop.value = parseExpression(true);\n        kind = prop.kind = \"init\";\n      } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n                 (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n        isGetSet = sawGetSet = true;\n        kind = prop.kind = prop.key.name;\n        prop.key = parsePropertyName();\n        if (tokType !== _parenL) unexpected();\n        prop.value = parseFunction(startNode(), false);\n      } else unexpected();\n\n      // getters and setters are not allowed to clash — either with\n      // each other or with an init property — and in strict mode,\n      // init properties are also not allowed to be repeated.\n\n      if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n        for (var i = 0; i < node.properties.length; ++i) {\n          var other = node.properties[i];\n          if (other.key.name === prop.key.name) {\n            var conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n              kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n            if (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n            if (conflict) raise(prop.key.start, \"Redefinition of property\");\n          }\n        }\n      }\n      node.properties.push(prop);\n    }\n    return finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n    if (tokType === _num || tokType === _string) return parseExprAtom();\n    return parseIdent(true);\n  }\n\n  // Parse a function declaration or literal (depending on the\n  // `isStatement` parameter).\n\n  function parseFunction(node, isStatement) {\n    if (tokType === _name) node.id = parseIdent();\n    else if (isStatement) unexpected();\n    else node.id = null;\n    node.params = [];\n    var first = true;\n    expect(_parenL);\n    while (!eat(_parenR)) {\n      if (!first) expect(_comma); else first = false;\n      node.params.push(parseIdent());\n    }\n\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldInFunc = inFunction, oldLabels = labels;\n    inFunction = true; labels = [];\n    node.body = parseBlock(true);\n    inFunction = oldInFunc; labels = oldLabels;\n\n    // If this is a strict mode function, verify that argument names\n    // are not repeated, and it does not try to bind the words `eval`\n    // or `arguments`.\n    if (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n      for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n        var id = i < 0 ? node.id : node.params[i];\n        if (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n          raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n        if (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n          raise(id.start, \"Argument name clash in strict mode\");\n      }\n    }\n\n    return finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  // Parses a comma-separated list of expressions, and returns them as\n  // an array. `close` is the token type that ends the list, and\n  // `allowEmpty` can be turned on to allow subsequent commas with\n  // nothing in between them to be parsed as `null` (which is needed\n  // for array literals).\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n    var elts = [], first = true;\n    while (!eat(close)) {\n      if (!first) {\n        expect(_comma);\n        if (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n      } else first = false;\n\n      if (allowEmpty && tokType === _comma) elts.push(null);\n      else elts.push(parseExpression(true));\n    }\n    return elts;\n  }\n\n  // Parse the next token as an identifier. If `liberal` is true (used\n  // when parsing properties), it will also convert keywords into\n  // identifiers.\n\n  function parseIdent(liberal) {\n    var node = startNode();\n    node.name = tokType === _name ? tokVal : (liberal && !options.forbidReserved && tokType.keyword) || unexpected();\n    tokRegexpAllowed = false;\n    next();\n    return finishNode(node, \"Identifier\");\n  }\n\n});\n\n\n/***/ }),\n\n/***/ \"./original-repo/interpreter.js\":\n/*!**************************************!*\\\n  !*** ./original-repo/interpreter.js ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_74190__) {\n\n\"use strict\";\n/* provided dependency */ var acorn = __nested_webpack_require_74190__(/*! ./original-repo/acorn.js */ \"./original-repo/acorn.js\");\n/**\n * @license\n * Copyright 2013 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Interpreting JavaScript in JavaScript.\n * @author fraser@google.com (Neil Fraser)\n */\n\n\n/**\n * Create a new interpreter.\n * @param {string|!Object} code Raw JavaScript text or AST.\n * @param {Function=} opt_initFunc Optional initialization function.  Used to\n *     define APIs.  When called it is passed the interpreter object and the\n *     global scope object.\n * @constructor\n */\nvar Interpreter = function(code, opt_initFunc) {\n  if (typeof code === 'string') {\n    code = this.parse_(code, 'code');\n  }\n  // Get a handle on Acorn's node_t object.\n  this.nodeConstructor = code.constructor;\n  // Clone the root 'Program' node so that the AST may be modified.\n  var ast = new this.nodeConstructor({options:{}});\n  for (var prop in code) {\n    ast[prop] = (prop === 'body') ? code[prop].slice() : code[prop];\n  }\n  this.ast = ast;\n  this.initFunc_ = opt_initFunc;\n  this.paused_ = false;\n  this.polyfills_ = [];\n  // Unique identifier for native functions.  Used in serialization.\n  this.functionCounter_ = 0;\n  // Map node types to our step function names; a property lookup is faster\n  // than string concatenation with \"step\" prefix.\n  this.stepFunctions_ = Object.create(null);\n  var stepMatch = /^step([A-Z]\\w*)$/;\n  var m;\n  for (var methodName in this) {\n    if ((typeof this[methodName] === 'function') &&\n        (m = methodName.match(stepMatch))) {\n      this.stepFunctions_[m[1]] = this[methodName].bind(this);\n    }\n  }\n  // Create and initialize the global scope.\n  this.globalScope = this.createScope(this.ast, null);\n  this.globalObject = this.globalScope.object;\n  // Run the polyfills.\n  this.ast = this.parse_(this.polyfills_.join('\\n'), 'polyfills');\n  this.polyfills_ = undefined;  // Allow polyfill strings to garbage collect.\n  Interpreter.stripLocations_(this.ast, undefined, undefined);\n  var state = new Interpreter.State(this.ast, this.globalScope);\n  state.done = false;\n  this.stateStack = [state];\n  this.run();\n  this.value = undefined;\n  // Point at the main program.\n  this.ast = ast;\n  var state = new Interpreter.State(this.ast, this.globalScope);\n  state.done = false;\n  this.stateStack.length = 0;\n  this.stateStack[0] = state;\n  // Preserve publicly properties from being pruned/renamed by JS compilers.\n  // Add others as needed.\n  this['stateStack'] = this.stateStack;\n};\n\n/**\n  * Completion Value Types.\n  * @enum {number}\n  */\n Interpreter.Completion = {\n   NORMAL: 0,\n   BREAK: 1,\n   CONTINUE: 2,\n   RETURN: 3,\n   THROW: 4\n };\n\n/**\n * @const {!Object} Configuration used for all Acorn parsing.\n */\nInterpreter.PARSE_OPTIONS = {\n  'locations': true,\n  'ecmaVersion': 5\n};\n\n/**\n * Property descriptor of readonly properties.\n */\nInterpreter.READONLY_DESCRIPTOR = {\n  configurable: true,\n  enumerable: true,\n  writable: false\n};\n\n/**\n * Property descriptor of non-enumerable properties.\n */\nInterpreter.NONENUMERABLE_DESCRIPTOR = {\n  configurable: true,\n  enumerable: false,\n  writable: true\n};\n\n/**\n * Property descriptor of readonly, non-enumerable properties.\n */\nInterpreter.READONLY_NONENUMERABLE_DESCRIPTOR = {\n  configurable: true,\n  enumerable: false,\n  writable: false\n};\n\n/**\n * Property descriptor of non-configurable, readonly, non-enumerable properties.\n * E.g. NaN, Infinity.\n */\nInterpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR = {\n  configurable: false,\n  enumerable: false,\n  writable: false\n};\n\n/**\n * Property descriptor of variables.\n */\nInterpreter.VARIABLE_DESCRIPTOR = {\n  configurable: false,\n  enumerable: true,\n  writable: true\n};\n\n/**\n * Unique symbol for indicating that a step has encountered an error, has\n * added it to the stack, and will be thrown within the user's program.\n * When STEP_ERROR is thrown in the JS-Interpreter, the error can be ignored.\n */\nInterpreter.STEP_ERROR = {'STEP_ERROR': true};\n\n/**\n * Unique symbol for indicating that a reference is a variable on the scope,\n * not an object property.\n */\nInterpreter.SCOPE_REFERENCE = {'SCOPE_REFERENCE': true};\n\n/**\n * Unique symbol for indicating, when used as the value of the value\n * parameter in calls to setProperty and friends, that the value\n * should be taken from the property descriptor instead.\n */\nInterpreter.VALUE_IN_DESCRIPTOR = {'VALUE_IN_DESCRIPTOR': true};\n\n/**\n * Unique symbol for indicating that a RegExp timeout has occurred in a VM.\n */\nInterpreter.REGEXP_TIMEOUT = {'REGEXP_TIMEOUT': true};\n\n/**\n * For cycle detection in array to string and error conversion;\n * see spec bug github.com/tc39/ecma262/issues/289\n * Since this is for atomic actions only, it can be a class property.\n */\nInterpreter.toStringCycles_ = [];\n\n/**\n * Node's vm module, if loaded and required.\n * @type {Object}\n */\nInterpreter.vm = null;\n\n/**\n * The global object (`window` in a browser, `global` in node.js) is `this`.\n */\n\nInterpreter.nativeGlobal = self ? self : this;\n\n/**\n * Code for executing regular expressions in a thread.\n */\nInterpreter.WORKER_CODE = [\n  \"onmessage = function(e) {\",\n    \"var result;\",\n    \"var data = e.data;\",\n    \"switch (data[0]) {\",\n      \"case 'split':\",\n        // ['split', string, separator, limit]\n        \"result = data[1].split(data[2], data[3]);\",\n        \"break;\",\n      \"case 'match':\",\n        // ['match', string, regexp]\n        \"result = data[1].match(data[2]);\",\n        \"break;\",\n      \"case 'search':\",\n        // ['search', string, regexp]\n        \"result = data[1].search(data[2]);\",\n        \"break;\",\n      \"case 'replace':\",\n        // ['replace', string, regexp, newSubstr]\n        \"result = data[1].replace(data[2], data[3]);\",\n        \"break;\",\n      \"case 'exec':\",\n        // ['exec', regexp, lastIndex, string]\n        \"var regexp = data[1];\",\n        \"regexp.lastIndex = data[2];\",\n        \"result = [regexp.exec(data[3]), data[1].lastIndex];\",\n        \"break;\",\n      \"default:\",\n        \"throw Error('Unknown RegExp operation: ' + data[0]);\",\n    \"}\",\n    \"postMessage(result);\",\n  \"};\"];\n\n/**\n * Is a value a legal integer for an array length?\n * @param {Interpreter.Value} x Value to check.\n * @return {number} Zero, or a positive integer if the value can be\n *     converted to such.  NaN otherwise.\n */\nInterpreter.legalArrayLength = function(x) {\n  var n = x >>> 0;\n  // Array length must be between 0 and 2^32-1 (inclusive).\n  return (n === Number(x)) ? n : NaN;\n};\n\n/**\n * Is a value a legal integer for an array index?\n * @param {Interpreter.Value} x Value to check.\n * @return {number} Zero, or a positive integer if the value can be\n *     converted to such.  NaN otherwise.\n */\nInterpreter.legalArrayIndex = function(x) {\n  var n = x >>> 0;\n  // Array index cannot be 2^32-1, otherwise length would be 2^32.\n  // 0xffffffff is 2^32-1.\n  return (String(n) === String(x) && n !== 0xffffffff) ? n : NaN;\n};\n\n/**\n * Remove start and end values from AST, or set start and end values to a\n * constant value.  Used to remove highlighting from polyfills and to set\n * highlighting in an eval to cover the entire eval expression.\n * @param {!Object} node AST node.\n * @param {number=} start Starting character of all nodes, or undefined.\n * @param {number=} end Ending character of all nodes, or undefined.\n * @private\n */\nInterpreter.stripLocations_ = function(node, start, end) {\n  if (start) {\n    node['start'] = start;\n  } else {\n    delete node['start'];\n  }\n  if (end) {\n    node['end'] = end;\n  } else {\n    delete node['end'];\n  }\n  for (var name in node) {\n    if (name !== 'loc' && node.hasOwnProperty(name)) {\n      var prop = node[name];\n      if (prop && typeof prop === 'object') {\n        Interpreter.stripLocations_(prop, start, end);\n      }\n    }\n  }\n};\n\n/**\n * Some pathological regular expressions can take geometric time.\n * Regular expressions are handled in one of three ways:\n * 0 - throw as invalid.\n * 1 - execute natively (risk of unresponsive program).\n * 2 - execute in separate thread (not supported by IE 9).\n */\nInterpreter.prototype['REGEXP_MODE'] = 2;\n\n/**\n * If REGEXP_MODE = 2, the length of time (in ms) to allow a RegExp\n * thread to execute before terminating it.\n */\nInterpreter.prototype['REGEXP_THREAD_TIMEOUT'] = 1000;\n\n/**\n * Length of time (in ms) to allow a polyfill to run before ending step.\n * If set to 0, polyfills will execute step by step.\n * If set to 1000, polyfills will run for up to a second per step\n * (execution will resume in the polyfill in the next step).\n * If set to Infinity, polyfills will run to completion in a single step.\n */\nInterpreter.prototype['POLYFILL_TIMEOUT'] = 1000;\n\n/**\n * Flag indicating that a getter function needs to be called immediately.\n * @private\n */\nInterpreter.prototype.getterStep_ = false;\n\n/**\n * Flag indicating that a setter function needs to be called immediately.\n * @private\n */\nInterpreter.prototype.setterStep_ = false;\n\n/**\n * Number of code chunks appended to the interpreter.\n * @private\n */\nInterpreter.prototype.appendCodeNumber_ = 0;\n\n/**\n * Parse JavaScript code into an AST using Acorn.\n * @param {string} code Raw JavaScript text.\n * @param {string} sourceFile Name of filename (for stack trace).\n * @return {!Object} AST.\n * @private\n */\nInterpreter.prototype.parse_ = function(code, sourceFile) {\n   // Create a new options object, since Acorn will modify this object.\n   var options = {};\n   for (var name in Interpreter.PARSE_OPTIONS) {\n     options[name] = Interpreter.PARSE_OPTIONS[name];\n   }\n   options['sourceFile'] = sourceFile;\n   return acorn.parse(code, options);\n};\n\n/**\n * Add more code to the interpreter.\n * @param {string|!Object} code Raw JavaScript text or AST.\n */\nInterpreter.prototype.appendCode = function(code) {\n  var state = this.stateStack[0];\n  if (!state || state.node['type'] !== 'Program') {\n    throw Error('Expecting original AST to start with a Program node.');\n  }\n  if (typeof code === 'string') {\n    code = this.parse_(code, 'appendCode' + (this.appendCodeNumber_++));\n  }\n  if (!code || code['type'] !== 'Program') {\n    throw Error('Expecting new AST to start with a Program node.');\n  }\n  this.populateScope_(code, state.scope);\n  // Append the new program to the old one.\n  Array.prototype.push.apply(state.node['body'], code['body']);\n  state.done = false;\n};\n\n/**\n * Execute one step of the interpreter.\n * @return {boolean} True if a step was executed, false if no more instructions.\n */\nInterpreter.prototype.step = function() {\n  var stack = this.stateStack;\n  var startTime = Date.now();\n  do {\n    var state = stack[stack.length - 1];\n    if (!state) {\n      return false;\n    }\n    var node = state.node, type = node['type'];\n    if (type === 'Program' && state.done) {\n      return false;\n    } else if (this.paused_) {\n      return true;\n    }\n    try {\n      var nextState = this.stepFunctions_[type](stack, state, node);\n    } catch (e) {\n      // Eat any step errors.  They have been thrown on the stack.\n      if (e !== Interpreter.STEP_ERROR) {\n        // Uh oh.  This is a real error in the JS-Interpreter.  Rethrow.\n        throw e;\n      }\n    }\n    if (nextState) {\n      stack.push(nextState);\n    }\n    if (this.getterStep_) {\n      // Getter from this step was not handled.\n      throw Error('Getter not supported in this context');\n    }\n    if (this.setterStep_) {\n      // Setter from this step was not handled.\n      throw Error('Setter not supported in this context');\n    }\n    // This may be polyfill code.  Keep executing until we arrive at user code.\n  } while (!node['end'] && startTime + this['POLYFILL_TIMEOUT'] > Date.now());\n  return true;\n};\n\n/**\n * Execute the interpreter to program completion.  Vulnerable to infinite loops.\n * @return {boolean} True if a execution is asynchronously blocked,\n *     false if no more instructions.\n */\nInterpreter.prototype.run = function() {\n  while (!this.paused_ && this.step()) {}\n  return this.paused_;\n};\n\n/**\n * Initialize the global object with buitin properties and functions.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initGlobal = function(globalObject) {\n  // Initialize uneditable global properties.\n  this.setProperty(globalObject, 'NaN', NaN,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'Infinity', Infinity,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'undefined', undefined,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'window', globalObject,\n      Interpreter.READONLY_DESCRIPTOR);\n  this.setProperty(globalObject, 'this', globalObject,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'self', globalObject);  // Editable.\n\n  // Create the objects which will become Object.prototype and\n  // Function.prototype, which are needed to bootstrap everything else.\n  this.OBJECT_PROTO = new Interpreter.Object(null);\n  this.FUNCTION_PROTO = new Interpreter.Object(this.OBJECT_PROTO);\n  // Initialize global objects.\n  this.initFunction(globalObject);\n  this.initObject(globalObject);\n  // Unable to set globalObject's parent prior (OBJECT did not exist).\n  // Note that in a browser this would be `Window`, whereas in Node.js it would\n  // be `Object`.  This interpreter is closer to Node in that it has no DOM.\n  globalObject.proto = this.OBJECT_PROTO;\n  this.setProperty(globalObject, 'constructor', this.OBJECT,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.initArray(globalObject);\n  this.initString(globalObject);\n  this.initBoolean(globalObject);\n  this.initNumber(globalObject);\n  this.initDate(globalObject);\n  this.initRegExp(globalObject);\n  this.initError(globalObject);\n  this.initMath(globalObject);\n  this.initJSON(globalObject);\n\n  // Initialize global functions.\n  var thisInterpreter = this;\n  var func = this.createNativeFunction(\n      function(x) {throw EvalError(\"Can't happen\");}, false);\n  func.eval = true;\n  this.setProperty(globalObject, 'eval', func,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'parseInt',\n      this.createNativeFunction(parseInt, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'parseFloat',\n      this.createNativeFunction(parseFloat, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'isNaN',\n      this.createNativeFunction(isNaN, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'isFinite',\n      this.createNativeFunction(isFinite, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var strFunctions = [\n    [escape, 'escape'], [unescape, 'unescape'],\n    [decodeURI, 'decodeURI'], [decodeURIComponent, 'decodeURIComponent'],\n    [encodeURI, 'encodeURI'], [encodeURIComponent, 'encodeURIComponent']\n  ];\n  for (var i = 0; i < strFunctions.length; i++) {\n    var wrapper = (function(nativeFunc) {\n      return function(str) {\n        try {\n          return nativeFunc(str);\n        } catch (e) {\n          // decodeURI('%xy') will throw an error.  Catch and rethrow.\n          thisInterpreter.throwException(thisInterpreter.URI_ERROR, e.message);\n        }\n      };\n    })(strFunctions[i][0]);\n    this.setProperty(globalObject, strFunctions[i][1],\n        this.createNativeFunction(wrapper, false),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n  // Preserve publicly properties from being pruned/renamed by JS compilers.\n  // Add others as needed.\n  this['OBJECT'] = this.OBJECT;     this['OBJECT_PROTO'] = this.OBJECT_PROTO;\n  this['FUNCTION'] = this.FUNCTION; this['FUNCTION_PROTO'] = this.FUNCTION_PROTO;\n  this['ARRAY'] = this.ARRAY;       this['ARRAY_PROTO'] = this.ARRAY_PROTO;\n  this['REGEXP'] = this.REGEXP;     this['REGEXP_PROTO'] = this.REGEXP_PROTO;\n  this['DATE'] = this.DATE;         this['DATE_PROTO'] = this.DATE_PROTO;\n\n  // Run any user-provided initialization.\n  if (this.initFunc_) {\n    this.initFunc_(this, globalObject);\n  }\n};\n\n/**\n * Number of functions created by the interpreter.\n * @private\n */\nInterpreter.prototype.functionCodeNumber_ = 0;\n\n/**\n * Initialize the Function class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initFunction = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  var identifierRegexp = /^[A-Za-z_$][\\w$]*$/;\n  // Function constructor.\n  wrapper = function Function(var_args) {\n    if (arguments.length) {\n      var code = String(arguments[arguments.length - 1]);\n    } else {\n      var code = '';\n    }\n    var argsStr = Array.prototype.slice.call(arguments, 0, -1).join(',').trim();\n    if (argsStr) {\n      var args = argsStr.split(/\\s*,\\s*/);\n      for (var i = 0; i < args.length; i++) {\n        var name = args[i];\n        if (!identifierRegexp.test(name)) {\n          thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n              'Invalid function argument: ' + name);\n        }\n      }\n      argsStr = args.join(', ');\n    }\n    // Acorn needs to parse code in the context of a function or else `return`\n    // statements will be syntax errors.\n    try {\n      var ast = this.parse_('(function(' + argsStr + ') {' + code + '})',\n          'function' + (this.functionCodeNumber_++));\n    } catch (e) {\n      // Acorn threw a SyntaxError.  Rethrow as a trappable error.\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n          'Invalid code: ' + e.message);\n    }\n    if (ast['body'].length !== 1) {\n      // Function('a', 'return a + 6;}; {alert(1);');\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n          'Invalid code in function body.');\n    }\n    var node = ast['body'][0]['expression'];\n    // Note that if this constructor is called as `new Function()` the function\n    // object created by stepCallExpression and assigned to `this` is discarded.\n    // Interestingly, the scope for constructed functions is the global scope,\n    // even if they were constructed in some other scope.\n    return thisInterpreter.createFunction(node, thisInterpreter.globalScope, 'anonymous');\n  };\n  this.FUNCTION = this.createNativeFunction(wrapper, true);\n\n  this.setProperty(globalObject, 'Function', this.FUNCTION,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  // Throw away the created prototype and use the root prototype.\n  this.setProperty(this.FUNCTION, 'prototype', this.FUNCTION_PROTO,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Configure Function.prototype.\n  this.setProperty(this.FUNCTION_PROTO, 'constructor', this.FUNCTION,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.FUNCTION_PROTO.nativeFunc = function() {};\n  this.FUNCTION_PROTO.nativeFunc.id = this.functionCounter_++;\n  this.FUNCTION_PROTO.illegalConstructor = true;\n  this.setProperty(this.FUNCTION_PROTO, 'length', 0,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.FUNCTION_PROTO.class = 'Function';\n\n  wrapper = function apply(thisArg, args) {\n    var state =\n        thisInterpreter.stateStack[thisInterpreter.stateStack.length - 1];\n    // Rewrite the current CallExpression state to apply a different function.\n    state.func_ = this;\n    // Assign the `this` object.\n    state.funcThis_ = thisArg;\n    // Bind any provided arguments.\n    state.arguments_ = [];\n    if (args !== null && args !== undefined) {\n      if (args instanceof Interpreter.Object) {\n        state.arguments_ = thisInterpreter.arrayPseudoToNative(args);\n      } else {\n        thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n            'CreateListFromArrayLike called on non-object');\n      }\n    }\n    state.doneExec_ = false;\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'apply', wrapper);\n\n  wrapper = function call(thisArg /*, var_args */) {\n    var state =\n        thisInterpreter.stateStack[thisInterpreter.stateStack.length - 1];\n    // Rewrite the current CallExpression state to call a different function.\n    state.func_ = this;\n    // Assign the `this` object.\n    state.funcThis_ = thisArg;\n    // Bind any provided arguments.\n    state.arguments_ = [];\n    for (var i = 1; i < arguments.length; i++) {\n      state.arguments_.push(arguments[i]);\n    }\n    state.doneExec_ = false;\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'call', wrapper);\n\n  this.polyfills_.push(\n// Polyfill copied from:\n// developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\n\"Object.defineProperty(Function.prototype, 'bind',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function bind(oThis) {\",\n    \"if (typeof this !== 'function') {\",\n      \"throw TypeError('What is trying to be bound is not callable');\",\n    \"}\",\n    \"var aArgs   = Array.prototype.slice.call(arguments, 1),\",\n        \"fToBind = this,\",\n        \"fNOP    = function() {},\",\n        \"fBound  = function() {\",\n          \"return fToBind.apply(this instanceof fNOP\",\n                 \"? this\",\n                 \": oThis,\",\n                 \"aArgs.concat(Array.prototype.slice.call(arguments)));\",\n        \"};\",\n    \"if (this.prototype) {\",\n      \"fNOP.prototype = this.prototype;\",\n    \"}\",\n    \"fBound.prototype = new fNOP();\",\n    \"return fBound;\",\n  \"}\",\n\"});\",\n\"\");\n\n  // Function has no parent to inherit from, so it needs its own mandatory\n  // toString and valueOf functions.\n  wrapper = function toString() {\n    return String(this);\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'toString', wrapper);\n  this.setProperty(this.FUNCTION, 'toString',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  wrapper = function valueOf() {\n    return this.valueOf();\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'valueOf', wrapper);\n  this.setProperty(this.FUNCTION, 'valueOf',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize the Object class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initObject = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Object constructor.\n  wrapper = function Object(value) {\n    if (value === undefined || value === null) {\n      // Create a new object.\n      if (thisInterpreter.calledWithNew()) {\n        // Called as `new Object()`.\n        return this;\n      } else {\n        // Called as `Object()`.\n        return thisInterpreter.createObjectProto(thisInterpreter.OBJECT_PROTO);\n      }\n    }\n    if (!(value instanceof Interpreter.Object)) {\n      // Wrap the value as an object.\n      var box = thisInterpreter.createObjectProto(\n          thisInterpreter.getPrototype(value));\n      box.data = value;\n      return box;\n    }\n    // Return the provided object.\n    return value;\n  };\n  this.OBJECT = this.createNativeFunction(wrapper, true);\n  // Throw away the created prototype and use the root prototype.\n  this.setProperty(this.OBJECT, 'prototype', this.OBJECT_PROTO,\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.OBJECT_PROTO, 'constructor', this.OBJECT,\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'Object', this.OBJECT,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  /**\n   * Checks if the provided value is null or undefined.\n   * If so, then throw an error in the call stack.\n   * @param {Interpreter.Value} value Value to check.\n   */\n  var throwIfNullUndefined = function(value) {\n    if (value === undefined || value === null) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          \"Cannot convert '\" + value + \"' to object\");\n    }\n  };\n\n  // Static methods on Object.\n  wrapper = function getOwnPropertyNames(obj) {\n    throwIfNullUndefined(obj);\n    var props = (obj instanceof Interpreter.Object) ? obj.properties : obj;\n    return thisInterpreter.arrayNativeToPseudo(\n        Object.getOwnPropertyNames(props));\n  };\n  this.setProperty(this.OBJECT, 'getOwnPropertyNames',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function keys(obj) {\n    throwIfNullUndefined(obj);\n    if (obj instanceof Interpreter.Object) {\n      obj = obj.properties;\n    }\n    return thisInterpreter.arrayNativeToPseudo(Object.keys(obj));\n  };\n  this.setProperty(this.OBJECT, 'keys',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function create_(proto) {\n    // Support for the second argument is the responsibility of a polyfill.\n    if (proto === null) {\n      return thisInterpreter.createObjectProto(null);\n    }\n    if (!(proto instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object prototype may only be an Object or null');\n    }\n    return thisInterpreter.createObjectProto(proto);\n  };\n  this.setProperty(this.OBJECT, 'create',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Add a polyfill to handle create's second argument.\n  this.polyfills_.push(\n\"(function() {\",\n  \"var create_ = Object.create;\",\n  \"Object.create = function create(proto, props) {\",\n    \"var obj = create_(proto);\",\n    \"props && Object.defineProperties(obj, props);\",\n    \"return obj;\",\n  \"};\",\n\"})();\",\n\"\");\n\n  wrapper = function defineProperty(obj, prop, descriptor) {\n    prop = String(prop);\n    if (!(obj instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object.defineProperty called on non-object');\n    }\n    if (!(descriptor instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Property description must be an object');\n    }\n    if (!obj.properties[prop] && obj.preventExtensions) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          \"Can't define property '\" + prop + \"', object is not extensible\");\n    }\n    // The polyfill guarantees no inheritance and no getter functions.\n    // Therefore the descriptor properties map is the native object needed.\n    thisInterpreter.setProperty(obj, prop, Interpreter.VALUE_IN_DESCRIPTOR,\n                                descriptor.properties);\n    return obj;\n  };\n  this.setProperty(this.OBJECT, 'defineProperty',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.polyfills_.push(\n// Flatten the descriptor to remove any inheritance or getter functions.\n\"(function() {\",\n  \"var defineProperty_ = Object.defineProperty;\",\n  \"Object.defineProperty = function defineProperty(obj, prop, d1) {\",\n    \"var d2 = {};\",\n    \"if ('configurable' in d1) d2.configurable = d1.configurable;\",\n    \"if ('enumerable' in d1) d2.enumerable = d1.enumerable;\",\n    \"if ('writable' in d1) d2.writable = d1.writable;\",\n    \"if ('value' in d1) d2.value = d1.value;\",\n    \"if ('get' in d1) d2.get = d1.get;\",\n    \"if ('set' in d1) d2.set = d1.set;\",\n    \"return defineProperty_(obj, prop, d2);\",\n  \"};\",\n\"})();\",\n\n\"Object.defineProperty(Object, 'defineProperties',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function defineProperties(obj, props) {\",\n    \"var keys = Object.keys(props);\",\n    \"for (var i = 0; i < keys.length; i++) {\",\n      \"Object.defineProperty(obj, keys[i], props[keys[i]]);\",\n    \"}\",\n    \"return obj;\",\n  \"}\",\n\"});\",\n\"\");\n\n  wrapper = function getOwnPropertyDescriptor(obj, prop) {\n    if (!(obj instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object.getOwnPropertyDescriptor called on non-object');\n    }\n    prop = String(prop);\n    if (!(prop in obj.properties)) {\n      return undefined;\n    }\n    var descriptor = Object.getOwnPropertyDescriptor(obj.properties, prop);\n    var getter = obj.getter[prop];\n    var setter = obj.setter[prop];\n\n    var pseudoDescriptor =\n        thisInterpreter.createObjectProto(thisInterpreter.OBJECT_PROTO);\n    if (getter || setter) {\n      thisInterpreter.setProperty(pseudoDescriptor, 'get', getter);\n      thisInterpreter.setProperty(pseudoDescriptor, 'set', setter);\n    } else {\n      thisInterpreter.setProperty(pseudoDescriptor, 'value',\n          descriptor.value);\n      thisInterpreter.setProperty(pseudoDescriptor, 'writable',\n          descriptor.writable);\n    }\n    thisInterpreter.setProperty(pseudoDescriptor, 'configurable',\n        descriptor.configurable);\n    thisInterpreter.setProperty(pseudoDescriptor, 'enumerable',\n        descriptor.enumerable);\n    return pseudoDescriptor;\n  };\n  this.setProperty(this.OBJECT, 'getOwnPropertyDescriptor',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function getPrototypeOf(obj) {\n    throwIfNullUndefined(obj);\n    return thisInterpreter.getPrototype(obj);\n  };\n  this.setProperty(this.OBJECT, 'getPrototypeOf',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function isExtensible(obj) {\n    return Boolean(obj) && !obj.preventExtensions;\n  };\n  this.setProperty(this.OBJECT, 'isExtensible',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function preventExtensions(obj) {\n    if (obj instanceof Interpreter.Object) {\n      obj.preventExtensions = true;\n    }\n    return obj;\n  };\n  this.setProperty(this.OBJECT, 'preventExtensions',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Object.\n  this.setNativeFunctionPrototype(this.OBJECT, 'toString',\n      Interpreter.Object.prototype.toString);\n  this.setNativeFunctionPrototype(this.OBJECT, 'toLocaleString',\n      Interpreter.Object.prototype.toString);\n  this.setNativeFunctionPrototype(this.OBJECT, 'valueOf',\n      Interpreter.Object.prototype.valueOf);\n\n  wrapper = function hasOwnProperty(prop) {\n    throwIfNullUndefined(this);\n    if (this instanceof Interpreter.Object) {\n      return String(prop) in this.properties;\n    }\n    // Primitive.\n    return this.hasOwnProperty(prop);\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'hasOwnProperty', wrapper);\n\n  wrapper = function propertyIsEnumerable(prop) {\n    throwIfNullUndefined(this);\n    if (this instanceof Interpreter.Object) {\n      return Object.prototype.propertyIsEnumerable.call(this.properties, prop);\n    }\n    // Primitive.\n    return this.propertyIsEnumerable(prop);\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'propertyIsEnumerable', wrapper);\n\n  wrapper = function isPrototypeOf(obj) {\n    while (true) {\n      // Note, circular loops shouldn't be possible.\n      obj = thisInterpreter.getPrototype(obj);\n      if (!obj) {\n        // No parent; reached the top.\n        return false;\n      }\n      if (obj === this) {\n        return true;\n      }\n    }\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'isPrototypeOf',  wrapper);\n};\n\n/**\n * Initialize the Array class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initArray = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Array constructor.\n  wrapper = function Array(var_args) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Array()`.\n      var newArray = this;\n    } else {\n      // Called as `Array()`.\n      var newArray = thisInterpreter.createArray();\n    }\n    var first = arguments[0];\n    if (arguments.length === 1 && typeof first === 'number') {\n      if (isNaN(Interpreter.legalArrayLength(first))) {\n        thisInterpreter.throwException(thisInterpreter.RANGE_ERROR,\n                                       'Invalid array length');\n      }\n      newArray.properties.length = first;\n    } else {\n      for (var i = 0; i < arguments.length; i++) {\n        newArray.properties[i] = arguments[i];\n      }\n      newArray.properties.length = i;\n    }\n    return newArray;\n  };\n  this.ARRAY = this.createNativeFunction(wrapper, true);\n  this.ARRAY_PROTO = this.ARRAY.properties['prototype'];\n  this.setProperty(globalObject, 'Array', this.ARRAY,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on Array.\n  wrapper = function isArray(obj) {\n    return obj && obj.class === 'Array';\n  };\n  this.setProperty(this.ARRAY, 'isArray',\n                   this.createNativeFunction(wrapper, false),\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Array.\n  this.setProperty(this.ARRAY_PROTO, 'length', 0,\n      {configurable: false, enumerable: false, writable: true});\n  this.ARRAY_PROTO.class = 'Array';\n\n  this.polyfills_.push(\n\"Object.defineProperty(Array.prototype, 'pop',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function pop() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"o.length = 0;\",\n      \"return undefined;\",\n    \"}\",\n    \"len--;\",\n    \"var x = o[len];\",\n    \"delete o[len];\",  // Needed for non-arrays.\n    \"o.length = len;\",\n    \"return x;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'push',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function push(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"for (var i = 0; i < arguments.length; i++) {\",\n      \"o[len] = arguments[i];\",\n      \"len++;\",\n    \"}\",\n    \"o.length = len;\",\n    \"return len;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'shift',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function shift() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"o.length = 0;\",\n      \"return undefined;\",\n    \"}\",\n    \"var value = o[0];\",\n    \"for (var i = 0; i < len - 1; i++) {\",\n      \"o[i] = o[i + 1];\",\n    \"}\",\n    \"delete o[i];\",  // Needed for non-arrays.\n    \"o.length = len - 1;\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'unshift',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function unshift(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"len = 0;\",\n    \"}\",\n    \"for (var i = len - 1; i >= 0; i--) {\",\n      \"o[i + arguments.length] = o[i];\",\n    \"}\",\n    \"for (var i = 0; i < arguments.length; i++) {\",\n      \"o[i] = arguments[i];\",\n    \"}\",\n    \"return o.length = len + arguments.length;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'reverse',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reverse() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 2) {\",\n      \"return o;\",  // Not an array, or too short to reverse.\n    \"}\",\n    \"for (var i = 0; i < len / 2 - 0.5; i++) {\",\n      \"var x = o[i];\",\n      \"o[i] = o[len - i - 1];\",\n      \"o[len - i - 1] = x;\",\n    \"}\",\n    \"return o;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'indexOf',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function indexOf(searchElement, fromIndex) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var n = fromIndex | 0;\",\n    \"if (!len || n >= len) {\",\n      \"return -1;\",\n    \"}\",\n    \"var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\",\n    \"while (i < len) {\",\n      \"if (i in o && o[i] === searchElement) {\",\n        \"return i;\",\n      \"}\",\n      \"i++;\",\n    \"}\",\n    \"return -1;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'lastIndexOf',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function lastIndexOf(searchElement, fromIndex) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len) {\",\n      \"return -1;\",\n    \"}\",\n    \"var n = len - 1;\",\n    \"if (arguments.length > 1) {\",\n      \"n = fromIndex | 0;\",\n      \"if (n) {\",\n        \"n = (n > 0 || -1) * Math.floor(Math.abs(n));\",\n      \"}\",\n    \"}\",\n    \"var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\",\n    \"while (i >= 0) {\",\n      \"if (i in o && o[i] === searchElement) {\",\n        \"return i;\",\n      \"}\",\n      \"i--;\",\n    \"}\",\n    \"return -1;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'slice',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function slice(start, end) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    // Handle negative value for \"start\"\n    \"start |= 0;\",\n    \"start = (start >= 0) ? start : Math.max(0, len + start);\",\n    // Handle negative value for \"end\"\n    \"if (typeof end !== 'undefined') {\",\n      \"if (end !== Infinity) {\",\n        \"end |= 0;\",\n      \"}\",\n      \"if (end < 0) {\",\n        \"end = len + end;\",\n      \"} else {\",\n        \"end = Math.min(end, len);\",\n      \"}\",\n    \"} else {\",\n      \"end = len;\",\n    \"}\",\n    \"var size = end - start;\",\n    \"var cloned = [];\",\n    \"for (var i = 0; i < size; i++) {\",\n      \"cloned[i] = o[start + i];\",\n    \"}\",\n    \"return cloned;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'splice',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function splice(start, deleteCount, var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"start |= 0;\",\n    \"if (start < 0) {\",\n      \"start = Math.max(len + start, 0);\",\n    \"} else {\",\n      \"start = Math.min(start, len);\",\n    \"}\",\n    \"if (arguments.length < 1) {\",\n      \"deleteCount = len - start;\",\n    \"} else {\",\n      \"deleteCount |= 0;\",\n      \"deleteCount = Math.max(0, Math.min(deleteCount, len - start));\",\n    \"}\",\n    \"var removed = [];\",\n    // Remove specified elements.\n    \"for (var i = start; i < start + deleteCount; i++) {\",\n      \"removed[removed.length++] = o[i];\",\n      \"o[i] = o[i + deleteCount];\",\n    \"}\",\n    // Move other element to fill the gap.\n    \"for (var i = start + deleteCount; i < len - deleteCount; i++) {\",\n      \"o[i] = o[i + deleteCount];\",\n    \"}\",\n    // Delete superfluous properties.\n    \"for (var i = len - deleteCount; i < len; i++) {\",\n      \"delete o[i];\",\n    \"}\",\n    \"len -= deleteCount;\",\n    // Insert specified items.\n    \"for (var i = len - 1; i >= start; i--) {\",\n      \"o[i + arguments.length - 2] = o[i];\",\n    \"}\",\n    \"len += arguments.length - 2;\",\n    \"for (var i = 2; i < arguments.length; i++) {\",\n      \"o[start + i - 2] = arguments[i];\",\n    \"}\",\n    \"o.length = len;\",\n    \"return removed;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'concat',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function concat(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var cloned = [];\",\n    \"for (var i = -1; i < arguments.length; i++) {\",\n      \"var value = (i === -1) ? o : arguments[i];\",\n      \"if (Array.isArray(value)) {\",\n        \"cloned.push.apply(cloned, value);\",\n      \"} else {\",\n        \"cloned.push(value);\",\n      \"}\",\n    \"}\",\n    \"return cloned;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'join',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function join(opt_separator) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var sep = typeof opt_separator === 'undefined' ?\",\n        \"',' : ('' + opt_separator);\",\n    \"var str = '';\",\n    \"for (var i = 0; i < o.length; i++) {\",\n      \"if (i && sep) {\",\n        \"str += sep;\",\n      \"}\",\n      \"str += o[i];\",\n    \"}\",\n    \"return str;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/every\n\"Object.defineProperty(Array.prototype, 'every',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function every(callbackfn, thisArg) {\",\n    \"if (!this || typeof callbackfn !== 'function') throw TypeError();\",\n    \"var t, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o && !callbackfn.call(t, o[k], k, o)) return false;\",\n      \"k++;\",\n    \"}\",\n    \"return true;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\n\"Object.defineProperty(Array.prototype, 'filter',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function filter(fun, var_args) {\",\n    \"if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var res = [];\",\n    \"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\",\n    \"for (var i = 0; i < len; i++) {\",\n      \"if (i in o) {\",\n        \"var val = o[i];\",\n        \"if (fun.call(thisArg, val, i, o)) res.push(val);\",\n      \"}\",\n    \"}\",\n    \"return res;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n\"Object.defineProperty(Array.prototype, 'forEach',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function forEach(callback, thisArg) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var t, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o) callback.call(t, o[k], k, o);\",\n      \"k++;\",\n    \"}\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/map\n\"Object.defineProperty(Array.prototype, 'map',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function map(callback, thisArg) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var t, a, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"a = new Array(len);\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o) a[k] = callback.call(t, o[k], k, o);\",\n      \"k++;\",\n    \"}\",\n    \"return a;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\n\"Object.defineProperty(Array.prototype, 'reduce',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reduce(callback /*, initialValue*/) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var o = Object(this), len = o.length >>> 0, k = 0, value;\",\n    \"if (arguments.length === 2) {\",\n      \"value = arguments[1];\",\n    \"} else {\",\n      \"while (k < len && !(k in o)) k++;\",\n      \"if (k >= len) {\",\n        \"throw TypeError('Reduce of empty array with no initial value');\",\n      \"}\",\n      \"value = o[k++];\",\n    \"}\",\n    \"for (; k < len; k++) {\",\n      \"if (k in o) value = callback(value, o[k], k, o);\",\n    \"}\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight\n\"Object.defineProperty(Array.prototype, 'reduceRight',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reduceRight(callback /*, initialValue*/) {\",\n    \"if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();\",\n    \"var o = Object(this), len = o.length >>> 0, k = len - 1, value;\",\n    \"if (arguments.length >= 2) {\",\n      \"value = arguments[1];\",\n    \"} else {\",\n      \"while (k >= 0 && !(k in o)) k--;\",\n      \"if (k < 0) {\",\n        \"throw TypeError('Reduce of empty array with no initial value');\",\n      \"}\",\n      \"value = o[k--];\",\n    \"}\",\n    \"for (; k >= 0; k--) {\",\n      \"if (k in o) value = callback(value, o[k], k, o);\",\n    \"}\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/some\n\"Object.defineProperty(Array.prototype, 'some',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function some(fun/*, thisArg*/) {\",\n    \"if (!this || typeof fun !== 'function') throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\",\n    \"for (var i = 0; i < len; i++) {\",\n      \"if (i in o && fun.call(thisArg, o[i], i, o)) {\",\n        \"return true;\",\n      \"}\",\n    \"}\",\n    \"return false;\",\n  \"}\",\n\"});\",\n\n\n\"Object.defineProperty(Array.prototype, 'sort',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function sort(opt_comp) {\",  // Bubble sort!\n    \"if (!this) throw TypeError();\",\n    \"if (typeof opt_comp !== 'function') {\",\n      \"opt_comp = undefined;\",\n    \"}\",\n    \"for (var i = 0; i < this.length; i++) {\",\n      \"var changes = 0;\",\n      \"for (var j = 0; j < this.length - i - 1; j++) {\",\n        \"if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :\",\n            \"(String(this[j]) > String(this[j + 1]))) {\",\n          \"var swap = this[j];\",\n          \"this[j] = this[j + 1];\",\n          \"this[j + 1] = swap;\",\n          \"changes++;\",\n        \"}\",\n      \"}\",\n      \"if (!changes) break;\",\n    \"}\",\n    \"return this;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'toLocaleString',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function toLocaleString() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var out = [];\",\n    \"for (var i = 0; i < o.length; i++) {\",\n      \"out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();\",\n    \"}\",\n    \"return out.join(',');\",\n  \"}\",\n\"});\",\n\"\");\n};\n\n/**\n * Initialize the String class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initString = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // String constructor.\n  wrapper = function String(value) {\n    value = arguments.length ? Interpreter.nativeGlobal.String(value) : '';\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new String()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `String()`.\n      return value;\n    }\n  };\n  this.STRING = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'String', this.STRING,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on String.\n  this.setProperty(this.STRING, 'fromCharCode',\n      this.createNativeFunction(String.fromCharCode, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on String.\n  // Methods with exclusively primitive arguments.\n  var functions = ['charAt', 'charCodeAt', 'concat', 'indexOf', 'lastIndexOf',\n      'slice', 'substr', 'substring', 'toLocaleLowerCase', 'toLocaleUpperCase',\n      'toLowerCase', 'toUpperCase', 'trim'];\n  for (var i = 0; i < functions.length; i++) {\n    this.setNativeFunctionPrototype(this.STRING, functions[i],\n                                    String.prototype[functions[i]]);\n  }\n\n  wrapper = function localeCompare(compareString, locales, options) {\n    locales = thisInterpreter.pseudoToNative(locales);\n    options = thisInterpreter.pseudoToNative(options);\n    try {\n      return String(this).localeCompare(compareString, locales, options);\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.ERROR,\n          'localeCompare: ' + e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.STRING, 'localeCompare', wrapper);\n\n  wrapper = function split(separator, limit, callback) {\n    var string = String(this);\n    limit = limit ? Number(limit) : undefined;\n    // Example of catastrophic split RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.split(/^(a+)+b/)\n    if (thisInterpreter.isa(separator, thisInterpreter.REGEXP)) {\n      separator = separator.data;\n      thisInterpreter.maybeThrowRegExp(separator, callback);\n      if (thisInterpreter['REGEXP_MODE'] === 2) {\n        if (Interpreter.vm) {\n          // Run split in vm.\n          var sandbox = {\n            'string': string,\n            'separator': separator,\n            'limit': limit\n          };\n          var code = 'string.split(separator, limit)';\n          var jsList =\n              thisInterpreter.vmCall(code, sandbox, separator, callback);\n          if (jsList !== Interpreter.REGEXP_TIMEOUT) {\n            callback(thisInterpreter.arrayNativeToPseudo(jsList));\n          }\n        } else {\n          // Run split in separate thread.\n          var splitWorker = thisInterpreter.createWorker();\n          var pid = thisInterpreter.regExpTimeout(separator, splitWorker,\n              callback);\n          splitWorker.onmessage = function(e) {\n            clearTimeout(pid);\n            callback(thisInterpreter.arrayNativeToPseudo(e.data));\n          };\n          splitWorker.postMessage(['split', string, separator, limit]);\n        }\n        return;\n      }\n    }\n    // Run split natively.\n    var jsList = string.split(separator, limit);\n    callback(thisInterpreter.arrayNativeToPseudo(jsList));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'split', wrapper);\n\n  wrapper = function match(regexp, callback) {\n    var string = String(this);\n    if (thisInterpreter.isa(regexp, thisInterpreter.REGEXP)) {\n      regexp = regexp.data;\n    } else {\n      regexp = new RegExp(regexp);\n    }\n    // Example of catastrophic match RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.match(/^(a+)+b/)\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run match in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'string.match(regexp)';\n        var m = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (m !== Interpreter.REGEXP_TIMEOUT) {\n          callback(m && thisInterpreter.arrayNativeToPseudo(m));\n        }\n      } else {\n        // Run match in separate thread.\n        var matchWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, matchWorker, callback);\n        matchWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          callback(e.data && thisInterpreter.arrayNativeToPseudo(e.data));\n        };\n        matchWorker.postMessage(['match', string, regexp]);\n      }\n      return;\n    }\n    // Run match natively.\n    var m = string.match(regexp);\n    callback(m && thisInterpreter.arrayNativeToPseudo(m));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'match', wrapper);\n\n  wrapper = function search(regexp, callback) {\n    var string = String(this);\n    if (thisInterpreter.isa(regexp, thisInterpreter.REGEXP)) {\n      regexp = regexp.data;\n    } else {\n      regexp = new RegExp(regexp);\n    }\n    // Example of catastrophic search RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.search(/^(a+)+b/)\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run search in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'string.search(regexp)';\n        var n = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (n !== Interpreter.REGEXP_TIMEOUT) {\n          callback(n);\n        }\n      } else {\n        // Run search in separate thread.\n        var searchWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, searchWorker, callback);\n        searchWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          callback(e.data);\n        };\n        searchWorker.postMessage(['search', string, regexp]);\n      }\n      return;\n    }\n    // Run search natively.\n    callback(string.search(regexp));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'search', wrapper);\n\n  wrapper = function replace_(substr, newSubstr, callback) {\n    // Support for function replacements is the responsibility of a polyfill.\n    var string = String(this);\n    newSubstr = String(newSubstr);\n    // Example of catastrophic replace RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.replace(/^(a+)+b/, '')\n    if (thisInterpreter.isa(substr, thisInterpreter.REGEXP)) {\n      substr = substr.data;\n      thisInterpreter.maybeThrowRegExp(substr, callback);\n      if (thisInterpreter['REGEXP_MODE'] === 2) {\n        if (Interpreter.vm) {\n          // Run replace in vm.\n          var sandbox = {\n            'string': string,\n            'substr': substr,\n            'newSubstr': newSubstr\n          };\n          var code = 'string.replace(substr, newSubstr)';\n          var str = thisInterpreter.vmCall(code, sandbox, substr, callback);\n          if (str !== Interpreter.REGEXP_TIMEOUT) {\n            callback(str);\n          }\n        } else {\n          // Run replace in separate thread.\n          var replaceWorker = thisInterpreter.createWorker();\n          var pid = thisInterpreter.regExpTimeout(substr, replaceWorker,\n              callback);\n          replaceWorker.onmessage = function(e) {\n            clearTimeout(pid);\n            callback(e.data);\n          };\n          replaceWorker.postMessage(['replace', string, substr, newSubstr]);\n        }\n        return;\n      }\n    }\n    // Run replace natively.\n    callback(string.replace(substr, newSubstr));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'replace', wrapper);\n  // Add a polyfill to handle replace's second argument being a function.\n  this.polyfills_.push(\n\"(function() {\",\n  \"var replace_ = String.prototype.replace;\",\n  \"String.prototype.replace = function replace(substr, newSubstr) {\",\n    \"if (typeof newSubstr !== 'function') {\",\n      // string.replace(string|regexp, string)\n      \"return replace_.call(this, substr, newSubstr);\",\n    \"}\",\n    \"var str = this;\",\n    \"if (substr instanceof RegExp) {\",  // string.replace(regexp, function)\n      \"var subs = [];\",\n      \"var m = substr.exec(str);\",\n      \"while (m) {\",\n        \"m.push(m.index, str);\",\n        \"var inject = newSubstr.apply(null, m);\",\n        \"subs.push([m.index, m[0].length, inject]);\",\n        \"m = substr.global ? substr.exec(str) : null;\",\n      \"}\",\n      \"for (var i = subs.length - 1; i >= 0; i--) {\",\n        \"str = str.substring(0, subs[i][0]) + subs[i][2] + \" +\n            \"str.substring(subs[i][0] + subs[i][1]);\",\n      \"}\",\n    \"} else {\",                         // string.replace(string, function)\n      \"var i = str.indexOf(substr);\",\n      \"if (i !== -1) {\",\n        \"var inject = newSubstr(str.substr(i, substr.length), i, str);\",\n        \"str = str.substring(0, i) + inject + \" +\n            \"str.substring(i + substr.length);\",\n      \"}\",\n    \"}\",\n    \"return str;\",\n  \"};\",\n\"})();\",\n\"\");\n};\n\n/**\n * Initialize the Boolean class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initBoolean = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Boolean constructor.\n  wrapper = function Boolean(value) {\n    value = Interpreter.nativeGlobal.Boolean(value);\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Boolean()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `Boolean()`.\n      return value;\n    }\n  };\n  this.BOOLEAN = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'Boolean', this.BOOLEAN,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize the Number class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initNumber = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Number constructor.\n  wrapper = function Number(value) {\n    value = arguments.length ? Interpreter.nativeGlobal.Number(value) : 0;\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Number()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `Number()`.\n      return value;\n    }\n  };\n  this.NUMBER = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'Number', this.NUMBER,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var numConsts = ['MAX_VALUE', 'MIN_VALUE', 'NaN', 'NEGATIVE_INFINITY',\n                   'POSITIVE_INFINITY'];\n  for (var i = 0; i < numConsts.length; i++) {\n    this.setProperty(this.NUMBER, numConsts[i], Number[numConsts[i]],\n        Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  }\n\n  // Instance methods on Number.\n  wrapper = function toExponential(fractionDigits) {\n    try {\n      return Number(this).toExponential(fractionDigits);\n    } catch (e) {\n      // Throws if fractionDigits isn't within 0-20.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toExponential', wrapper);\n\n  wrapper = function toFixed(digits) {\n    try {\n      return Number(this).toFixed(digits);\n    } catch (e) {\n      // Throws if digits isn't within 0-20.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toFixed', wrapper);\n\n  wrapper = function toPrecision(precision) {\n    try {\n      return Number(this).toPrecision(precision);\n    } catch (e) {\n      // Throws if precision isn't within range (depends on implementation).\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toPrecision', wrapper);\n\n  wrapper = function toString(radix) {\n    try {\n      return Number(this).toString(radix);\n    } catch (e) {\n      // Throws if radix isn't within 2-36.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toString', wrapper);\n\n  wrapper = function toLocaleString(locales, options) {\n    locales = locales ? thisInterpreter.pseudoToNative(locales) : undefined;\n    options = options ? thisInterpreter.pseudoToNative(options) : undefined;\n    return Number(this).toLocaleString(locales, options);\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toLocaleString', wrapper);\n};\n\n/**\n * Initialize the Date class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initDate = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Date constructor.\n  wrapper = function Date(value, var_args) {\n    if (!thisInterpreter.calledWithNew()) {\n      // Called as `Date()`.\n      // Calling Date() as a function returns a string, no arguments are heeded.\n      return Interpreter.nativeGlobal.Date();\n    }\n    // Called as `new Date()`.\n    var args = [null].concat(Array.from(arguments));\n    this.data = new (Function.prototype.bind.apply(\n        Interpreter.nativeGlobal.Date, args));\n    return this;\n  };\n  this.DATE = this.createNativeFunction(wrapper, true);\n  this.DATE_PROTO = this.DATE.properties['prototype'];\n  this.setProperty(globalObject, 'Date', this.DATE,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on Date.\n  this.setProperty(this.DATE, 'now', this.createNativeFunction(Date.now, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.DATE, 'parse',\n      this.createNativeFunction(Date.parse, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.DATE, 'UTC', this.createNativeFunction(Date.UTC, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Date.\n  var functions = ['getDate', 'getDay', 'getFullYear', 'getHours',\n      'getMilliseconds', 'getMinutes', 'getMonth', 'getSeconds', 'getTime',\n      'getTimezoneOffset', 'getUTCDate', 'getUTCDay', 'getUTCFullYear',\n      'getUTCHours', 'getUTCMilliseconds', 'getUTCMinutes', 'getUTCMonth',\n      'getUTCSeconds', 'getYear',\n      'setDate', 'setFullYear', 'setHours', 'setMilliseconds',\n      'setMinutes', 'setMonth', 'setSeconds', 'setTime', 'setUTCDate',\n      'setUTCFullYear', 'setUTCHours', 'setUTCMilliseconds', 'setUTCMinutes',\n      'setUTCMonth', 'setUTCSeconds', 'setYear',\n      'toDateString', 'toISOString', 'toJSON', 'toGMTString',\n      'toLocaleDateString', 'toLocaleString', 'toLocaleTimeString',\n      'toTimeString', 'toUTCString'];\n  for (var i = 0; i < functions.length; i++) {\n    wrapper = (function(nativeFunc) {\n      return function(var_args) {\n        var date = this.data;\n        if (!(date instanceof Date)) {\n          thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n              nativeFunc + ' not called on a Date');\n        }\n        var args = [];\n        for (var i = 0; i < arguments.length; i++) {\n          args[i] = thisInterpreter.pseudoToNative(arguments[i]);\n        }\n        return date[nativeFunc].apply(date, args);\n      };\n    })(functions[i]);\n    this.setNativeFunctionPrototype(this.DATE, functions[i], wrapper);\n  }\n};\n\n/**\n * Initialize Regular Expression object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initRegExp = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // RegExp constructor.\n  wrapper = function RegExp(pattern, flags) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new RegExp()`.\n      var rgx = this;\n    } else {\n      // Called as `RegExp()`.\n      if (flags === undefined &&\n          thisInterpreter.isa(pattern, thisInterpreter.REGEXP)) {\n        // Regexp(/foo/) returns the same obj.\n        return pattern;\n      }\n      var rgx = thisInterpreter.createObjectProto(thisInterpreter.REGEXP_PROTO);\n    }\n    pattern = pattern === undefined ? '' : String(pattern);\n    flags = flags ? String(flags) : '';\n    thisInterpreter.populateRegExp(rgx,\n        new Interpreter.nativeGlobal.RegExp(pattern, flags));\n    return rgx;\n  };\n  this.REGEXP = this.createNativeFunction(wrapper, true);\n  this.REGEXP_PROTO = this.REGEXP.properties['prototype'];\n  this.setProperty(globalObject, 'RegExp', this.REGEXP,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.REGEXP.properties['prototype'], 'global', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'ignoreCase', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'multiline', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'source', '(?:)',\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n\n  // Use polyfill to avoid complexity of regexp threads.\n  this.polyfills_.push(\n\"Object.defineProperty(RegExp.prototype, 'test',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function test(str) {\",\n    \"return !!this.exec(str);\",\n  \"}\",\n\"});\");\n\n  wrapper = function exec(string, callback) {\n    var regexp = this.data;\n    string = String(string);\n    // Get lastIndex from wrapped regexp, since this is settable.\n    regexp.lastIndex = Number(thisInterpreter.getProperty(this, 'lastIndex'));\n    // Example of catastrophic exec RegExp:\n    // /^(a+)+b/.exec('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac')\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run exec in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'regexp.exec(string)';\n        var match = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (match !== Interpreter.REGEXP_TIMEOUT) {\n          thisInterpreter.setProperty(this, 'lastIndex', regexp.lastIndex);\n          callback(matchToPseudo(match));\n        }\n      } else {\n        // Run exec in separate thread.\n        // Note that lastIndex is not preserved when a RegExp is passed to a\n        // Web Worker.  Thus it needs to be passed back and forth separately.\n        var execWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, execWorker, callback);\n        var thisPseudoRegExp = this;\n        execWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          // Return tuple: [result, lastIndex]\n          thisInterpreter.setProperty(thisPseudoRegExp, 'lastIndex', e.data[1]);\n          callback(matchToPseudo(e.data[0]));\n        };\n        execWorker.postMessage(['exec', regexp, regexp.lastIndex, string]);\n      }\n      return;\n    }\n    // Run exec natively.\n    var match = regexp.exec(string);\n    thisInterpreter.setProperty(this, 'lastIndex', regexp.lastIndex);\n    callback(matchToPseudo(match));\n\n    function matchToPseudo(match) {\n      if (match) {\n        var result = thisInterpreter.arrayNativeToPseudo(match);\n        // match has additional properties.\n        thisInterpreter.setProperty(result, 'index', match.index);\n        thisInterpreter.setProperty(result, 'input', match.input);\n        return result;\n      }\n      return null;\n    }\n  };\n  this.setAsyncFunctionPrototype(this.REGEXP, 'exec', wrapper);\n};\n\n/**\n * Initialize the Error class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initError = function(globalObject) {\n  var thisInterpreter = this;\n  // Error constructor.\n  this.ERROR = this.createNativeFunction(function Error(opt_message) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Error()`.\n      var newError = this;\n    } else {\n      // Called as `Error()`.\n      var newError = thisInterpreter.createObject(thisInterpreter.ERROR);\n    }\n    thisInterpreter.populateError(newError, opt_message);\n    return newError;\n  }, true);\n  this.setProperty(globalObject, 'Error', this.ERROR,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.ERROR.properties['prototype'], 'message', '',\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.ERROR.properties['prototype'], 'name', 'Error',\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var createErrorSubclass = function(name) {\n    var constructor = thisInterpreter.createNativeFunction(\n        function(opt_message) {\n          if (thisInterpreter.calledWithNew()) {\n            // Called as `new XyzError()`.\n            var newError = this;\n          } else {\n            // Called as `XyzError()`.\n            var newError = thisInterpreter.createObject(constructor);\n          }\n          thisInterpreter.populateError(newError, opt_message);\n          return newError;\n        }, true);\n    thisInterpreter.setProperty(constructor, 'prototype',\n        thisInterpreter.createObject(thisInterpreter.ERROR),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n    thisInterpreter.setProperty(constructor.properties['prototype'], 'name',\n        name, Interpreter.NONENUMERABLE_DESCRIPTOR);\n    thisInterpreter.setProperty(globalObject, name, constructor,\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n    return constructor;\n  };\n\n  this.EVAL_ERROR = createErrorSubclass('EvalError');\n  this.RANGE_ERROR = createErrorSubclass('RangeError');\n  this.REFERENCE_ERROR = createErrorSubclass('ReferenceError');\n  this.SYNTAX_ERROR = createErrorSubclass('SyntaxError');\n  this.TYPE_ERROR = createErrorSubclass('TypeError');\n  this.URI_ERROR = createErrorSubclass('URIError');\n};\n\n/**\n * Initialize Math object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initMath = function(globalObject) {\n  var myMath = this.createObjectProto(this.OBJECT_PROTO);\n  this.setProperty(globalObject, 'Math', myMath,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  var mathConsts = ['E', 'LN2', 'LN10', 'LOG2E', 'LOG10E', 'PI',\n                    'SQRT1_2', 'SQRT2'];\n  for (var i = 0; i < mathConsts.length; i++) {\n    this.setProperty(myMath, mathConsts[i], Math[mathConsts[i]],\n        Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  }\n  var numFunctions = ['abs', 'acos', 'asin', 'atan', 'atan2', 'ceil', 'cos',\n                      'exp', 'floor', 'log', 'max', 'min', 'pow', 'random',\n                      'round', 'sin', 'sqrt', 'tan'];\n  for (var i = 0; i < numFunctions.length; i++) {\n    this.setProperty(myMath, numFunctions[i],\n        this.createNativeFunction(Math[numFunctions[i]], false),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n};\n\n/**\n * Initialize JSON object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initJSON = function(globalObject) {\n  var thisInterpreter = this;\n  var myJSON = thisInterpreter.createObjectProto(this.OBJECT_PROTO);\n  this.setProperty(globalObject, 'JSON', myJSON,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var wrapper = function parse(text) {\n    try {\n      var nativeObj = JSON.parse(String(text));\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR, e.message);\n    }\n    return thisInterpreter.nativeToPseudo(nativeObj);\n  };\n  this.setProperty(myJSON, 'parse', this.createNativeFunction(wrapper, false));\n\n  wrapper = function stringify(value, replacer, space) {\n    if (replacer && replacer.class === 'Function') {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Function replacer on JSON.stringify not supported');\n    } else if (replacer && replacer.class === 'Array') {\n      replacer = thisInterpreter.arrayPseudoToNative(replacer);\n      replacer = replacer.filter(function(word) {\n        // Spec says we should also support boxed primitives here.\n        return typeof word === 'string' || typeof word === 'number';\n      });\n    } else {\n      replacer = null;\n    }\n    // Spec says we should also support boxed primitives here.\n    if (typeof space !== 'string' && typeof space !== 'number') {\n      space = undefined;\n    }\n\n    var nativeObj = thisInterpreter.pseudoToNative(value);\n    try {\n      var str = JSON.stringify(nativeObj, replacer, space);\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR, e.message);\n    }\n    return str;\n  };\n  this.setProperty(myJSON, 'stringify',\n      this.createNativeFunction(wrapper, false));\n};\n\n/**\n * Is an object of a certain class?\n * @param {Interpreter.Value} child Object to check.\n * @param {Interpreter.Object} constructor Constructor of object.\n * @return {boolean} True if object is the class or inherits from it.\n *     False otherwise.\n */\nInterpreter.prototype.isa = function(child, constructor) {\n  if (child === null || child === undefined || !constructor) {\n    return false;\n  }\n  var proto = constructor.properties['prototype'];\n  if (child === proto) {\n    return true;\n  }\n  // The first step up the prototype chain is harder since the child might be\n  // a primitive value.  Subsequent steps can just follow the .proto property.\n  child = this.getPrototype(child);\n  while (child) {\n    if (child === proto) {\n      return true;\n    }\n    child = child.proto;\n  }\n  return false;\n};\n\n/**\n * Initialize a pseudo regular expression object based on a native regular\n * expression object.\n * @param {!Interpreter.Object} pseudoRegexp The existing object to set.\n * @param {!RegExp} nativeRegexp The native regular expression.\n */\nInterpreter.prototype.populateRegExp = function(pseudoRegexp, nativeRegexp) {\n  pseudoRegexp.data = new RegExp(nativeRegexp.source, nativeRegexp.flags);\n  // lastIndex is settable, all others are read-only attributes\n  this.setProperty(pseudoRegexp, 'lastIndex', nativeRegexp.lastIndex,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'source', nativeRegexp.source,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'global', nativeRegexp.global,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'ignoreCase', nativeRegexp.ignoreCase,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'multiline', nativeRegexp.multiline,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize a pseudo error object.\n * @param {!Interpreter.Object} pseudoError The existing object to set.\n * @param {string=} opt_message Error's message.\n */\nInterpreter.prototype.populateError = function(pseudoError, opt_message) {\n  if (opt_message) {\n    this.setProperty(pseudoError, 'message', String(opt_message),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n  var tracebackData = [];\n  for (var i = this.stateStack.length - 1; i >= 0; i--) {\n    var state = this.stateStack[i];\n    var node = state.node;\n    if (node['type'] === 'CallExpression') {\n      var func = state.func_;\n      if (func && tracebackData.length) {\n        tracebackData[tracebackData.length - 1].name =\n            this.getProperty(func, 'name');\n      }\n    }\n    if (node['loc'] &&\n        (!tracebackData.length || node['type'] === 'CallExpression')) {\n      tracebackData.push({loc: node['loc']});\n    }\n  }\n  var name = String(this.getProperty(pseudoError, 'name'));\n  var message = String(this.getProperty(pseudoError, 'message'));\n  var stackString = name + ': ' + message + '\\n';\n  for (var i = 0; i < tracebackData.length; i++) {\n    var loc = tracebackData[i].loc;\n    var name = tracebackData[i].name;\n    var locString = loc['source'] + ':' +\n        loc['start']['line'] + ':' + loc['start']['column'];\n    if (name) {\n      stackString += '  at ' + name + ' (' + locString + ')\\n';\n    } else {\n      stackString += '  at ' + locString + '\\n';\n    }\n  }\n  this.setProperty(pseudoError, 'stack', stackString.trim(),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Create a Web Worker to execute regular expressions.\n * Using a separate file fails in Chrome when run locally on a file:// URI.\n * Using a data encoded URI fails in IE and Edge.\n * Using a blob works in IE11 and all other browsers.\n * @return {!Worker} Web Worker with regexp execution code loaded.\n */\nInterpreter.prototype.createWorker = function() {\n  var blob = this.createWorker.blob_;\n  if (!blob) {\n    blob = new Blob([Interpreter.WORKER_CODE.join('\\n')],\n        {type: 'application/javascript'});\n    // Cache the blob, so it doesn't need to be created next time.\n    this.createWorker.blob_ = blob;\n  }\n  return new Worker(URL.createObjectURL(blob));\n};\n\n/**\n * Execute regular expressions in a node vm.\n * @param {string} code Code to execute.\n * @param {!Object} sandbox Global variables for new vm.\n * @param {!RegExp} nativeRegExp Regular expression.\n * @param {!Function} callback Asynchronous callback function.\n */\nInterpreter.prototype.vmCall = function(code, sandbox, nativeRegExp, callback) {\n  var options = {'timeout': this['REGEXP_THREAD_TIMEOUT']};\n  try {\n    return Interpreter.vm['runInNewContext'](code, sandbox, options);\n  } catch (e) {\n    callback(null);\n    this.throwException(this.ERROR, 'RegExp Timeout: ' + nativeRegExp);\n  }\n  return Interpreter.REGEXP_TIMEOUT;\n};\n\n/**\n * If REGEXP_MODE is 0, then throw an error.\n * Also throw if REGEXP_MODE is 2 and JS doesn't support Web Workers or vm.\n * @param {!RegExp} nativeRegExp Regular expression.\n * @param {!Function} callback Asynchronous callback function.\n */\nInterpreter.prototype.maybeThrowRegExp = function(nativeRegExp, callback) {\n  var ok;\n  if (this['REGEXP_MODE'] === 0) {\n    // Fail: No RegExp support.\n    ok = false;\n  } else if (this['REGEXP_MODE'] === 1) {\n    // Ok: Native RegExp support.\n    ok = true;\n  } else {\n    // Sandboxed RegExp handling.\n    if (Interpreter.vm) {\n      // Ok: Node's vm module already loaded.\n      ok = true;\n    } else if (typeof Worker === 'function' && typeof URL === 'function') {\n      // Ok: Web Workers available.\n      ok = true;\n    } else if (true) {\n      // Try to load Node's vm module.\n      try {\n        Interpreter.vm = __nested_webpack_require_74190__(/*! vm */ \"./node_modules/vm-browserify/index.js\");\n      } catch (e) {}\n      ok = !!Interpreter.vm;\n    } else {}\n  }\n  if (!ok) {\n    callback(null);\n    this.throwException(this.ERROR, 'Regular expressions not supported: ' +\n        nativeRegExp);\n  }\n};\n\n/**\n * Set a timeout for regular expression threads.  Unless cancelled, this will\n * terminate the thread and throw an error.\n * @param {!RegExp} nativeRegExp Regular expression (used for error message).\n * @param {!Worker} worker Thread to terminate.\n * @param {!Function} callback Async callback function to continue execution.\n * @return {number} PID of timeout.  Used to cancel if thread completes.\n */\nInterpreter.prototype.regExpTimeout = function(nativeRegExp, worker, callback) {\n  var thisInterpreter = this;\n  return setTimeout(function() {\n      worker.terminate();\n      callback(null);\n      try {\n        thisInterpreter.throwException(thisInterpreter.ERROR,\n            'RegExp Timeout: ' + nativeRegExp);\n      } catch (e) {\n        // Eat the expected Interpreter.STEP_ERROR.\n      }\n  }, this['REGEXP_THREAD_TIMEOUT']);\n};\n\n/**\n * Create a new data object based on a constructor's prototype.\n * @param {Interpreter.Object} constructor Parent constructor function,\n *     or null if scope object.\n * @return {!Interpreter.Object} New data object.\n */\nInterpreter.prototype.createObject = function(constructor) {\n  return this.createObjectProto(constructor &&\n                                constructor.properties['prototype']);\n};\n\n/**\n * Create a new data object based on a prototype.\n * @param {Interpreter.Object} proto Prototype object.\n * @return {!Interpreter.Object} New data object.\n */\nInterpreter.prototype.createObjectProto = function(proto) {\n  if (typeof proto !== 'object') {\n    throw Error('Non object prototype');\n  }\n  var obj = new Interpreter.Object(proto);\n  if (this.isa(obj, this.ERROR)) {\n    // Record this object as being an error so that its toString function can\n    // process it correctly (toString has no access to the interpreter and could\n    // not otherwise determine that the object is an error).\n    obj.class = 'Error';\n  }\n  return obj;\n};\n\n/**\n * Create a new array.\n * @return {!Interpreter.Object} New array.\n */\nInterpreter.prototype.createArray = function() {\n  var array = this.createObjectProto(this.ARRAY_PROTO);\n  // Arrays have length.\n  this.setProperty(array, 'length', 0,\n      {configurable: false, enumerable: false, writable: true});\n  array.class = 'Array';\n  return array;\n};\n\n/**\n * Create a new function object (could become interpreted or native or async).\n * @param {number} argumentLength Number of arguments.\n * @param {boolean} isConstructor True if function can be used with 'new'.\n * @return {!Interpreter.Object} New function.\n * @private\n */\nInterpreter.prototype.createFunctionBase_ = function(argumentLength,\n                                                     isConstructor) {\n  var func = this.createObjectProto(this.FUNCTION_PROTO);\n  if (isConstructor) {\n    var proto = this.createObjectProto(this.OBJECT_PROTO);\n    this.setProperty(func, 'prototype', proto,\n                     Interpreter.NONENUMERABLE_DESCRIPTOR);\n    this.setProperty(proto, 'constructor', func,\n                     Interpreter.NONENUMERABLE_DESCRIPTOR);\n  } else {\n    func.illegalConstructor = true;\n  }\n  this.setProperty(func, 'length', argumentLength,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  func.class = 'Function';\n  // When making changes to this function, check to see if those changes also\n  // need to be made to the creation of FUNCTION_PROTO in initFunction.\n  return func;\n};\n\n/**\n * Create a new interpreted function.\n * @param {!Object} node AST node defining the function.\n * @param {!Interpreter.Scope} scope Parent scope.\n * @param {string=} opt_name Optional name for function.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createFunction = function(node, scope, opt_name) {\n  var func = this.createFunctionBase_(node['params'].length, true);\n  func.parentScope = scope;\n  func.node = node;\n  // Choose a name for this function.\n  // function foo() {}             -> 'foo'\n  // var bar = function() {};      -> 'bar'\n  // var bar = function foo() {};  -> 'foo'\n  // foo.bar = function() {};      -> ''\n  // var bar = new Function('');   -> 'anonymous'\n  var name = node['id'] ? String(node['id']['name']) : (opt_name || '');\n  this.setProperty(func, 'name', name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Create a new native function.\n * @param {!Function} nativeFunc JavaScript function.\n * @param {boolean} isConstructor True if function can be used with 'new'.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createNativeFunction = function(nativeFunc,\n                                                      isConstructor) {\n  var func = this.createFunctionBase_(nativeFunc.length, isConstructor);\n  func.nativeFunc = nativeFunc;\n  nativeFunc.id = this.functionCounter_++;\n  this.setProperty(func, 'name', nativeFunc.name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Create a new native asynchronous function.\n * @param {!Function} asyncFunc JavaScript function.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createAsyncFunction = function(asyncFunc) {\n  var func = this.createFunctionBase_(asyncFunc.length, true);\n  func.asyncFunc = asyncFunc;\n  asyncFunc.id = this.functionCounter_++;\n  this.setProperty(func, 'name', asyncFunc.name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Converts from a native JavaScript object or value to a JS-Interpreter object.\n * Can handle JSON-style values, regular expressions, dates and functions.\n * Does NOT handle cycles.\n * @param {*} nativeObj The native JavaScript object to be converted.\n * @return {Interpreter.Value} The equivalent JS-Interpreter object.\n */\nInterpreter.prototype.nativeToPseudo = function(nativeObj) {\n  if (nativeObj instanceof Interpreter.Object) {\n    throw Error('Object is already pseudo');\n  }\n  if ((typeof nativeObj !== 'object' && typeof nativeObj !== 'function') ||\n      nativeObj === null) {\n    return nativeObj;\n  }\n\n  if (nativeObj instanceof RegExp) {\n    var pseudoRegexp = this.createObjectProto(this.REGEXP_PROTO);\n    this.populateRegExp(pseudoRegexp, nativeObj);\n    return pseudoRegexp;\n  }\n\n  if (nativeObj instanceof Date) {\n    var pseudoDate = this.createObjectProto(this.DATE_PROTO);\n    pseudoDate.data = new Date(nativeObj.valueOf());\n    return pseudoDate;\n  }\n\n  if (typeof nativeObj === 'function') {\n    var thisInterpreter = this;\n    var wrapper = function() {\n      var args = Array.prototype.slice.call(arguments).map(function(i) {\n          return thisInterpreter.pseudoToNative(i);\n      });\n      var value = nativeObj.apply(thisInterpreter, args);\n      return thisInterpreter.nativeToPseudo(value);\n    };\n    var prototype = Object.getOwnPropertyDescriptor(nativeObj, 'prototype');\n    return this.createNativeFunction(wrapper, !!prototype);\n  }\n\n  if (Array.isArray(nativeObj)) {  // Array.\n    var pseudoArray = this.createArray();\n    for (var i = 0; i < nativeObj.length; i++) {\n      if (i in nativeObj) {\n        this.setProperty(pseudoArray, i, this.nativeToPseudo(nativeObj[i]));\n      }\n    }\n    return pseudoArray;\n  }\n\n  // Object.\n  var pseudoObj = this.createObjectProto(this.OBJECT_PROTO);\n  for (var key in nativeObj) {\n    this.setProperty(pseudoObj, key, this.nativeToPseudo(nativeObj[key]));\n  }\n  return pseudoObj;\n};\n\n/**\n * Converts from a JS-Interpreter object to native JavaScript object.\n * Can handle JSON-style values, regular expressions, and dates.\n * Does handle cycles.\n * @param {Interpreter.Value} pseudoObj The JS-Interpreter object to be\n * converted.\n * @param {Object=} opt_cycles Cycle detection (used in recursive calls).\n * @return {*} The equivalent native JavaScript object or value.\n */\nInterpreter.prototype.pseudoToNative = function(pseudoObj, opt_cycles) {\n  if ((typeof pseudoObj !== 'object' && typeof pseudoObj !== 'function') ||\n      pseudoObj === null) {\n    return pseudoObj;\n  }\n  if (!(pseudoObj instanceof Interpreter.Object)) {\n    throw Error('Object is not pseudo');\n  }\n\n  if (this.isa(pseudoObj, this.REGEXP)) {  // Regular expression.\n    var nativeRegExp = new RegExp(pseudoObj.data.source, pseudoObj.data.flags);\n    nativeRegExp.lastIndex = pseudoObj.data.lastIndex;\n    return nativeRegExp;\n  }\n\n  if (this.isa(pseudoObj, this.DATE)) {  // Date.\n    return new Date(pseudoObj.data.valueOf());\n  }\n\n  var cycles = opt_cycles || {\n    pseudo: [],\n    native: []\n  };\n  var i = cycles.pseudo.indexOf(pseudoObj);\n  if (i !== -1) {\n    return cycles.native[i];\n  }\n  cycles.pseudo.push(pseudoObj);\n  var nativeObj;\n  if (this.isa(pseudoObj, this.ARRAY)) {  // Array.\n    nativeObj = [];\n    cycles.native.push(nativeObj);\n    var len = this.getProperty(pseudoObj, 'length');\n    for (var i = 0; i < len; i++) {\n      if (this.hasProperty(pseudoObj, i)) {\n        nativeObj[i] =\n            this.pseudoToNative(this.getProperty(pseudoObj, i), cycles);\n      }\n    }\n  } else {  // Object.\n    nativeObj = {};\n    cycles.native.push(nativeObj);\n    var val;\n    for (var key in pseudoObj.properties) {\n      val = this.pseudoToNative(pseudoObj.properties[key], cycles);\n      // Use defineProperty to avoid side effects if setting '__proto__'.\n      Object.defineProperty(nativeObj, key,\n          {value: val, writable: true, enumerable: true, configurable: true});\n    }\n  }\n  cycles.pseudo.pop();\n  cycles.native.pop();\n  return nativeObj;\n};\n\n/**\n * Converts from a native JavaScript array to a JS-Interpreter array.\n * Does handle non-numeric properties (like str.match's index prop).\n * Does NOT recurse into the array's contents.\n * @param {!Array} nativeArray The JavaScript array to be converted.\n * @return {!Interpreter.Object} The equivalent JS-Interpreter array.\n */\nInterpreter.prototype.arrayNativeToPseudo = function(nativeArray) {\n  var pseudoArray = this.createArray();\n  var props = Object.getOwnPropertyNames(nativeArray);\n  for (var i = 0; i < props.length; i++) {\n    this.setProperty(pseudoArray, props[i], nativeArray[props[i]]);\n  }\n  return pseudoArray;\n};\n\n/**\n * Converts from a JS-Interpreter array to native JavaScript array.\n * Does handle non-numeric properties (like str.match's index prop).\n * Does NOT recurse into the array's contents.\n * @param {!Interpreter.Object} pseudoArray The JS-Interpreter array,\n *     or JS-Interpreter object pretending to be an array.\n * @return {!Array} The equivalent native JavaScript array.\n */\nInterpreter.prototype.arrayPseudoToNative = function(pseudoArray) {\n  var nativeArray = [];\n  for (var key in pseudoArray.properties) {\n    nativeArray[key] = this.getProperty(pseudoArray, key);\n  }\n  // pseudoArray might be an object pretending to be an array.  In this case\n  // it's possible that length is non-existent, invalid, or smaller than the\n  // largest defined numeric property.  Set length explicitly here.\n  nativeArray.length = Interpreter.legalArrayLength(\n      this.getProperty(pseudoArray, 'length')) || 0;\n  return nativeArray;\n};\n\n/**\n * Look up the prototype for this value.\n * @param {Interpreter.Value} value Data object.\n * @return {Interpreter.Object} Prototype object, null if none.\n */\nInterpreter.prototype.getPrototype = function(value) {\n  switch (typeof value) {\n    case 'number':\n      return this.NUMBER.properties['prototype'];\n    case 'boolean':\n      return this.BOOLEAN.properties['prototype'];\n    case 'string':\n      return this.STRING.properties['prototype'];\n  }\n  if (value) {\n    return value.proto;\n  }\n  return null;\n};\n\n/**\n * Fetch a property value from a data object.\n * @param {Interpreter.Value} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @return {Interpreter.Value} Property value (may be undefined).\n */\nInterpreter.prototype.getProperty = function(obj, name) {\n  if (this.getterStep_) {\n    throw Error('Getter not supported in that context');\n  }\n  name = String(name);\n  if (obj === undefined || obj === null) {\n    this.throwException(this.TYPE_ERROR,\n                        \"Cannot read property '\" + name + \"' of \" + obj);\n  }\n  if (typeof obj === 'object' && !(obj instanceof Interpreter.Object)) {\n    throw TypeError('Expecting native value or pseudo object');\n  }\n  if (name === 'length') {\n    // Special cases for magic length property.\n    if (this.isa(obj, this.STRING)) {\n      return String(obj).length;\n    }\n  } else if (name.charCodeAt(0) < 0x40) {\n    // Might have numbers in there?\n    // Special cases for string array indexing\n    if (this.isa(obj, this.STRING)) {\n      var n = Interpreter.legalArrayIndex(name);\n      if (!isNaN(n) && n < String(obj).length) {\n        return String(obj)[n];\n      }\n    }\n  }\n  do {\n    if (obj.properties && name in obj.properties) {\n      var getter = obj.getter[name];\n      if (getter) {\n        // Flag this function as being a getter and thus needing immediate\n        // execution (rather than being the value of the property).\n        this.getterStep_ = true;\n        return getter;\n      }\n      return obj.properties[name];\n    }\n  } while ((obj = this.getPrototype(obj)));\n  return undefined;\n};\n\n/**\n * Does the named property exist on a data object.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @return {boolean} True if property exists.\n */\nInterpreter.prototype.hasProperty = function(obj, name) {\n  if (!(obj instanceof Interpreter.Object)) {\n    throw TypeError('Primitive data type has no properties');\n  }\n  name = String(name);\n  if (name === 'length' && this.isa(obj, this.STRING)) {\n    return true;\n  }\n  if (this.isa(obj, this.STRING)) {\n    var n = Interpreter.legalArrayIndex(name);\n    if (!isNaN(n) && n < String(obj).length) {\n      return true;\n    }\n  }\n  do {\n    if (obj.properties && name in obj.properties) {\n      return true;\n    }\n  } while ((obj = this.getPrototype(obj)));\n  return false;\n};\n\n/**\n * Set a property value on a data object.\n * @param {Interpreter.Value} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {Interpreter.Value} value New property value.\n *     Use Interpreter.VALUE_IN_DESCRIPTOR if value is handled by\n *     descriptor instead.\n * @param {Object=} opt_descriptor Optional descriptor object.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setProperty = function(obj, name, value, opt_descriptor) {\n  if (this.setterStep_) {\n    // Getter from previous call to setProperty was not handled.\n    throw Error('Setter not supported in that context');\n  }\n  name = String(name);\n  if (obj === undefined || obj === null) {\n    this.throwException(this.TYPE_ERROR,\n                        \"Cannot set property '\" + name + \"' of \" + obj);\n  }\n  if (typeof obj === 'object' && !(obj instanceof Interpreter.Object)) {\n    throw TypeError('Expecting native value or pseudo object');\n  }\n  if (opt_descriptor && ('get' in opt_descriptor || 'set' in opt_descriptor) &&\n      ('value' in opt_descriptor || 'writable' in opt_descriptor)) {\n    this.throwException(this.TYPE_ERROR, 'Invalid property descriptor. ' +\n        'Cannot both specify accessors and a value or writable attribute');\n  }\n  var strict = !this.stateStack || this.getScope().strict;\n  if (!(obj instanceof Interpreter.Object)) {\n    if (strict) {\n      this.throwException(this.TYPE_ERROR, \"Can't create property '\" + name +\n                          \"' on '\" + obj + \"'\");\n    }\n    return;\n  }\n  if (this.isa(obj, this.STRING)) {\n    var n = Interpreter.legalArrayIndex(name);\n    if (name === 'length' || (!isNaN(n) && n < String(obj).length)) {\n      // Can't set length or letters on String objects.\n      if (strict) {\n        this.throwException(this.TYPE_ERROR, \"Cannot assign to read only \" +\n            \"property '\" + name + \"' of String '\" + obj.data + \"'\");\n      }\n      return;\n    }\n  }\n  if (obj.class === 'Array') {\n    // Arrays have a magic length variable that is bound to the elements.\n    var len = obj.properties.length;\n    var i;\n    if (name === 'length') {\n      // Delete elements if length is smaller.\n      if (opt_descriptor) {\n        if (!('value' in opt_descriptor)) {\n          return;\n        }\n        value = opt_descriptor.value;\n      }\n      value = Interpreter.legalArrayLength(value);\n      if (isNaN(value)) {\n        this.throwException(this.RANGE_ERROR, 'Invalid array length');\n      }\n      if (value < len) {\n        for (i in obj.properties) {\n          i = Interpreter.legalArrayIndex(i);\n          if (!isNaN(i) && value <= i) {\n            delete obj.properties[i];\n          }\n        }\n      }\n    } else if (!isNaN(i = Interpreter.legalArrayIndex(name))) {\n      // Increase length if this index is larger.\n      obj.properties.length = Math.max(len, i + 1);\n    }\n  }\n  if (obj.preventExtensions && !(name in obj.properties)) {\n    if (strict) {\n      this.throwException(this.TYPE_ERROR, \"Can't add property '\" + name +\n                          \"', object is not extensible\");\n    }\n    return;\n  }\n  if (opt_descriptor) {\n    // Define the property.\n    var descriptor = {};\n    if ('get' in opt_descriptor && opt_descriptor.get) {\n      obj.getter[name] = opt_descriptor.get;\n      descriptor.get = this.setProperty.placeholderGet_;\n    }\n    if ('set' in opt_descriptor && opt_descriptor.set) {\n      obj.setter[name] = opt_descriptor.set;\n      descriptor.set = this.setProperty.placeholderSet_;\n    }\n    if ('configurable' in opt_descriptor) {\n      descriptor.configurable = opt_descriptor.configurable;\n    }\n    if ('enumerable' in opt_descriptor) {\n      descriptor.enumerable = opt_descriptor.enumerable;\n    }\n    if ('writable' in opt_descriptor) {\n      descriptor.writable = opt_descriptor.writable;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    }\n    if ('value' in opt_descriptor) {\n      descriptor.value = opt_descriptor.value;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    } else if (value !== Interpreter.VALUE_IN_DESCRIPTOR) {\n      descriptor.value = value;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    }\n    try {\n      Object.defineProperty(obj.properties, name, descriptor);\n    } catch (e) {\n      this.throwException(this.TYPE_ERROR, 'Cannot redefine property: ' + name);\n    }\n    // Now that the definition has suceeded, clean up any obsolete get/set funcs.\n    if ('get' in opt_descriptor && !opt_descriptor.get) {\n      delete obj.getter[name];\n    }\n    if ('set' in opt_descriptor && !opt_descriptor.set) {\n      delete obj.setter[name];\n    }\n  } else {\n    // Set the property.\n    if (value === Interpreter.VALUE_IN_DESCRIPTOR) {\n      throw ReferenceError('Value not specified.');\n    }\n    // Determine the parent (possibly self) where the property is defined.\n    var defObj = obj;\n    while (!(name in defObj.properties)) {\n      defObj = this.getPrototype(defObj);\n      if (!defObj) {\n        // This is a new property.\n        defObj = obj;\n        break;\n      }\n    }\n    if (defObj.setter && defObj.setter[name]) {\n      this.setterStep_ = true;\n      return defObj.setter[name];\n    }\n    if (defObj.getter && defObj.getter[name]) {\n      if (strict) {\n        this.throwException(this.TYPE_ERROR, \"Cannot set property '\" + name +\n            \"' of object '\" + obj + \"' which only has a getter\");\n      }\n    } else {\n      // No setter, simple assignment.\n      try {\n        obj.properties[name] = value;\n      } catch (e) {\n        if (strict) {\n          this.throwException(this.TYPE_ERROR, \"Cannot assign to read only \" +\n              \"property '\" + name + \"' of object '\" + obj + \"'\");\n        }\n      }\n    }\n  }\n};\n\nInterpreter.prototype.setProperty.placeholderGet_ = function() {throw Error('Placeholder getter')};\nInterpreter.prototype.setProperty.placeholderSet_ = function() {throw Error('Placeholder setter')};\n\n/**\n * Convenience method for adding a native function as a non-enumerable property\n * onto an object's prototype.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {!Function} wrapper Function object.\n */\nInterpreter.prototype.setNativeFunctionPrototype =\n    function(obj, name, wrapper) {\n  this.setProperty(obj.properties['prototype'], name,\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Convenience method for adding an async function as a non-enumerable property\n * onto an object's prototype.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {!Function} wrapper Function object.\n */\nInterpreter.prototype.setAsyncFunctionPrototype =\n    function(obj, name, wrapper) {\n  this.setProperty(obj.properties['prototype'], name,\n      this.createAsyncFunction(wrapper),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Returns the current scope from the stateStack.\n * @return {!Interpreter.Scope} Current scope.\n */\nInterpreter.prototype.getScope = function() {\n  var scope = this.stateStack[this.stateStack.length - 1].scope;\n  if (!scope) {\n    throw Error('No scope found.');\n  }\n  return scope;\n};\n\n/**\n * Create a new scope dictionary.\n * @param {!Object} node AST node defining the scope container\n *     (e.g. a function).\n * @param {Interpreter.Scope} parentScope Scope to link to.\n * @return {!Interpreter.Scope} New scope.\n */\nInterpreter.prototype.createScope = function(node, parentScope) {\n  // Determine if this scope starts with `use strict`.\n  var strict = false;\n  if (parentScope && parentScope.strict) {\n    strict = true;\n  } else {\n    var firstNode = node['body'] && node['body'][0];\n    if (firstNode && firstNode.expression &&\n        firstNode.expression['type'] === 'Literal' &&\n        firstNode.expression.value === 'use strict') {\n      strict = true;\n    }\n  }\n  var object = this.createObjectProto(null);\n  var scope = new Interpreter.Scope(parentScope, strict, object);\n  if (!parentScope) {\n    this.initGlobal(scope.object);\n  }\n  this.populateScope_(node, scope);\n  return scope;\n};\n\n/**\n * Create a new special scope dictionary. Similar to createScope(), but\n * doesn't assume that the scope is for a function body.\n * This is used for 'catch' clauses and 'with' statements.\n * @param {!Interpreter.Scope} parentScope Scope to link to.\n * @param {Interpreter.Object=} opt_object Optional object to transform into\n *     scope.\n * @return {!Interpreter.Scope} New scope.\n */\nInterpreter.prototype.createSpecialScope = function(parentScope, opt_object) {\n  if (!parentScope) {\n    throw Error('parentScope required');\n  }\n  var object = opt_object || this.createObjectProto(null);\n  return new Interpreter.Scope(parentScope, parentScope.strict, object);\n};\n\n/**\n * Retrieves a value from the scope chain.\n * @param {string} name Name of variable.\n * @return {Interpreter.Value} Any value.\n *   May be flagged as being a getter and thus needing immediate execution\n *   (rather than being the value of the property).\n */\nInterpreter.prototype.getValueFromScope = function(name) {\n  var scope = this.getScope();\n  while (scope && scope !== this.globalScope) {\n    if (name in scope.object.properties) {\n      return scope.object.properties[name];\n    }\n    scope = scope.parentScope;\n  }\n  // The root scope is also an object which has inherited properties and\n  // could also have getters.\n  if (scope === this.globalScope && this.hasProperty(scope.object, name)) {\n    return this.getProperty(scope.object, name);\n  }\n  // Typeof operator is unique: it can safely look at non-defined variables.\n  var prevNode = this.stateStack[this.stateStack.length - 1].node;\n  if (prevNode['type'] === 'UnaryExpression' &&\n      prevNode['operator'] === 'typeof') {\n    return undefined;\n  }\n  this.throwException(this.REFERENCE_ERROR, name + ' is not defined');\n};\n\n/**\n * Sets a value to the current scope.\n * @param {string} name Name of variable.\n * @param {Interpreter.Value} value Value.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setValueToScope = function(name, value) {\n  var scope = this.getScope();\n  var strict = scope.strict;\n  while (scope && scope !== this.globalScope) {\n    if (name in scope.object.properties) {\n      scope.object.properties[name] = value;\n      return undefined;\n    }\n    scope = scope.parentScope;\n  }\n  // The root scope is also an object which has readonly properties and\n  // could also have setters.\n  if (scope === this.globalScope &&\n      (!strict || this.hasProperty(scope.object, name))) {\n    return this.setProperty(scope.object, name, value);\n  }\n  this.throwException(this.REFERENCE_ERROR, name + ' is not defined');\n};\n\n/**\n * Create a new scope for the given node.\n * @param {!Object} node AST node (program or function).\n * @param {!Interpreter.Scope} scope Scope dictionary to populate.\n * @private\n */\nInterpreter.prototype.populateScope_ = function(node, scope) {\n  if (node['type'] === 'VariableDeclaration') {\n    for (var i = 0; i < node['declarations'].length; i++) {\n      this.setProperty(scope.object, node['declarations'][i]['id']['name'],\n          undefined, Interpreter.VARIABLE_DESCRIPTOR);\n    }\n  } else if (node['type'] === 'FunctionDeclaration') {\n    this.setProperty(scope.object, node['id']['name'],\n        this.createFunction(node, scope), Interpreter.VARIABLE_DESCRIPTOR);\n    return;  // Do not recurse into function.\n  } else if (node['type'] === 'FunctionExpression') {\n    return;  // Do not recurse into function.\n  } else if (node['type'] === 'ExpressionStatement') {\n    return;  // Expressions can't contain variable/function declarations.\n  }\n  var nodeClass = node['constructor'];\n  for (var name in node) {\n    var prop = node[name];\n    if (prop && typeof prop === 'object') {\n      if (Array.isArray(prop)) {\n        for (var i = 0; i < prop.length; i++) {\n          if (prop[i] && prop[i].constructor === nodeClass) {\n            this.populateScope_(prop[i], scope);\n          }\n        }\n      } else {\n        if (prop.constructor === nodeClass) {\n          this.populateScope_(prop, scope);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Is the current state directly being called with as a construction with 'new'.\n * @return {boolean} True if 'new foo()', false if 'foo()'.\n */\nInterpreter.prototype.calledWithNew = function() {\n  return this.stateStack[this.stateStack.length - 1].isConstructor;\n};\n\n/**\n * Gets a value from the scope chain or from an object property.\n * @param {!Array} ref Name of variable or object/propname tuple.\n * @return {Interpreter.Value} Any value.\n *   May be flagged as being a getter and thus needing immediate execution\n *   (rather than being the value of the property).\n */\nInterpreter.prototype.getValue = function(ref) {\n  if (ref[0] === Interpreter.SCOPE_REFERENCE) {\n    // A null/varname variable lookup.\n    return this.getValueFromScope(ref[1]);\n  } else {\n    // An obj/prop components tuple (foo.bar).\n    return this.getProperty(ref[0], ref[1]);\n  }\n};\n\n/**\n * Sets a value to the scope chain or to an object property.\n * @param {!Array} ref Name of variable or object/propname tuple.\n * @param {Interpreter.Value} value Value.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setValue = function(ref, value) {\n  if (ref[0] === Interpreter.SCOPE_REFERENCE) {\n    // A null/varname variable lookup.\n    return this.setValueToScope(ref[1], value);\n  } else {\n    // An obj/prop components tuple (foo.bar).\n    return this.setProperty(ref[0], ref[1], value);\n  }\n};\n\n/**\n * Throw an exception in the interpreter that can be handled by an\n * interpreter try/catch statement.  If unhandled, a real exception will\n * be thrown.  Can be called with either an error class and a message, or\n * with an actual object to be thrown.\n * @param {!Interpreter.Object|Interpreter.Value} errorClass Type of error\n *   (if message is provided) or the value to throw (if no message).\n * @param {string=} opt_message Message being thrown.\n */\nInterpreter.prototype.throwException = function(errorClass, opt_message) {\n  if (opt_message === undefined) {\n    var error = errorClass;  // This is a value to throw, not an error class.\n  } else {\n    var error = this.createObject(errorClass);\n    this.populateError(error, opt_message);\n  }\n  this.unwind(Interpreter.Completion.THROW, error, undefined);\n  // Abort anything related to the current step.\n  throw Interpreter.STEP_ERROR;\n};\n\n/**\n * Unwind the stack to the innermost relevant enclosing TryStatement,\n * For/ForIn/WhileStatement or Call/NewExpression.  If this results in\n * the stack being completely unwound the thread will be terminated\n * and the appropriate error being thrown.\n * @param {Interpreter.Completion} type Completion type.\n * @param {Interpreter.Value} value Value computed, returned or thrown.\n * @param {string|undefined} label Target label for break or return.\n */\nInterpreter.prototype.unwind = function(type, value, label) {\n  if (type === Interpreter.Completion.NORMAL) {\n    throw TypeError('Should not unwind for NORMAL completions');\n  }\n\n  loop: for (var stack = this.stateStack; stack.length > 0; stack.pop()) {\n    var state = stack[stack.length - 1];\n    switch (state.node['type']) {\n      case 'TryStatement':\n        state.cv = {type: type, value: value, label: label};\n        return;\n      case 'CallExpression':\n      case 'NewExpression':\n        if (type === Interpreter.Completion.RETURN) {\n          state.value = value;\n          return;\n        } else if (type !== Interpreter.Completion.THROW) {\n          throw Error('Unsynatctic break/continue not rejected by Acorn');\n        }\n        break;\n      case 'Program':\n        // Don't pop the stateStack.\n        // Leave the root scope on the tree in case the program is appended to.\n        state.done = true;\n        break loop;\n    }\n    if (type === Interpreter.Completion.BREAK) {\n      if (label ? (state.labels && state.labels.indexOf(label) !== -1) :\n          (state.isLoop || state.isSwitch)) {\n        stack.pop();\n        return;\n      }\n    } else if (type === Interpreter.Completion.CONTINUE) {\n      if (label ? (state.labels && state.labels.indexOf(label) !== -1) :\n          state.isLoop) {\n        return;\n      }\n    }\n  }\n\n  // Unhandled completion.  Throw a real error.\n  var realError;\n  if (this.isa(value, this.ERROR)) {\n    var errorTable = {\n      'EvalError': EvalError,\n      'RangeError': RangeError,\n      'ReferenceError': ReferenceError,\n      'SyntaxError': SyntaxError,\n      'TypeError': TypeError,\n      'URIError': URIError\n    };\n    var name = String(this.getProperty(value, 'name'));\n    var message = this.getProperty(value, 'message').valueOf();\n    var errorConstructor = errorTable[name] || Error;\n    realError = errorConstructor(message);\n    realError.stack = String(this.getProperty(value, 'stack'));\n  } else {\n    realError = String(value);\n  }\n  throw realError;\n};\n\n/**\n * Create a call to a getter function.\n * @param {!Interpreter.Object} func Function to execute.\n * @param {!Interpreter.Object|!Array} left\n *     Name of variable or object/propname tuple.\n * @private\n */\nInterpreter.prototype.createGetter_ = function(func, left) {\n  if (!this.getterStep_) {\n    throw Error('Unexpected call to createGetter');\n  }\n  // Clear the getter flag.\n  this.getterStep_ = false;\n  // Normally `this` will be specified as the object component (o.x).\n  // Sometimes `this` is explicitly provided (o).\n  var funcThis = Array.isArray(left) ? left[0] : left;\n  var node = new this.nodeConstructor({options:{}});\n  node['type'] = 'CallExpression';\n  var state = new Interpreter.State(node,\n      this.stateStack[this.stateStack.length - 1].scope);\n  state.doneCallee_ = true;\n  state.funcThis_ = funcThis;\n  state.func_ = func;\n  state.doneArgs_ = true;\n  state.arguments_ = [];\n  return state;\n};\n\n/**\n * Create a call to a setter function.\n * @param {!Interpreter.Object} func Function to execute.\n * @param {!Interpreter.Object|!Array} left\n *     Name of variable or object/propname tuple.\n * @param {Interpreter.Value} value Value to set.\n * @private\n */\nInterpreter.prototype.createSetter_ = function(func, left, value) {\n  if (!this.setterStep_) {\n    throw Error('Unexpected call to createSetter');\n  }\n  // Clear the setter flag.\n  this.setterStep_ = false;\n  // Normally `this` will be specified as the object component (o.x).\n  // Sometimes `this` is implicitly the global object (x).\n  var funcThis = Array.isArray(left) ? left[0] : this.globalObject;\n  var node = new this.nodeConstructor({options:{}});\n  node['type'] = 'CallExpression';\n  var state = new Interpreter.State(node,\n      this.stateStack[this.stateStack.length - 1].scope);\n  state.doneCallee_ = true;\n  state.funcThis_ = funcThis;\n  state.func_ = func;\n  state.doneArgs_ = true;\n  state.arguments_ = [value];\n  return state;\n};\n\n/**\n * In non-strict mode `this` must be an object.\n * Must not be called in strict mode.\n * @param {Interpreter.Value} value Proposed value for `this`.\n * @return {!Interpreter.Object} Final value for `this`.\n * @private\n */\nInterpreter.prototype.boxThis_ = function(value) {\n  if (value === undefined || value === null) {\n    // `Undefined` and `null` are changed to the global object.\n    return this.globalObject;\n  }\n  if (!(value instanceof Interpreter.Object)) {\n    // Primitives must be boxed.\n    var box = this.createObjectProto(this.getPrototype(value));\n    box.data = value;\n    return box;\n  }\n  return value;\n};\n\n/**\n * Typedef for JS values.\n * @typedef {!Interpreter.Object|boolean|number|string|undefined|null}\n */\nInterpreter.Value;\n\n/**\n * Class for a state.\n * @param {!Object} node AST node for the state.\n * @param {!Interpreter.Scope} scope Scope object for the state.\n * @constructor\n */\nInterpreter.State = function(node, scope) {\n  this.node = node;\n  this.scope = scope;\n};\n\n/**\n * Class for a scope.\n * @param {Interpreter.Scope} parentScope Parent scope.\n * @param {boolean} strict True if \"use strict\".\n * @param {!Interpreter.Object} object Object containing scope's variables.\n * @struct\n * @constructor\n */\nInterpreter.Scope = function(parentScope, strict, object) {\n  this.parentScope = parentScope;\n  this.strict = strict;\n  this.object = object;\n};\n\n/**\n * Class for an object.\n * @param {Interpreter.Object} proto Prototype object or null.\n * @constructor\n */\nInterpreter.Object = function(proto) {\n  this.getter = Object.create(null);\n  this.setter = Object.create(null);\n  this.properties = Object.create(null);\n  this.proto = proto;\n};\n\n/** @type {Interpreter.Object} */\nInterpreter.Object.prototype.proto = null;\n\n/** @type {string} */\nInterpreter.Object.prototype.class = 'Object';\n\n/** @type {Date|RegExp|boolean|number|string|null} */\nInterpreter.Object.prototype.data = null;\n\n/**\n * Convert this object into a string.\n * @return {string} String value.\n * @override\n */\nInterpreter.Object.prototype.toString = function() {\n  if (!(this instanceof Interpreter.Object)) {\n    // Primitive value.\n    return String(this);\n  }\n\n  if (this.class === 'Array') {\n    // Array contents must not have cycles.\n    var cycles = Interpreter.toStringCycles_;\n    cycles.push(this);\n    try {\n      var strs = [];\n      // Truncate very long strings.  This is not part of the spec,\n      // but it prevents hanging the interpreter for gigantic arrays.\n      var maxLength = this.properties.length;\n      var truncated = false;\n      if (maxLength > 1024) {\n        maxLength = 1000;\n        truncated = true;\n      }\n      for (var i = 0; i < maxLength; i++) {\n        var value = this.properties[i];\n        strs[i] = ((value instanceof Interpreter.Object) &&\n            cycles.indexOf(value) !== -1) ? '...' : value;\n      }\n      if (truncated) {\n        strs.push('...');\n      }\n    } finally {\n      cycles.pop();\n    }\n    return strs.join(',');\n  }\n\n  if (this.class === 'Error') {\n    // Error name and message properties must not have cycles.\n    var cycles = Interpreter.toStringCycles_;\n    if (cycles.indexOf(this) !== -1) {\n      return '[object Error]';\n    }\n    var name, message;\n    // Bug: Does not support getters and setters for name or message.\n    var obj = this;\n    do {\n      if ('name' in obj.properties) {\n        name = obj.properties['name'];\n        break;\n      }\n    } while ((obj = obj.proto));\n    var obj = this;\n    do {\n      if ('message' in obj.properties) {\n        message = obj.properties['message'];\n        break;\n      }\n    } while ((obj = obj.proto));\n    cycles.push(this);\n    try {\n      name = name && String(name);\n      message = message && String(message);\n    } finally {\n      cycles.pop();\n    }\n    return message ? name + ': ' + message : String(name);\n  }\n\n  if (this.data !== null) {\n    // RegExp, Date, and boxed primitives.\n    return String(this.data);\n  }\n\n  return '[object ' + this.class + ']';\n};\n\n/**\n * Return the object's value.\n * @return {Interpreter.Value} Value.\n * @override\n */\nInterpreter.Object.prototype.valueOf = function() {\n  if (this.data === undefined || this.data === null ||\n      this.data instanceof RegExp) {\n    return this;  // An Object, RegExp, or primitive.\n  }\n  if (this.data instanceof Date) {\n    return this.data.valueOf();  // Milliseconds.\n  }\n  return /** @type {(boolean|number|string)} */ (this.data);  // Boxed primitive.\n};\n\n///////////////////////////////////////////////////////////////////////////////\n// Functions to handle each node type.\n///////////////////////////////////////////////////////////////////////////////\n\nInterpreter.prototype['stepArrayExpression'] = function(stack, state, node) {\n  var elements = node['elements'];\n  var n = state.n_ || 0;\n  if (!state.array_) {\n    state.array_ = this.createArray();\n    state.array_.properties.length = elements.length;\n  } else {\n    this.setProperty(state.array_, n, state.value);\n    n++;\n  }\n  while (n < elements.length) {\n    // Skip missing elements - they're not defined, not undefined.\n    if (elements[n]) {\n      state.n_ = n;\n      return new Interpreter.State(elements[n], state.scope);\n    }\n    n++;\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.array_;\n};\n\nInterpreter.prototype['stepAssignmentExpression'] =\n    function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    var nextState = new Interpreter.State(node['left'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (!state.doneRight_) {\n    if (!state.leftReference_) {\n      state.leftReference_ = state.value;\n    }\n    if (state.doneGetter_) {\n      state.leftValue_ = state.value;\n    }\n    if (!state.doneGetter_ && node['operator'] !== '=') {\n      var leftValue = this.getValue(state.leftReference_);\n      state.leftValue_ = leftValue;\n      if (this.getterStep_) {\n        // Call the getter function.\n        state.doneGetter_ = true;\n        var func = /** @type {!Interpreter.Object} */ (leftValue);\n        return this.createGetter_(func, state.leftReference_);\n      }\n    }\n    state.doneRight_ = true;\n    // When assigning an unnamed function to a variable, the function's name\n    // is set to the variable name.  Record the variable name in case the\n    // right side is a functionExpression.\n    // E.g. foo = function() {};\n    if (node['operator'] === '=' && node['left']['type'] === 'Identifier') {\n      state.destinationName = node['left']['name'];\n    }\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  if (state.doneSetter_) {\n    // Return if setter function.\n    // Setter method on property has completed.\n    // Ignore its return value, and use the original set value instead.\n    stack.pop();\n    stack[stack.length - 1].value = state.setterValue_;\n    return;\n  }\n  var value = state.leftValue_;\n  var rightValue = state.value;\n  switch (node['operator']) {\n    case '=':    value =    rightValue; break;\n    case '+=':   value +=   rightValue; break;\n    case '-=':   value -=   rightValue; break;\n    case '*=':   value *=   rightValue; break;\n    case '/=':   value /=   rightValue; break;\n    case '%=':   value %=   rightValue; break;\n    case '<<=':  value <<=  rightValue; break;\n    case '>>=':  value >>=  rightValue; break;\n    case '>>>=': value >>>= rightValue; break;\n    case '&=':   value &=   rightValue; break;\n    case '^=':   value ^=   rightValue; break;\n    case '|=':   value |=   rightValue; break;\n    default:\n      throw SyntaxError('Unknown assignment expression: ' + node['operator']);\n  }\n  var setter = this.setValue(state.leftReference_, value);\n  if (setter) {\n    state.doneSetter_ = true;\n    state.setterValue_ = value;\n    return this.createSetter_(setter, state.leftReference_, value);\n  }\n  // Return if no setter function.\n  stack.pop();\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepBinaryExpression'] = function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    return new Interpreter.State(node['left'], state.scope);\n  }\n  if (!state.doneRight_) {\n    state.doneRight_ = true;\n    state.leftValue_ = state.value;\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  stack.pop();\n  var leftValue = state.leftValue_;\n  var rightValue = state.value;\n  var value;\n  switch (node['operator']) {\n    case '==':  value = leftValue ==  rightValue; break;\n    case '!=':  value = leftValue !=  rightValue; break;\n    case '===': value = leftValue === rightValue; break;\n    case '!==': value = leftValue !== rightValue; break;\n    case '>':   value = leftValue >   rightValue; break;\n    case '>=':  value = leftValue >=  rightValue; break;\n    case '<':   value = leftValue <   rightValue; break;\n    case '<=':  value = leftValue <=  rightValue; break;\n    case '+':   value = leftValue +   rightValue; break;\n    case '-':   value = leftValue -   rightValue; break;\n    case '*':   value = leftValue *   rightValue; break;\n    case '/':   value = leftValue /   rightValue; break;\n    case '%':   value = leftValue %   rightValue; break;\n    case '&':   value = leftValue &   rightValue; break;\n    case '|':   value = leftValue |   rightValue; break;\n    case '^':   value = leftValue ^   rightValue; break;\n    case '<<':  value = leftValue <<  rightValue; break;\n    case '>>':  value = leftValue >>  rightValue; break;\n    case '>>>': value = leftValue >>> rightValue; break;\n    case 'in':\n      if (!(rightValue instanceof Interpreter.Object)) {\n        this.throwException(this.TYPE_ERROR,\n            \"'in' expects an object, not '\" + rightValue + \"'\");\n      }\n      value = this.hasProperty(rightValue, leftValue);\n      break;\n    case 'instanceof':\n      if (!this.isa(rightValue, this.FUNCTION)) {\n        this.throwException(this.TYPE_ERROR,\n            'Right-hand side of instanceof is not an object');\n      }\n      value = (leftValue instanceof Interpreter.Object) ?\n          this.isa(leftValue, rightValue) : false;\n      break;\n    default:\n      throw SyntaxError('Unknown binary operator: ' + node['operator']);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepBlockStatement'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['body'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n};\n\nInterpreter.prototype['stepBreakStatement'] = function(stack, state, node) {\n  var label = node['label'] && node['label']['name'];\n  this.unwind(Interpreter.Completion.BREAK, undefined, label);\n};\n\n/**\n * Number of evals called by the interpreter.\n * @private\n */\nInterpreter.prototype.evalCodeNumber_ = 0;\n\nInterpreter.prototype['stepCallExpression'] = function(stack, state, node) {\n  if (!state.doneCallee_) {\n    state.doneCallee_ = 1;\n    // Components needed to determine value of `this`.\n    var nextState = new Interpreter.State(node['callee'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (state.doneCallee_ === 1) {\n    // Determine value of the function.\n    state.doneCallee_ = 2;\n    var func = state.value;\n    if (Array.isArray(func)) {\n      state.func_ = this.getValue(func);\n      if (func[0] === Interpreter.SCOPE_REFERENCE) {\n        // (Globally or locally) named function.  Is it named 'eval'?\n        state.directEval_ = (func[1] === 'eval');\n      } else {\n        // Method function, `this` is object (ignored if invoked as `new`).\n        state.funcThis_ = func[0];\n      }\n      func = state.func_;\n      if (this.getterStep_) {\n        // Call the getter function.\n        state.doneCallee_ = 1;\n        return this.createGetter_(/** @type {!Interpreter.Object} */ (func),\n            state.value);\n      }\n    } else {\n      // Already evaluated function: (function(){...})();\n      state.func_ = func;\n    }\n    state.arguments_ = [];\n    state.n_ = 0;\n  }\n  var func = state.func_;\n  if (!state.doneArgs_) {\n    if (state.n_ !== 0) {\n      state.arguments_.push(state.value);\n    }\n    if (node['arguments'][state.n_]) {\n      return new Interpreter.State(node['arguments'][state.n_++], state.scope);\n    }\n    // Determine value of `this` in function.\n    if (node['type'] === 'NewExpression') {\n      if (!(func instanceof Interpreter.Object) || func.illegalConstructor) {\n        // Illegal: new escape();\n        this.throwException(this.TYPE_ERROR, func + ' is not a constructor');\n      }\n      // Constructor, `this` is new object.\n      if (func === this.ARRAY) {\n        state.funcThis_ = this.createArray();\n      } else {\n        var proto = func.properties['prototype'];\n        if (typeof proto !== 'object' || proto === null) {\n          // Non-object prototypes default to `Object.prototype`.\n          proto = this.OBJECT_PROTO;\n        }\n        state.funcThis_ = this.createObjectProto(proto);\n      }\n      state.isConstructor = true;\n    }\n    state.doneArgs_ = true;\n  }\n  if (!state.doneExec_) {\n    state.doneExec_ = true;\n    if (!(func instanceof Interpreter.Object)) {\n      this.throwException(this.TYPE_ERROR, func + ' is not a function');\n    }\n    var funcNode = func.node;\n    if (funcNode) {\n      var scope = this.createScope(funcNode['body'], func.parentScope);\n      // Add all arguments.\n      for (var i = 0; i < funcNode['params'].length; i++) {\n        var paramName = funcNode['params'][i]['name'];\n        var paramValue = state.arguments_.length > i ? state.arguments_[i] :\n            undefined;\n        this.setProperty(scope.object, paramName, paramValue);\n      }\n      // Build arguments variable.\n      var argsList = this.createArray();\n      for (var i = 0; i < state.arguments_.length; i++) {\n        this.setProperty(argsList, i, state.arguments_[i]);\n      }\n      this.setProperty(scope.object, 'arguments', argsList);\n      // Add the function's name (var x = function foo(){};)\n      var name = funcNode['id'] && funcNode['id']['name'];\n      if (name) {\n        this.setProperty(scope.object, name, func);\n      }\n      if (!scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      this.setProperty(scope.object, 'this', state.funcThis_,\n                       Interpreter.READONLY_DESCRIPTOR);\n      state.value = undefined;  // Default value if no explicit return.\n      return new Interpreter.State(funcNode['body'], scope);\n    } else if (func.eval) {\n      var code = state.arguments_[0];\n      if (typeof code !== 'string') {\n        // JS does not parse String objects:\n        // eval(new String('1 + 1')) -> '1 + 1'\n        state.value = code;\n      } else {\n        try {\n          var ast = this.parse_(String(code),\n             'eval' + (this.evalCodeNumber_++));\n        } catch (e) {\n          // Acorn threw a SyntaxError.  Rethrow as a trappable error.\n          this.throwException(this.SYNTAX_ERROR, 'Invalid code: ' + e.message);\n        }\n        var evalNode = new this.nodeConstructor({options:{}});\n        evalNode['type'] = 'EvalProgram_';\n        evalNode['body'] = ast['body'];\n        Interpreter.stripLocations_(evalNode, node['start'], node['end']);\n        // Create new scope and update it with definitions in eval().\n        var scope = state.directEval_ ? state.scope : this.globalScope;\n        if (scope.strict) {\n          // Strict mode get its own scope in eval.\n          scope = this.createScope(ast, scope);\n        } else {\n          // Non-strict mode pollutes the current scope.\n          this.populateScope_(ast, scope);\n        }\n        this.value = undefined;  // Default value if no code.\n        return new Interpreter.State(evalNode, scope);\n      }\n    } else if (func.nativeFunc) {\n      if (!state.scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      state.value = func.nativeFunc.apply(state.funcThis_, state.arguments_);\n    } else if (func.asyncFunc) {\n      var thisInterpreter = this;\n      var callback = function(value) {\n        state.value = value;\n        thisInterpreter.paused_ = false;\n      };\n      // Force the argument lengths to match, then append the callback.\n      var argLength = func.asyncFunc.length - 1;\n      var argsWithCallback = state.arguments_.concat(\n          new Array(argLength)).slice(0, argLength);\n      argsWithCallback.push(callback);\n      this.paused_ = true;\n      if (!state.scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      func.asyncFunc.apply(state.funcThis_, argsWithCallback);\n      return;\n    } else {\n      /* A child of a function is a function but is not callable.  For example:\n      var F = function() {};\n      F.prototype = escape;\n      var f = new F();\n      f();\n      */\n      this.throwException(this.TYPE_ERROR, func.class + ' is not callable');\n    }\n  } else {\n    // Execution complete.  Put the return value on the stack.\n    stack.pop();\n    if (state.isConstructor && typeof state.value !== 'object') {\n      // Normal case for a constructor is to use the `this` value.\n      stack[stack.length - 1].value = state.funcThis_;\n    } else {\n      // Non-constructors or constructions explicitly returning objects use\n      // the return value.\n      stack[stack.length - 1].value = state.value;\n    }\n  }\n};\n\nInterpreter.prototype['stepCatchClause'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    // Create an empty scope.\n    var scope = this.createSpecialScope(state.scope);\n    // Add the argument.\n    this.setProperty(scope.object, node['param']['name'], state.throwValue);\n    // Execute catch clause.\n    return new Interpreter.State(node['body'], scope);\n  } else {\n    stack.pop();\n  }\n};\n\nInterpreter.prototype['stepConditionalExpression'] =\n    function(stack, state, node) {\n  var mode = state.mode_ || 0;\n  if (mode === 0) {\n    state.mode_ = 1;\n    return new Interpreter.State(node['test'], state.scope);\n  }\n  if (mode === 1) {\n    state.mode_ = 2;\n    var value = Boolean(state.value);\n    if (value && node['consequent']) {\n      // Execute `if` block.\n      return new Interpreter.State(node['consequent'], state.scope);\n    } else if (!value && node['alternate']) {\n      // Execute `else` block.\n      return new Interpreter.State(node['alternate'], state.scope);\n    }\n    // eval('1;if(false){2}') -> undefined\n    this.value = undefined;\n  }\n  stack.pop();\n  if (node['type'] === 'ConditionalExpression') {\n    stack[stack.length - 1].value = state.value;\n  }\n};\n\nInterpreter.prototype['stepContinueStatement'] = function(stack, state, node) {\n  var label = node['label'] && node['label']['name'];\n  this.unwind(Interpreter.Completion.CONTINUE, undefined, label);\n};\n\nInterpreter.prototype['stepDebuggerStatement'] = function(stack, state, node) {\n  // Do nothing.  May be overridden by developers.\n  stack.pop();\n};\n\nInterpreter.prototype['stepDoWhileStatement'] = function(stack, state, node) {\n  if (node['type'] === 'DoWhileStatement' && state.test_ === undefined) {\n    // First iteration of do/while executes without checking test.\n    state.value = true;\n    state.test_ = true;\n  }\n  if (!state.test_) {\n    state.test_ = true;\n    return new Interpreter.State(node['test'], state.scope);\n  }\n  if (!state.value) {  // Done, exit loop.\n    stack.pop();\n  } else if (node['body']) {  // Execute the body.\n    state.test_ = false;\n    state.isLoop = true;\n    return new Interpreter.State(node['body'], state.scope);\n  }\n};\n\nInterpreter.prototype['stepEmptyStatement'] = function(stack, state, node) {\n  stack.pop();\n};\n\nInterpreter.prototype['stepEvalProgram_'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['body'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n  stack[stack.length - 1].value = this.value;\n};\n\nInterpreter.prototype['stepExpressionStatement'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['expression'], state.scope);\n  }\n  stack.pop();\n  // Save this value to interpreter.value for use as a return value if\n  // this code is inside an eval function.\n  this.value = state.value;\n};\n\nInterpreter.prototype['stepForInStatement'] = function(stack, state, node) {\n  // First, initialize a variable if exists.  Only do so once, ever.\n  if (!state.doneInit_) {\n    state.doneInit_ = true;\n    if (node['left']['declarations'] &&\n        node['left']['declarations'][0]['init']) {\n      if (state.scope.strict) {\n        this.throwException(this.SYNTAX_ERROR,\n            'for-in loop variable declaration may not have an initializer.');\n      }\n      // Variable initialization: for (var x = 4 in y)\n      return new Interpreter.State(node['left'], state.scope);\n    }\n  }\n  // Second, look up the object.  Only do so once, ever.\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    if (!state.variable_) {\n      state.variable_ = state.value;\n    }\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  if (!state.isLoop) {\n    // First iteration.\n    state.isLoop = true;\n    state.object_ = state.value;\n    state.visited_ = Object.create(null);\n  }\n  // Third, find the property name for this iteration.\n  if (state.name_ === undefined) {\n    gotPropName: while (true) {\n      if (state.object_ instanceof Interpreter.Object) {\n        if (!state.props_) {\n          state.props_ = Object.getOwnPropertyNames(state.object_.properties);\n        }\n        while (true) {\n          var prop = state.props_.shift();\n          if (prop === undefined) {\n            break;  // Reached end of this object's properties.\n          }\n          if (!Object.prototype.hasOwnProperty.call(state.object_.properties,\n                prop)) {\n            continue;  // Property has been deleted in the loop.\n          }\n          if (state.visited_[prop]) {\n            continue;  // Already seen this property on a child.\n          }\n          state.visited_[prop] = true;\n          if (!Object.prototype.propertyIsEnumerable.call(\n                state.object_.properties, prop)) {\n            continue;  // Skip non-enumerable property.\n          }\n          state.name_ = prop;\n          break gotPropName;\n        }\n      } else if (state.object_ !== null && state.object_ !== undefined) {\n        // Primitive value (other than null or undefined).\n        if (!state.props_) {\n          state.props_ = Object.getOwnPropertyNames(state.object_);\n        }\n        while (true) {\n          var prop = state.props_.shift();\n          if (prop === undefined) {\n            break;  // Reached end of this value's properties.\n          }\n          state.visited_[prop] = true;\n          if (!Object.prototype.propertyIsEnumerable.call(\n                state.object_, prop)) {\n            continue;  // Skip non-enumerable property.\n          }\n          state.name_ = prop;\n          break gotPropName;\n        }\n      }\n      state.object_ = this.getPrototype(state.object_);\n      state.props_ = null;\n      if (state.object_ === null) {\n        // Done, exit loop.\n        stack.pop();\n        return;\n      }\n    }\n  }\n  // Fourth, find the variable\n  if (!state.doneVariable_) {\n    state.doneVariable_ = true;\n    var left = node['left'];\n    if (left['type'] === 'VariableDeclaration') {\n      // Inline variable declaration: for (var x in y)\n      state.variable_ =\n          [Interpreter.SCOPE_REFERENCE, left['declarations'][0]['id']['name']];\n    } else {\n      // Arbitrary left side: for (foo().bar in y)\n      state.variable_ = null;\n      var nextState = new Interpreter.State(left, state.scope);\n      nextState.components = true;\n      return nextState;\n    }\n  }\n  if (!state.variable_) {\n    state.variable_ = state.value;\n  }\n  // Fifth, set the variable.\n  if (!state.doneSetter_) {\n    state.doneSetter_ = true;\n    var value = state.name_;\n    var setter = this.setValue(state.variable_, value);\n    if (setter) {\n      return this.createSetter_(setter, state.variable_, value);\n    }\n  }\n  // Next step will be step three.\n  state.name_ = undefined;\n  // Reevaluate the variable since it could be a setter on the global object.\n  state.doneVariable_ = false;\n  state.doneSetter_ = false;\n  // Sixth and finally, execute the body if there was one.  this.\n  if (node['body']) {\n    return new Interpreter.State(node['body'], state.scope);\n  }\n};\n\nInterpreter.prototype['stepForStatement'] = function(stack, state, node) {\n  var mode = state.mode_ || 0;\n  if (mode === 0) {\n    state.mode_ = 1;\n    if (node['init']) {\n      return new Interpreter.State(node['init'], state.scope);\n    }\n  } else if (mode === 1) {\n    state.mode_ = 2;\n    if (node['test']) {\n      return new Interpreter.State(node['test'], state.scope);\n    }\n  } else if (mode === 2) {\n    state.mode_ = 3;\n    if (node['test'] && !state.value) {\n      // Done, exit loop.\n      stack.pop();\n    } else {  // Execute the body.\n      state.isLoop = true;\n      return new Interpreter.State(node['body'], state.scope);\n    }\n  } else if (mode === 3) {\n    state.mode_ = 1;\n    if (node['update']) {\n      return new Interpreter.State(node['update'], state.scope);\n    }\n  }\n};\n\nInterpreter.prototype['stepFunctionDeclaration'] =\n    function(stack, state, node) {\n  // This was found and handled when the scope was populated.\n  stack.pop();\n};\n\nInterpreter.prototype['stepFunctionExpression'] = function(stack, state, node) {\n  stack.pop();\n  state = stack[stack.length - 1];\n  state.value = this.createFunction(node, state.scope, state.destinationName);\n};\n\nInterpreter.prototype['stepIdentifier'] = function(stack, state, node) {\n  stack.pop();\n  if (state.components) {\n    stack[stack.length - 1].value = [Interpreter.SCOPE_REFERENCE, node['name']];\n    return;\n  }\n  var value = this.getValueFromScope(node['name']);\n  // An identifier could be a getter if it's a property on the global object.\n  if (this.getterStep_) {\n    // Call the getter function.\n    var func = /** @type {!Interpreter.Object} */ (value);\n    return this.createGetter_(func, this.globalObject);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepIfStatement'] =\n    Interpreter.prototype['stepConditionalExpression'];\n\nInterpreter.prototype['stepLabeledStatement'] = function(stack, state, node) {\n  // No need to hit this node again on the way back up the stack.\n  stack.pop();\n  // Note that a statement might have multiple labels.\n  var labels = state.labels || [];\n  labels.push(node['label']['name']);\n  var nextState = new Interpreter.State(node['body'], state.scope);\n  nextState.labels = labels;\n  return nextState;\n};\n\nInterpreter.prototype['stepLiteral'] = function(stack, state, node) {\n  stack.pop();\n  var value = node['value'];\n  if (value instanceof RegExp) {\n    var pseudoRegexp = this.createObjectProto(this.REGEXP_PROTO);\n    this.populateRegExp(pseudoRegexp, value);\n    value = pseudoRegexp;\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepLogicalExpression'] = function(stack, state, node) {\n  if (node['operator'] !== '&&' && node['operator'] !== '||') {\n    throw SyntaxError('Unknown logical operator: ' + node['operator']);\n  }\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    return new Interpreter.State(node['left'], state.scope);\n  }\n  if (!state.doneRight_) {\n    if ((node['operator'] === '&&' && !state.value) ||\n        (node['operator'] === '||' && state.value)) {\n      // Shortcut evaluation.\n      stack.pop();\n      stack[stack.length - 1].value = state.value;\n    } else {\n      state.doneRight_ = true;\n      return new Interpreter.State(node['right'], state.scope);\n    }\n  } else {\n    stack.pop();\n    stack[stack.length - 1].value = state.value;\n  }\n};\n\nInterpreter.prototype['stepMemberExpression'] = function(stack, state, node) {\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    return new Interpreter.State(node['object'], state.scope);\n  }\n  var propName;\n  if (!node['computed']) {\n    state.object_ = state.value;\n    // obj.foo -- Just access `foo` directly.\n    propName = node['property']['name'];\n  } else if (!state.doneProperty_) {\n    state.object_ = state.value;\n    // obj[foo] -- Compute value of `foo`.\n    state.doneProperty_ = true;\n    return new Interpreter.State(node['property'], state.scope);\n  } else {\n    propName = state.value;\n  }\n  stack.pop();\n  if (state.components) {\n    stack[stack.length - 1].value = [state.object_, propName];\n  } else {\n    var value = this.getProperty(state.object_, propName);\n    if (this.getterStep_) {\n      // Call the getter function.\n      var func = /** @type {!Interpreter.Object} */ (value);\n      return this.createGetter_(func, state.object_);\n    }\n    stack[stack.length - 1].value = value;\n  }\n};\n\nInterpreter.prototype['stepNewExpression'] =\n    Interpreter.prototype['stepCallExpression'];\n\nInterpreter.prototype['stepObjectExpression'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var property = node['properties'][n];\n  if (!state.object_) {\n    // First execution.\n    state.object_ = this.createObjectProto(this.OBJECT_PROTO);\n    state.properties_ = Object.create(null);\n  } else {\n    // Set the property computed in the previous execution.\n    var propName = state.destinationName;\n    if (!state.properties_[propName]) {\n      // Create temp object to collect value, getter, and/or setter.\n      state.properties_[propName] = {};\n    }\n    state.properties_[propName][property['kind']] = state.value;\n    state.n_ = ++n;\n    property = node['properties'][n];\n  }\n  if (property) {\n    // Determine property name.\n    var key = property['key'];\n    if (key['type'] === 'Identifier') {\n      var propName = key['name'];\n    } else if (key['type'] === 'Literal') {\n      var propName = key['value'];\n    } else {\n      throw SyntaxError('Unknown object structure: ' + key['type']);\n    }\n    // When assigning an unnamed function to a property, the function's name\n    // is set to the property name.  Record the property name in case the\n    // value is a functionExpression.\n    // E.g. {foo: function() {}}\n    state.destinationName = propName;\n    return new Interpreter.State(property['value'], state.scope);\n  }\n  for (var key in state.properties_) {\n    var kinds = state.properties_[key];\n    if ('get' in kinds || 'set' in kinds) {\n      // Set a property with a getter or setter.\n      var descriptor = {\n        configurable: true,\n        enumerable: true,\n        get: kinds['get'],\n        set: kinds['set']\n      };\n      this.setProperty(state.object_, key, Interpreter.VALUE_IN_DESCRIPTOR,\n                       descriptor);\n    } else {\n      // Set a normal property with a value.\n      this.setProperty(state.object_, key, kinds['init']);\n    }\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.object_;\n};\n\nInterpreter.prototype['stepProgram'] = function(stack, state, node) {\n  var expression = node['body'].shift();\n  if (expression) {\n    state.done = false;\n    return new Interpreter.State(expression, state.scope);\n  }\n  state.done = true;\n  // Don't pop the stateStack.\n  // Leave the root scope on the tree in case the program is appended to.\n};\n\nInterpreter.prototype['stepReturnStatement'] = function(stack, state, node) {\n  if (node['argument'] && !state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['argument'], state.scope);\n  }\n  this.unwind(Interpreter.Completion.RETURN, state.value, undefined);\n};\n\nInterpreter.prototype['stepSequenceExpression'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['expressions'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.value;\n};\n\nInterpreter.prototype['stepSwitchStatement'] = function(stack, state, node) {\n  if (!state.test_) {\n    state.test_ = 1;\n    return new Interpreter.State(node['discriminant'], state.scope);\n  }\n  if (state.test_ === 1) {\n    state.test_ = 2;\n    // Preserve switch value between case tests.\n    state.switchValue_ = state.value;\n    state.defaultCase_ = -1;\n  }\n\n  while (true) {\n    var index = state.index_ || 0;\n    var switchCase = node['cases'][index];\n    if (!state.matched_ && switchCase && !switchCase['test']) {\n      // Test on the default case is null.\n      // Bypass (but store) the default case, and get back to it later.\n      state.defaultCase_ = index;\n      state.index_ = index + 1;\n      continue;\n    }\n    if (!switchCase && !state.matched_ && state.defaultCase_ !== -1) {\n      // Ran through all cases, no match.  Jump to the default.\n      state.matched_ = true;\n      state.index_ = state.defaultCase_;\n      continue;\n    }\n    if (switchCase) {\n      if (!state.matched_ && !state.tested_ && switchCase['test']) {\n        state.tested_ = true;\n        return new Interpreter.State(switchCase['test'], state.scope);\n      }\n      if (state.matched_ || state.value === state.switchValue_) {\n        state.matched_ = true;\n        var n = state.n_ || 0;\n        if (switchCase['consequent'][n]) {\n          state.isSwitch = true;\n          state.n_ = n + 1;\n          return new Interpreter.State(switchCase['consequent'][n],\n                                       state.scope);\n        }\n      }\n      // Move on to next case.\n      state.tested_ = false;\n      state.n_ = 0;\n      state.index_ = index + 1;\n    } else {\n      stack.pop();\n      return;\n    }\n  }\n};\n\nInterpreter.prototype['stepThisExpression'] = function(stack, state, node) {\n  stack.pop();\n  stack[stack.length - 1].value = this.getValueFromScope('this');\n};\n\nInterpreter.prototype['stepThrowStatement'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['argument'], state.scope);\n  } else {\n    this.throwException(state.value);\n  }\n};\n\nInterpreter.prototype['stepTryStatement'] = function(stack, state, node) {\n  if (!state.doneBlock_) {\n    state.doneBlock_ = true;\n    return new Interpreter.State(node['block'], state.scope);\n  }\n  if (state.cv && state.cv.type === Interpreter.Completion.THROW &&\n      !state.doneHandler_ && node['handler']) {\n    state.doneHandler_ = true;\n    var nextState = new Interpreter.State(node['handler'], state.scope);\n    nextState.throwValue = state.cv.value;\n    state.cv = undefined;  // This error has been handled, don't rethrow.\n    return nextState;\n  }\n  if (!state.doneFinalizer_ && node['finalizer']) {\n    state.doneFinalizer_ = true;\n    return new Interpreter.State(node['finalizer'], state.scope);\n  }\n  stack.pop();\n  if (state.cv) {\n    // There was no catch handler, or the catch/finally threw an error.\n    // Throw the error up to a higher try.\n    this.unwind(state.cv.type, state.cv.value, state.cv.label);\n  }\n};\n\nInterpreter.prototype['stepUnaryExpression'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    var nextState = new Interpreter.State(node['argument'], state.scope);\n    nextState.components = node['operator'] === 'delete';\n    return nextState;\n  }\n  stack.pop();\n  var value = state.value;\n  if (node['operator'] === '-') {\n    value = -value;\n  } else if (node['operator'] === '+') {\n    value = +value;\n  } else if (node['operator'] === '!') {\n    value = !value;\n  } else if (node['operator'] === '~') {\n    value = ~value;\n  } else if (node['operator'] === 'delete') {\n    var result = true;\n    // If value is not an array, then it is a primitive, or some other value.\n    // If so, skip the delete and return true.\n    if (Array.isArray(value)) {\n      var obj = value[0];\n      if (obj === Interpreter.SCOPE_REFERENCE) {\n        // `delete foo;` is the same as `delete window.foo;`.\n        obj = state.scope;\n      }\n      var name = String(value[1]);\n      try {\n        delete obj.properties[name];\n      } catch (e) {\n        if (state.scope.strict) {\n          this.throwException(this.TYPE_ERROR, \"Cannot delete property '\" +\n                              name + \"' of '\" + obj + \"'\");\n        } else {\n          result = false;\n        }\n      }\n    }\n    value = result;\n  } else if (node['operator'] === 'typeof') {\n    value = (value && value.class === 'Function') ? 'function' : typeof value;\n  } else if (node['operator'] === 'void') {\n    value = undefined;\n  } else {\n    throw SyntaxError('Unknown unary operator: ' + node['operator']);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepUpdateExpression'] = function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    var nextState = new Interpreter.State(node['argument'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (!state.leftSide_) {\n    state.leftSide_ = state.value;\n  }\n  if (state.doneGetter_) {\n    state.leftValue_ = state.value;\n  }\n  if (!state.doneGetter_) {\n    var leftValue = this.getValue(state.leftSide_);\n    state.leftValue_ = leftValue;\n    if (this.getterStep_) {\n      // Call the getter function.\n      state.doneGetter_ = true;\n      var func = /** @type {!Interpreter.Object} */ (leftValue);\n      return this.createGetter_(func, state.leftSide_);\n    }\n  }\n  if (state.doneSetter_) {\n    // Return if setter function.\n    // Setter method on property has completed.\n    // Ignore its return value, and use the original set value instead.\n    stack.pop();\n    stack[stack.length - 1].value = state.setterValue_;\n    return;\n  }\n  var leftValue = Number(state.leftValue_);\n  var changeValue;\n  if (node['operator'] === '++') {\n    changeValue = leftValue + 1;\n  } else if (node['operator'] === '--') {\n    changeValue = leftValue - 1;\n  } else {\n    throw SyntaxError('Unknown update expression: ' + node['operator']);\n  }\n  var returnValue = node['prefix'] ? changeValue : leftValue;\n  var setter = this.setValue(state.leftSide_, changeValue);\n  if (setter) {\n    state.doneSetter_ = true;\n    state.setterValue_ = returnValue;\n    return this.createSetter_(setter, state.leftSide_, changeValue);\n  }\n  // Return if no setter function.\n  stack.pop();\n  stack[stack.length - 1].value = returnValue;\n};\n\nInterpreter.prototype['stepVariableDeclaration'] = function(stack, state, node) {\n  var declarations = node['declarations'];\n  var n = state.n_ || 0;\n  var declarationNode = declarations[n];\n  if (state.init_ && declarationNode) {\n    // This setValue call never needs to deal with calling a setter function.\n    // Note that this is setting the init value, not defining the variable.\n    // Variable definition is done when scope is populated.\n    this.setValueToScope(declarationNode['id']['name'], state.value);\n    state.init_ = false;\n    declarationNode = declarations[++n];\n  }\n  while (declarationNode) {\n    // Skip any declarations that are not initialized.  They have already\n    // been defined as undefined in populateScope_.\n    if (declarationNode['init']) {\n      state.n_ = n;\n      state.init_ = true;\n      // When assigning an unnamed function to a variable, the function's name\n      // is set to the variable name.  Record the variable name in case the\n      // right side is a functionExpression.\n      // E.g. var foo = function() {};\n      state.destinationName = declarationNode['id']['name'];\n      return new Interpreter.State(declarationNode['init'], state.scope);\n    }\n    declarationNode = declarations[++n];\n  }\n  stack.pop();\n};\n\nInterpreter.prototype['stepWithStatement'] = function(stack, state, node) {\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    return new Interpreter.State(node['object'], state.scope);\n  } else if (!state.doneBody_) {\n    state.doneBody_ = true;\n    var scope = this.createSpecialScope(state.scope, state.value);\n    return new Interpreter.State(node['body'], scope);\n  } else {\n    stack.pop();\n  }\n};\n\nInterpreter.prototype['stepWhileStatement'] =\n    Interpreter.prototype['stepDoWhileStatement'];\n\n// Preserve top-level API functions from being pruned/renamed by JS compilers.\n// Add others as needed.\n// The global object (`window` in a browser, `global` in node.js) is `this`.\nthis.Interpreter = Interpreter;\nInterpreter.prototype['step'] = Interpreter.prototype.step;\nInterpreter.prototype['run'] = Interpreter.prototype.run;\nInterpreter.prototype['appendCode'] = Interpreter.prototype.appendCode;\nInterpreter.prototype['createObject'] = Interpreter.prototype.createObject;\nInterpreter.prototype['createObjectProto'] =\n    Interpreter.prototype.createObjectProto;\nInterpreter.prototype['createAsyncFunction'] =\n    Interpreter.prototype.createAsyncFunction;\nInterpreter.prototype['createNativeFunction'] =\n    Interpreter.prototype.createNativeFunction;\nInterpreter.prototype['getProperty'] = Interpreter.prototype.getProperty;\nInterpreter.prototype['setProperty'] = Interpreter.prototype.setProperty;\nInterpreter.prototype['nativeToPseudo'] = Interpreter.prototype.nativeToPseudo;\nInterpreter.prototype['pseudoToNative'] = Interpreter.prototype.pseudoToNative;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_224573__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_224573__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__nested_webpack_require_224573__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module['default']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__nested_webpack_require_224573__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__nested_webpack_require_224573__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__nested_webpack_require_224573__.o(definition, key) && !__nested_webpack_require_224573__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__nested_webpack_require_224573__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__nested_webpack_require_224573__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __nested_webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n/*!*******************************!*\\\n  !*** ./src/js-interpreter.js ***!\n  \\*******************************/\n__nested_webpack_require_224573__.r(__nested_webpack_exports__);\n/* harmony export */ __nested_webpack_require_224573__.d(__nested_webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_224573__(/*! ../original-repo/interpreter */ \"./original-repo/interpreter.js\");\n/* harmony import */ var _original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_224573__.n(_original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__.Interpreter);\n\n})();\n\n__nested_webpack_exports__ = __nested_webpack_exports__[\"default\"];\n/******/ \treturn __nested_webpack_exports__;\n/******/ })()\n;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BkZXJpdi9qcy1pbnRlcnByZXRlci9saWIvanMtaW50ZXJwcmV0ZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvQGRlcml2L2pzLWludGVycHJldGVyL2xpYi9qcy1pbnRlcnByZXRlci5qcz83OGNjIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkpTSW50ZXJwcmV0ZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiSlNJbnRlcnByZXRlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovICgoKSA9PiB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVzX18gPSAoe1xuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3ZtLWJyb3dzZXJpZnkvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy92bS1icm93c2VyaWZ5L2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSA9PiB7XG5cbnZhciBpbmRleE9mID0gZnVuY3Rpb24gKHhzLCBpdGVtKSB7XG4gICAgaWYgKHhzLmluZGV4T2YpIHJldHVybiB4cy5pbmRleE9mKGl0ZW0pO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoeHNbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xudmFyIE9iamVjdF9rZXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChPYmplY3Qua2V5cykgcmV0dXJuIE9iamVjdC5rZXlzKG9iailcbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSByZXMucHVzaChrZXkpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxufTtcblxudmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoeHMsIGZuKSB7XG4gICAgaWYgKHhzLmZvckVhY2gpIHJldHVybiB4cy5mb3JFYWNoKGZuKVxuICAgIGVsc2UgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbih4c1tpXSwgaSwgeHMpO1xuICAgIH1cbn07XG5cbnZhciBkZWZpbmVQcm9wID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ18nLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIG9ialtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cbn0oKSk7XG5cbnZhciBnbG9iYWxzID0gWydBcnJheScsICdCb29sZWFuJywgJ0RhdGUnLCAnRXJyb3InLCAnRXZhbEVycm9yJywgJ0Z1bmN0aW9uJyxcbidJbmZpbml0eScsICdKU09OJywgJ01hdGgnLCAnTmFOJywgJ051bWJlcicsICdPYmplY3QnLCAnUmFuZ2VFcnJvcicsXG4nUmVmZXJlbmNlRXJyb3InLCAnUmVnRXhwJywgJ1N0cmluZycsICdTeW50YXhFcnJvcicsICdUeXBlRXJyb3InLCAnVVJJRXJyb3InLFxuJ2RlY29kZVVSSScsICdkZWNvZGVVUklDb21wb25lbnQnLCAnZW5jb2RlVVJJJywgJ2VuY29kZVVSSUNvbXBvbmVudCcsICdlc2NhcGUnLFxuJ2V2YWwnLCAnaXNGaW5pdGUnLCAnaXNOYU4nLCAncGFyc2VGbG9hdCcsICdwYXJzZUludCcsICd1bmRlZmluZWQnLCAndW5lc2NhcGUnXTtcblxuZnVuY3Rpb24gQ29udGV4dCgpIHt9XG5Db250ZXh0LnByb3RvdHlwZSA9IHt9O1xuXG52YXIgU2NyaXB0ID0gZXhwb3J0cy5TY3JpcHQgPSBmdW5jdGlvbiBOb2RlU2NyaXB0IChjb2RlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNjcmlwdCkpIHJldHVybiBuZXcgU2NyaXB0KGNvZGUpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG59O1xuXG5TY3JpcHQucHJvdG90eXBlLnJ1bkluQ29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgaWYgKCEoY29udGV4dCBpbnN0YW5jZW9mIENvbnRleHQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJuZWVkcyBhICdjb250ZXh0JyBhcmd1bWVudC5cIik7XG4gICAgfVxuICAgIFxuICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZiAoIWlmcmFtZS5zdHlsZSkgaWZyYW1lLnN0eWxlID0ge307XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIFxuICAgIHZhciB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdztcbiAgICB2YXIgd0V2YWwgPSB3aW4uZXZhbCwgd0V4ZWNTY3JpcHQgPSB3aW4uZXhlY1NjcmlwdDtcblxuICAgIGlmICghd0V2YWwgJiYgd0V4ZWNTY3JpcHQpIHtcbiAgICAgICAgLy8gd2luLmV2YWwoKSBtYWdpY2FsbHkgYXBwZWFycyB3aGVuIHRoaXMgaXMgY2FsbGVkIGluIElFOlxuICAgICAgICB3RXhlY1NjcmlwdC5jYWxsKHdpbiwgJ251bGwnKTtcbiAgICAgICAgd0V2YWwgPSB3aW4uZXZhbDtcbiAgICB9XG4gICAgXG4gICAgZm9yRWFjaChPYmplY3Rfa2V5cyhjb250ZXh0KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB3aW5ba2V5XSA9IGNvbnRleHRba2V5XTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGdsb2JhbHMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGNvbnRleHRba2V5XSkge1xuICAgICAgICAgICAgd2luW2tleV0gPSBjb250ZXh0W2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICB2YXIgd2luS2V5cyA9IE9iamVjdF9rZXlzKHdpbik7XG5cbiAgICB2YXIgcmVzID0gd0V2YWwuY2FsbCh3aW4sIHRoaXMuY29kZSk7XG4gICAgXG4gICAgZm9yRWFjaChPYmplY3Rfa2V5cyh3aW4pLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIC8vIEF2b2lkIGNvcHlpbmcgY2lyY3VsYXIgb2JqZWN0cyBsaWtlIGB0b3BgIGFuZCBgd2luZG93YCBieSBvbmx5XG4gICAgICAgIC8vIHVwZGF0aW5nIGV4aXN0aW5nIGNvbnRleHQgcHJvcGVydGllcyBvciBuZXcgcHJvcGVydGllcyBpbiB0aGUgYHdpbmBcbiAgICAgICAgLy8gdGhhdCB3YXMgb25seSBpbnRyb2R1Y2VkIGFmdGVyIHRoZSBldmFsLlxuICAgICAgICBpZiAoa2V5IGluIGNvbnRleHQgfHwgaW5kZXhPZih3aW5LZXlzLCBrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgY29udGV4dFtrZXldID0gd2luW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvckVhY2goZ2xvYmFscywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gY29udGV4dCkpIHtcbiAgICAgICAgICAgIGRlZmluZVByb3AoY29udGV4dCwga2V5LCB3aW5ba2V5XSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgXG4gICAgcmV0dXJuIHJlcztcbn07XG5cblNjcmlwdC5wcm90b3R5cGUucnVuSW5UaGlzQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZXZhbCh0aGlzLmNvZGUpOyAvLyBtYXliZS4uLlxufTtcblxuU2NyaXB0LnByb3RvdHlwZS5ydW5Jbk5ld0NvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBjdHggPSBTY3JpcHQuY3JlYXRlQ29udGV4dChjb250ZXh0KTtcbiAgICB2YXIgcmVzID0gdGhpcy5ydW5JbkNvbnRleHQoY3R4KTtcblxuICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIGZvckVhY2goT2JqZWN0X2tleXMoY3R4KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgY29udGV4dFtrZXldID0gY3R4W2tleV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59O1xuXG5mb3JFYWNoKE9iamVjdF9rZXlzKFNjcmlwdC5wcm90b3R5cGUpLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIGV4cG9ydHNbbmFtZV0gPSBTY3JpcHRbbmFtZV0gPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICB2YXIgcyA9IFNjcmlwdChjb2RlKTtcbiAgICAgICAgcmV0dXJuIHNbbmFtZV0uYXBwbHkocywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9O1xufSk7XG5cbmV4cG9ydHMuaXNDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICByZXR1cm4gY29udGV4dCBpbnN0YW5jZW9mIENvbnRleHQ7XG59O1xuXG5leHBvcnRzLmNyZWF0ZVNjcmlwdCA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuU2NyaXB0KGNvZGUpO1xufTtcblxuZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gU2NyaXB0LmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBjb3B5ID0gbmV3IENvbnRleHQoKTtcbiAgICBpZih0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yRWFjaChPYmplY3Rfa2V5cyhjb250ZXh0KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgY29weVtrZXldID0gY29udGV4dFtrZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vb3JpZ2luYWwtcmVwby9hY29ybi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9vcmlnaW5hbC1yZXBvL2Fjb3JuLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187Ly8gQWNvcm4gaXMgYSB0aW55LCBmYXN0IEphdmFTY3JpcHQgcGFyc2VyIHdyaXR0ZW4gaW4gSmF2YVNjcmlwdC5cbi8vXG4vLyBBY29ybiB3YXMgd3JpdHRlbiBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCByZWxlYXNlZCB1bmRlciBhbiBNSVRcbi8vIGxpY2Vuc2UuIFRoZSBVbmljb2RlIHJlZ2V4cHMgKGZvciBpZGVudGlmaWVycyBhbmQgd2hpdGVzcGFjZSkgd2VyZVxuLy8gdGFrZW4gZnJvbSBbRXNwcmltYV0oaHR0cDovL2VzcHJpbWEub3JnKSBieSBBcml5YSBIaWRheWF0LlxuLy9cbi8vIEdpdCByZXBvc2l0b3JpZXMgZm9yIEFjb3JuIGFyZSBhdmFpbGFibGUgYXRcbi8vXG4vLyAgICAgaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9naXQvYWNvcm5cbi8vICAgICBodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9hY29ybi5naXRcbi8vXG4vLyBQbGVhc2UgdXNlIHRoZSBbZ2l0aHViIGJ1ZyB0cmFja2VyXVtnaGJ0XSB0byByZXBvcnQgaXNzdWVzLlxuLy9cbi8vIFtnaGJ0XTogaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvYWNvcm4vaXNzdWVzXG4vL1xuLy8gVGhpcyBmaWxlIGRlZmluZXMgdGhlIG1haW4gcGFyc2VyIGludGVyZmFjZS4gVGhlIGxpYnJhcnkgYWxzbyBjb21lc1xuLy8gd2l0aCBhIFtlcnJvci10b2xlcmFudCBwYXJzZXJdW2RhbW1pdF0gYW5kIGFuXG4vLyBbYWJzdHJhY3Qgc3ludGF4IHRyZWUgd2Fsa2VyXVt3YWxrXSwgZGVmaW5lZCBpbiBvdGhlciBmaWxlcy5cbi8vXG4vLyBbZGFtbWl0XTogYWNvcm5fbG9vc2UuanNcbi8vIFt3YWxrXTogdXRpbC93YWxrLmpzXG5cbihmdW5jdGlvbihyb290LCBtb2QpIHtcbiAgaWYgKHRydWUpIHJldHVybiBtb2QoZXhwb3J0cyk7IC8vIENvbW1vbkpTXG4gIGlmICh0cnVlKSByZXR1cm4gIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW2V4cG9ydHNdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAobW9kKSxcblx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID9cblx0XHQoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksXG5cdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpOyAvLyBBTURcbiAgbW9kKHJvb3QuYWNvcm4gfHwgKHJvb3QuYWNvcm4gPSB7fSkpOyAvLyBQbGFpbiBicm93c2VyIGVudlxufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBleHBvcnRzLnZlcnNpb24gPSBcIjAuNC4xXCI7XG5cbiAgLy8gVGhlIG1haW4gZXhwb3J0ZWQgaW50ZXJmYWNlICh1bmRlciBgc2VsZi5hY29ybmAgd2hlbiBpbiB0aGVcbiAgLy8gYnJvd3NlcikgaXMgYSBgcGFyc2VgIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjb2RlIHN0cmluZyBhbmRcbiAgLy8gcmV0dXJucyBhbiBhYnN0cmFjdCBzeW50YXggdHJlZSBhcyBzcGVjaWZpZWQgYnkgW01vemlsbGEgcGFyc2VyXG4gIC8vIEFQSV1bYXBpXSwgd2l0aCB0aGUgY2F2ZWF0IHRoYXQgdGhlIFNwaWRlck1vbmtleS1zcGVjaWZpYyBzeW50YXhcbiAgLy8gKGBsZXRgLCBgeWllbGRgLCBpbmxpbmUgWE1MLCBldGMpIGlzIG5vdCByZWNvZ25pemVkLlxuICAvL1xuICAvLyBbYXBpXTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9TcGlkZXJNb25rZXkvUGFyc2VyX0FQSVxuXG4gIHZhciBvcHRpb25zLCBpbnB1dCwgaW5wdXRMZW4sIHNvdXJjZUZpbGU7XG5cbiAgZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uKGlucHQsIG9wdHMpIHtcbiAgICBpbnB1dCA9IFN0cmluZyhpbnB0KTsgaW5wdXRMZW4gPSBpbnB1dC5sZW5ndGg7XG4gICAgc2V0T3B0aW9ucyhvcHRzKTtcbiAgICBpbml0VG9rZW5TdGF0ZSgpO1xuICAgIHJldHVybiBwYXJzZVRvcExldmVsKG9wdGlvbnMucHJvZ3JhbSk7XG4gIH07XG5cbiAgLy8gQSBzZWNvbmQgb3B0aW9uYWwgYXJndW1lbnQgY2FuIGJlIGdpdmVuIHRvIGZ1cnRoZXIgY29uZmlndXJlXG4gIC8vIHRoZSBwYXJzZXIgcHJvY2Vzcy4gVGhlc2Ugb3B0aW9ucyBhcmUgcmVjb2duaXplZDpcblxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSBleHBvcnRzLmRlZmF1bHRPcHRpb25zID0ge1xuICAgIC8vIGBlY21hVmVyc2lvbmAgaW5kaWNhdGVzIHRoZSBFQ01BU2NyaXB0IHZlcnNpb24gdG8gcGFyc2UuIE11c3RcbiAgICAvLyBiZSBlaXRoZXIgMyBvciA1LiBUaGlzXG4gICAgLy8gaW5mbHVlbmNlcyBzdXBwb3J0IGZvciBzdHJpY3QgbW9kZSwgdGhlIHNldCBvZiByZXNlcnZlZCB3b3JkcywgYW5kXG4gICAgLy8gc3VwcG9ydCBmb3IgZ2V0dGVycyBhbmQgc2V0dGVyLlxuICAgIGVjbWFWZXJzaW9uOiA1LFxuICAgIC8vIFR1cm4gb24gYHN0cmljdFNlbWljb2xvbnNgIHRvIHByZXZlbnQgdGhlIHBhcnNlciBmcm9tIGRvaW5nXG4gICAgLy8gYXV0b21hdGljIHNlbWljb2xvbiBpbnNlcnRpb24uXG4gICAgc3RyaWN0U2VtaWNvbG9uczogZmFsc2UsXG4gICAgLy8gV2hlbiBgYWxsb3dUcmFpbGluZ0NvbW1hc2AgaXMgZmFsc2UsIHRoZSBwYXJzZXIgd2lsbCBub3QgYWxsb3dcbiAgICAvLyB0cmFpbGluZyBjb21tYXMgaW4gYXJyYXkgYW5kIG9iamVjdCBsaXRlcmFscy5cbiAgICBhbGxvd1RyYWlsaW5nQ29tbWFzOiB0cnVlLFxuICAgIC8vIEJ5IGRlZmF1bHQsIHJlc2VydmVkIHdvcmRzIGFyZSBub3QgZW5mb3JjZWQuIEVuYWJsZVxuICAgIC8vIGBmb3JiaWRSZXNlcnZlZGAgdG8gZW5mb3JjZSB0aGVtLlxuICAgIGZvcmJpZFJlc2VydmVkOiBmYWxzZSxcbiAgICAvLyBXaGVuIGBsb2NhdGlvbnNgIGlzIG9uLCBgbG9jYCBwcm9wZXJ0aWVzIGhvbGRpbmcgb2JqZWN0cyB3aXRoXG4gICAgLy8gYHN0YXJ0YCBhbmQgYGVuZGAgcHJvcGVydGllcyBpbiBge2xpbmUsIGNvbHVtbn1gIGZvcm0gKHdpdGhcbiAgICAvLyBsaW5lIGJlaW5nIDEtYmFzZWQgYW5kIGNvbHVtbiAwLWJhc2VkKSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZVxuICAgIC8vIG5vZGVzLlxuICAgIGxvY2F0aW9uczogZmFsc2UsXG4gICAgLy8gQSBmdW5jdGlvbiBjYW4gYmUgcGFzc2VkIGFzIGBvbkNvbW1lbnRgIG9wdGlvbiwgd2hpY2ggd2lsbFxuICAgIC8vIGNhdXNlIEFjb3JuIHRvIGNhbGwgdGhhdCBmdW5jdGlvbiB3aXRoIGAoYmxvY2ssIHRleHQsIHN0YXJ0LFxuICAgIC8vIGVuZClgIHBhcmFtZXRlcnMgd2hlbmV2ZXIgYSBjb21tZW50IGlzIHNraXBwZWQuIGBibG9ja2AgaXMgYVxuICAgIC8vIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgaXMgYSBibG9jayAoYC8qICovYCkgY29tbWVudCxcbiAgICAvLyBgdGV4dGAgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIGNvbW1lbnQsIGFuZCBgc3RhcnRgIGFuZCBgZW5kYCBhcmVcbiAgICAvLyBjaGFyYWN0ZXIgb2Zmc2V0cyB0aGF0IGRlbm90ZSB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgY29tbWVudC5cbiAgICAvLyBXaGVuIHRoZSBgbG9jYXRpb25zYCBvcHRpb24gaXMgb24sIHR3byBtb3JlIHBhcmFtZXRlcnMgYXJlXG4gICAgLy8gcGFzc2VkLCB0aGUgZnVsbCBge2xpbmUsIGNvbHVtbn1gIGxvY2F0aW9ucyBvZiB0aGUgc3RhcnQgYW5kXG4gICAgLy8gZW5kIG9mIHRoZSBjb21tZW50cy5cbiAgICBvbkNvbW1lbnQ6IG51bGwsXG4gICAgLy8gTm9kZXMgaGF2ZSB0aGVpciBzdGFydCBhbmQgZW5kIGNoYXJhY3RlcnMgb2Zmc2V0cyByZWNvcmRlZCBpblxuICAgIC8vIGBzdGFydGAgYW5kIGBlbmRgIHByb3BlcnRpZXMgKGRpcmVjdGx5IG9uIHRoZSBub2RlLCByYXRoZXIgdGhhblxuICAgIC8vIHRoZSBgbG9jYCBvYmplY3QsIHdoaWNoIGhvbGRzIGxpbmUvY29sdW1uIGRhdGEuIFRvIGFsc28gYWRkIGFcbiAgICAvLyBbc2VtaS1zdGFuZGFyZGl6ZWRdW3JhbmdlXSBgcmFuZ2VgIHByb3BlcnR5IGhvbGRpbmcgYSBgW3N0YXJ0LFxuICAgIC8vIGVuZF1gIGFycmF5IHdpdGggdGhlIHNhbWUgbnVtYmVycywgc2V0IHRoZSBgcmFuZ2VzYCBvcHRpb24gdG9cbiAgICAvLyBgdHJ1ZWAuXG4gICAgLy9cbiAgICAvLyBbcmFuZ2VdOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD03NDU2NzhcbiAgICByYW5nZXM6IGZhbHNlLFxuICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIHBhcnNlIG11bHRpcGxlIGZpbGVzIGludG8gYSBzaW5nbGUgQVNUIGJ5XG4gICAgLy8gcGFzc2luZyB0aGUgdHJlZSBwcm9kdWNlZCBieSBwYXJzaW5nIHRoZSBmaXJzdCBmaWxlIGFzXG4gICAgLy8gYHByb2dyYW1gIG9wdGlvbiBpbiBzdWJzZXF1ZW50IHBhcnNlcy4gVGhpcyB3aWxsIGFkZCB0aGVcbiAgICAvLyB0b3BsZXZlbCBmb3JtcyBvZiB0aGUgcGFyc2VkIGZpbGUgdG8gdGhlIGBQcm9ncmFtYCAodG9wKSBub2RlXG4gICAgLy8gb2YgYW4gZXhpc3RpbmcgcGFyc2UgdHJlZS5cbiAgICBwcm9ncmFtOiBudWxsLFxuICAgIC8vIFdoZW4gYGxvY2F0aW9uYCBpcyBvbiwgeW91IGNhbiBwYXNzIHRoaXMgdG8gcmVjb3JkIHRoZSBzb3VyY2VcbiAgICAvLyBmaWxlIGluIGV2ZXJ5IG5vZGUncyBgbG9jYCBvYmplY3QuXG4gICAgc291cmNlRmlsZTogbnVsbCxcbiAgICAvLyBUaGlzIHZhbHVlLCBpZiBnaXZlbiwgaXMgc3RvcmVkIGluIGV2ZXJ5IG5vZGUsIHdoZXRoZXJcbiAgICAvLyBgbG9jYXRpb25gIGlzIG9uIG9yIG9mZi5cbiAgICBkaXJlY3RTb3VyY2VGaWxlOiBudWxsXG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgb3B0aW9ucyA9IG9wdHMgfHwge307XG4gICAgZm9yICh2YXIgb3B0IGluIGRlZmF1bHRPcHRpb25zKSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHQpKVxuICAgICAgb3B0aW9uc1tvcHRdID0gZGVmYXVsdE9wdGlvbnNbb3B0XTtcbiAgICBzb3VyY2VGaWxlID0gb3B0aW9ucy5zb3VyY2VGaWxlIHx8IG51bGw7XG4gIH1cblxuICAvLyBUaGUgYGdldExpbmVJbmZvYCBmdW5jdGlvbiBpcyBtb3N0bHkgdXNlZnVsIHdoZW4gdGhlXG4gIC8vIGBsb2NhdGlvbnNgIG9wdGlvbiBpcyBvZmYgKGZvciBwZXJmb3JtYW5jZSByZWFzb25zKSBhbmQgeW91XG4gIC8vIHdhbnQgdG8gZmluZCB0aGUgbGluZS9jb2x1bW4gcG9zaXRpb24gZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyXG4gIC8vIG9mZnNldC4gYGlucHV0YCBzaG91bGQgYmUgdGhlIGNvZGUgc3RyaW5nIHRoYXQgdGhlIG9mZnNldCByZWZlcnNcbiAgLy8gaW50by5cblxuICB2YXIgZ2V0TGluZUluZm8gPSBleHBvcnRzLmdldExpbmVJbmZvID0gZnVuY3Rpb24oaW5wdXQsIG9mZnNldCkge1xuICAgIGZvciAodmFyIGxpbmUgPSAxLCBjdXIgPSAwOzspIHtcbiAgICAgIGxpbmVCcmVhay5sYXN0SW5kZXggPSBjdXI7XG4gICAgICB2YXIgbWF0Y2ggPSBsaW5lQnJlYWsuZXhlYyhpbnB1dCk7XG4gICAgICBpZiAobWF0Y2ggJiYgbWF0Y2guaW5kZXggPCBvZmZzZXQpIHtcbiAgICAgICAgKytsaW5lO1xuICAgICAgICBjdXIgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHtsaW5lOiBsaW5lLCBjb2x1bW46IG9mZnNldCAtIGN1cn07XG4gIH07XG5cbiAgLy8gQWNvcm4gaXMgb3JnYW5pemVkIGFzIGEgdG9rZW5pemVyIGFuZCBhIHJlY3Vyc2l2ZS1kZXNjZW50IHBhcnNlci5cbiAgLy8gVGhlIGB0b2tlbml6ZWAgZXhwb3J0IHByb3ZpZGVzIGFuIGludGVyZmFjZSB0byB0aGUgdG9rZW5pemVyLlxuICAvLyBCZWNhdXNlIHRoZSB0b2tlbml6ZXIgaXMgb3B0aW1pemVkIGZvciBiZWluZyBlZmZpY2llbnRseSB1c2VkIGJ5XG4gIC8vIHRoZSBBY29ybiBwYXJzZXIgaXRzZWxmLCB0aGlzIGludGVyZmFjZSBpcyBzb21ld2hhdCBjcnVkZSBhbmQgbm90XG4gIC8vIHZlcnkgbW9kdWxhci4gUGVyZm9ybWluZyBhbm90aGVyIHBhcnNlIG9yIGNhbGwgdG8gYHRva2VuaXplYCB3aWxsXG4gIC8vIHJlc2V0IHRoZSBpbnRlcm5hbCBzdGF0ZSwgYW5kIGludmFsaWRhdGUgZXhpc3RpbmcgdG9rZW5pemVycy5cblxuICBleHBvcnRzLnRva2VuaXplID0gZnVuY3Rpb24oaW5wdCwgb3B0cykge1xuICAgIGlucHV0ID0gU3RyaW5nKGlucHQpOyBpbnB1dExlbiA9IGlucHV0Lmxlbmd0aDtcbiAgICBzZXRPcHRpb25zKG9wdHMpO1xuICAgIGluaXRUb2tlblN0YXRlKCk7XG5cbiAgICB2YXIgdCA9IHt9O1xuICAgIGZ1bmN0aW9uIGdldFRva2VuKGZvcmNlUmVnZXhwKSB7XG4gICAgICByZWFkVG9rZW4oZm9yY2VSZWdleHApO1xuICAgICAgdC5zdGFydCA9IHRva1N0YXJ0OyB0LmVuZCA9IHRva0VuZDtcbiAgICAgIHQuc3RhcnRMb2MgPSB0b2tTdGFydExvYzsgdC5lbmRMb2MgPSB0b2tFbmRMb2M7XG4gICAgICB0LnR5cGUgPSB0b2tUeXBlOyB0LnZhbHVlID0gdG9rVmFsO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGdldFRva2VuLmp1bXBUbyA9IGZ1bmN0aW9uKHBvcywgcmVBbGxvd2VkKSB7XG4gICAgICB0b2tQb3MgPSBwb3M7XG4gICAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHtcbiAgICAgICAgdG9rQ3VyTGluZSA9IDE7XG4gICAgICAgIHRva0xpbmVTdGFydCA9IGxpbmVCcmVhay5sYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBsaW5lQnJlYWsuZXhlYyhpbnB1dCkpICYmIG1hdGNoLmluZGV4IDwgcG9zKSB7XG4gICAgICAgICAgKyt0b2tDdXJMaW5lO1xuICAgICAgICAgIHRva0xpbmVTdGFydCA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b2tSZWdleHBBbGxvd2VkID0gcmVBbGxvd2VkO1xuICAgICAgc2tpcFNwYWNlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gZ2V0VG9rZW47XG4gIH07XG5cbiAgLy8gU3RhdGUgaXMga2VwdCBpbiAoY2xvc3VyZS0pZ2xvYmFsIHZhcmlhYmxlcy4gV2UgYWxyZWFkeSBzYXcgdGhlXG4gIC8vIGBvcHRpb25zYCwgYGlucHV0YCwgYW5kIGBpbnB1dExlbmAgdmFyaWFibGVzIGFib3ZlLlxuXG4gIC8vIFRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSB0b2tlbml6ZXIgaW4gdGhlIGlucHV0LlxuXG4gIHZhciB0b2tQb3M7XG5cbiAgLy8gVGhlIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cyBvZiB0aGUgY3VycmVudCB0b2tlbi5cblxuICB2YXIgdG9rU3RhcnQsIHRva0VuZDtcblxuICAvLyBXaGVuIGBvcHRpb25zLmxvY2F0aW9uc2AgaXMgdHJ1ZSwgdGhlc2UgaG9sZCBvYmplY3RzXG4gIC8vIGNvbnRhaW5pbmcgdGhlIHRva2VucyBzdGFydCBhbmQgZW5kIGxpbmUvY29sdW1uIHBhaXJzLlxuXG4gIHZhciB0b2tTdGFydExvYywgdG9rRW5kTG9jO1xuXG4gIC8vIFRoZSB0eXBlIGFuZCB2YWx1ZSBvZiB0aGUgY3VycmVudCB0b2tlbi4gVG9rZW4gdHlwZXMgYXJlIG9iamVjdHMsXG4gIC8vIG5hbWVkIGJ5IHZhcmlhYmxlcyBhZ2FpbnN0IHdoaWNoIHRoZXkgY2FuIGJlIGNvbXBhcmVkLCBhbmRcbiAgLy8gaG9sZGluZyBwcm9wZXJ0aWVzIHRoYXQgZGVzY3JpYmUgdGhlbSAoaW5kaWNhdGluZywgZm9yIGV4YW1wbGUsXG4gIC8vIHRoZSBwcmVjZWRlbmNlIG9mIGFuIGluZml4IG9wZXJhdG9yLCBhbmQgdGhlIG9yaWdpbmFsIG5hbWUgb2YgYVxuICAvLyBrZXl3b3JkIHRva2VuKS4gVGhlIGtpbmQgb2YgdmFsdWUgdGhhdCdzIGhlbGQgaW4gYHRva1ZhbGAgZGVwZW5kc1xuICAvLyBvbiB0aGUgdHlwZSBvZiB0aGUgdG9rZW4uIEZvciBsaXRlcmFscywgaXQgaXMgdGhlIGxpdGVyYWwgdmFsdWUsXG4gIC8vIGZvciBvcGVyYXRvcnMsIHRoZSBvcGVyYXRvciBuYW1lLCBhbmQgc28gb24uXG5cbiAgdmFyIHRva1R5cGUsIHRva1ZhbDtcblxuICAvLyBJbnRlcmFsIHN0YXRlIGZvciB0aGUgdG9rZW5pemVyLiBUbyBkaXN0aW5ndWlzaCBiZXR3ZWVuIGRpdmlzaW9uXG4gIC8vIG9wZXJhdG9ycyBhbmQgcmVndWxhciBleHByZXNzaW9ucywgaXQgcmVtZW1iZXJzIHdoZXRoZXIgdGhlIGxhc3RcbiAgLy8gdG9rZW4gd2FzIG9uZSB0aGF0IGlzIGFsbG93ZWQgdG8gYmUgZm9sbG93ZWQgYnkgYW4gZXhwcmVzc2lvbi5cbiAgLy8gKElmIGl0IGlzLCBhIHNsYXNoIGlzIHByb2JhYmx5IGEgcmVnZXhwLCBpZiBpdCBpc24ndCBpdCdzIGFcbiAgLy8gZGl2aXNpb24gb3BlcmF0b3IuIFNlZSB0aGUgYHBhcnNlU3RhdGVtZW50YCBmdW5jdGlvbiBmb3IgYVxuICAvLyBjYXZlYXQuKVxuXG4gIHZhciB0b2tSZWdleHBBbGxvd2VkO1xuXG4gIC8vIFdoZW4gYG9wdGlvbnMubG9jYXRpb25zYCBpcyB0cnVlLCB0aGVzZSBhcmUgdXNlZCB0byBrZWVwXG4gIC8vIHRyYWNrIG9mIHRoZSBjdXJyZW50IGxpbmUsIGFuZCBrbm93IHdoZW4gYSBuZXcgbGluZSBoYXMgYmVlblxuICAvLyBlbnRlcmVkLlxuXG4gIHZhciB0b2tDdXJMaW5lLCB0b2tMaW5lU3RhcnQ7XG5cbiAgLy8gVGhlc2Ugc3RvcmUgdGhlIHBvc2l0aW9uIG9mIHRoZSBwcmV2aW91cyB0b2tlbiwgd2hpY2ggaXMgdXNlZnVsXG4gIC8vIHdoZW4gZmluaXNoaW5nIGEgbm9kZSBhbmQgYXNzaWduaW5nIGl0cyBgZW5kYCBwb3NpdGlvbi5cblxuICB2YXIgbGFzdFN0YXJ0LCBsYXN0RW5kLCBsYXN0RW5kTG9jO1xuXG4gIC8vIFRoaXMgaXMgdGhlIHBhcnNlcidzIHN0YXRlLiBgaW5GdW5jdGlvbmAgaXMgdXNlZCB0byByZWplY3RcbiAgLy8gYHJldHVybmAgc3RhdGVtZW50cyBvdXRzaWRlIG9mIGZ1bmN0aW9ucywgYGxhYmVsc2AgdG8gdmVyaWZ5IHRoYXRcbiAgLy8gYGJyZWFrYCBhbmQgYGNvbnRpbnVlYCBoYXZlIHNvbWV3aGVyZSB0byBqdW1wIHRvLCBhbmQgYHN0cmljdGBcbiAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgc3RyaWN0IG1vZGUgaXMgb24uXG5cbiAgdmFyIGluRnVuY3Rpb24sIGxhYmVscywgc3RyaWN0O1xuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByYWlzZSBleGNlcHRpb25zIG9uIHBhcnNlIGVycm9ycy4gSXRcbiAgLy8gdGFrZXMgYW4gb2Zmc2V0IGludGVnZXIgKGludG8gdGhlIGN1cnJlbnQgYGlucHV0YCkgdG8gaW5kaWNhdGVcbiAgLy8gdGhlIGxvY2F0aW9uIG9mIHRoZSBlcnJvciwgYXR0YWNoZXMgdGhlIHBvc2l0aW9uIHRvIHRoZSBlbmRcbiAgLy8gb2YgdGhlIGVycm9yIG1lc3NhZ2UsIGFuZCB0aGVuIHJhaXNlcyBhIGBTeW50YXhFcnJvcmAgd2l0aCB0aGF0XG4gIC8vIG1lc3NhZ2UuXG5cbiAgZnVuY3Rpb24gcmFpc2UocG9zLCBtZXNzYWdlKSB7XG4gICAgdmFyIGxvYyA9IGdldExpbmVJbmZvKGlucHV0LCBwb3MpO1xuICAgIG1lc3NhZ2UgKz0gXCIgKFwiICsgbG9jLmxpbmUgKyBcIjpcIiArIGxvYy5jb2x1bW4gKyBcIilcIjtcbiAgICB2YXIgZXJyID0gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UpO1xuICAgIGVyci5wb3MgPSBwb3M7IGVyci5sb2MgPSBsb2M7IGVyci5yYWlzZWRBdCA9IHRva1BvcztcbiAgICB0aHJvdyBlcnI7XG4gIH1cblxuICAvLyBSZXVzZWQgZW1wdHkgYXJyYXkgYWRkZWQgZm9yIG5vZGUgZmllbGRzIHRoYXQgYXJlIGFsd2F5cyBlbXB0eS5cblxuICB2YXIgZW1wdHkgPSBbXTtcblxuICAvLyAjIyBUb2tlbiB0eXBlc1xuXG4gIC8vIFRoZSBhc3NpZ25tZW50IG9mIGZpbmUtZ3JhaW5lZCwgaW5mb3JtYXRpb24tY2FycnlpbmcgdHlwZSBvYmplY3RzXG4gIC8vIGFsbG93cyB0aGUgdG9rZW5pemVyIHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBpdCBoYXMgYWJvdXQgYVxuICAvLyB0b2tlbiBpbiBhIHdheSB0aGF0IGlzIHZlcnkgY2hlYXAgZm9yIHRoZSBwYXJzZXIgdG8gbG9vayB1cC5cblxuICAvLyBBbGwgdG9rZW4gdHlwZSB2YXJpYWJsZXMgc3RhcnQgd2l0aCBhbiB1bmRlcnNjb3JlLCB0byBtYWtlIHRoZW1cbiAgLy8gZWFzeSB0byByZWNvZ25pemUuXG5cbiAgLy8gVGhlc2UgYXJlIHRoZSBnZW5lcmFsIHR5cGVzLiBUaGUgYHR5cGVgIHByb3BlcnR5IGlzIG9ubHkgdXNlZCB0b1xuICAvLyBtYWtlIHRoZW0gcmVjb2duaXplYWJsZSB3aGVuIGRlYnVnZ2luZy5cblxuICB2YXIgX251bSA9IHt0eXBlOiBcIm51bVwifSwgX3JlZ2V4cCA9IHt0eXBlOiBcInJlZ2V4cFwifSwgX3N0cmluZyA9IHt0eXBlOiBcInN0cmluZ1wifTtcbiAgdmFyIF9uYW1lID0ge3R5cGU6IFwibmFtZVwifSwgX2VvZiA9IHt0eXBlOiBcImVvZlwifTtcblxuICAvLyBLZXl3b3JkIHRva2Vucy4gVGhlIGBrZXl3b3JkYCBwcm9wZXJ0eSAoYWxzbyB1c2VkIGluIGtleXdvcmQtbGlrZVxuICAvLyBvcGVyYXRvcnMpIGluZGljYXRlcyB0aGF0IHRoZSB0b2tlbiBvcmlnaW5hdGVkIGZyb20gYW5cbiAgLy8gaWRlbnRpZmllci1saWtlIHdvcmQsIHdoaWNoIGlzIHVzZWQgd2hlbiBwYXJzaW5nIHByb3BlcnR5IG5hbWVzLlxuICAvL1xuICAvLyBUaGUgYGJlZm9yZUV4cHJgIHByb3BlcnR5IGlzIHVzZWQgdG8gZGlzYW1iaWd1YXRlIGJldHdlZW4gcmVndWxhclxuICAvLyBleHByZXNzaW9ucyBhbmQgZGl2aXNpb25zLiBJdCBpcyBzZXQgb24gYWxsIHRva2VuIHR5cGVzIHRoYXQgY2FuXG4gIC8vIGJlIGZvbGxvd2VkIGJ5IGFuIGV4cHJlc3Npb24gKHRodXMsIGEgc2xhc2ggYWZ0ZXIgdGhlbSB3b3VsZCBiZSBhXG4gIC8vIHJlZ3VsYXIgZXhwcmVzc2lvbikuXG4gIC8vXG4gIC8vIGBpc0xvb3BgIG1hcmtzIGEga2V5d29yZCBhcyBzdGFydGluZyBhIGxvb3AsIHdoaWNoIGlzIGltcG9ydGFudFxuICAvLyB0byBrbm93IHdoZW4gcGFyc2luZyBhIGxhYmVsLCBpbiBvcmRlciB0byBhbGxvdyBvciBkaXNhbGxvd1xuICAvLyBjb250aW51ZSBqdW1wcyB0byB0aGF0IGxhYmVsLlxuXG4gIHZhciBfYnJlYWsgPSB7a2V5d29yZDogXCJicmVha1wifSwgX2Nhc2UgPSB7a2V5d29yZDogXCJjYXNlXCIsIGJlZm9yZUV4cHI6IHRydWV9LCBfY2F0Y2ggPSB7a2V5d29yZDogXCJjYXRjaFwifTtcbiAgdmFyIF9jb250aW51ZSA9IHtrZXl3b3JkOiBcImNvbnRpbnVlXCJ9LCBfZGVidWdnZXIgPSB7a2V5d29yZDogXCJkZWJ1Z2dlclwifSwgX2RlZmF1bHQgPSB7a2V5d29yZDogXCJkZWZhdWx0XCJ9O1xuICB2YXIgX2RvID0ge2tleXdvcmQ6IFwiZG9cIiwgaXNMb29wOiB0cnVlfSwgX2Vsc2UgPSB7a2V5d29yZDogXCJlbHNlXCIsIGJlZm9yZUV4cHI6IHRydWV9O1xuICB2YXIgX2ZpbmFsbHkgPSB7a2V5d29yZDogXCJmaW5hbGx5XCJ9LCBfZm9yID0ge2tleXdvcmQ6IFwiZm9yXCIsIGlzTG9vcDogdHJ1ZX0sIF9mdW5jdGlvbiA9IHtrZXl3b3JkOiBcImZ1bmN0aW9uXCJ9O1xuICB2YXIgX2lmID0ge2tleXdvcmQ6IFwiaWZcIn0sIF9yZXR1cm4gPSB7a2V5d29yZDogXCJyZXR1cm5cIiwgYmVmb3JlRXhwcjogdHJ1ZX0sIF9zd2l0Y2ggPSB7a2V5d29yZDogXCJzd2l0Y2hcIn07XG4gIHZhciBfdGhyb3cgPSB7a2V5d29yZDogXCJ0aHJvd1wiLCBiZWZvcmVFeHByOiB0cnVlfSwgX3RyeSA9IHtrZXl3b3JkOiBcInRyeVwifSwgX3ZhciA9IHtrZXl3b3JkOiBcInZhclwifTtcbiAgdmFyIF93aGlsZSA9IHtrZXl3b3JkOiBcIndoaWxlXCIsIGlzTG9vcDogdHJ1ZX0sIF93aXRoID0ge2tleXdvcmQ6IFwid2l0aFwifSwgX25ldyA9IHtrZXl3b3JkOiBcIm5ld1wiLCBiZWZvcmVFeHByOiB0cnVlfTtcbiAgdmFyIF90aGlzID0ge2tleXdvcmQ6IFwidGhpc1wifTtcblxuICAvLyBUaGUga2V5d29yZHMgdGhhdCBkZW5vdGUgdmFsdWVzLlxuXG4gIHZhciBfbnVsbCA9IHtrZXl3b3JkOiBcIm51bGxcIiwgYXRvbVZhbHVlOiBudWxsfSwgX3RydWUgPSB7a2V5d29yZDogXCJ0cnVlXCIsIGF0b21WYWx1ZTogdHJ1ZX07XG4gIHZhciBfZmFsc2UgPSB7a2V5d29yZDogXCJmYWxzZVwiLCBhdG9tVmFsdWU6IGZhbHNlfTtcblxuICAvLyBTb21lIGtleXdvcmRzIGFyZSB0cmVhdGVkIGFzIHJlZ3VsYXIgb3BlcmF0b3JzLiBgaW5gIHNvbWV0aW1lc1xuICAvLyAod2hlbiBwYXJzaW5nIGBmb3JgKSBuZWVkcyB0byBiZSB0ZXN0ZWQgYWdhaW5zdCBzcGVjaWZpY2FsbHksIHNvXG4gIC8vIHdlIGFzc2lnbiBhIHZhcmlhYmxlIG5hbWUgdG8gaXQgZm9yIHF1aWNrIGNvbXBhcmluZy5cblxuICB2YXIgX2luID0ge2tleXdvcmQ6IFwiaW5cIiwgYmlub3A6IDcsIGJlZm9yZUV4cHI6IHRydWV9O1xuXG4gIC8vIE1hcCBrZXl3b3JkIG5hbWVzIHRvIHRva2VuIHR5cGVzLlxuXG4gIHZhciBrZXl3b3JkVHlwZXMgPSB7XCJicmVha1wiOiBfYnJlYWssIFwiY2FzZVwiOiBfY2FzZSwgXCJjYXRjaFwiOiBfY2F0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgXCJjb250aW51ZVwiOiBfY29udGludWUsIFwiZGVidWdnZXJcIjogX2RlYnVnZ2VyLCBcImRlZmF1bHRcIjogX2RlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJkb1wiOiBfZG8sIFwiZWxzZVwiOiBfZWxzZSwgXCJmaW5hbGx5XCI6IF9maW5hbGx5LCBcImZvclwiOiBfZm9yLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIjogX2Z1bmN0aW9uLCBcImlmXCI6IF9pZiwgXCJyZXR1cm5cIjogX3JldHVybiwgXCJzd2l0Y2hcIjogX3N3aXRjaCxcbiAgICAgICAgICAgICAgICAgICAgICBcInRocm93XCI6IF90aHJvdywgXCJ0cnlcIjogX3RyeSwgXCJ2YXJcIjogX3ZhciwgXCJ3aGlsZVwiOiBfd2hpbGUsIFwid2l0aFwiOiBfd2l0aCxcbiAgICAgICAgICAgICAgICAgICAgICBcIm51bGxcIjogX251bGwsIFwidHJ1ZVwiOiBfdHJ1ZSwgXCJmYWxzZVwiOiBfZmFsc2UsIFwibmV3XCI6IF9uZXcsIFwiaW5cIjogX2luLFxuICAgICAgICAgICAgICAgICAgICAgIFwiaW5zdGFuY2VvZlwiOiB7a2V5d29yZDogXCJpbnN0YW5jZW9mXCIsIGJpbm9wOiA3LCBiZWZvcmVFeHByOiB0cnVlfSwgXCJ0aGlzXCI6IF90aGlzLFxuICAgICAgICAgICAgICAgICAgICAgIFwidHlwZW9mXCI6IHtrZXl3b3JkOiBcInR5cGVvZlwiLCBwcmVmaXg6IHRydWUsIGJlZm9yZUV4cHI6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgICAgIFwidm9pZFwiOiB7a2V5d29yZDogXCJ2b2lkXCIsIHByZWZpeDogdHJ1ZSwgYmVmb3JlRXhwcjogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJkZWxldGVcIjoge2tleXdvcmQ6IFwiZGVsZXRlXCIsIHByZWZpeDogdHJ1ZSwgYmVmb3JlRXhwcjogdHJ1ZX19O1xuXG4gIC8vIFB1bmN0dWF0aW9uIHRva2VuIHR5cGVzLiBBZ2FpbiwgdGhlIGB0eXBlYCBwcm9wZXJ0eSBpcyBwdXJlbHkgZm9yIGRlYnVnZ2luZy5cblxuICB2YXIgX2JyYWNrZXRMID0ge3R5cGU6IFwiW1wiLCBiZWZvcmVFeHByOiB0cnVlfSwgX2JyYWNrZXRSID0ge3R5cGU6IFwiXVwifSwgX2JyYWNlTCA9IHt0eXBlOiBcIntcIiwgYmVmb3JlRXhwcjogdHJ1ZX07XG4gIHZhciBfYnJhY2VSID0ge3R5cGU6IFwifVwifSwgX3BhcmVuTCA9IHt0eXBlOiBcIihcIiwgYmVmb3JlRXhwcjogdHJ1ZX0sIF9wYXJlblIgPSB7dHlwZTogXCIpXCJ9O1xuICB2YXIgX2NvbW1hID0ge3R5cGU6IFwiLFwiLCBiZWZvcmVFeHByOiB0cnVlfSwgX3NlbWkgPSB7dHlwZTogXCI7XCIsIGJlZm9yZUV4cHI6IHRydWV9O1xuICB2YXIgX2NvbG9uID0ge3R5cGU6IFwiOlwiLCBiZWZvcmVFeHByOiB0cnVlfSwgX2RvdCA9IHt0eXBlOiBcIi5cIn0sIF9xdWVzdGlvbiA9IHt0eXBlOiBcIj9cIiwgYmVmb3JlRXhwcjogdHJ1ZX07XG5cbiAgLy8gT3BlcmF0b3JzLiBUaGVzZSBjYXJyeSBzZXZlcmFsIGtpbmRzIG9mIHByb3BlcnRpZXMgdG8gaGVscCB0aGVcbiAgLy8gcGFyc2VyIHVzZSB0aGVtIHByb3Blcmx5ICh0aGUgcHJlc2VuY2Ugb2YgdGhlc2UgcHJvcGVydGllcyBpc1xuICAvLyB3aGF0IGNhdGVnb3JpemVzIHRoZW0gYXMgb3BlcmF0b3JzKS5cbiAgLy9cbiAgLy8gYGJpbm9wYCwgd2hlbiBwcmVzZW50LCBzcGVjaWZpZXMgdGhhdCB0aGlzIG9wZXJhdG9yIGlzIGEgYmluYXJ5XG4gIC8vIG9wZXJhdG9yLCBhbmQgd2lsbCByZWZlciB0byBpdHMgcHJlY2VkZW5jZS5cbiAgLy9cbiAgLy8gYHByZWZpeGAgYW5kIGBwb3N0Zml4YCBtYXJrIHRoZSBvcGVyYXRvciBhcyBhIHByZWZpeCBvciBwb3N0Zml4XG4gIC8vIHVuYXJ5IG9wZXJhdG9yLiBgaXNVcGRhdGVgIHNwZWNpZmllcyB0aGF0IHRoZSBub2RlIHByb2R1Y2VkIGJ5XG4gIC8vIHRoZSBvcGVyYXRvciBzaG91bGQgYmUgb2YgdHlwZSBVcGRhdGVFeHByZXNzaW9uIHJhdGhlciB0aGFuXG4gIC8vIHNpbXBseSBVbmFyeUV4cHJlc3Npb24gKGArK2AgYW5kIGAtLWApLlxuICAvL1xuICAvLyBgaXNBc3NpZ25gIG1hcmtzIGFsbCBvZiBgPWAsIGArPWAsIGAtPWAgZXRjZXRlcmEsIHdoaWNoIGFjdCBhc1xuICAvLyBiaW5hcnkgb3BlcmF0b3JzIHdpdGggYSB2ZXJ5IGxvdyBwcmVjZWRlbmNlLCB0aGF0IHNob3VsZCByZXN1bHRcbiAgLy8gaW4gQXNzaWdubWVudEV4cHJlc3Npb24gbm9kZXMuXG5cbiAgdmFyIF9zbGFzaCA9IHtiaW5vcDogMTAsIGJlZm9yZUV4cHI6IHRydWV9LCBfZXEgPSB7aXNBc3NpZ246IHRydWUsIGJlZm9yZUV4cHI6IHRydWV9O1xuICB2YXIgX2Fzc2lnbiA9IHtpc0Fzc2lnbjogdHJ1ZSwgYmVmb3JlRXhwcjogdHJ1ZX07XG4gIHZhciBfaW5jRGVjID0ge3Bvc3RmaXg6IHRydWUsIHByZWZpeDogdHJ1ZSwgaXNVcGRhdGU6IHRydWV9LCBfcHJlZml4ID0ge3ByZWZpeDogdHJ1ZSwgYmVmb3JlRXhwcjogdHJ1ZX07XG4gIHZhciBfbG9naWNhbE9SID0ge2Jpbm9wOiAxLCBiZWZvcmVFeHByOiB0cnVlfTtcbiAgdmFyIF9sb2dpY2FsQU5EID0ge2Jpbm9wOiAyLCBiZWZvcmVFeHByOiB0cnVlfTtcbiAgdmFyIF9iaXR3aXNlT1IgPSB7Ymlub3A6IDMsIGJlZm9yZUV4cHI6IHRydWV9O1xuICB2YXIgX2JpdHdpc2VYT1IgPSB7Ymlub3A6IDQsIGJlZm9yZUV4cHI6IHRydWV9O1xuICB2YXIgX2JpdHdpc2VBTkQgPSB7Ymlub3A6IDUsIGJlZm9yZUV4cHI6IHRydWV9O1xuICB2YXIgX2VxdWFsaXR5ID0ge2Jpbm9wOiA2LCBiZWZvcmVFeHByOiB0cnVlfTtcbiAgdmFyIF9yZWxhdGlvbmFsID0ge2Jpbm9wOiA3LCBiZWZvcmVFeHByOiB0cnVlfTtcbiAgdmFyIF9iaXRTaGlmdCA9IHtiaW5vcDogOCwgYmVmb3JlRXhwcjogdHJ1ZX07XG4gIHZhciBfcGx1c01pbiA9IHtiaW5vcDogOSwgcHJlZml4OiB0cnVlLCBiZWZvcmVFeHByOiB0cnVlfTtcbiAgdmFyIF9tdWx0aXBseU1vZHVsbyA9IHtiaW5vcDogMTAsIGJlZm9yZUV4cHI6IHRydWV9O1xuXG4gIC8vIFByb3ZpZGUgYWNjZXNzIHRvIHRoZSB0b2tlbiB0eXBlcyBmb3IgZXh0ZXJuYWwgdXNlcnMgb2YgdGhlXG4gIC8vIHRva2VuaXplci5cblxuICBleHBvcnRzLnRva1R5cGVzID0ge2JyYWNrZXRMOiBfYnJhY2tldEwsIGJyYWNrZXRSOiBfYnJhY2tldFIsIGJyYWNlTDogX2JyYWNlTCwgYnJhY2VSOiBfYnJhY2VSLFxuICAgICAgICAgICAgICAgICAgICAgIHBhcmVuTDogX3BhcmVuTCwgcGFyZW5SOiBfcGFyZW5SLCBjb21tYTogX2NvbW1hLCBzZW1pOiBfc2VtaSwgY29sb246IF9jb2xvbixcbiAgICAgICAgICAgICAgICAgICAgICBkb3Q6IF9kb3QsIHF1ZXN0aW9uOiBfcXVlc3Rpb24sIHNsYXNoOiBfc2xhc2gsIGVxOiBfZXEsIG5hbWU6IF9uYW1lLCBlb2Y6IF9lb2YsXG4gICAgICAgICAgICAgICAgICAgICAgbnVtOiBfbnVtLCByZWdleHA6IF9yZWdleHAsIHN0cmluZzogX3N0cmluZ307XG4gIGZvciAodmFyIGt3IGluIGtleXdvcmRUeXBlcykgZXhwb3J0cy50b2tUeXBlc1tcIl9cIiArIGt3XSA9IGtleXdvcmRUeXBlc1trd107XG5cbiAgLy8gVGhpcyBpcyBhIHRyaWNrIHRha2VuIGZyb20gRXNwcmltYS4gSXQgdHVybnMgb3V0IHRoYXQsIG9uXG4gIC8vIG5vbi1DaHJvbWUgYnJvd3NlcnMsIHRvIGNoZWNrIHdoZXRoZXIgYSBzdHJpbmcgaXMgaW4gYSBzZXQsIGFcbiAgLy8gcHJlZGljYXRlIGNvbnRhaW5pbmcgYSBiaWcgdWdseSBgc3dpdGNoYCBzdGF0ZW1lbnQgaXMgZmFzdGVyIHRoYW5cbiAgLy8gYSByZWd1bGFyIGV4cHJlc3Npb24sIGFuZCBvbiBDaHJvbWUgdGhlIHR3byBhcmUgYWJvdXQgb24gcGFyLlxuICAvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgYGV2YWxgIChub24tbGV4aWNhbCkgdG8gcHJvZHVjZSBzdWNoIGFcbiAgLy8gcHJlZGljYXRlIGZyb20gYSBzcGFjZS1zZXBhcmF0ZWQgc3RyaW5nIG9mIHdvcmRzLlxuICAvL1xuICAvLyBJdCBzdGFydHMgYnkgc29ydGluZyB0aGUgd29yZHMgYnkgbGVuZ3RoLlxuXG4gIGZ1bmN0aW9uIG1ha2VQcmVkaWNhdGUod29yZHMpIHtcbiAgICB3b3JkcyA9IHdvcmRzLnNwbGl0KFwiIFwiKTtcbiAgICB2YXIgZiA9IFwiXCIsIGNhdHMgPSBbXTtcbiAgICBvdXQ6IGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2F0cy5sZW5ndGg7ICsrailcbiAgICAgICAgaWYgKGNhdHNbal1bMF0ubGVuZ3RoID09IHdvcmRzW2ldLmxlbmd0aCkge1xuICAgICAgICAgIGNhdHNbal0ucHVzaCh3b3Jkc1tpXSk7XG4gICAgICAgICAgY29udGludWUgb3V0O1xuICAgICAgICB9XG4gICAgICBjYXRzLnB1c2goW3dvcmRzW2ldXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVUbyhhcnIpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoID09IDEpIHJldHVybiBmICs9IFwicmV0dXJuIHN0ciA9PT0gXCIgKyBKU09OLnN0cmluZ2lmeShhcnJbMF0pICsgXCI7XCI7XG4gICAgICBmICs9IFwic3dpdGNoKHN0cil7XCI7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkgZiArPSBcImNhc2UgXCIgKyBKU09OLnN0cmluZ2lmeShhcnJbaV0pICsgXCI6XCI7XG4gICAgICBmICs9IFwicmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlO1wiO1xuICAgIH1cblxuICAgIC8vIFdoZW4gdGhlcmUgYXJlIG1vcmUgdGhhbiB0aHJlZSBsZW5ndGggY2F0ZWdvcmllcywgYW4gb3V0ZXJcbiAgICAvLyBzd2l0Y2ggZmlyc3QgZGlzcGF0Y2hlcyBvbiB0aGUgbGVuZ3RocywgdG8gc2F2ZSBvbiBjb21wYXJpc29ucy5cblxuICAgIGlmIChjYXRzLmxlbmd0aCA+IDMpIHtcbiAgICAgIGNhdHMuc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7fSk7XG4gICAgICBmICs9IFwic3dpdGNoKHN0ci5sZW5ndGgpe1wiO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjYXQgPSBjYXRzW2ldO1xuICAgICAgICBmICs9IFwiY2FzZSBcIiArIGNhdFswXS5sZW5ndGggKyBcIjpcIjtcbiAgICAgICAgY29tcGFyZVRvKGNhdCk7XG4gICAgICB9XG4gICAgICBmICs9IFwifVwiO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCBzaW1wbHkgZ2VuZXJhdGUgYSBmbGF0IGBzd2l0Y2hgIHN0YXRlbWVudC5cblxuICAgIH0gZWxzZSB7XG4gICAgICBjb21wYXJlVG8od29yZHMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwic3RyXCIsIGYpO1xuICB9XG5cbiAgLy8gVGhlIEVDTUFTY3JpcHQgMyByZXNlcnZlZCB3b3JkIGxpc3QuXG5cbiAgdmFyIGlzUmVzZXJ2ZWRXb3JkMyA9IG1ha2VQcmVkaWNhdGUoXCJhYnN0cmFjdCBib29sZWFuIGJ5dGUgY2hhciBjbGFzcyBkb3VibGUgZW51bSBleHBvcnQgZXh0ZW5kcyBmaW5hbCBmbG9hdCBnb3RvIGltcGxlbWVudHMgaW1wb3J0IGludCBpbnRlcmZhY2UgbG9uZyBuYXRpdmUgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgc2hvcnQgc3RhdGljIHN1cGVyIHN5bmNocm9uaXplZCB0aHJvd3MgdHJhbnNpZW50IHZvbGF0aWxlXCIpO1xuXG4gIC8vIEVDTUFTY3JpcHQgNSByZXNlcnZlZCB3b3Jkcy5cblxuICB2YXIgaXNSZXNlcnZlZFdvcmQ1ID0gbWFrZVByZWRpY2F0ZShcImNsYXNzIGVudW0gZXh0ZW5kcyBzdXBlciBjb25zdCBleHBvcnQgaW1wb3J0XCIpO1xuXG4gIC8vIFRoZSBhZGRpdGlvbmFsIHJlc2VydmVkIHdvcmRzIGluIHN0cmljdCBtb2RlLlxuXG4gIHZhciBpc1N0cmljdFJlc2VydmVkV29yZCA9IG1ha2VQcmVkaWNhdGUoXCJpbXBsZW1lbnRzIGludGVyZmFjZSBsZXQgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgc3RhdGljIHlpZWxkXCIpO1xuXG4gIC8vIFRoZSBmb3JiaWRkZW4gdmFyaWFibGUgbmFtZXMgaW4gc3RyaWN0IG1vZGUuXG5cbiAgdmFyIGlzU3RyaWN0QmFkSWRXb3JkID0gbWFrZVByZWRpY2F0ZShcImV2YWwgYXJndW1lbnRzXCIpO1xuXG4gIC8vIEFuZCB0aGUga2V5d29yZHMuXG5cbiAgdmFyIGlzS2V5d29yZCA9IG1ha2VQcmVkaWNhdGUoXCJicmVhayBjYXNlIGNhdGNoIGNvbnRpbnVlIGRlYnVnZ2VyIGRlZmF1bHQgZG8gZWxzZSBmaW5hbGx5IGZvciBmdW5jdGlvbiBpZiByZXR1cm4gc3dpdGNoIHRocm93IHRyeSB2YXIgd2hpbGUgd2l0aCBudWxsIHRydWUgZmFsc2UgaW5zdGFuY2VvZiB0eXBlb2Ygdm9pZCBkZWxldGUgbmV3IGluIHRoaXNcIik7XG5cbiAgLy8gIyMgQ2hhcmFjdGVyIGNhdGVnb3JpZXNcblxuICAvLyBCaWcgdWdseSByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgbWF0Y2ggY2hhcmFjdGVycyBpbiB0aGVcbiAgLy8gd2hpdGVzcGFjZSwgaWRlbnRpZmllciwgYW5kIGlkZW50aWZpZXItc3RhcnQgY2F0ZWdvcmllcy4gVGhlc2VcbiAgLy8gYXJlIG9ubHkgYXBwbGllZCB3aGVuIGEgY2hhcmFjdGVyIGlzIGZvdW5kIHRvIGFjdHVhbGx5IGhhdmUgYVxuICAvLyBjb2RlIHBvaW50IGFib3ZlIDEyOC5cblxuICB2YXIgbm9uQVNDSUl3aGl0ZXNwYWNlID0gL1tcXHUxNjgwXFx1MTgwZVxcdTIwMDAtXFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdWZlZmZdLztcbiAgdmFyIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgPSBcIlxceGFhXFx4YjVcXHhiYVxceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHUwMmMxXFx1MDJjNi1cXHUwMmQxXFx1MDJlMC1cXHUwMmU0XFx1MDJlY1xcdTAyZWVcXHUwMzcwLVxcdTAzNzRcXHUwMzc2XFx1MDM3N1xcdTAzN2EtXFx1MDM3ZFxcdTAzODZcXHUwMzg4LVxcdTAzOGFcXHUwMzhjXFx1MDM4ZS1cXHUwM2ExXFx1MDNhMy1cXHUwM2Y1XFx1MDNmNy1cXHUwNDgxXFx1MDQ4YS1cXHUwNTI3XFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1ZDAtXFx1MDVlYVxcdTA1ZjAtXFx1MDVmMlxcdTA2MjAtXFx1MDY0YVxcdTA2NmVcXHUwNjZmXFx1MDY3MS1cXHUwNmQzXFx1MDZkNVxcdTA2ZTVcXHUwNmU2XFx1MDZlZVxcdTA2ZWZcXHUwNmZhLVxcdTA2ZmNcXHUwNmZmXFx1MDcxMFxcdTA3MTItXFx1MDcyZlxcdTA3NGQtXFx1MDdhNVxcdTA3YjFcXHUwN2NhLVxcdTA3ZWFcXHUwN2Y0XFx1MDdmNVxcdTA3ZmFcXHUwODAwLVxcdTA4MTVcXHUwODFhXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwOGEwXFx1MDhhMi1cXHUwOGFjXFx1MDkwNC1cXHUwOTM5XFx1MDkzZFxcdTA5NTBcXHUwOTU4LVxcdTA5NjFcXHUwOTcxLVxcdTA5NzdcXHUwOTc5LVxcdTA5N2ZcXHUwOTg1LVxcdTA5OGNcXHUwOThmXFx1MDk5MFxcdTA5OTMtXFx1MDlhOFxcdTA5YWEtXFx1MDliMFxcdTA5YjJcXHUwOWI2LVxcdTA5YjlcXHUwOWJkXFx1MDljZVxcdTA5ZGNcXHUwOWRkXFx1MDlkZi1cXHUwOWUxXFx1MDlmMFxcdTA5ZjFcXHUwYTA1LVxcdTBhMGFcXHUwYTBmXFx1MGExMFxcdTBhMTMtXFx1MGEyOFxcdTBhMmEtXFx1MGEzMFxcdTBhMzJcXHUwYTMzXFx1MGEzNVxcdTBhMzZcXHUwYTM4XFx1MGEzOVxcdTBhNTktXFx1MGE1Y1xcdTBhNWVcXHUwYTcyLVxcdTBhNzRcXHUwYTg1LVxcdTBhOGRcXHUwYThmLVxcdTBhOTFcXHUwYTkzLVxcdTBhYThcXHUwYWFhLVxcdTBhYjBcXHUwYWIyXFx1MGFiM1xcdTBhYjUtXFx1MGFiOVxcdTBhYmRcXHUwYWQwXFx1MGFlMFxcdTBhZTFcXHUwYjA1LVxcdTBiMGNcXHUwYjBmXFx1MGIxMFxcdTBiMTMtXFx1MGIyOFxcdTBiMmEtXFx1MGIzMFxcdTBiMzJcXHUwYjMzXFx1MGIzNS1cXHUwYjM5XFx1MGIzZFxcdTBiNWNcXHUwYjVkXFx1MGI1Zi1cXHUwYjYxXFx1MGI3MVxcdTBiODNcXHUwYjg1LVxcdTBiOGFcXHUwYjhlLVxcdTBiOTBcXHUwYjkyLVxcdTBiOTVcXHUwYjk5XFx1MGI5YVxcdTBiOWNcXHUwYjllXFx1MGI5ZlxcdTBiYTNcXHUwYmE0XFx1MGJhOC1cXHUwYmFhXFx1MGJhZS1cXHUwYmI5XFx1MGJkMFxcdTBjMDUtXFx1MGMwY1xcdTBjMGUtXFx1MGMxMFxcdTBjMTItXFx1MGMyOFxcdTBjMmEtXFx1MGMzM1xcdTBjMzUtXFx1MGMzOVxcdTBjM2RcXHUwYzU4XFx1MGM1OVxcdTBjNjBcXHUwYzYxXFx1MGM4NS1cXHUwYzhjXFx1MGM4ZS1cXHUwYzkwXFx1MGM5Mi1cXHUwY2E4XFx1MGNhYS1cXHUwY2IzXFx1MGNiNS1cXHUwY2I5XFx1MGNiZFxcdTBjZGVcXHUwY2UwXFx1MGNlMVxcdTBjZjFcXHUwY2YyXFx1MGQwNS1cXHUwZDBjXFx1MGQwZS1cXHUwZDEwXFx1MGQxMi1cXHUwZDNhXFx1MGQzZFxcdTBkNGVcXHUwZDYwXFx1MGQ2MVxcdTBkN2EtXFx1MGQ3ZlxcdTBkODUtXFx1MGQ5NlxcdTBkOWEtXFx1MGRiMVxcdTBkYjMtXFx1MGRiYlxcdTBkYmRcXHUwZGMwLVxcdTBkYzZcXHUwZTAxLVxcdTBlMzBcXHUwZTMyXFx1MGUzM1xcdTBlNDAtXFx1MGU0NlxcdTBlODFcXHUwZTgyXFx1MGU4NFxcdTBlODdcXHUwZTg4XFx1MGU4YVxcdTBlOGRcXHUwZTk0LVxcdTBlOTdcXHUwZTk5LVxcdTBlOWZcXHUwZWExLVxcdTBlYTNcXHUwZWE1XFx1MGVhN1xcdTBlYWFcXHUwZWFiXFx1MGVhZC1cXHUwZWIwXFx1MGViMlxcdTBlYjNcXHUwZWJkXFx1MGVjMC1cXHUwZWM0XFx1MGVjNlxcdTBlZGMtXFx1MGVkZlxcdTBmMDBcXHUwZjQwLVxcdTBmNDdcXHUwZjQ5LVxcdTBmNmNcXHUwZjg4LVxcdTBmOGNcXHUxMDAwLVxcdTEwMmFcXHUxMDNmXFx1MTA1MC1cXHUxMDU1XFx1MTA1YS1cXHUxMDVkXFx1MTA2MVxcdTEwNjVcXHUxMDY2XFx1MTA2ZS1cXHUxMDcwXFx1MTA3NS1cXHUxMDgxXFx1MTA4ZVxcdTEwYTAtXFx1MTBjNVxcdTEwYzdcXHUxMGNkXFx1MTBkMC1cXHUxMGZhXFx1MTBmYy1cXHUxMjQ4XFx1MTI0YS1cXHUxMjRkXFx1MTI1MC1cXHUxMjU2XFx1MTI1OFxcdTEyNWEtXFx1MTI1ZFxcdTEyNjAtXFx1MTI4OFxcdTEyOGEtXFx1MTI4ZFxcdTEyOTAtXFx1MTJiMFxcdTEyYjItXFx1MTJiNVxcdTEyYjgtXFx1MTJiZVxcdTEyYzBcXHUxMmMyLVxcdTEyYzVcXHUxMmM4LVxcdTEyZDZcXHUxMmQ4LVxcdTEzMTBcXHUxMzEyLVxcdTEzMTVcXHUxMzE4LVxcdTEzNWFcXHUxMzgwLVxcdTEzOGZcXHUxM2EwLVxcdTEzZjRcXHUxNDAxLVxcdTE2NmNcXHUxNjZmLVxcdTE2N2ZcXHUxNjgxLVxcdTE2OWFcXHUxNmEwLVxcdTE2ZWFcXHUxNmVlLVxcdTE2ZjBcXHUxNzAwLVxcdTE3MGNcXHUxNzBlLVxcdTE3MTFcXHUxNzIwLVxcdTE3MzFcXHUxNzQwLVxcdTE3NTFcXHUxNzYwLVxcdTE3NmNcXHUxNzZlLVxcdTE3NzBcXHUxNzgwLVxcdTE3YjNcXHUxN2Q3XFx1MTdkY1xcdTE4MjAtXFx1MTg3N1xcdTE4ODAtXFx1MThhOFxcdTE4YWFcXHUxOGIwLVxcdTE4ZjVcXHUxOTAwLVxcdTE5MWNcXHUxOTUwLVxcdTE5NmRcXHUxOTcwLVxcdTE5NzRcXHUxOTgwLVxcdTE5YWJcXHUxOWMxLVxcdTE5YzdcXHUxYTAwLVxcdTFhMTZcXHUxYTIwLVxcdTFhNTRcXHUxYWE3XFx1MWIwNS1cXHUxYjMzXFx1MWI0NS1cXHUxYjRiXFx1MWI4My1cXHUxYmEwXFx1MWJhZVxcdTFiYWZcXHUxYmJhLVxcdTFiZTVcXHUxYzAwLVxcdTFjMjNcXHUxYzRkLVxcdTFjNGZcXHUxYzVhLVxcdTFjN2RcXHUxY2U5LVxcdTFjZWNcXHUxY2VlLVxcdTFjZjFcXHUxY2Y1XFx1MWNmNlxcdTFkMDAtXFx1MWRiZlxcdTFlMDAtXFx1MWYxNVxcdTFmMTgtXFx1MWYxZFxcdTFmMjAtXFx1MWY0NVxcdTFmNDgtXFx1MWY0ZFxcdTFmNTAtXFx1MWY1N1xcdTFmNTlcXHUxZjViXFx1MWY1ZFxcdTFmNWYtXFx1MWY3ZFxcdTFmODAtXFx1MWZiNFxcdTFmYjYtXFx1MWZiY1xcdTFmYmVcXHUxZmMyLVxcdTFmYzRcXHUxZmM2LVxcdTFmY2NcXHUxZmQwLVxcdTFmZDNcXHUxZmQ2LVxcdTFmZGJcXHUxZmUwLVxcdTFmZWNcXHUxZmYyLVxcdTFmZjRcXHUxZmY2LVxcdTFmZmNcXHUyMDcxXFx1MjA3ZlxcdTIwOTAtXFx1MjA5Y1xcdTIxMDJcXHUyMTA3XFx1MjEwYS1cXHUyMTEzXFx1MjExNVxcdTIxMTktXFx1MjExZFxcdTIxMjRcXHUyMTI2XFx1MjEyOFxcdTIxMmEtXFx1MjEyZFxcdTIxMmYtXFx1MjEzOVxcdTIxM2MtXFx1MjEzZlxcdTIxNDUtXFx1MjE0OVxcdTIxNGVcXHUyMTYwLVxcdTIxODhcXHUyYzAwLVxcdTJjMmVcXHUyYzMwLVxcdTJjNWVcXHUyYzYwLVxcdTJjZTRcXHUyY2ViLVxcdTJjZWVcXHUyY2YyXFx1MmNmM1xcdTJkMDAtXFx1MmQyNVxcdTJkMjdcXHUyZDJkXFx1MmQzMC1cXHUyZDY3XFx1MmQ2ZlxcdTJkODAtXFx1MmQ5NlxcdTJkYTAtXFx1MmRhNlxcdTJkYTgtXFx1MmRhZVxcdTJkYjAtXFx1MmRiNlxcdTJkYjgtXFx1MmRiZVxcdTJkYzAtXFx1MmRjNlxcdTJkYzgtXFx1MmRjZVxcdTJkZDAtXFx1MmRkNlxcdTJkZDgtXFx1MmRkZVxcdTJlMmZcXHUzMDA1LVxcdTMwMDdcXHUzMDIxLVxcdTMwMjlcXHUzMDMxLVxcdTMwMzVcXHUzMDM4LVxcdTMwM2NcXHUzMDQxLVxcdTMwOTZcXHUzMDlkLVxcdTMwOWZcXHUzMGExLVxcdTMwZmFcXHUzMGZjLVxcdTMwZmZcXHUzMTA1LVxcdTMxMmRcXHUzMTMxLVxcdTMxOGVcXHUzMWEwLVxcdTMxYmFcXHUzMWYwLVxcdTMxZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhMDAwLVxcdWE0OGNcXHVhNGQwLVxcdWE0ZmRcXHVhNTAwLVxcdWE2MGNcXHVhNjEwLVxcdWE2MWZcXHVhNjJhXFx1YTYyYlxcdWE2NDAtXFx1YTY2ZVxcdWE2N2YtXFx1YTY5N1xcdWE2YTAtXFx1YTZlZlxcdWE3MTctXFx1YTcxZlxcdWE3MjItXFx1YTc4OFxcdWE3OGItXFx1YTc4ZVxcdWE3OTAtXFx1YTc5M1xcdWE3YTAtXFx1YTdhYVxcdWE3ZjgtXFx1YTgwMVxcdWE4MDMtXFx1YTgwNVxcdWE4MDctXFx1YTgwYVxcdWE4MGMtXFx1YTgyMlxcdWE4NDAtXFx1YTg3M1xcdWE4ODItXFx1YThiM1xcdWE4ZjItXFx1YThmN1xcdWE4ZmJcXHVhOTBhLVxcdWE5MjVcXHVhOTMwLVxcdWE5NDZcXHVhOTYwLVxcdWE5N2NcXHVhOTg0LVxcdWE5YjJcXHVhOWNmXFx1YWEwMC1cXHVhYTI4XFx1YWE0MC1cXHVhYTQyXFx1YWE0NC1cXHVhYTRiXFx1YWE2MC1cXHVhYTc2XFx1YWE3YVxcdWFhODAtXFx1YWFhZlxcdWFhYjFcXHVhYWI1XFx1YWFiNlxcdWFhYjktXFx1YWFiZFxcdWFhYzBcXHVhYWMyXFx1YWFkYi1cXHVhYWRkXFx1YWFlMC1cXHVhYWVhXFx1YWFmMi1cXHVhYWY0XFx1YWIwMS1cXHVhYjA2XFx1YWIwOS1cXHVhYjBlXFx1YWIxMS1cXHVhYjE2XFx1YWIyMC1cXHVhYjI2XFx1YWIyOC1cXHVhYjJlXFx1YWJjMC1cXHVhYmUyXFx1YWMwMC1cXHVkN2EzXFx1ZDdiMC1cXHVkN2M2XFx1ZDdjYi1cXHVkN2ZiXFx1ZjkwMC1cXHVmYTZkXFx1ZmE3MC1cXHVmYWQ5XFx1ZmIwMC1cXHVmYjA2XFx1ZmIxMy1cXHVmYjE3XFx1ZmIxZFxcdWZiMWYtXFx1ZmIyOFxcdWZiMmEtXFx1ZmIzNlxcdWZiMzgtXFx1ZmIzY1xcdWZiM2VcXHVmYjQwXFx1ZmI0MVxcdWZiNDNcXHVmYjQ0XFx1ZmI0Ni1cXHVmYmIxXFx1ZmJkMy1cXHVmZDNkXFx1ZmQ1MC1cXHVmZDhmXFx1ZmQ5Mi1cXHVmZGM3XFx1ZmRmMC1cXHVmZGZiXFx1ZmU3MC1cXHVmZTc0XFx1ZmU3Ni1cXHVmZWZjXFx1ZmYyMS1cXHVmZjNhXFx1ZmY0MS1cXHVmZjVhXFx1ZmY2Ni1cXHVmZmJlXFx1ZmZjMi1cXHVmZmM3XFx1ZmZjYS1cXHVmZmNmXFx1ZmZkMi1cXHVmZmQ3XFx1ZmZkYS1cXHVmZmRjXCI7XG4gIHZhciBub25BU0NJSWlkZW50aWZpZXJDaGFycyA9IFwiXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg3XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDYyMC1cXHUwNjQ5XFx1MDY3Mi1cXHUwNmQzXFx1MDZlNy1cXHUwNmU4XFx1MDZmYi1cXHUwNmZjXFx1MDczMC1cXHUwNzRhXFx1MDgwMC1cXHUwODE0XFx1MDgxYi1cXHUwODIzXFx1MDgyNS1cXHUwODI3XFx1MDgyOS1cXHUwODJkXFx1MDg0MC1cXHUwODU3XFx1MDhlNC1cXHUwOGZlXFx1MDkwMC1cXHUwOTAzXFx1MDkzYS1cXHUwOTNjXFx1MDkzZS1cXHUwOTRmXFx1MDk1MS1cXHUwOTU3XFx1MDk2Mi1cXHUwOTYzXFx1MDk2Ni1cXHUwOTZmXFx1MDk4MS1cXHUwOTgzXFx1MDliY1xcdTA5YmUtXFx1MDljNFxcdTA5YzdcXHUwOWM4XFx1MDlkN1xcdTA5ZGYtXFx1MDllMFxcdTBhMDEtXFx1MGEwM1xcdTBhM2NcXHUwYTNlLVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTY2LVxcdTBhNzFcXHUwYTc1XFx1MGE4MS1cXHUwYTgzXFx1MGFiY1xcdTBhYmUtXFx1MGFjNVxcdTBhYzctXFx1MGFjOVxcdTBhY2ItXFx1MGFjZFxcdTBhZTItXFx1MGFlM1xcdTBhZTYtXFx1MGFlZlxcdTBiMDEtXFx1MGIwM1xcdTBiM2NcXHUwYjNlLVxcdTBiNDRcXHUwYjQ3XFx1MGI0OFxcdTBiNGItXFx1MGI0ZFxcdTBiNTZcXHUwYjU3XFx1MGI1Zi1cXHUwYjYwXFx1MGI2Ni1cXHUwYjZmXFx1MGI4MlxcdTBiYmUtXFx1MGJjMlxcdTBiYzYtXFx1MGJjOFxcdTBiY2EtXFx1MGJjZFxcdTBiZDdcXHUwYmU2LVxcdTBiZWZcXHUwYzAxLVxcdTBjMDNcXHUwYzQ2LVxcdTBjNDhcXHUwYzRhLVxcdTBjNGRcXHUwYzU1XFx1MGM1NlxcdTBjNjItXFx1MGM2M1xcdTBjNjYtXFx1MGM2ZlxcdTBjODJcXHUwYzgzXFx1MGNiY1xcdTBjYmUtXFx1MGNjNFxcdTBjYzYtXFx1MGNjOFxcdTBjY2EtXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMi1cXHUwY2UzXFx1MGNlNi1cXHUwY2VmXFx1MGQwMlxcdTBkMDNcXHUwZDQ2LVxcdTBkNDhcXHUwZDU3XFx1MGQ2Mi1cXHUwZDYzXFx1MGQ2Ni1cXHUwZDZmXFx1MGQ4MlxcdTBkODNcXHUwZGNhXFx1MGRjZi1cXHUwZGQ0XFx1MGRkNlxcdTBkZDgtXFx1MGRkZlxcdTBkZjJcXHUwZGYzXFx1MGUzNC1cXHUwZTNhXFx1MGU0MC1cXHUwZTQ1XFx1MGU1MC1cXHUwZTU5XFx1MGViNC1cXHUwZWI5XFx1MGVjOC1cXHUwZWNkXFx1MGVkMC1cXHUwZWQ5XFx1MGYxOFxcdTBmMTlcXHUwZjIwLVxcdTBmMjlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjQxLVxcdTBmNDdcXHUwZjcxLVxcdTBmODRcXHUwZjg2LVxcdTBmODdcXHUwZjhkLVxcdTBmOTdcXHUwZjk5LVxcdTBmYmNcXHUwZmM2XFx1MTAwMC1cXHUxMDI5XFx1MTA0MC1cXHUxMDQ5XFx1MTA2Ny1cXHUxMDZkXFx1MTA3MS1cXHUxMDc0XFx1MTA4Mi1cXHUxMDhkXFx1MTA4Zi1cXHUxMDlkXFx1MTM1ZC1cXHUxMzVmXFx1MTcwZS1cXHUxNzEwXFx1MTcyMC1cXHUxNzMwXFx1MTc0MC1cXHUxNzUwXFx1MTc3MlxcdTE3NzNcXHUxNzgwLVxcdTE3YjJcXHUxN2RkXFx1MTdlMC1cXHUxN2U5XFx1MTgwYi1cXHUxODBkXFx1MTgxMC1cXHUxODE5XFx1MTkyMC1cXHUxOTJiXFx1MTkzMC1cXHUxOTNiXFx1MTk1MS1cXHUxOTZkXFx1MTliMC1cXHUxOWMwXFx1MTljOC1cXHUxOWM5XFx1MTlkMC1cXHUxOWQ5XFx1MWEwMC1cXHUxYTE1XFx1MWEyMC1cXHUxYTUzXFx1MWE2MC1cXHUxYTdjXFx1MWE3Zi1cXHUxYTg5XFx1MWE5MC1cXHUxYTk5XFx1MWI0Ni1cXHUxYjRiXFx1MWI1MC1cXHUxYjU5XFx1MWI2Yi1cXHUxYjczXFx1MWJiMC1cXHUxYmI5XFx1MWJlNi1cXHUxYmYzXFx1MWMwMC1cXHUxYzIyXFx1MWM0MC1cXHUxYzQ5XFx1MWM1Yi1cXHUxYzdkXFx1MWNkMC1cXHUxY2QyXFx1MWQwMC1cXHUxZGJlXFx1MWUwMS1cXHUxZjE1XFx1MjAwY1xcdTIwMGRcXHUyMDNmXFx1MjA0MFxcdTIwNTRcXHUyMGQwLVxcdTIwZGNcXHUyMGUxXFx1MjBlNS1cXHUyMGYwXFx1MmQ4MS1cXHUyZDk2XFx1MmRlMC1cXHUyZGZmXFx1MzAyMS1cXHUzMDI4XFx1MzA5OVxcdTMwOWFcXHVhNjQwLVxcdWE2NmRcXHVhNjc0LVxcdWE2N2RcXHVhNjlmXFx1YTZmMC1cXHVhNmYxXFx1YTdmOC1cXHVhODAwXFx1YTgwNlxcdWE4MGJcXHVhODIzLVxcdWE4MjdcXHVhODgwLVxcdWE4ODFcXHVhOGI0LVxcdWE4YzRcXHVhOGQwLVxcdWE4ZDlcXHVhOGYzLVxcdWE4ZjdcXHVhOTAwLVxcdWE5MDlcXHVhOTI2LVxcdWE5MmRcXHVhOTMwLVxcdWE5NDVcXHVhOTgwLVxcdWE5ODNcXHVhOWIzLVxcdWE5YzBcXHVhYTAwLVxcdWFhMjdcXHVhYTQwLVxcdWFhNDFcXHVhYTRjLVxcdWFhNGRcXHVhYTUwLVxcdWFhNTlcXHVhYTdiXFx1YWFlMC1cXHVhYWU5XFx1YWFmMi1cXHVhYWYzXFx1YWJjMC1cXHVhYmUxXFx1YWJlY1xcdWFiZWRcXHVhYmYwLVxcdWFiZjlcXHVmYjIwLVxcdWZiMjhcXHVmZTAwLVxcdWZlMGZcXHVmZTIwLVxcdWZlMjZcXHVmZTMzXFx1ZmUzNFxcdWZlNGQtXFx1ZmU0ZlxcdWZmMTAtXFx1ZmYxOVxcdWZmM2ZcIjtcbiAgdmFyIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0ID0gbmV3IFJlZ0V4cChcIltcIiArIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgKyBcIl1cIik7XG4gIHZhciBub25BU0NJSWlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKFwiW1wiICsgbm9uQVNDSUlpZGVudGlmaWVyU3RhcnRDaGFycyArIG5vbkFTQ0lJaWRlbnRpZmllckNoYXJzICsgXCJdXCIpO1xuXG4gIC8vIFdoZXRoZXIgYSBzaW5nbGUgY2hhcmFjdGVyIGRlbm90ZXMgYSBuZXdsaW5lLlxuXG4gIHZhciBuZXdsaW5lID0gL1tcXG5cXHJcXHUyMDI4XFx1MjAyOV0vO1xuXG4gIC8vIE1hdGNoZXMgYSB3aG9sZSBsaW5lIGJyZWFrICh3aGVyZSBDUkxGIGlzIGNvbnNpZGVyZWQgYSBzaW5nbGVcbiAgLy8gbGluZSBicmVhaykuIFVzZWQgdG8gY291bnQgbGluZXMuXG5cbiAgdmFyIGxpbmVCcmVhayA9IC9cXHJcXG58W1xcblxcclxcdTIwMjhcXHUyMDI5XS9nO1xuXG4gIC8vIFRlc3Qgd2hldGhlciBhIGdpdmVuIGNoYXJhY3RlciBjb2RlIHN0YXJ0cyBhbiBpZGVudGlmaWVyLlxuXG4gIHZhciBpc0lkZW50aWZpZXJTdGFydCA9IGV4cG9ydHMuaXNJZGVudGlmaWVyU3RhcnQgPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgaWYgKGNvZGUgPCA2NSkgcmV0dXJuIGNvZGUgPT09IDM2O1xuICAgIGlmIChjb2RlIDwgOTEpIHJldHVybiB0cnVlO1xuICAgIGlmIChjb2RlIDwgOTcpIHJldHVybiBjb2RlID09PSA5NTtcbiAgICBpZiAoY29kZSA8IDEyMylyZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gY29kZSA+PSAweGFhICYmIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0LnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSk7XG4gIH07XG5cbiAgLy8gVGVzdCB3aGV0aGVyIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIHBhcnQgb2YgYW4gaWRlbnRpZmllci5cblxuICB2YXIgaXNJZGVudGlmaWVyQ2hhciA9IGV4cG9ydHMuaXNJZGVudGlmaWVyQ2hhciA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICBpZiAoY29kZSA8IDQ4KSByZXR1cm4gY29kZSA9PT0gMzY7XG4gICAgaWYgKGNvZGUgPCA1OCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNvZGUgPCA2NSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjb2RlIDwgOTEpIHJldHVybiB0cnVlO1xuICAgIGlmIChjb2RlIDwgOTcpIHJldHVybiBjb2RlID09PSA5NTtcbiAgICBpZiAoY29kZSA8IDEyMylyZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gY29kZSA+PSAweGFhICYmIG5vbkFTQ0lJaWRlbnRpZmllci50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSkpO1xuICB9O1xuXG4gIC8vICMjIFRva2VuaXplclxuXG4gIC8vIFRoZXNlIGFyZSB1c2VkIHdoZW4gYG9wdGlvbnMubG9jYXRpb25zYCBpcyBvbiwgZm9yIHRoZVxuICAvLyBgdG9rU3RhcnRMb2NgIGFuZCBgdG9rRW5kTG9jYCBwcm9wZXJ0aWVzLlxuXG4gIGZ1bmN0aW9uIGxpbmVfbG9jX3QoKSB7XG4gICAgdGhpcy5saW5lID0gdG9rQ3VyTGluZTtcbiAgICB0aGlzLmNvbHVtbiA9IHRva1BvcyAtIHRva0xpbmVTdGFydDtcbiAgfVxuXG4gIC8vIFJlc2V0IHRoZSB0b2tlbiBzdGF0ZS4gVXNlZCBhdCB0aGUgc3RhcnQgb2YgYSBwYXJzZS5cblxuICBmdW5jdGlvbiBpbml0VG9rZW5TdGF0ZSgpIHtcbiAgICB0b2tDdXJMaW5lID0gMTtcbiAgICB0b2tQb3MgPSB0b2tMaW5lU3RhcnQgPSAwO1xuICAgIHRva1JlZ2V4cEFsbG93ZWQgPSB0cnVlO1xuICAgIHNraXBTcGFjZSgpO1xuICB9XG5cbiAgLy8gQ2FsbGVkIGF0IHRoZSBlbmQgb2YgZXZlcnkgdG9rZW4uIFNldHMgYHRva0VuZGAsIGB0b2tWYWxgLCBhbmRcbiAgLy8gYHRva1JlZ2V4cEFsbG93ZWRgLCBhbmQgc2tpcHMgdGhlIHNwYWNlIGFmdGVyIHRoZSB0b2tlbiwgc28gdGhhdFxuICAvLyB0aGUgbmV4dCBvbmUncyBgdG9rU3RhcnRgIHdpbGwgcG9pbnQgYXQgdGhlIHJpZ2h0IHBvc2l0aW9uLlxuXG4gIGZ1bmN0aW9uIGZpbmlzaFRva2VuKHR5cGUsIHZhbCkge1xuICAgIHRva0VuZCA9IHRva1BvcztcbiAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHRva0VuZExvYyA9IG5ldyBsaW5lX2xvY190O1xuICAgIHRva1R5cGUgPSB0eXBlO1xuICAgIHNraXBTcGFjZSgpO1xuICAgIHRva1ZhbCA9IHZhbDtcbiAgICB0b2tSZWdleHBBbGxvd2VkID0gdHlwZS5iZWZvcmVFeHByO1xuICB9XG5cbiAgZnVuY3Rpb24gc2tpcEJsb2NrQ29tbWVudCgpIHtcbiAgICB2YXIgc3RhcnRMb2MgPSBvcHRpb25zLm9uQ29tbWVudCAmJiBvcHRpb25zLmxvY2F0aW9ucyAmJiBuZXcgbGluZV9sb2NfdDtcbiAgICB2YXIgc3RhcnQgPSB0b2tQb3MsIGVuZCA9IGlucHV0LmluZGV4T2YoXCIqL1wiLCB0b2tQb3MgKz0gMik7XG4gICAgaWYgKGVuZCA9PT0gLTEpIHJhaXNlKHRva1BvcyAtIDIsIFwiVW50ZXJtaW5hdGVkIGNvbW1lbnRcIik7XG4gICAgdG9rUG9zID0gZW5kICsgMjtcbiAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHtcbiAgICAgIGxpbmVCcmVhay5sYXN0SW5kZXggPSBzdGFydDtcbiAgICAgIHZhciBtYXRjaDtcbiAgICAgIHdoaWxlICgobWF0Y2ggPSBsaW5lQnJlYWsuZXhlYyhpbnB1dCkpICYmIG1hdGNoLmluZGV4IDwgdG9rUG9zKSB7XG4gICAgICAgICsrdG9rQ3VyTGluZTtcbiAgICAgICAgdG9rTGluZVN0YXJ0ID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm9uQ29tbWVudClcbiAgICAgIG9wdGlvbnMub25Db21tZW50KHRydWUsIGlucHV0LnNsaWNlKHN0YXJ0ICsgMiwgZW5kKSwgc3RhcnQsIHRva1BvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TG9jLCBvcHRpb25zLmxvY2F0aW9ucyAmJiBuZXcgbGluZV9sb2NfdCk7XG4gIH1cblxuICBmdW5jdGlvbiBza2lwTGluZUNvbW1lbnQoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdG9rUG9zO1xuICAgIHZhciBzdGFydExvYyA9IG9wdGlvbnMub25Db21tZW50ICYmIG9wdGlvbnMubG9jYXRpb25zICYmIG5ldyBsaW5lX2xvY190O1xuICAgIHZhciBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKz0yKTtcbiAgICB3aGlsZSAodG9rUG9zIDwgaW5wdXRMZW4gJiYgY2ggIT09IDEwICYmIGNoICE9PSAxMyAmJiBjaCAhPT0gODIzMiAmJiBjaCAhPT0gODIzMykge1xuICAgICAgKyt0b2tQb3M7XG4gICAgICBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub25Db21tZW50KVxuICAgICAgb3B0aW9ucy5vbkNvbW1lbnQoZmFsc2UsIGlucHV0LnNsaWNlKHN0YXJ0ICsgMiwgdG9rUG9zKSwgc3RhcnQsIHRva1BvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TG9jLCBvcHRpb25zLmxvY2F0aW9ucyAmJiBuZXcgbGluZV9sb2NfdCk7XG4gIH1cblxuICAvLyBDYWxsZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBwYXJzZSBhbmQgYWZ0ZXIgZXZlcnkgdG9rZW4uIFNraXBzXG4gIC8vIHdoaXRlc3BhY2UgYW5kIGNvbW1lbnRzLCBhbmQuXG5cbiAgZnVuY3Rpb24gc2tpcFNwYWNlKCkge1xuICAgIHdoaWxlICh0b2tQb3MgPCBpbnB1dExlbikge1xuICAgICAgdmFyIGNoID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpO1xuICAgICAgaWYgKGNoID09PSAzMikgeyAvLyAnICdcbiAgICAgICAgKyt0b2tQb3M7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSAxMykge1xuICAgICAgICArK3Rva1BvcztcbiAgICAgICAgdmFyIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1Bvcyk7XG4gICAgICAgIGlmIChuZXh0ID09PSAxMCkge1xuICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykge1xuICAgICAgICAgICsrdG9rQ3VyTGluZTtcbiAgICAgICAgICB0b2tMaW5lU3RhcnQgPSB0b2tQb3M7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09IDEwIHx8IGNoID09PSA4MjMyIHx8IGNoID09PSA4MjMzKSB7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHtcbiAgICAgICAgICArK3Rva0N1ckxpbmU7XG4gICAgICAgICAgdG9rTGluZVN0YXJ0ID0gdG9rUG9zO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoID4gOCAmJiBjaCA8IDE0KSB7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gNDcpIHsgLy8gJy8nXG4gICAgICAgIHZhciBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAxKTtcbiAgICAgICAgaWYgKG5leHQgPT09IDQyKSB7IC8vICcqJ1xuICAgICAgICAgIHNraXBCbG9ja0NvbW1lbnQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0ID09PSA0NykgeyAvLyAnLydcbiAgICAgICAgICBza2lwTGluZUNvbW1lbnQoKTtcbiAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gMTYwKSB7IC8vICdcXHhhMCdcbiAgICAgICAgKyt0b2tQb3M7XG4gICAgICB9IGVsc2UgaWYgKGNoID49IDU3NjAgJiYgbm9uQVNDSUl3aGl0ZXNwYWNlLnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShjaCkpKSB7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gIyMjIFRva2VuIHJlYWRpbmdcblxuICAvLyBUaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB0byBmZXRjaCB0aGUgbmV4dCB0b2tlbi4gSXRcbiAgLy8gaXMgc29tZXdoYXQgb2JzY3VyZSwgYmVjYXVzZSBpdCB3b3JrcyBpbiBjaGFyYWN0ZXIgY29kZXMgcmF0aGVyXG4gIC8vIHRoYW4gY2hhcmFjdGVycywgYW5kIGJlY2F1c2Ugb3BlcmF0b3IgcGFyc2luZyBoYXMgYmVlbiBpbmxpbmVkXG4gIC8vIGludG8gaXQuXG4gIC8vXG4gIC8vIEFsbCBpbiB0aGUgbmFtZSBvZiBzcGVlZC5cbiAgLy9cbiAgLy8gVGhlIGBmb3JjZVJlZ2V4cGAgcGFyYW1ldGVyIGlzIHVzZWQgaW4gdGhlIG9uZSBjYXNlIHdoZXJlIHRoZVxuICAvLyBgdG9rUmVnZXhwQWxsb3dlZGAgdHJpY2sgZG9lcyBub3Qgd29yay4gU2VlIGBwYXJzZVN0YXRlbWVudGAuXG5cbiAgZnVuY3Rpb24gcmVhZFRva2VuX2RvdCgpIHtcbiAgICB2YXIgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgaWYgKG5leHQgPj0gNDggJiYgbmV4dCA8PSA1NykgcmV0dXJuIHJlYWROdW1iZXIodHJ1ZSk7XG4gICAgKyt0b2tQb3M7XG4gICAgcmV0dXJuIGZpbmlzaFRva2VuKF9kb3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZFRva2VuX3NsYXNoKCkgeyAvLyAnLydcbiAgICB2YXIgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgaWYgKHRva1JlZ2V4cEFsbG93ZWQpIHsrK3Rva1BvczsgcmV0dXJuIHJlYWRSZWdleHAoKTt9XG4gICAgaWYgKG5leHQgPT09IDYxKSByZXR1cm4gZmluaXNoT3AoX2Fzc2lnbiwgMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKF9zbGFzaCwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkVG9rZW5fbXVsdF9tb2R1bG8oKSB7IC8vICclKidcbiAgICB2YXIgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgaWYgKG5leHQgPT09IDYxKSByZXR1cm4gZmluaXNoT3AoX2Fzc2lnbiwgMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKF9tdWx0aXBseU1vZHVsbywgMSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkVG9rZW5fcGlwZV9hbXAoY29kZSkgeyAvLyAnfCYnXG4gICAgdmFyIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmIChuZXh0ID09PSBjb2RlKSByZXR1cm4gZmluaXNoT3AoY29kZSA9PT0gMTI0ID8gX2xvZ2ljYWxPUiA6IF9sb2dpY2FsQU5ELCAyKTtcbiAgICBpZiAobmV4dCA9PT0gNjEpIHJldHVybiBmaW5pc2hPcChfYXNzaWduLCAyKTtcbiAgICByZXR1cm4gZmluaXNoT3AoY29kZSA9PT0gMTI0ID8gX2JpdHdpc2VPUiA6IF9iaXR3aXNlQU5ELCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRUb2tlbl9jYXJldCgpIHsgLy8gJ14nXG4gICAgdmFyIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmIChuZXh0ID09PSA2MSkgcmV0dXJuIGZpbmlzaE9wKF9hc3NpZ24sIDIpO1xuICAgIHJldHVybiBmaW5pc2hPcChfYml0d2lzZVhPUiwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkVG9rZW5fcGx1c19taW4oY29kZSkgeyAvLyAnKy0nXG4gICAgdmFyIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmIChuZXh0ID09PSBjb2RlKSB7XG4gICAgICBpZiAobmV4dCA9PSA0NSAmJiBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDIpID09IDYyICYmXG4gICAgICAgICAgbmV3bGluZS50ZXN0KGlucHV0LnNsaWNlKGxhc3RFbmQsIHRva1BvcykpKSB7XG4gICAgICAgIC8vIEEgYC0tPmAgbGluZSBjb21tZW50XG4gICAgICAgIHRva1BvcyArPSAzO1xuICAgICAgICBza2lwTGluZUNvbW1lbnQoKTtcbiAgICAgICAgc2tpcFNwYWNlKCk7XG4gICAgICAgIHJldHVybiByZWFkVG9rZW4oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaW5pc2hPcChfaW5jRGVjLCAyKTtcbiAgICB9XG4gICAgaWYgKG5leHQgPT09IDYxKSByZXR1cm4gZmluaXNoT3AoX2Fzc2lnbiwgMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKF9wbHVzTWluLCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRUb2tlbl9sdF9ndChjb2RlKSB7IC8vICc8PidcbiAgICB2YXIgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgdmFyIHNpemUgPSAxO1xuICAgIGlmIChuZXh0ID09PSBjb2RlKSB7XG4gICAgICBzaXplID0gY29kZSA9PT0gNjIgJiYgaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAyKSA9PT0gNjIgPyAzIDogMjtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIHNpemUpID09PSA2MSkgcmV0dXJuIGZpbmlzaE9wKF9hc3NpZ24sIHNpemUgKyAxKTtcbiAgICAgIHJldHVybiBmaW5pc2hPcChfYml0U2hpZnQsIHNpemUpO1xuICAgIH1cbiAgICBpZiAobmV4dCA9PSAzMyAmJiBjb2RlID09IDYwICYmIGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMikgPT0gNDUgJiZcbiAgICAgICAgaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAzKSA9PSA0NSkge1xuICAgICAgLy8gYDwhLS1gLCBhbiBYTUwtc3R5bGUgY29tbWVudCB0aGF0IHNob3VsZCBiZSBpbnRlcnByZXRlZCBhcyBhIGxpbmUgY29tbWVudFxuICAgICAgdG9rUG9zICs9IDQ7XG4gICAgICBza2lwTGluZUNvbW1lbnQoKTtcbiAgICAgIHNraXBTcGFjZSgpO1xuICAgICAgcmV0dXJuIHJlYWRUb2tlbigpO1xuICAgIH1cbiAgICBpZiAobmV4dCA9PT0gNjEpXG4gICAgICBzaXplID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAyKSA9PT0gNjEgPyAzIDogMjtcbiAgICByZXR1cm4gZmluaXNoT3AoX3JlbGF0aW9uYWwsIHNpemUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZFRva2VuX2VxX2V4Y2woY29kZSkgeyAvLyAnPSEnXG4gICAgdmFyIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmIChuZXh0ID09PSA2MSkgcmV0dXJuIGZpbmlzaE9wKF9lcXVhbGl0eSwgaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAyKSA9PT0gNjEgPyAzIDogMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKGNvZGUgPT09IDYxID8gX2VxIDogX3ByZWZpeCwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUb2tlbkZyb21Db2RlKGNvZGUpIHtcbiAgICBzd2l0Y2goY29kZSkge1xuICAgICAgLy8gVGhlIGludGVycHJldGF0aW9uIG9mIGEgZG90IGRlcGVuZHMgb24gd2hldGhlciBpdCBpcyBmb2xsb3dlZFxuICAgICAgLy8gYnkgYSBkaWdpdC5cbiAgICBjYXNlIDQ2OiAvLyAnLidcbiAgICAgIHJldHVybiByZWFkVG9rZW5fZG90KCk7XG5cbiAgICAgIC8vIFB1bmN0dWF0aW9uIHRva2Vucy5cbiAgICBjYXNlIDQwOiArK3Rva1BvczsgcmV0dXJuIGZpbmlzaFRva2VuKF9wYXJlbkwpO1xuICAgIGNhc2UgNDE6ICsrdG9rUG9zOyByZXR1cm4gZmluaXNoVG9rZW4oX3BhcmVuUik7XG4gICAgY2FzZSA1OTogKyt0b2tQb3M7IHJldHVybiBmaW5pc2hUb2tlbihfc2VtaSk7XG4gICAgY2FzZSA0NDogKyt0b2tQb3M7IHJldHVybiBmaW5pc2hUb2tlbihfY29tbWEpO1xuICAgIGNhc2UgOTE6ICsrdG9rUG9zOyByZXR1cm4gZmluaXNoVG9rZW4oX2JyYWNrZXRMKTtcbiAgICBjYXNlIDkzOiArK3Rva1BvczsgcmV0dXJuIGZpbmlzaFRva2VuKF9icmFja2V0Uik7XG4gICAgY2FzZSAxMjM6ICsrdG9rUG9zOyByZXR1cm4gZmluaXNoVG9rZW4oX2JyYWNlTCk7XG4gICAgY2FzZSAxMjU6ICsrdG9rUG9zOyByZXR1cm4gZmluaXNoVG9rZW4oX2JyYWNlUik7XG4gICAgY2FzZSA1ODogKyt0b2tQb3M7IHJldHVybiBmaW5pc2hUb2tlbihfY29sb24pO1xuICAgIGNhc2UgNjM6ICsrdG9rUG9zOyByZXR1cm4gZmluaXNoVG9rZW4oX3F1ZXN0aW9uKTtcblxuICAgICAgLy8gJzB4JyBpcyBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAgICBjYXNlIDQ4OiAvLyAnMCdcbiAgICAgIHZhciBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAxKTtcbiAgICAgIGlmIChuZXh0ID09PSAxMjAgfHwgbmV4dCA9PT0gODgpIHJldHVybiByZWFkSGV4TnVtYmVyKCk7XG4gICAgICAvLyBBbnl0aGluZyBlbHNlIGJlZ2lubmluZyB3aXRoIGEgZGlnaXQgaXMgYW4gaW50ZWdlciwgb2N0YWxcbiAgICAgIC8vIG51bWJlciwgb3IgZmxvYXQuXG4gICAgY2FzZSA0OTogY2FzZSA1MDogY2FzZSA1MTogY2FzZSA1MjogY2FzZSA1MzogY2FzZSA1NDogY2FzZSA1NTogY2FzZSA1NjogY2FzZSA1NzogLy8gMS05XG4gICAgICByZXR1cm4gcmVhZE51bWJlcihmYWxzZSk7XG5cbiAgICAgIC8vIFF1b3RlcyBwcm9kdWNlIHN0cmluZ3MuXG4gICAgY2FzZSAzNDogY2FzZSAzOTogLy8gJ1wiJywgXCInXCJcbiAgICAgIHJldHVybiByZWFkU3RyaW5nKGNvZGUpO1xuXG4gICAgLy8gT3BlcmF0b3JzIGFyZSBwYXJzZWQgaW5saW5lIGluIHRpbnkgc3RhdGUgbWFjaGluZXMuICc9JyAoNjEpIGlzXG4gICAgLy8gb2Z0ZW4gcmVmZXJyZWQgdG8uIGBmaW5pc2hPcGAgc2ltcGx5IHNraXBzIHRoZSBhbW91bnQgb2ZcbiAgICAvLyBjaGFyYWN0ZXJzIGl0IGlzIGdpdmVuIGFzIHNlY29uZCBhcmd1bWVudCwgYW5kIHJldHVybnMgYSB0b2tlblxuICAgIC8vIG9mIHRoZSB0eXBlIGdpdmVuIGJ5IGl0cyBmaXJzdCBhcmd1bWVudC5cblxuICAgIGNhc2UgNDc6IC8vICcvJ1xuICAgICAgcmV0dXJuIHJlYWRUb2tlbl9zbGFzaChjb2RlKTtcblxuICAgIGNhc2UgMzc6IGNhc2UgNDI6IC8vICclKidcbiAgICAgIHJldHVybiByZWFkVG9rZW5fbXVsdF9tb2R1bG8oKTtcblxuICAgIGNhc2UgMTI0OiBjYXNlIDM4OiAvLyAnfCYnXG4gICAgICByZXR1cm4gcmVhZFRva2VuX3BpcGVfYW1wKGNvZGUpO1xuXG4gICAgY2FzZSA5NDogLy8gJ14nXG4gICAgICByZXR1cm4gcmVhZFRva2VuX2NhcmV0KCk7XG5cbiAgICBjYXNlIDQzOiBjYXNlIDQ1OiAvLyAnKy0nXG4gICAgICByZXR1cm4gcmVhZFRva2VuX3BsdXNfbWluKGNvZGUpO1xuXG4gICAgY2FzZSA2MDogY2FzZSA2MjogLy8gJzw+J1xuICAgICAgcmV0dXJuIHJlYWRUb2tlbl9sdF9ndChjb2RlKTtcblxuICAgIGNhc2UgNjE6IGNhc2UgMzM6IC8vICc9ISdcbiAgICAgIHJldHVybiByZWFkVG9rZW5fZXFfZXhjbChjb2RlKTtcblxuICAgIGNhc2UgMTI2OiAvLyAnfidcbiAgICAgIHJldHVybiBmaW5pc2hPcChfcHJlZml4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkVG9rZW4oZm9yY2VSZWdleHApIHtcbiAgICBpZiAoIWZvcmNlUmVnZXhwKSB0b2tTdGFydCA9IHRva1BvcztcbiAgICBlbHNlIHRva1BvcyA9IHRva1N0YXJ0ICsgMTtcbiAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHRva1N0YXJ0TG9jID0gbmV3IGxpbmVfbG9jX3Q7XG4gICAgaWYgKGZvcmNlUmVnZXhwKSByZXR1cm4gcmVhZFJlZ2V4cCgpO1xuICAgIGlmICh0b2tQb3MgPj0gaW5wdXRMZW4pIHJldHVybiBmaW5pc2hUb2tlbihfZW9mKTtcblxuICAgIHZhciBjb2RlID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpO1xuICAgIC8vIElkZW50aWZpZXIgb3Iga2V5d29yZC4gJ1xcdVhYWFgnIHNlcXVlbmNlcyBhcmUgYWxsb3dlZCBpblxuICAgIC8vIGlkZW50aWZpZXJzLCBzbyAnXFwnIGFsc28gZGlzcGF0Y2hlcyB0byB0aGF0LlxuICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChjb2RlKSB8fCBjb2RlID09PSA5MiAvKiAnXFwnICovKSByZXR1cm4gcmVhZFdvcmQoKTtcblxuICAgIHZhciB0b2sgPSBnZXRUb2tlbkZyb21Db2RlKGNvZGUpO1xuXG4gICAgaWYgKHRvayA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElmIHdlIGFyZSBoZXJlLCB3ZSBlaXRoZXIgZm91bmQgYSBub24tQVNDSUkgaWRlbnRpZmllclxuICAgICAgLy8gY2hhcmFjdGVyLCBvciBzb21ldGhpbmcgdGhhdCdzIGVudGlyZWx5IGRpc2FsbG93ZWQuXG4gICAgICB2YXIgY2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgaWYgKGNoID09PSBcIlxcXFxcIiB8fCBub25BU0NJSWlkZW50aWZpZXJTdGFydC50ZXN0KGNoKSkgcmV0dXJuIHJlYWRXb3JkKCk7XG4gICAgICByYWlzZSh0b2tQb3MsIFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgJ1wiICsgY2ggKyBcIidcIik7XG4gICAgfVxuICAgIHJldHVybiB0b2s7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hPcCh0eXBlLCBzaXplKSB7XG4gICAgdmFyIHN0ciA9IGlucHV0LnNsaWNlKHRva1BvcywgdG9rUG9zICsgc2l6ZSk7XG4gICAgdG9rUG9zICs9IHNpemU7XG4gICAgZmluaXNoVG9rZW4odHlwZSwgc3RyKTtcbiAgfVxuXG4gIC8vIFBhcnNlIGEgcmVndWxhciBleHByZXNzaW9uLiBTb21lIGNvbnRleHQtYXdhcmVuZXNzIGlzIG5lY2Vzc2FyeSxcbiAgLy8gc2luY2UgYSAnLycgaW5zaWRlIGEgJ1tdJyBzZXQgZG9lcyBub3QgZW5kIHRoZSBleHByZXNzaW9uLlxuXG4gIGZ1bmN0aW9uIHJlYWRSZWdleHAoKSB7XG4gICAgdmFyIGNvbnRlbnQgPSBcIlwiLCBlc2NhcGVkLCBpbkNsYXNzLCBzdGFydCA9IHRva1BvcztcbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAodG9rUG9zID49IGlucHV0TGVuKSByYWlzZShzdGFydCwgXCJVbnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uXCIpO1xuICAgICAgdmFyIGNoID0gaW5wdXQuY2hhckF0KHRva1Bvcyk7XG4gICAgICBpZiAobmV3bGluZS50ZXN0KGNoKSkgcmFpc2Uoc3RhcnQsIFwiVW50ZXJtaW5hdGVkIHJlZ3VsYXIgZXhwcmVzc2lvblwiKTtcbiAgICAgIGlmICghZXNjYXBlZCkge1xuICAgICAgICBpZiAoY2ggPT09IFwiW1wiKSBpbkNsYXNzID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiXVwiICYmIGluQ2xhc3MpIGluQ2xhc3MgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiL1wiICYmICFpbkNsYXNzKSBicmVhaztcbiAgICAgICAgZXNjYXBlZCA9IGNoID09PSBcIlxcXFxcIjtcbiAgICAgIH0gZWxzZSBlc2NhcGVkID0gZmFsc2U7XG4gICAgICArK3Rva1BvcztcbiAgICB9XG4gICAgdmFyIGNvbnRlbnQgPSBpbnB1dC5zbGljZShzdGFydCwgdG9rUG9zKTtcbiAgICArK3Rva1BvcztcbiAgICAvLyBOZWVkIHRvIHVzZSBgcmVhZFdvcmQxYCBiZWNhdXNlICdcXHVYWFhYJyBzZXF1ZW5jZXMgYXJlIGFsbG93ZWRcbiAgICAvLyBoZXJlIChkb24ndCBhc2spLlxuICAgIHZhciBtb2RzID0gcmVhZFdvcmQxKCk7XG4gICAgaWYgKG1vZHMgJiYgIS9eW2dtc2l5XSokLy50ZXN0KG1vZHMpKSByYWlzZShzdGFydCwgXCJJbnZhbGlkIHJlZ2V4cCBmbGFnXCIpO1xuICAgIHJldHVybiBmaW5pc2hUb2tlbihfcmVnZXhwLCBuZXcgUmVnRXhwKGNvbnRlbnQsIG1vZHMpKTtcbiAgfVxuXG4gIC8vIFJlYWQgYW4gaW50ZWdlciBpbiB0aGUgZ2l2ZW4gcmFkaXguIFJldHVybiBudWxsIGlmIHplcm8gZGlnaXRzXG4gIC8vIHdlcmUgcmVhZCwgdGhlIGludGVnZXIgdmFsdWUgb3RoZXJ3aXNlLiBXaGVuIGBsZW5gIGlzIGdpdmVuLCB0aGlzXG4gIC8vIHdpbGwgcmV0dXJuIGBudWxsYCB1bmxlc3MgdGhlIGludGVnZXIgaGFzIGV4YWN0bHkgYGxlbmAgZGlnaXRzLlxuXG4gIGZ1bmN0aW9uIHJlYWRJbnQocmFkaXgsIGxlbikge1xuICAgIHZhciBzdGFydCA9IHRva1BvcywgdG90YWwgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBlID0gbGVuID09IG51bGwgPyBJbmZpbml0eSA6IGxlbjsgaSA8IGU7ICsraSkge1xuICAgICAgdmFyIGNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyksIHZhbDtcbiAgICAgIGlmIChjb2RlID49IDk3KSB2YWwgPSBjb2RlIC0gOTcgKyAxMDsgLy8gYVxuICAgICAgZWxzZSBpZiAoY29kZSA+PSA2NSkgdmFsID0gY29kZSAtIDY1ICsgMTA7IC8vIEFcbiAgICAgIGVsc2UgaWYgKGNvZGUgPj0gNDggJiYgY29kZSA8PSA1NykgdmFsID0gY29kZSAtIDQ4OyAvLyAwLTlcbiAgICAgIGVsc2UgdmFsID0gSW5maW5pdHk7XG4gICAgICBpZiAodmFsID49IHJhZGl4KSBicmVhaztcbiAgICAgICsrdG9rUG9zO1xuICAgICAgdG90YWwgPSB0b3RhbCAqIHJhZGl4ICsgdmFsO1xuICAgIH1cbiAgICBpZiAodG9rUG9zID09PSBzdGFydCB8fCBsZW4gIT0gbnVsbCAmJiB0b2tQb3MgLSBzdGFydCAhPT0gbGVuKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRIZXhOdW1iZXIoKSB7XG4gICAgdG9rUG9zICs9IDI7IC8vIDB4XG4gICAgdmFyIHZhbCA9IHJlYWRJbnQoMTYpO1xuICAgIGlmICh2YWwgPT0gbnVsbCkgcmFpc2UodG9rU3RhcnQgKyAyLCBcIkV4cGVjdGVkIGhleGFkZWNpbWFsIG51bWJlclwiKTtcbiAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpKSkgcmFpc2UodG9rUG9zLCBcIklkZW50aWZpZXIgZGlyZWN0bHkgYWZ0ZXIgbnVtYmVyXCIpO1xuICAgIHJldHVybiBmaW5pc2hUb2tlbihfbnVtLCB2YWwpO1xuICB9XG5cbiAgLy8gUmVhZCBhbiBpbnRlZ2VyLCBvY3RhbCBpbnRlZ2VyLCBvciBmbG9hdGluZy1wb2ludCBudW1iZXIuXG5cbiAgZnVuY3Rpb24gcmVhZE51bWJlcihzdGFydHNXaXRoRG90KSB7XG4gICAgdmFyIHN0YXJ0ID0gdG9rUG9zLCBpc0Zsb2F0ID0gZmFsc2UsIG9jdGFsID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpID09PSA0ODtcbiAgICBpZiAoIXN0YXJ0c1dpdGhEb3QgJiYgcmVhZEludCgxMCkgPT09IG51bGwpIHJhaXNlKHN0YXJ0LCBcIkludmFsaWQgbnVtYmVyXCIpO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHRva1BvcykgPT09IDQ2KSB7XG4gICAgICArK3Rva1BvcztcbiAgICAgIHJlYWRJbnQoMTApO1xuICAgICAgaXNGbG9hdCA9IHRydWU7XG4gICAgfVxuICAgIHZhciBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpO1xuICAgIGlmIChuZXh0ID09PSA2OSB8fCBuZXh0ID09PSAxMDEpIHsgLy8gJ2VFJ1xuICAgICAgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQoKyt0b2tQb3MpO1xuICAgICAgaWYgKG5leHQgPT09IDQzIHx8IG5leHQgPT09IDQ1KSArK3Rva1BvczsgLy8gJystJ1xuICAgICAgaWYgKHJlYWRJbnQoMTApID09PSBudWxsKSByYWlzZShzdGFydCwgXCJJbnZhbGlkIG51bWJlclwiKTtcbiAgICAgIGlzRmxvYXQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpKSkgcmFpc2UodG9rUG9zLCBcIklkZW50aWZpZXIgZGlyZWN0bHkgYWZ0ZXIgbnVtYmVyXCIpO1xuXG4gICAgdmFyIHN0ciA9IGlucHV0LnNsaWNlKHN0YXJ0LCB0b2tQb3MpLCB2YWw7XG4gICAgaWYgKGlzRmxvYXQpIHZhbCA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgICBlbHNlIGlmICghb2N0YWwgfHwgc3RyLmxlbmd0aCA9PT0gMSkgdmFsID0gcGFyc2VJbnQoc3RyLCAxMCk7XG4gICAgZWxzZSBpZiAoL1s4OV0vLnRlc3Qoc3RyKSB8fCBzdHJpY3QpIHJhaXNlKHN0YXJ0LCBcIkludmFsaWQgbnVtYmVyXCIpO1xuICAgIGVsc2UgdmFsID0gcGFyc2VJbnQoc3RyLCA4KTtcbiAgICByZXR1cm4gZmluaXNoVG9rZW4oX251bSwgdmFsKTtcbiAgfVxuXG4gIC8vIFJlYWQgYSBzdHJpbmcgdmFsdWUsIGludGVycHJldGluZyBiYWNrc2xhc2gtZXNjYXBlcy5cblxuICBmdW5jdGlvbiByZWFkU3RyaW5nKHF1b3RlKSB7XG4gICAgdG9rUG9zKys7XG4gICAgdmFyIG91dCA9IFwiXCI7XG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKHRva1BvcyA+PSBpbnB1dExlbikgcmFpc2UodG9rU3RhcnQsIFwiVW50ZXJtaW5hdGVkIHN0cmluZyBjb25zdGFudFwiKTtcbiAgICAgIHZhciBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKTtcbiAgICAgIGlmIChjaCA9PT0gcXVvdGUpIHtcbiAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgIHJldHVybiBmaW5pc2hUb2tlbihfc3RyaW5nLCBvdXQpO1xuICAgICAgfVxuICAgICAgaWYgKGNoID09PSA5MikgeyAvLyAnXFwnXG4gICAgICAgIGNoID0gaW5wdXQuY2hhckNvZGVBdCgrK3Rva1Bvcyk7XG4gICAgICAgIHZhciBvY3RhbCA9IC9eWzAtN10rLy5leGVjKGlucHV0LnNsaWNlKHRva1BvcywgdG9rUG9zICsgMykpO1xuICAgICAgICBpZiAob2N0YWwpIG9jdGFsID0gb2N0YWxbMF07XG4gICAgICAgIHdoaWxlIChvY3RhbCAmJiBwYXJzZUludChvY3RhbCwgOCkgPiAyNTUpIG9jdGFsID0gb2N0YWwuc2xpY2UoMCwgLTEpO1xuICAgICAgICBpZiAob2N0YWwgPT09IFwiMFwiKSBvY3RhbCA9IG51bGw7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgICBpZiAob2N0YWwpIHtcbiAgICAgICAgICBpZiAoc3RyaWN0KSByYWlzZSh0b2tQb3MgLSAyLCBcIk9jdGFsIGxpdGVyYWwgaW4gc3RyaWN0IG1vZGVcIik7XG4gICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQob2N0YWwsIDgpKTtcbiAgICAgICAgICB0b2tQb3MgKz0gb2N0YWwubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgY2FzZSAxMTA6IG91dCArPSBcIlxcblwiOyBicmVhazsgLy8gJ24nIC0+ICdcXG4nXG4gICAgICAgICAgY2FzZSAxMTQ6IG91dCArPSBcIlxcclwiOyBicmVhazsgLy8gJ3InIC0+ICdcXHInXG4gICAgICAgICAgY2FzZSAxMjA6IG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJlYWRIZXhDaGFyKDIpKTsgYnJlYWs7IC8vICd4J1xuICAgICAgICAgIGNhc2UgMTE3OiBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShyZWFkSGV4Q2hhcig0KSk7IGJyZWFrOyAvLyAndSdcbiAgICAgICAgICBjYXNlIDg1OiBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShyZWFkSGV4Q2hhcig4KSk7IGJyZWFrOyAvLyAnVSdcbiAgICAgICAgICBjYXNlIDExNjogb3V0ICs9IFwiXFx0XCI7IGJyZWFrOyAvLyAndCcgLT4gJ1xcdCdcbiAgICAgICAgICBjYXNlIDk4OiBvdXQgKz0gXCJcXGJcIjsgYnJlYWs7IC8vICdiJyAtPiAnXFxiJ1xuICAgICAgICAgIGNhc2UgMTE4OiBvdXQgKz0gXCJcXHUwMDBiXCI7IGJyZWFrOyAvLyAndicgLT4gJ1xcdTAwMGInXG4gICAgICAgICAgY2FzZSAxMDI6IG91dCArPSBcIlxcZlwiOyBicmVhazsgLy8gJ2YnIC0+ICdcXGYnXG4gICAgICAgICAgY2FzZSA0ODogb3V0ICs9IFwiXFwwXCI7IGJyZWFrOyAvLyAwIC0+ICdcXDAnXG4gICAgICAgICAgY2FzZSAxMzogaWYgKGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKSA9PT0gMTApICsrdG9rUG9zOyAvLyAnXFxyXFxuJ1xuICAgICAgICAgIGNhc2UgMTA6IC8vICcgXFxuJ1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB7IHRva0xpbmVTdGFydCA9IHRva1BvczsgKyt0b2tDdXJMaW5lOyB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaCk7IGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNoID09PSAxMyB8fCBjaCA9PT0gMTAgfHwgY2ggPT09IDgyMzIgfHwgY2ggPT09IDgyMzMpIHJhaXNlKHRva1N0YXJ0LCBcIlVudGVybWluYXRlZCBzdHJpbmcgY29uc3RhbnRcIik7XG4gICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKTsgLy8gJ1xcJ1xuICAgICAgICArK3Rva1BvcztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBVc2VkIHRvIHJlYWQgY2hhcmFjdGVyIGVzY2FwZSBzZXF1ZW5jZXMgKCdcXHgnLCAnXFx1JywgJ1xcVScpLlxuXG4gIGZ1bmN0aW9uIHJlYWRIZXhDaGFyKGxlbikge1xuICAgIHZhciBuID0gcmVhZEludCgxNiwgbGVuKTtcbiAgICBpZiAobiA9PT0gbnVsbCkgcmFpc2UodG9rU3RhcnQsIFwiQmFkIGNoYXJhY3RlciBlc2NhcGUgc2VxdWVuY2VcIik7XG4gICAgcmV0dXJuIG47XG4gIH1cblxuICAvLyBVc2VkIHRvIHNpZ25hbCB0byBjYWxsZXJzIG9mIGByZWFkV29yZDFgIHdoZXRoZXIgdGhlIHdvcmRcbiAgLy8gY29udGFpbmVkIGFueSBlc2NhcGUgc2VxdWVuY2VzLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHdvcmRzIHdpdGhcbiAgLy8gZXNjYXBlIHNlcXVlbmNlcyBtdXN0IG5vdCBiZSBpbnRlcnByZXRlZCBhcyBrZXl3b3Jkcy5cblxuICB2YXIgY29udGFpbnNFc2M7XG5cbiAgLy8gUmVhZCBhbiBpZGVudGlmaWVyLCBhbmQgcmV0dXJuIGl0IGFzIGEgc3RyaW5nLiBTZXRzIGBjb250YWluc0VzY2BcbiAgLy8gdG8gd2hldGhlciB0aGUgd29yZCBjb250YWluZWQgYSAnXFx1JyBlc2NhcGUuXG4gIC8vXG4gIC8vIE9ubHkgYnVpbGRzIHVwIHRoZSB3b3JkIGNoYXJhY3Rlci1ieS1jaGFyYWN0ZXIgd2hlbiBpdCBhY3R1YWxseVxuICAvLyBjb250YWluZWRzIGFuIGVzY2FwZSwgYXMgYSBtaWNyby1vcHRpbWl6YXRpb24uXG5cbiAgZnVuY3Rpb24gcmVhZFdvcmQxKCkge1xuICAgIGNvbnRhaW5zRXNjID0gZmFsc2U7XG4gICAgdmFyIHdvcmQsIGZpcnN0ID0gdHJ1ZSwgc3RhcnQgPSB0b2tQb3M7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIGNoID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpO1xuICAgICAgaWYgKGlzSWRlbnRpZmllckNoYXIoY2gpKSB7XG4gICAgICAgIGlmIChjb250YWluc0VzYykgd29yZCArPSBpbnB1dC5jaGFyQXQodG9rUG9zKTtcbiAgICAgICAgKyt0b2tQb3M7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSA5MikgeyAvLyBcIlxcXCJcbiAgICAgICAgaWYgKCFjb250YWluc0VzYykgd29yZCA9IGlucHV0LnNsaWNlKHN0YXJ0LCB0b2tQb3MpO1xuICAgICAgICBjb250YWluc0VzYyA9IHRydWU7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KCsrdG9rUG9zKSAhPSAxMTcpIC8vIFwidVwiXG4gICAgICAgICAgcmFpc2UodG9rUG9zLCBcIkV4cGVjdGluZyBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZSBcXFxcdVhYWFhcIik7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgICB2YXIgZXNjID0gcmVhZEhleENoYXIoNCk7XG4gICAgICAgIHZhciBlc2NTdHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGVzYyk7XG4gICAgICAgIGlmICghZXNjU3RyKSByYWlzZSh0b2tQb3MgLSAxLCBcIkludmFsaWQgVW5pY29kZSBlc2NhcGVcIik7XG4gICAgICAgIGlmICghKGZpcnN0ID8gaXNJZGVudGlmaWVyU3RhcnQoZXNjKSA6IGlzSWRlbnRpZmllckNoYXIoZXNjKSkpXG4gICAgICAgICAgcmFpc2UodG9rUG9zIC0gNCwgXCJJbnZhbGlkIFVuaWNvZGUgZXNjYXBlXCIpO1xuICAgICAgICB3b3JkICs9IGVzY1N0cjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRhaW5zRXNjID8gd29yZCA6IGlucHV0LnNsaWNlKHN0YXJ0LCB0b2tQb3MpO1xuICB9XG5cbiAgLy8gUmVhZCBhbiBpZGVudGlmaWVyIG9yIGtleXdvcmQgdG9rZW4uIFdpbGwgY2hlY2sgZm9yIHJlc2VydmVkXG4gIC8vIHdvcmRzIHdoZW4gbmVjZXNzYXJ5LlxuXG4gIGZ1bmN0aW9uIHJlYWRXb3JkKCkge1xuICAgIHZhciB3b3JkID0gcmVhZFdvcmQxKCk7XG4gICAgdmFyIHR5cGUgPSBfbmFtZTtcbiAgICBpZiAoIWNvbnRhaW5zRXNjKSB7XG4gICAgICBpZiAoaXNLZXl3b3JkKHdvcmQpKSB0eXBlID0ga2V5d29yZFR5cGVzW3dvcmRdO1xuICAgICAgZWxzZSBpZiAob3B0aW9ucy5mb3JiaWRSZXNlcnZlZCAmJlxuICAgICAgICAgICAgICAgKG9wdGlvbnMuZWNtYVZlcnNpb24gPT09IDMgPyBpc1Jlc2VydmVkV29yZDMgOiBpc1Jlc2VydmVkV29yZDUpKHdvcmQpIHx8XG4gICAgICAgICAgICAgICBzdHJpY3QgJiYgaXNTdHJpY3RSZXNlcnZlZFdvcmQod29yZCkpXG4gICAgICAgIHJhaXNlKHRva1N0YXJ0LCBcIlRoZSBrZXl3b3JkICdcIiArIHdvcmQgKyBcIicgaXMgcmVzZXJ2ZWRcIik7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hUb2tlbih0eXBlLCB3b3JkKTtcbiAgfVxuXG4gIC8vICMjIFBhcnNlclxuXG4gIC8vIEEgcmVjdXJzaXZlIGRlc2NlbnQgcGFyc2VyIG9wZXJhdGVzIGJ5IGRlZmluaW5nIGZ1bmN0aW9ucyBmb3IgYWxsXG4gIC8vIHN5bnRhY3RpYyBlbGVtZW50cywgYW5kIHJlY3Vyc2l2ZWx5IGNhbGxpbmcgdGhvc2UsIGVhY2ggZnVuY3Rpb25cbiAgLy8gYWR2YW5jaW5nIHRoZSBpbnB1dCBzdHJlYW0gYW5kIHJldHVybmluZyBhbiBBU1Qgbm9kZS4gUHJlY2VkZW5jZVxuICAvLyBvZiBjb25zdHJ1Y3RzIChmb3IgZXhhbXBsZSwgdGhlIGZhY3QgdGhhdCBgIXhbMV1gIG1lYW5zIGAhKHhbMV0pYFxuICAvLyBpbnN0ZWFkIG9mIGAoIXgpWzFdYCBpcyBoYW5kbGVkIGJ5IHRoZSBmYWN0IHRoYXQgdGhlIHBhcnNlclxuICAvLyBmdW5jdGlvbiB0aGF0IHBhcnNlcyB1bmFyeSBwcmVmaXggb3BlcmF0b3JzIGlzIGNhbGxlZCBmaXJzdCwgYW5kXG4gIC8vIGluIHR1cm4gY2FsbHMgdGhlIGZ1bmN0aW9uIHRoYXQgcGFyc2VzIGBbXWAgc3Vic2NyaXB0cyDigJQgdGhhdFxuICAvLyB3YXksIGl0J2xsIHJlY2VpdmUgdGhlIG5vZGUgZm9yIGB4WzFdYCBhbHJlYWR5IHBhcnNlZCwgYW5kIHdyYXBzXG4gIC8vICp0aGF0KiBpbiB0aGUgdW5hcnkgb3BlcmF0b3Igbm9kZS5cbiAgLy9cbiAgLy8gQWNvcm4gdXNlcyBhbiBbb3BlcmF0b3IgcHJlY2VkZW5jZSBwYXJzZXJdW29wcF0gdG8gaGFuZGxlIGJpbmFyeVxuICAvLyBvcGVyYXRvciBwcmVjZWRlbmNlLCBiZWNhdXNlIGl0IGlzIG11Y2ggbW9yZSBjb21wYWN0IHRoYW4gdXNpbmdcbiAgLy8gdGhlIHRlY2huaXF1ZSBvdXRsaW5lZCBhYm92ZSwgd2hpY2ggdXNlcyBkaWZmZXJlbnQsIG5lc3RpbmdcbiAgLy8gZnVuY3Rpb25zIHRvIHNwZWNpZnkgcHJlY2VkZW5jZSwgZm9yIGFsbCBvZiB0aGUgdGVuIGJpbmFyeVxuICAvLyBwcmVjZWRlbmNlIGxldmVscyB0aGF0IEphdmFTY3JpcHQgZGVmaW5lcy5cbiAgLy9cbiAgLy8gW29wcF06IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3BlcmF0b3ItcHJlY2VkZW5jZV9wYXJzZXJcblxuICAvLyAjIyMgUGFyc2VyIHV0aWxpdGllc1xuXG4gIC8vIENvbnRpbnVlIHRvIHRoZSBuZXh0IHRva2VuLlxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgbGFzdFN0YXJ0ID0gdG9rU3RhcnQ7XG4gICAgbGFzdEVuZCA9IHRva0VuZDtcbiAgICBsYXN0RW5kTG9jID0gdG9rRW5kTG9jO1xuICAgIHJlYWRUb2tlbigpO1xuICB9XG5cbiAgLy8gRW50ZXIgc3RyaWN0IG1vZGUuIFJlLXJlYWRzIHRoZSBuZXh0IHRva2VuIHRvIHBsZWFzZSBwZWRhbnRpY1xuICAvLyB0ZXN0cyAoXCJ1c2Ugc3RyaWN0XCI7IDAxMDsgLS0gc2hvdWxkIGZhaWwpLlxuXG4gIGZ1bmN0aW9uIHNldFN0cmljdChzdHJjdCkge1xuICAgIHN0cmljdCA9IHN0cmN0O1xuICAgIHRva1BvcyA9IGxhc3RFbmQ7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB7XG4gICAgICB3aGlsZSAodG9rUG9zIDwgdG9rTGluZVN0YXJ0KSB7XG4gICAgICAgIHRva0xpbmVTdGFydCA9IGlucHV0Lmxhc3RJbmRleE9mKFwiXFxuXCIsIHRva0xpbmVTdGFydCAtIDIpICsgMTtcbiAgICAgICAgLS10b2tDdXJMaW5lO1xuICAgICAgfVxuICAgIH1cbiAgICBza2lwU3BhY2UoKTtcbiAgICByZWFkVG9rZW4oKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGFuIEFTVCBub2RlLCBhdHRhY2hpbmcgYSBzdGFydCBvZmZzZXQuXG5cbiAgZnVuY3Rpb24gbm9kZV90KCkge1xuICAgIHRoaXMudHlwZSA9IG51bGw7XG4gICAgdGhpcy5zdGFydCA9IHRva1N0YXJ0O1xuICAgIHRoaXMuZW5kID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vZGVfbG9jX3QoKSB7XG4gICAgdGhpcy5zdGFydCA9IHRva1N0YXJ0TG9jO1xuICAgIHRoaXMuZW5kID0gbnVsbDtcbiAgICBpZiAoc291cmNlRmlsZSAhPT0gbnVsbCkgdGhpcy5zb3VyY2UgPSBzb3VyY2VGaWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnROb2RlKCkge1xuICAgIHZhciBub2RlID0gbmV3IG5vZGVfdCgpO1xuICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucylcbiAgICAgIG5vZGUubG9jID0gbmV3IG5vZGVfbG9jX3QoKTtcbiAgICBpZiAob3B0aW9ucy5kaXJlY3RTb3VyY2VGaWxlKVxuICAgICAgbm9kZS5zb3VyY2VGaWxlID0gb3B0aW9ucy5kaXJlY3RTb3VyY2VGaWxlO1xuICAgIGlmIChvcHRpb25zLnJhbmdlcylcbiAgICAgIG5vZGUucmFuZ2UgPSBbdG9rU3RhcnQsIDBdO1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLy8gU3RhcnQgYSBub2RlIHdob3NlIHN0YXJ0IG9mZnNldCBpbmZvcm1hdGlvbiBzaG91bGQgYmUgYmFzZWQgb25cbiAgLy8gdGhlIHN0YXJ0IG9mIGFub3RoZXIgbm9kZS4gRm9yIGV4YW1wbGUsIGEgYmluYXJ5IG9wZXJhdG9yIG5vZGUgaXNcbiAgLy8gb25seSBzdGFydGVkIGFmdGVyIGl0cyBsZWZ0LWhhbmQgc2lkZSBoYXMgYWxyZWFkeSBiZWVuIHBhcnNlZC5cblxuICBmdW5jdGlvbiBzdGFydE5vZGVGcm9tKG90aGVyKSB7XG4gICAgdmFyIG5vZGUgPSBuZXcgbm9kZV90KCk7XG4gICAgbm9kZS5zdGFydCA9IG90aGVyLnN0YXJ0O1xuICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykge1xuICAgICAgbm9kZS5sb2MgPSBuZXcgbm9kZV9sb2NfdCgpO1xuICAgICAgbm9kZS5sb2Muc3RhcnQgPSBvdGhlci5sb2Muc3RhcnQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJhbmdlcylcbiAgICAgIG5vZGUucmFuZ2UgPSBbb3RoZXIucmFuZ2VbMF0sIDBdO1xuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvLyBGaW5pc2ggYW4gQVNUIG5vZGUsIGFkZGluZyBgdHlwZWAgYW5kIGBlbmRgIHByb3BlcnRpZXMuXG5cbiAgZnVuY3Rpb24gZmluaXNoTm9kZShub2RlLCB0eXBlKSB7XG4gICAgbm9kZS50eXBlID0gdHlwZTtcbiAgICBub2RlLmVuZCA9IGxhc3RFbmQ7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKVxuICAgICAgbm9kZS5sb2MuZW5kID0gbGFzdEVuZExvYztcbiAgICBpZiAob3B0aW9ucy5yYW5nZXMpXG4gICAgICBub2RlLnJhbmdlWzFdID0gbGFzdEVuZDtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8vIFRlc3Qgd2hldGhlciBhIHN0YXRlbWVudCBub2RlIGlzIHRoZSBzdHJpbmcgbGl0ZXJhbCBgXCJ1c2Ugc3RyaWN0XCJgLlxuXG4gIGZ1bmN0aW9uIGlzVXNlU3RyaWN0KHN0bXQpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5lY21hVmVyc2lvbiA+PSA1ICYmIHN0bXQudHlwZSA9PT0gXCJFeHByZXNzaW9uU3RhdGVtZW50XCIgJiZcbiAgICAgIHN0bXQuZXhwcmVzc2lvbi50eXBlID09PSBcIkxpdGVyYWxcIiAmJiBzdG10LmV4cHJlc3Npb24udmFsdWUgPT09IFwidXNlIHN0cmljdFwiO1xuICB9XG5cbiAgLy8gUHJlZGljYXRlIHRoYXQgdGVzdHMgd2hldGhlciB0aGUgbmV4dCB0b2tlbiBpcyBvZiB0aGUgZ2l2ZW5cbiAgLy8gdHlwZSwgYW5kIGlmIHllcywgY29uc3VtZXMgaXQgYXMgYSBzaWRlIGVmZmVjdC5cblxuICBmdW5jdGlvbiBlYXQodHlwZSkge1xuICAgIGlmICh0b2tUeXBlID09PSB0eXBlKSB7XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBUZXN0IHdoZXRoZXIgYSBzZW1pY29sb24gY2FuIGJlIGluc2VydGVkIGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuXG4gIGZ1bmN0aW9uIGNhbkluc2VydFNlbWljb2xvbigpIHtcbiAgICByZXR1cm4gIW9wdGlvbnMuc3RyaWN0U2VtaWNvbG9ucyAmJlxuICAgICAgKHRva1R5cGUgPT09IF9lb2YgfHwgdG9rVHlwZSA9PT0gX2JyYWNlUiB8fCBuZXdsaW5lLnRlc3QoaW5wdXQuc2xpY2UobGFzdEVuZCwgdG9rU3RhcnQpKSk7XG4gIH1cblxuICAvLyBDb25zdW1lIGEgc2VtaWNvbG9uLCBvciwgZmFpbGluZyB0aGF0LCBzZWUgaWYgd2UgYXJlIGFsbG93ZWQgdG9cbiAgLy8gcHJldGVuZCB0aGF0IHRoZXJlIGlzIGEgc2VtaWNvbG9uIGF0IHRoaXMgcG9zaXRpb24uXG5cbiAgZnVuY3Rpb24gc2VtaWNvbG9uKCkge1xuICAgIGlmICghZWF0KF9zZW1pKSAmJiAhY2FuSW5zZXJ0U2VtaWNvbG9uKCkpIHVuZXhwZWN0ZWQoKTtcbiAgfVxuXG4gIC8vIEV4cGVjdCBhIHRva2VuIG9mIGEgZ2l2ZW4gdHlwZS4gSWYgZm91bmQsIGNvbnN1bWUgaXQsIG90aGVyd2lzZSxcbiAgLy8gcmFpc2UgYW4gdW5leHBlY3RlZCB0b2tlbiBlcnJvci5cblxuICBmdW5jdGlvbiBleHBlY3QodHlwZSkge1xuICAgIGlmICh0b2tUeXBlID09PSB0eXBlKSBuZXh0KCk7XG4gICAgZWxzZSB1bmV4cGVjdGVkKCk7XG4gIH1cblxuICAvLyBSYWlzZSBhbiB1bmV4cGVjdGVkIHRva2VuIGVycm9yLlxuXG4gIGZ1bmN0aW9uIHVuZXhwZWN0ZWQoKSB7XG4gICAgcmFpc2UodG9rU3RhcnQsIFwiVW5leHBlY3RlZCB0b2tlblwiKTtcbiAgfVxuXG4gIC8vIFZlcmlmeSB0aGF0IGEgbm9kZSBpcyBhbiBsdmFsIOKAlCBzb21ldGhpbmcgdGhhdCBjYW4gYmUgYXNzaWduZWRcbiAgLy8gdG8uXG5cbiAgZnVuY3Rpb24gY2hlY2tMVmFsKGV4cHIpIHtcbiAgICBpZiAoZXhwci50eXBlICE9PSBcIklkZW50aWZpZXJcIiAmJiBleHByLnR5cGUgIT09IFwiTWVtYmVyRXhwcmVzc2lvblwiKVxuICAgICAgcmFpc2UoZXhwci5zdGFydCwgXCJBc3NpZ25pbmcgdG8gcnZhbHVlXCIpO1xuICAgIGlmIChzdHJpY3QgJiYgZXhwci50eXBlID09PSBcIklkZW50aWZpZXJcIiAmJiBpc1N0cmljdEJhZElkV29yZChleHByLm5hbWUpKVxuICAgICAgcmFpc2UoZXhwci5zdGFydCwgXCJBc3NpZ25pbmcgdG8gXCIgKyBleHByLm5hbWUgKyBcIiBpbiBzdHJpY3QgbW9kZVwiKTtcbiAgfVxuXG4gIC8vICMjIyBTdGF0ZW1lbnQgcGFyc2luZ1xuXG4gIC8vIFBhcnNlIGEgcHJvZ3JhbS4gSW5pdGlhbGl6ZXMgdGhlIHBhcnNlciwgcmVhZHMgYW55IG51bWJlciBvZlxuICAvLyBzdGF0ZW1lbnRzLCBhbmQgd3JhcHMgdGhlbSBpbiBhIFByb2dyYW0gbm9kZS4gIE9wdGlvbmFsbHkgdGFrZXMgYVxuICAvLyBgcHJvZ3JhbWAgYXJndW1lbnQuICBJZiBwcmVzZW50LCB0aGUgc3RhdGVtZW50cyB3aWxsIGJlIGFwcGVuZGVkXG4gIC8vIHRvIGl0cyBib2R5IGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgbm9kZS5cblxuICBmdW5jdGlvbiBwYXJzZVRvcExldmVsKHByb2dyYW0pIHtcbiAgICBsYXN0U3RhcnQgPSBsYXN0RW5kID0gdG9rUG9zO1xuICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykgbGFzdEVuZExvYyA9IG5ldyBsaW5lX2xvY190O1xuICAgIGluRnVuY3Rpb24gPSBzdHJpY3QgPSBudWxsO1xuICAgIGxhYmVscyA9IFtdO1xuICAgIHJlYWRUb2tlbigpO1xuXG4gICAgdmFyIG5vZGUgPSBwcm9ncmFtIHx8IHN0YXJ0Tm9kZSgpLCBmaXJzdCA9IHRydWU7XG4gICAgaWYgKCFwcm9ncmFtKSBub2RlLmJvZHkgPSBbXTtcbiAgICB3aGlsZSAodG9rVHlwZSAhPT0gX2VvZikge1xuICAgICAgdmFyIHN0bXQgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgbm9kZS5ib2R5LnB1c2goc3RtdCk7XG4gICAgICBpZiAoZmlyc3QgJiYgaXNVc2VTdHJpY3Qoc3RtdCkpIHNldFN0cmljdCh0cnVlKTtcbiAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiUHJvZ3JhbVwiKTtcbiAgfVxuXG4gIHZhciBsb29wTGFiZWwgPSB7a2luZDogXCJsb29wXCJ9LCBzd2l0Y2hMYWJlbCA9IHtraW5kOiBcInN3aXRjaFwifTtcblxuICAvLyBQYXJzZSBhIHNpbmdsZSBzdGF0ZW1lbnQuXG4gIC8vXG4gIC8vIElmIGV4cGVjdGluZyBhIHN0YXRlbWVudCBhbmQgZmluZGluZyBhIHNsYXNoIG9wZXJhdG9yLCBwYXJzZSBhXG4gIC8vIHJlZ3VsYXIgZXhwcmVzc2lvbiBsaXRlcmFsLiBUaGlzIGlzIHRvIGhhbmRsZSBjYXNlcyBsaWtlXG4gIC8vIGBpZiAoZm9vKSAvYmxhaC8uZXhlYyhmb28pO2AsIHdoZXJlIGxvb2tpbmcgYXQgdGhlIHByZXZpb3VzIHRva2VuXG4gIC8vIGRvZXMgbm90IGhlbHAuXG5cbiAgZnVuY3Rpb24gcGFyc2VTdGF0ZW1lbnQoKSB7XG4gICAgaWYgKHRva1R5cGUgPT09IF9zbGFzaCB8fCB0b2tUeXBlID09PSBfYXNzaWduICYmIHRva1ZhbCA9PSBcIi89XCIpXG4gICAgICByZWFkVG9rZW4odHJ1ZSk7XG5cbiAgICB2YXIgc3RhcnR0eXBlID0gdG9rVHlwZSwgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuXG4gICAgLy8gTW9zdCB0eXBlcyBvZiBzdGF0ZW1lbnRzIGFyZSByZWNvZ25pemVkIGJ5IHRoZSBrZXl3b3JkIHRoZXlcbiAgICAvLyBzdGFydCB3aXRoLiBNYW55IGFyZSB0cml2aWFsIHRvIHBhcnNlLCBzb21lIHJlcXVpcmUgYSBiaXQgb2ZcbiAgICAvLyBjb21wbGV4aXR5LlxuXG4gICAgc3dpdGNoIChzdGFydHR5cGUpIHtcbiAgICBjYXNlIF9icmVhazogY2FzZSBfY29udGludWU6XG4gICAgICBuZXh0KCk7XG4gICAgICB2YXIgaXNCcmVhayA9IHN0YXJ0dHlwZSA9PT0gX2JyZWFrO1xuICAgICAgaWYgKGVhdChfc2VtaSkgfHwgY2FuSW5zZXJ0U2VtaWNvbG9uKCkpIG5vZGUubGFiZWwgPSBudWxsO1xuICAgICAgZWxzZSBpZiAodG9rVHlwZSAhPT0gX25hbWUpIHVuZXhwZWN0ZWQoKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBub2RlLmxhYmVsID0gcGFyc2VJZGVudCgpO1xuICAgICAgICBzZW1pY29sb24oKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IHRoYXQgdGhlcmUgaXMgYW4gYWN0dWFsIGRlc3RpbmF0aW9uIHRvIGJyZWFrIG9yXG4gICAgICAvLyBjb250aW51ZSB0by5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsYWIgPSBsYWJlbHNbaV07XG4gICAgICAgIGlmIChub2RlLmxhYmVsID09IG51bGwgfHwgbGFiLm5hbWUgPT09IG5vZGUubGFiZWwubmFtZSkge1xuICAgICAgICAgIGlmIChsYWIua2luZCAhPSBudWxsICYmIChpc0JyZWFrIHx8IGxhYi5raW5kID09PSBcImxvb3BcIikpIGJyZWFrO1xuICAgICAgICAgIGlmIChub2RlLmxhYmVsICYmIGlzQnJlYWspIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaSA9PT0gbGFiZWxzLmxlbmd0aCkgcmFpc2Uobm9kZS5zdGFydCwgXCJVbnN5bnRhY3RpYyBcIiArIHN0YXJ0dHlwZS5rZXl3b3JkKTtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIGlzQnJlYWsgPyBcIkJyZWFrU3RhdGVtZW50XCIgOiBcIkNvbnRpbnVlU3RhdGVtZW50XCIpO1xuXG4gICAgY2FzZSBfZGVidWdnZXI6XG4gICAgICBuZXh0KCk7XG4gICAgICBzZW1pY29sb24oKTtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiRGVidWdnZXJTdGF0ZW1lbnRcIik7XG5cbiAgICBjYXNlIF9kbzpcbiAgICAgIG5leHQoKTtcbiAgICAgIGxhYmVscy5wdXNoKGxvb3BMYWJlbCk7XG4gICAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgbGFiZWxzLnBvcCgpO1xuICAgICAgZXhwZWN0KF93aGlsZSk7XG4gICAgICBub2RlLnRlc3QgPSBwYXJzZVBhcmVuRXhwcmVzc2lvbigpO1xuICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIkRvV2hpbGVTdGF0ZW1lbnRcIik7XG5cbiAgICAgIC8vIERpc2FtYmlndWF0aW5nIGJldHdlZW4gYSBgZm9yYCBhbmQgYSBgZm9yYC9gaW5gIGxvb3AgaXNcbiAgICAgIC8vIG5vbi10cml2aWFsLiBCYXNpY2FsbHksIHdlIGhhdmUgdG8gcGFyc2UgdGhlIGluaXQgYHZhcmBcbiAgICAgIC8vIHN0YXRlbWVudCBvciBleHByZXNzaW9uLCBkaXNhbGxvd2luZyB0aGUgYGluYCBvcGVyYXRvciAoc2VlXG4gICAgICAvLyB0aGUgc2Vjb25kIHBhcmFtZXRlciB0byBgcGFyc2VFeHByZXNzaW9uYCksIGFuZCB0aGVuIGNoZWNrXG4gICAgICAvLyB3aGV0aGVyIHRoZSBuZXh0IHRva2VuIGlzIGBpbmAuIFdoZW4gdGhlcmUgaXMgbm8gaW5pdCBwYXJ0XG4gICAgICAvLyAoc2VtaWNvbG9uIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBvcGVuaW5nIHBhcmVudGhlc2lzKSwgaXQgaXNcbiAgICAgIC8vIGEgcmVndWxhciBgZm9yYCBsb29wLlxuXG4gICAgY2FzZSBfZm9yOlxuICAgICAgbmV4dCgpO1xuICAgICAgbGFiZWxzLnB1c2gobG9vcExhYmVsKTtcbiAgICAgIGV4cGVjdChfcGFyZW5MKTtcbiAgICAgIGlmICh0b2tUeXBlID09PSBfc2VtaSkgcmV0dXJuIHBhcnNlRm9yKG5vZGUsIG51bGwpO1xuICAgICAgaWYgKHRva1R5cGUgPT09IF92YXIpIHtcbiAgICAgICAgdmFyIGluaXQgPSBzdGFydE5vZGUoKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBwYXJzZVZhcihpbml0LCB0cnVlKTtcbiAgICAgICAgZmluaXNoTm9kZShpbml0LCBcIlZhcmlhYmxlRGVjbGFyYXRpb25cIik7XG4gICAgICAgIGlmIChpbml0LmRlY2xhcmF0aW9ucy5sZW5ndGggPT09IDEgJiYgZWF0KF9pbikpXG4gICAgICAgICAgcmV0dXJuIHBhcnNlRm9ySW4obm9kZSwgaW5pdCk7XG4gICAgICAgIHJldHVybiBwYXJzZUZvcihub2RlLCBpbml0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpbml0ID0gcGFyc2VFeHByZXNzaW9uKGZhbHNlLCB0cnVlKTtcbiAgICAgIGlmIChlYXQoX2luKSkge2NoZWNrTFZhbChpbml0KTsgcmV0dXJuIHBhcnNlRm9ySW4obm9kZSwgaW5pdCk7fVxuICAgICAgcmV0dXJuIHBhcnNlRm9yKG5vZGUsIGluaXQpO1xuXG4gICAgY2FzZSBfZnVuY3Rpb246XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbihub2RlLCB0cnVlKTtcblxuICAgIGNhc2UgX2lmOlxuICAgICAgbmV4dCgpO1xuICAgICAgbm9kZS50ZXN0ID0gcGFyc2VQYXJlbkV4cHJlc3Npb24oKTtcbiAgICAgIG5vZGUuY29uc2VxdWVudCA9IHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICBub2RlLmFsdGVybmF0ZSA9IGVhdChfZWxzZSkgPyBwYXJzZVN0YXRlbWVudCgpIDogbnVsbDtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiSWZTdGF0ZW1lbnRcIik7XG5cbiAgICBjYXNlIF9yZXR1cm46XG4gICAgICBpZiAoIWluRnVuY3Rpb24pIHJhaXNlKHRva1N0YXJ0LCBcIidyZXR1cm4nIG91dHNpZGUgb2YgZnVuY3Rpb25cIik7XG4gICAgICBuZXh0KCk7XG5cbiAgICAgIC8vIEluIGByZXR1cm5gIChhbmQgYGJyZWFrYC9gY29udGludWVgKSwgdGhlIGtleXdvcmRzIHdpdGhcbiAgICAgIC8vIG9wdGlvbmFsIGFyZ3VtZW50cywgd2UgZWFnZXJseSBsb29rIGZvciBhIHNlbWljb2xvbiBvciB0aGVcbiAgICAgIC8vIHBvc3NpYmlsaXR5IHRvIGluc2VydCBvbmUuXG5cbiAgICAgIGlmIChlYXQoX3NlbWkpIHx8IGNhbkluc2VydFNlbWljb2xvbigpKSBub2RlLmFyZ3VtZW50ID0gbnVsbDtcbiAgICAgIGVsc2UgeyBub2RlLmFyZ3VtZW50ID0gcGFyc2VFeHByZXNzaW9uKCk7IHNlbWljb2xvbigpOyB9XG4gICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIlJldHVyblN0YXRlbWVudFwiKTtcblxuICAgIGNhc2UgX3N3aXRjaDpcbiAgICAgIG5leHQoKTtcbiAgICAgIG5vZGUuZGlzY3JpbWluYW50ID0gcGFyc2VQYXJlbkV4cHJlc3Npb24oKTtcbiAgICAgIG5vZGUuY2FzZXMgPSBbXTtcbiAgICAgIGV4cGVjdChfYnJhY2VMKTtcbiAgICAgIGxhYmVscy5wdXNoKHN3aXRjaExhYmVsKTtcblxuICAgICAgLy8gU3RhdGVtZW50cyB1bmRlciBtdXN0IGJlIGdyb3VwZWQgKGJ5IGxhYmVsKSBpbiBTd2l0Y2hDYXNlXG4gICAgICAvLyBub2Rlcy4gYGN1cmAgaXMgdXNlZCB0byBrZWVwIHRoZSBub2RlIHRoYXQgd2UgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYWRkaW5nIHN0YXRlbWVudHMgdG8uXG5cbiAgICAgIGZvciAodmFyIGN1ciwgc2F3RGVmYXVsdDsgdG9rVHlwZSAhPSBfYnJhY2VSOykge1xuICAgICAgICBpZiAodG9rVHlwZSA9PT0gX2Nhc2UgfHwgdG9rVHlwZSA9PT0gX2RlZmF1bHQpIHtcbiAgICAgICAgICB2YXIgaXNDYXNlID0gdG9rVHlwZSA9PT0gX2Nhc2U7XG4gICAgICAgICAgaWYgKGN1cikgZmluaXNoTm9kZShjdXIsIFwiU3dpdGNoQ2FzZVwiKTtcbiAgICAgICAgICBub2RlLmNhc2VzLnB1c2goY3VyID0gc3RhcnROb2RlKCkpO1xuICAgICAgICAgIGN1ci5jb25zZXF1ZW50ID0gW107XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgIGlmIChpc0Nhc2UpIGN1ci50ZXN0ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2F3RGVmYXVsdCkgcmFpc2UobGFzdFN0YXJ0LCBcIk11bHRpcGxlIGRlZmF1bHQgY2xhdXNlc1wiKTsgc2F3RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICBjdXIudGVzdCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGV4cGVjdChfY29sb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY3VyKSB1bmV4cGVjdGVkKCk7XG4gICAgICAgICAgY3VyLmNvbnNlcXVlbnQucHVzaChwYXJzZVN0YXRlbWVudCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN1cikgZmluaXNoTm9kZShjdXIsIFwiU3dpdGNoQ2FzZVwiKTtcbiAgICAgIG5leHQoKTsgLy8gQ2xvc2luZyBicmFjZVxuICAgICAgbGFiZWxzLnBvcCgpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJTd2l0Y2hTdGF0ZW1lbnRcIik7XG5cbiAgICBjYXNlIF90aHJvdzpcbiAgICAgIG5leHQoKTtcbiAgICAgIGlmIChuZXdsaW5lLnRlc3QoaW5wdXQuc2xpY2UobGFzdEVuZCwgdG9rU3RhcnQpKSlcbiAgICAgICAgcmFpc2UobGFzdEVuZCwgXCJJbGxlZ2FsIG5ld2xpbmUgYWZ0ZXIgdGhyb3dcIik7XG4gICAgICBub2RlLmFyZ3VtZW50ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICBzZW1pY29sb24oKTtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiVGhyb3dTdGF0ZW1lbnRcIik7XG5cbiAgICBjYXNlIF90cnk6XG4gICAgICBuZXh0KCk7XG4gICAgICBub2RlLmJsb2NrID0gcGFyc2VCbG9jaygpO1xuICAgICAgbm9kZS5oYW5kbGVyID0gbnVsbDtcbiAgICAgIGlmICh0b2tUeXBlID09PSBfY2F0Y2gpIHtcbiAgICAgICAgdmFyIGNsYXVzZSA9IHN0YXJ0Tm9kZSgpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIGV4cGVjdChfcGFyZW5MKTtcbiAgICAgICAgY2xhdXNlLnBhcmFtID0gcGFyc2VJZGVudCgpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmIGlzU3RyaWN0QmFkSWRXb3JkKGNsYXVzZS5wYXJhbS5uYW1lKSlcbiAgICAgICAgICByYWlzZShjbGF1c2UucGFyYW0uc3RhcnQsIFwiQmluZGluZyBcIiArIGNsYXVzZS5wYXJhbS5uYW1lICsgXCIgaW4gc3RyaWN0IG1vZGVcIik7XG4gICAgICAgIGV4cGVjdChfcGFyZW5SKTtcbiAgICAgICAgY2xhdXNlLmd1YXJkID0gbnVsbDtcbiAgICAgICAgY2xhdXNlLmJvZHkgPSBwYXJzZUJsb2NrKCk7XG4gICAgICAgIG5vZGUuaGFuZGxlciA9IGZpbmlzaE5vZGUoY2xhdXNlLCBcIkNhdGNoQ2xhdXNlXCIpO1xuICAgICAgfVxuICAgICAgbm9kZS5ndWFyZGVkSGFuZGxlcnMgPSBlbXB0eTtcbiAgICAgIG5vZGUuZmluYWxpemVyID0gZWF0KF9maW5hbGx5KSA/IHBhcnNlQmxvY2soKSA6IG51bGw7XG4gICAgICBpZiAoIW5vZGUuaGFuZGxlciAmJiAhbm9kZS5maW5hbGl6ZXIpXG4gICAgICAgIHJhaXNlKG5vZGUuc3RhcnQsIFwiTWlzc2luZyBjYXRjaCBvciBmaW5hbGx5IGNsYXVzZVwiKTtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiVHJ5U3RhdGVtZW50XCIpO1xuXG4gICAgY2FzZSBfdmFyOlxuICAgICAgbmV4dCgpO1xuICAgICAgcGFyc2VWYXIobm9kZSk7XG4gICAgICBzZW1pY29sb24oKTtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiVmFyaWFibGVEZWNsYXJhdGlvblwiKTtcblxuICAgIGNhc2UgX3doaWxlOlxuICAgICAgbmV4dCgpO1xuICAgICAgbm9kZS50ZXN0ID0gcGFyc2VQYXJlbkV4cHJlc3Npb24oKTtcbiAgICAgIGxhYmVscy5wdXNoKGxvb3BMYWJlbCk7XG4gICAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgbGFiZWxzLnBvcCgpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJXaGlsZVN0YXRlbWVudFwiKTtcblxuICAgIGNhc2UgX3dpdGg6XG4gICAgICBpZiAoc3RyaWN0KSByYWlzZSh0b2tTdGFydCwgXCInd2l0aCcgaW4gc3RyaWN0IG1vZGVcIik7XG4gICAgICBuZXh0KCk7XG4gICAgICBub2RlLm9iamVjdCA9IHBhcnNlUGFyZW5FeHByZXNzaW9uKCk7XG4gICAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJXaXRoU3RhdGVtZW50XCIpO1xuXG4gICAgY2FzZSBfYnJhY2VMOlxuICAgICAgcmV0dXJuIHBhcnNlQmxvY2soKTtcblxuICAgIGNhc2UgX3NlbWk6XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIkVtcHR5U3RhdGVtZW50XCIpO1xuXG4gICAgICAvLyBJZiB0aGUgc3RhdGVtZW50IGRvZXMgbm90IHN0YXJ0IHdpdGggYSBzdGF0ZW1lbnQga2V5d29yZCBvciBhXG4gICAgICAvLyBicmFjZSwgaXQncyBhbiBFeHByZXNzaW9uU3RhdGVtZW50IG9yIExhYmVsZWRTdGF0ZW1lbnQuIFdlXG4gICAgICAvLyBzaW1wbHkgc3RhcnQgcGFyc2luZyBhbiBleHByZXNzaW9uLCBhbmQgYWZ0ZXJ3YXJkcywgaWYgdGhlXG4gICAgICAvLyBuZXh0IHRva2VuIGlzIGEgY29sb24gYW5kIHRoZSBleHByZXNzaW9uIHdhcyBhIHNpbXBsZVxuICAgICAgLy8gSWRlbnRpZmllciBub2RlLCB3ZSBzd2l0Y2ggdG8gaW50ZXJwcmV0aW5nIGl0IGFzIGEgbGFiZWwuXG5cbiAgICBkZWZhdWx0OlxuICAgICAgdmFyIG1heWJlTmFtZSA9IHRva1ZhbCwgZXhwciA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgaWYgKHN0YXJ0dHlwZSA9PT0gX25hbWUgJiYgZXhwci50eXBlID09PSBcIklkZW50aWZpZXJcIiAmJiBlYXQoX2NvbG9uKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7ICsraSlcbiAgICAgICAgICBpZiAobGFiZWxzW2ldLm5hbWUgPT09IG1heWJlTmFtZSkgcmFpc2UoZXhwci5zdGFydCwgXCJMYWJlbCAnXCIgKyBtYXliZU5hbWUgKyBcIicgaXMgYWxyZWFkeSBkZWNsYXJlZFwiKTtcbiAgICAgICAgdmFyIGtpbmQgPSB0b2tUeXBlLmlzTG9vcCA/IFwibG9vcFwiIDogdG9rVHlwZSA9PT0gX3N3aXRjaCA/IFwic3dpdGNoXCIgOiBudWxsO1xuICAgICAgICBsYWJlbHMucHVzaCh7bmFtZTogbWF5YmVOYW1lLCBraW5kOiBraW5kfSk7XG4gICAgICAgIG5vZGUuYm9keSA9IHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICAgIGxhYmVscy5wb3AoKTtcbiAgICAgICAgbm9kZS5sYWJlbCA9IGV4cHI7XG4gICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiTGFiZWxlZFN0YXRlbWVudFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuZXhwcmVzc2lvbiA9IGV4cHI7XG4gICAgICAgIHNlbWljb2xvbigpO1xuICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVXNlZCBmb3IgY29uc3RydWN0cyBsaWtlIGBzd2l0Y2hgIGFuZCBgaWZgIHRoYXQgaW5zaXN0IG9uXG4gIC8vIHBhcmVudGhlc2VzIGFyb3VuZCB0aGVpciBleHByZXNzaW9uLlxuXG4gIGZ1bmN0aW9uIHBhcnNlUGFyZW5FeHByZXNzaW9uKCkge1xuICAgIGV4cGVjdChfcGFyZW5MKTtcbiAgICB2YXIgdmFsID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgZXhwZWN0KF9wYXJlblIpO1xuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvLyBQYXJzZSBhIHNlbWljb2xvbi1lbmNsb3NlZCBibG9jayBvZiBzdGF0ZW1lbnRzLCBoYW5kbGluZyBgXCJ1c2VcbiAgLy8gc3RyaWN0XCJgIGRlY2xhcmF0aW9ucyB3aGVuIGBhbGxvd1N0cmljdGAgaXMgdHJ1ZSAodXNlZCBmb3JcbiAgLy8gZnVuY3Rpb24gYm9kaWVzKS5cblxuICBmdW5jdGlvbiBwYXJzZUJsb2NrKGFsbG93U3RyaWN0KSB7XG4gICAgdmFyIG5vZGUgPSBzdGFydE5vZGUoKSwgZmlyc3QgPSB0cnVlLCBzdHJpY3QgPSBmYWxzZSwgb2xkU3RyaWN0O1xuICAgIG5vZGUuYm9keSA9IFtdO1xuICAgIGV4cGVjdChfYnJhY2VMKTtcbiAgICB3aGlsZSAoIWVhdChfYnJhY2VSKSkge1xuICAgICAgdmFyIHN0bXQgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgbm9kZS5ib2R5LnB1c2goc3RtdCk7XG4gICAgICBpZiAoZmlyc3QgJiYgYWxsb3dTdHJpY3QgJiYgaXNVc2VTdHJpY3Qoc3RtdCkpIHtcbiAgICAgICAgb2xkU3RyaWN0ID0gc3RyaWN0O1xuICAgICAgICBzZXRTdHJpY3Qoc3RyaWN0ID0gdHJ1ZSk7XG4gICAgICB9XG4gICAgICBmaXJzdCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3RyaWN0ICYmICFvbGRTdHJpY3QpIHNldFN0cmljdChmYWxzZSk7XG4gICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJCbG9ja1N0YXRlbWVudFwiKTtcbiAgfVxuXG4gIC8vIFBhcnNlIGEgcmVndWxhciBgZm9yYCBsb29wLiBUaGUgZGlzYW1iaWd1YXRpb24gY29kZSBpblxuICAvLyBgcGFyc2VTdGF0ZW1lbnRgIHdpbGwgYWxyZWFkeSBoYXZlIHBhcnNlZCB0aGUgaW5pdCBzdGF0ZW1lbnQgb3JcbiAgLy8gZXhwcmVzc2lvbi5cblxuICBmdW5jdGlvbiBwYXJzZUZvcihub2RlLCBpbml0KSB7XG4gICAgbm9kZS5pbml0ID0gaW5pdDtcbiAgICBleHBlY3QoX3NlbWkpO1xuICAgIG5vZGUudGVzdCA9IHRva1R5cGUgPT09IF9zZW1pID8gbnVsbCA6IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIGV4cGVjdChfc2VtaSk7XG4gICAgbm9kZS51cGRhdGUgPSB0b2tUeXBlID09PSBfcGFyZW5SID8gbnVsbCA6IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIGV4cGVjdChfcGFyZW5SKTtcbiAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgIGxhYmVscy5wb3AoKTtcbiAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIkZvclN0YXRlbWVudFwiKTtcbiAgfVxuXG4gIC8vIFBhcnNlIGEgYGZvcmAvYGluYCBsb29wLlxuXG4gIGZ1bmN0aW9uIHBhcnNlRm9ySW4obm9kZSwgaW5pdCkge1xuICAgIG5vZGUubGVmdCA9IGluaXQ7XG4gICAgbm9kZS5yaWdodCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIGV4cGVjdChfcGFyZW5SKTtcbiAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgIGxhYmVscy5wb3AoKTtcbiAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIkZvckluU3RhdGVtZW50XCIpO1xuICB9XG5cbiAgLy8gUGFyc2UgYSBsaXN0IG9mIHZhcmlhYmxlIGRlY2xhcmF0aW9ucy5cblxuICBmdW5jdGlvbiBwYXJzZVZhcihub2RlLCBub0luKSB7XG4gICAgbm9kZS5kZWNsYXJhdGlvbnMgPSBbXTtcbiAgICBub2RlLmtpbmQgPSBcInZhclwiO1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBkZWNsID0gc3RhcnROb2RlKCk7XG4gICAgICBkZWNsLmlkID0gcGFyc2VJZGVudCgpO1xuICAgICAgaWYgKHN0cmljdCAmJiBpc1N0cmljdEJhZElkV29yZChkZWNsLmlkLm5hbWUpKVxuICAgICAgICByYWlzZShkZWNsLmlkLnN0YXJ0LCBcIkJpbmRpbmcgXCIgKyBkZWNsLmlkLm5hbWUgKyBcIiBpbiBzdHJpY3QgbW9kZVwiKTtcbiAgICAgIGRlY2wuaW5pdCA9IGVhdChfZXEpID8gcGFyc2VFeHByZXNzaW9uKHRydWUsIG5vSW4pIDogbnVsbDtcbiAgICAgIG5vZGUuZGVjbGFyYXRpb25zLnB1c2goZmluaXNoTm9kZShkZWNsLCBcIlZhcmlhYmxlRGVjbGFyYXRvclwiKSk7XG4gICAgICBpZiAoIWVhdChfY29tbWEpKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvLyAjIyMgRXhwcmVzc2lvbiBwYXJzaW5nXG5cbiAgLy8gVGhlc2UgbmVzdCwgZnJvbSB0aGUgbW9zdCBnZW5lcmFsIGV4cHJlc3Npb24gdHlwZSBhdCB0aGUgdG9wIHRvXG4gIC8vICdhdG9taWMnLCBub25kaXZpc2libGUgZXhwcmVzc2lvbiB0eXBlcyBhdCB0aGUgYm90dG9tLiBNb3N0IG9mXG4gIC8vIHRoZSBmdW5jdGlvbnMgd2lsbCBzaW1wbHkgbGV0IHRoZSBmdW5jdGlvbihzKSBiZWxvdyB0aGVtIHBhcnNlLFxuICAvLyBhbmQsICppZiogdGhlIHN5bnRhY3RpYyBjb25zdHJ1Y3QgdGhleSBoYW5kbGUgaXMgcHJlc2VudCwgd3JhcFxuICAvLyB0aGUgQVNUIG5vZGUgdGhhdCB0aGUgaW5uZXIgcGFyc2VyIGdhdmUgdGhlbSBpbiBhbm90aGVyIG5vZGUuXG5cbiAgLy8gUGFyc2UgYSBmdWxsIGV4cHJlc3Npb24uIFRoZSBhcmd1bWVudHMgYXJlIHVzZWQgdG8gZm9yYmlkIGNvbW1hXG4gIC8vIHNlcXVlbmNlcyAoaW4gYXJndW1lbnQgbGlzdHMsIGFycmF5IGxpdGVyYWxzLCBvciBvYmplY3QgbGl0ZXJhbHMpXG4gIC8vIG9yIHRoZSBgaW5gIG9wZXJhdG9yIChpbiBmb3IgbG9vcHMgaW5pdGFsaXphdGlvbiBleHByZXNzaW9ucykuXG5cbiAgZnVuY3Rpb24gcGFyc2VFeHByZXNzaW9uKG5vQ29tbWEsIG5vSW4pIHtcbiAgICB2YXIgZXhwciA9IHBhcnNlTWF5YmVBc3NpZ24obm9Jbik7XG4gICAgaWYgKCFub0NvbW1hICYmIHRva1R5cGUgPT09IF9jb21tYSkge1xuICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGVGcm9tKGV4cHIpO1xuICAgICAgbm9kZS5leHByZXNzaW9ucyA9IFtleHByXTtcbiAgICAgIHdoaWxlIChlYXQoX2NvbW1hKSkgbm9kZS5leHByZXNzaW9ucy5wdXNoKHBhcnNlTWF5YmVBc3NpZ24obm9JbikpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJTZXF1ZW5jZUV4cHJlc3Npb25cIik7XG4gICAgfVxuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLy8gUGFyc2UgYW4gYXNzaWdubWVudCBleHByZXNzaW9uLiBUaGlzIGluY2x1ZGVzIGFwcGxpY2F0aW9ucyBvZlxuICAvLyBvcGVyYXRvcnMgbGlrZSBgKz1gLlxuXG4gIGZ1bmN0aW9uIHBhcnNlTWF5YmVBc3NpZ24obm9Jbikge1xuICAgIHZhciBsZWZ0ID0gcGFyc2VNYXliZUNvbmRpdGlvbmFsKG5vSW4pO1xuICAgIGlmICh0b2tUeXBlLmlzQXNzaWduKSB7XG4gICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZUZyb20obGVmdCk7XG4gICAgICBub2RlLm9wZXJhdG9yID0gdG9rVmFsO1xuICAgICAgbm9kZS5sZWZ0ID0gbGVmdDtcbiAgICAgIG5leHQoKTtcbiAgICAgIG5vZGUucmlnaHQgPSBwYXJzZU1heWJlQXNzaWduKG5vSW4pO1xuICAgICAgY2hlY2tMVmFsKGxlZnQpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJBc3NpZ25tZW50RXhwcmVzc2lvblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH1cblxuICAvLyBQYXJzZSBhIHRlcm5hcnkgY29uZGl0aW9uYWwgKGA/OmApIG9wZXJhdG9yLlxuXG4gIGZ1bmN0aW9uIHBhcnNlTWF5YmVDb25kaXRpb25hbChub0luKSB7XG4gICAgdmFyIGV4cHIgPSBwYXJzZUV4cHJPcHMobm9Jbik7XG4gICAgaWYgKGVhdChfcXVlc3Rpb24pKSB7XG4gICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZUZyb20oZXhwcik7XG4gICAgICBub2RlLnRlc3QgPSBleHByO1xuICAgICAgbm9kZS5jb25zZXF1ZW50ID0gcGFyc2VFeHByZXNzaW9uKHRydWUpO1xuICAgICAgZXhwZWN0KF9jb2xvbik7XG4gICAgICBub2RlLmFsdGVybmF0ZSA9IHBhcnNlRXhwcmVzc2lvbih0cnVlLCBub0luKTtcbiAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiQ29uZGl0aW9uYWxFeHByZXNzaW9uXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8vIFN0YXJ0IHRoZSBwcmVjZWRlbmNlIHBhcnNlci5cblxuICBmdW5jdGlvbiBwYXJzZUV4cHJPcHMobm9Jbikge1xuICAgIHJldHVybiBwYXJzZUV4cHJPcChwYXJzZU1heWJlVW5hcnkoKSwgLTEsIG5vSW4pO1xuICB9XG5cbiAgLy8gUGFyc2UgYmluYXJ5IG9wZXJhdG9ycyB3aXRoIHRoZSBvcGVyYXRvciBwcmVjZWRlbmNlIHBhcnNpbmdcbiAgLy8gYWxnb3JpdGhtLiBgbGVmdGAgaXMgdGhlIGxlZnQtaGFuZCBzaWRlIG9mIHRoZSBvcGVyYXRvci5cbiAgLy8gYG1pblByZWNgIHByb3ZpZGVzIGNvbnRleHQgdGhhdCBhbGxvd3MgdGhlIGZ1bmN0aW9uIHRvIHN0b3AgYW5kXG4gIC8vIGRlZmVyIGZ1cnRoZXIgcGFyc2VyIHRvIG9uZSBvZiBpdHMgY2FsbGVycyB3aGVuIGl0IGVuY291bnRlcnMgYW5cbiAgLy8gb3BlcmF0b3IgdGhhdCBoYXMgYSBsb3dlciBwcmVjZWRlbmNlIHRoYW4gdGhlIHNldCBpdCBpcyBwYXJzaW5nLlxuXG4gIGZ1bmN0aW9uIHBhcnNlRXhwck9wKGxlZnQsIG1pblByZWMsIG5vSW4pIHtcbiAgICB2YXIgcHJlYyA9IHRva1R5cGUuYmlub3A7XG4gICAgaWYgKHByZWMgIT0gbnVsbCAmJiAoIW5vSW4gfHwgdG9rVHlwZSAhPT0gX2luKSkge1xuICAgICAgaWYgKHByZWMgPiBtaW5QcmVjKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlRnJvbShsZWZ0KTtcbiAgICAgICAgbm9kZS5sZWZ0ID0gbGVmdDtcbiAgICAgICAgbm9kZS5vcGVyYXRvciA9IHRva1ZhbDtcbiAgICAgICAgdmFyIG9wID0gdG9rVHlwZTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBub2RlLnJpZ2h0ID0gcGFyc2VFeHByT3AocGFyc2VNYXliZVVuYXJ5KCksIHByZWMsIG5vSW4pO1xuICAgICAgICB2YXIgZXhwck5vZGUgPSBmaW5pc2hOb2RlKG5vZGUsIChvcCA9PT0gX2xvZ2ljYWxPUiB8fCBvcCA9PT0gX2xvZ2ljYWxBTkQpID8gXCJMb2dpY2FsRXhwcmVzc2lvblwiIDogXCJCaW5hcnlFeHByZXNzaW9uXCIpO1xuICAgICAgICByZXR1cm4gcGFyc2VFeHByT3AoZXhwck5vZGUsIG1pblByZWMsIG5vSW4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfVxuXG4gIC8vIFBhcnNlIHVuYXJ5IG9wZXJhdG9ycywgYm90aCBwcmVmaXggYW5kIHBvc3RmaXguXG5cbiAgZnVuY3Rpb24gcGFyc2VNYXliZVVuYXJ5KCkge1xuICAgIGlmICh0b2tUeXBlLnByZWZpeCkge1xuICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGUoKSwgdXBkYXRlID0gdG9rVHlwZS5pc1VwZGF0ZTtcbiAgICAgIG5vZGUub3BlcmF0b3IgPSB0b2tWYWw7XG4gICAgICBub2RlLnByZWZpeCA9IHRydWU7XG4gICAgICB0b2tSZWdleHBBbGxvd2VkID0gdHJ1ZTtcbiAgICAgIG5leHQoKTtcbiAgICAgIG5vZGUuYXJndW1lbnQgPSBwYXJzZU1heWJlVW5hcnkoKTtcbiAgICAgIGlmICh1cGRhdGUpIGNoZWNrTFZhbChub2RlLmFyZ3VtZW50KTtcbiAgICAgIGVsc2UgaWYgKHN0cmljdCAmJiBub2RlLm9wZXJhdG9yID09PSBcImRlbGV0ZVwiICYmXG4gICAgICAgICAgICAgICBub2RlLmFyZ3VtZW50LnR5cGUgPT09IFwiSWRlbnRpZmllclwiKVxuICAgICAgICByYWlzZShub2RlLnN0YXJ0LCBcIkRlbGV0aW5nIGxvY2FsIHZhcmlhYmxlIGluIHN0cmljdCBtb2RlXCIpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgdXBkYXRlID8gXCJVcGRhdGVFeHByZXNzaW9uXCIgOiBcIlVuYXJ5RXhwcmVzc2lvblwiKTtcbiAgICB9XG4gICAgdmFyIGV4cHIgPSBwYXJzZUV4cHJTdWJzY3JpcHRzKCk7XG4gICAgd2hpbGUgKHRva1R5cGUucG9zdGZpeCAmJiAhY2FuSW5zZXJ0U2VtaWNvbG9uKCkpIHtcbiAgICAgIHZhciBub2RlID0gc3RhcnROb2RlRnJvbShleHByKTtcbiAgICAgIG5vZGUub3BlcmF0b3IgPSB0b2tWYWw7XG4gICAgICBub2RlLnByZWZpeCA9IGZhbHNlO1xuICAgICAgbm9kZS5hcmd1bWVudCA9IGV4cHI7XG4gICAgICBjaGVja0xWYWwoZXhwcik7XG4gICAgICBuZXh0KCk7XG4gICAgICBleHByID0gZmluaXNoTm9kZShub2RlLCBcIlVwZGF0ZUV4cHJlc3Npb25cIik7XG4gICAgfVxuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLy8gUGFyc2UgY2FsbCwgZG90LCBhbmQgYFtdYC1zdWJzY3JpcHQgZXhwcmVzc2lvbnMuXG5cbiAgZnVuY3Rpb24gcGFyc2VFeHByU3Vic2NyaXB0cygpIHtcbiAgICByZXR1cm4gcGFyc2VTdWJzY3JpcHRzKHBhcnNlRXhwckF0b20oKSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVN1YnNjcmlwdHMoYmFzZSwgbm9DYWxscykge1xuICAgIGlmIChlYXQoX2RvdCkpIHtcbiAgICAgIHZhciBub2RlID0gc3RhcnROb2RlRnJvbShiYXNlKTtcbiAgICAgIG5vZGUub2JqZWN0ID0gYmFzZTtcbiAgICAgIG5vZGUucHJvcGVydHkgPSBwYXJzZUlkZW50KHRydWUpO1xuICAgICAgbm9kZS5jb21wdXRlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHBhcnNlU3Vic2NyaXB0cyhmaW5pc2hOb2RlKG5vZGUsIFwiTWVtYmVyRXhwcmVzc2lvblwiKSwgbm9DYWxscyk7XG4gICAgfSBlbHNlIGlmIChlYXQoX2JyYWNrZXRMKSkge1xuICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGVGcm9tKGJhc2UpO1xuICAgICAgbm9kZS5vYmplY3QgPSBiYXNlO1xuICAgICAgbm9kZS5wcm9wZXJ0eSA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgbm9kZS5jb21wdXRlZCA9IHRydWU7XG4gICAgICBleHBlY3QoX2JyYWNrZXRSKTtcbiAgICAgIHJldHVybiBwYXJzZVN1YnNjcmlwdHMoZmluaXNoTm9kZShub2RlLCBcIk1lbWJlckV4cHJlc3Npb25cIiksIG5vQ2FsbHMpO1xuICAgIH0gZWxzZSBpZiAoIW5vQ2FsbHMgJiYgZWF0KF9wYXJlbkwpKSB7XG4gICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZUZyb20oYmFzZSk7XG4gICAgICBub2RlLmNhbGxlZSA9IGJhc2U7XG4gICAgICBub2RlLmFyZ3VtZW50cyA9IHBhcnNlRXhwckxpc3QoX3BhcmVuUiwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHBhcnNlU3Vic2NyaXB0cyhmaW5pc2hOb2RlKG5vZGUsIFwiQ2FsbEV4cHJlc3Npb25cIiksIG5vQ2FsbHMpO1xuICAgIH0gZWxzZSByZXR1cm4gYmFzZTtcbiAgfVxuXG4gIC8vIFBhcnNlIGFuIGF0b21pYyBleHByZXNzaW9uIOKAlCBlaXRoZXIgYSBzaW5nbGUgdG9rZW4gdGhhdCBpcyBhblxuICAvLyBleHByZXNzaW9uLCBhbiBleHByZXNzaW9uIHN0YXJ0ZWQgYnkgYSBrZXl3b3JkIGxpa2UgYGZ1bmN0aW9uYCBvclxuICAvLyBgbmV3YCwgb3IgYW4gZXhwcmVzc2lvbiB3cmFwcGVkIGluIHB1bmN0dWF0aW9uIGxpa2UgYCgpYCwgYFtdYCxcbiAgLy8gb3IgYHt9YC5cblxuICBmdW5jdGlvbiBwYXJzZUV4cHJBdG9tKCkge1xuICAgIHN3aXRjaCAodG9rVHlwZSkge1xuICAgIGNhc2UgX3RoaXM6XG4gICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgICAgbmV4dCgpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJUaGlzRXhwcmVzc2lvblwiKTtcbiAgICBjYXNlIF9uYW1lOlxuICAgICAgcmV0dXJuIHBhcnNlSWRlbnQoKTtcbiAgICBjYXNlIF9udW06IGNhc2UgX3N0cmluZzogY2FzZSBfcmVnZXhwOlxuICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGUoKTtcbiAgICAgIG5vZGUudmFsdWUgPSB0b2tWYWw7XG4gICAgICBub2RlLnJhdyA9IGlucHV0LnNsaWNlKHRva1N0YXJ0LCB0b2tFbmQpO1xuICAgICAgbmV4dCgpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJMaXRlcmFsXCIpO1xuXG4gICAgY2FzZSBfbnVsbDogY2FzZSBfdHJ1ZTogY2FzZSBfZmFsc2U6XG4gICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgICAgbm9kZS52YWx1ZSA9IHRva1R5cGUuYXRvbVZhbHVlO1xuICAgICAgbm9kZS5yYXcgPSB0b2tUeXBlLmtleXdvcmQ7XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIkxpdGVyYWxcIik7XG5cbiAgICBjYXNlIF9wYXJlbkw6XG4gICAgICB2YXIgdG9rU3RhcnRMb2MxID0gdG9rU3RhcnRMb2MsIHRva1N0YXJ0MSA9IHRva1N0YXJ0O1xuICAgICAgbmV4dCgpO1xuICAgICAgdmFyIHZhbCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgdmFsLnN0YXJ0ID0gdG9rU3RhcnQxO1xuICAgICAgdmFsLmVuZCA9IHRva0VuZDtcbiAgICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykge1xuICAgICAgICB2YWwubG9jLnN0YXJ0ID0gdG9rU3RhcnRMb2MxO1xuICAgICAgICB2YWwubG9jLmVuZCA9IHRva0VuZExvYztcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnJhbmdlcylcbiAgICAgICAgdmFsLnJhbmdlID0gW3Rva1N0YXJ0MSwgdG9rRW5kXTtcbiAgICAgIGV4cGVjdChfcGFyZW5SKTtcbiAgICAgIHJldHVybiB2YWw7XG5cbiAgICBjYXNlIF9icmFja2V0TDpcbiAgICAgIHZhciBub2RlID0gc3RhcnROb2RlKCk7XG4gICAgICBuZXh0KCk7XG4gICAgICBub2RlLmVsZW1lbnRzID0gcGFyc2VFeHByTGlzdChfYnJhY2tldFIsIHRydWUsIHRydWUpO1xuICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgXCJBcnJheUV4cHJlc3Npb25cIik7XG5cbiAgICBjYXNlIF9icmFjZUw6XG4gICAgICByZXR1cm4gcGFyc2VPYmooKTtcblxuICAgIGNhc2UgX2Z1bmN0aW9uOlxuICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGUoKTtcbiAgICAgIG5leHQoKTtcbiAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uKG5vZGUsIGZhbHNlKTtcblxuICAgIGNhc2UgX25ldzpcbiAgICAgIHJldHVybiBwYXJzZU5ldygpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBOZXcncyBwcmVjZWRlbmNlIGlzIHNsaWdodGx5IHRyaWNreS4gSXQgbXVzdCBhbGxvdyBpdHMgYXJndW1lbnRcbiAgLy8gdG8gYmUgYSBgW11gIG9yIGRvdCBzdWJzY3JpcHQgZXhwcmVzc2lvbiwgYnV0IG5vdCBhIGNhbGwg4oCUIGF0XG4gIC8vIGxlYXN0LCBub3Qgd2l0aG91dCB3cmFwcGluZyBpdCBpbiBwYXJlbnRoZXNlcy4gVGh1cywgaXQgdXNlcyB0aGVcblxuICBmdW5jdGlvbiBwYXJzZU5ldygpIHtcbiAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgIG5leHQoKTtcbiAgICBub2RlLmNhbGxlZSA9IHBhcnNlU3Vic2NyaXB0cyhwYXJzZUV4cHJBdG9tKCksIHRydWUpO1xuICAgIGlmIChlYXQoX3BhcmVuTCkpIG5vZGUuYXJndW1lbnRzID0gcGFyc2VFeHByTGlzdChfcGFyZW5SLCBmYWxzZSk7XG4gICAgZWxzZSBub2RlLmFyZ3VtZW50cyA9IGVtcHR5O1xuICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiTmV3RXhwcmVzc2lvblwiKTtcbiAgfVxuXG4gIC8vIFBhcnNlIGFuIG9iamVjdCBsaXRlcmFsLlxuXG4gIGZ1bmN0aW9uIHBhcnNlT2JqKCkge1xuICAgIHZhciBub2RlID0gc3RhcnROb2RlKCksIGZpcnN0ID0gdHJ1ZSwgc2F3R2V0U2V0ID0gZmFsc2U7XG4gICAgbm9kZS5wcm9wZXJ0aWVzID0gW107XG4gICAgbmV4dCgpO1xuICAgIHdoaWxlICghZWF0KF9icmFjZVIpKSB7XG4gICAgICBpZiAoIWZpcnN0KSB7XG4gICAgICAgIGV4cGVjdChfY29tbWEpO1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd1RyYWlsaW5nQ29tbWFzICYmIGVhdChfYnJhY2VSKSkgYnJlYWs7XG4gICAgICB9IGVsc2UgZmlyc3QgPSBmYWxzZTtcblxuICAgICAgdmFyIHByb3AgPSB7a2V5OiBwYXJzZVByb3BlcnR5TmFtZSgpfSwgaXNHZXRTZXQgPSBmYWxzZSwga2luZDtcbiAgICAgIGlmIChlYXQoX2NvbG9uKSkge1xuICAgICAgICBwcm9wLnZhbHVlID0gcGFyc2VFeHByZXNzaW9uKHRydWUpO1xuICAgICAgICBraW5kID0gcHJvcC5raW5kID0gXCJpbml0XCI7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZWNtYVZlcnNpb24gPj0gNSAmJiBwcm9wLmtleS50eXBlID09PSBcIklkZW50aWZpZXJcIiAmJlxuICAgICAgICAgICAgICAgICAocHJvcC5rZXkubmFtZSA9PT0gXCJnZXRcIiB8fCBwcm9wLmtleS5uYW1lID09PSBcInNldFwiKSkge1xuICAgICAgICBpc0dldFNldCA9IHNhd0dldFNldCA9IHRydWU7XG4gICAgICAgIGtpbmQgPSBwcm9wLmtpbmQgPSBwcm9wLmtleS5uYW1lO1xuICAgICAgICBwcm9wLmtleSA9IHBhcnNlUHJvcGVydHlOYW1lKCk7XG4gICAgICAgIGlmICh0b2tUeXBlICE9PSBfcGFyZW5MKSB1bmV4cGVjdGVkKCk7XG4gICAgICAgIHByb3AudmFsdWUgPSBwYXJzZUZ1bmN0aW9uKHN0YXJ0Tm9kZSgpLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgdW5leHBlY3RlZCgpO1xuXG4gICAgICAvLyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGFyZSBub3QgYWxsb3dlZCB0byBjbGFzaCDigJQgZWl0aGVyIHdpdGhcbiAgICAgIC8vIGVhY2ggb3RoZXIgb3Igd2l0aCBhbiBpbml0IHByb3BlcnR5IOKAlCBhbmQgaW4gc3RyaWN0IG1vZGUsXG4gICAgICAvLyBpbml0IHByb3BlcnRpZXMgYXJlIGFsc28gbm90IGFsbG93ZWQgdG8gYmUgcmVwZWF0ZWQuXG5cbiAgICAgIGlmIChwcm9wLmtleS50eXBlID09PSBcIklkZW50aWZpZXJcIiAmJiAoc3RyaWN0IHx8IHNhd0dldFNldCkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLnByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YXIgb3RoZXIgPSBub2RlLnByb3BlcnRpZXNbaV07XG4gICAgICAgICAgaWYgKG90aGVyLmtleS5uYW1lID09PSBwcm9wLmtleS5uYW1lKSB7XG4gICAgICAgICAgICB2YXIgY29uZmxpY3QgPSBraW5kID09IG90aGVyLmtpbmQgfHwgaXNHZXRTZXQgJiYgb3RoZXIua2luZCA9PT0gXCJpbml0XCIgfHxcbiAgICAgICAgICAgICAga2luZCA9PT0gXCJpbml0XCIgJiYgKG90aGVyLmtpbmQgPT09IFwiZ2V0XCIgfHwgb3RoZXIua2luZCA9PT0gXCJzZXRcIik7XG4gICAgICAgICAgICBpZiAoY29uZmxpY3QgJiYgIXN0cmljdCAmJiBraW5kID09PSBcImluaXRcIiAmJiBvdGhlci5raW5kID09PSBcImluaXRcIikgY29uZmxpY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb25mbGljdCkgcmFpc2UocHJvcC5rZXkuc3RhcnQsIFwiUmVkZWZpbml0aW9uIG9mIHByb3BlcnR5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZS5wcm9wZXJ0aWVzLnB1c2gocHJvcCk7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIFwiT2JqZWN0RXhwcmVzc2lvblwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlUHJvcGVydHlOYW1lKCkge1xuICAgIGlmICh0b2tUeXBlID09PSBfbnVtIHx8IHRva1R5cGUgPT09IF9zdHJpbmcpIHJldHVybiBwYXJzZUV4cHJBdG9tKCk7XG4gICAgcmV0dXJuIHBhcnNlSWRlbnQodHJ1ZSk7XG4gIH1cblxuICAvLyBQYXJzZSBhIGZ1bmN0aW9uIGRlY2xhcmF0aW9uIG9yIGxpdGVyYWwgKGRlcGVuZGluZyBvbiB0aGVcbiAgLy8gYGlzU3RhdGVtZW50YCBwYXJhbWV0ZXIpLlxuXG4gIGZ1bmN0aW9uIHBhcnNlRnVuY3Rpb24obm9kZSwgaXNTdGF0ZW1lbnQpIHtcbiAgICBpZiAodG9rVHlwZSA9PT0gX25hbWUpIG5vZGUuaWQgPSBwYXJzZUlkZW50KCk7XG4gICAgZWxzZSBpZiAoaXNTdGF0ZW1lbnQpIHVuZXhwZWN0ZWQoKTtcbiAgICBlbHNlIG5vZGUuaWQgPSBudWxsO1xuICAgIG5vZGUucGFyYW1zID0gW107XG4gICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICBleHBlY3QoX3BhcmVuTCk7XG4gICAgd2hpbGUgKCFlYXQoX3BhcmVuUikpIHtcbiAgICAgIGlmICghZmlyc3QpIGV4cGVjdChfY29tbWEpOyBlbHNlIGZpcnN0ID0gZmFsc2U7XG4gICAgICBub2RlLnBhcmFtcy5wdXNoKHBhcnNlSWRlbnQoKSk7XG4gICAgfVxuXG4gICAgLy8gU3RhcnQgYSBuZXcgc2NvcGUgd2l0aCByZWdhcmQgdG8gbGFiZWxzIGFuZCB0aGUgYGluRnVuY3Rpb25gXG4gICAgLy8gZmxhZyAocmVzdG9yZSB0aGVtIHRvIHRoZWlyIG9sZCB2YWx1ZSBhZnRlcndhcmRzKS5cbiAgICB2YXIgb2xkSW5GdW5jID0gaW5GdW5jdGlvbiwgb2xkTGFiZWxzID0gbGFiZWxzO1xuICAgIGluRnVuY3Rpb24gPSB0cnVlOyBsYWJlbHMgPSBbXTtcbiAgICBub2RlLmJvZHkgPSBwYXJzZUJsb2NrKHRydWUpO1xuICAgIGluRnVuY3Rpb24gPSBvbGRJbkZ1bmM7IGxhYmVscyA9IG9sZExhYmVscztcblxuICAgIC8vIElmIHRoaXMgaXMgYSBzdHJpY3QgbW9kZSBmdW5jdGlvbiwgdmVyaWZ5IHRoYXQgYXJndW1lbnQgbmFtZXNcbiAgICAvLyBhcmUgbm90IHJlcGVhdGVkLCBhbmQgaXQgZG9lcyBub3QgdHJ5IHRvIGJpbmQgdGhlIHdvcmRzIGBldmFsYFxuICAgIC8vIG9yIGBhcmd1bWVudHNgLlxuICAgIGlmIChzdHJpY3QgfHwgbm9kZS5ib2R5LmJvZHkubGVuZ3RoICYmIGlzVXNlU3RyaWN0KG5vZGUuYm9keS5ib2R5WzBdKSkge1xuICAgICAgZm9yICh2YXIgaSA9IG5vZGUuaWQgPyAtMSA6IDA7IGkgPCBub2RlLnBhcmFtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgaWQgPSBpIDwgMCA/IG5vZGUuaWQgOiBub2RlLnBhcmFtc1tpXTtcbiAgICAgICAgaWYgKGlzU3RyaWN0UmVzZXJ2ZWRXb3JkKGlkLm5hbWUpIHx8IGlzU3RyaWN0QmFkSWRXb3JkKGlkLm5hbWUpKVxuICAgICAgICAgIHJhaXNlKGlkLnN0YXJ0LCBcIkRlZmluaW5nICdcIiArIGlkLm5hbWUgKyBcIicgaW4gc3RyaWN0IG1vZGVcIik7XG4gICAgICAgIGlmIChpID49IDApIGZvciAodmFyIGogPSAwOyBqIDwgaTsgKytqKSBpZiAoaWQubmFtZSA9PT0gbm9kZS5wYXJhbXNbal0ubmFtZSlcbiAgICAgICAgICByYWlzZShpZC5zdGFydCwgXCJBcmd1bWVudCBuYW1lIGNsYXNoIGluIHN0cmljdCBtb2RlXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIGlzU3RhdGVtZW50ID8gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIgOiBcIkZ1bmN0aW9uRXhwcmVzc2lvblwiKTtcbiAgfVxuXG4gIC8vIFBhcnNlcyBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGV4cHJlc3Npb25zLCBhbmQgcmV0dXJucyB0aGVtIGFzXG4gIC8vIGFuIGFycmF5LiBgY2xvc2VgIGlzIHRoZSB0b2tlbiB0eXBlIHRoYXQgZW5kcyB0aGUgbGlzdCwgYW5kXG4gIC8vIGBhbGxvd0VtcHR5YCBjYW4gYmUgdHVybmVkIG9uIHRvIGFsbG93IHN1YnNlcXVlbnQgY29tbWFzIHdpdGhcbiAgLy8gbm90aGluZyBpbiBiZXR3ZWVuIHRoZW0gdG8gYmUgcGFyc2VkIGFzIGBudWxsYCAod2hpY2ggaXMgbmVlZGVkXG4gIC8vIGZvciBhcnJheSBsaXRlcmFscykuXG5cbiAgZnVuY3Rpb24gcGFyc2VFeHByTGlzdChjbG9zZSwgYWxsb3dUcmFpbGluZ0NvbW1hLCBhbGxvd0VtcHR5KSB7XG4gICAgdmFyIGVsdHMgPSBbXSwgZmlyc3QgPSB0cnVlO1xuICAgIHdoaWxlICghZWF0KGNsb3NlKSkge1xuICAgICAgaWYgKCFmaXJzdCkge1xuICAgICAgICBleHBlY3QoX2NvbW1hKTtcbiAgICAgICAgaWYgKGFsbG93VHJhaWxpbmdDb21tYSAmJiBvcHRpb25zLmFsbG93VHJhaWxpbmdDb21tYXMgJiYgZWF0KGNsb3NlKSkgYnJlYWs7XG4gICAgICB9IGVsc2UgZmlyc3QgPSBmYWxzZTtcblxuICAgICAgaWYgKGFsbG93RW1wdHkgJiYgdG9rVHlwZSA9PT0gX2NvbW1hKSBlbHRzLnB1c2gobnVsbCk7XG4gICAgICBlbHNlIGVsdHMucHVzaChwYXJzZUV4cHJlc3Npb24odHJ1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZWx0cztcbiAgfVxuXG4gIC8vIFBhcnNlIHRoZSBuZXh0IHRva2VuIGFzIGFuIGlkZW50aWZpZXIuIElmIGBsaWJlcmFsYCBpcyB0cnVlICh1c2VkXG4gIC8vIHdoZW4gcGFyc2luZyBwcm9wZXJ0aWVzKSwgaXQgd2lsbCBhbHNvIGNvbnZlcnQga2V5d29yZHMgaW50b1xuICAvLyBpZGVudGlmaWVycy5cblxuICBmdW5jdGlvbiBwYXJzZUlkZW50KGxpYmVyYWwpIHtcbiAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgIG5vZGUubmFtZSA9IHRva1R5cGUgPT09IF9uYW1lID8gdG9rVmFsIDogKGxpYmVyYWwgJiYgIW9wdGlvbnMuZm9yYmlkUmVzZXJ2ZWQgJiYgdG9rVHlwZS5rZXl3b3JkKSB8fCB1bmV4cGVjdGVkKCk7XG4gICAgdG9rUmVnZXhwQWxsb3dlZCA9IGZhbHNlO1xuICAgIG5leHQoKTtcbiAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBcIklkZW50aWZpZXJcIik7XG4gIH1cblxufSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9vcmlnaW5hbC1yZXBvL2ludGVycHJldGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL29yaWdpbmFsLXJlcG8vaW50ZXJwcmV0ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBwcm92aWRlZCBkZXBlbmRlbmN5ICovIHZhciBhY29ybiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vb3JpZ2luYWwtcmVwby9hY29ybi5qcyAqLyBcIi4vb3JpZ2luYWwtcmVwby9hY29ybi5qc1wiKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEludGVycHJldGluZyBKYXZhU2NyaXB0IGluIEphdmFTY3JpcHQuXG4gKiBAYXV0aG9yIGZyYXNlckBnb29nbGUuY29tIChOZWlsIEZyYXNlcilcbiAqL1xuXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGludGVycHJldGVyLlxuICogQHBhcmFtIHtzdHJpbmd8IU9iamVjdH0gY29kZSBSYXcgSmF2YVNjcmlwdCB0ZXh0IG9yIEFTVC5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfaW5pdEZ1bmMgT3B0aW9uYWwgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uICBVc2VkIHRvXG4gKiAgICAgZGVmaW5lIEFQSXMuICBXaGVuIGNhbGxlZCBpdCBpcyBwYXNzZWQgdGhlIGludGVycHJldGVyIG9iamVjdCBhbmQgdGhlXG4gKiAgICAgZ2xvYmFsIHNjb3BlIG9iamVjdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgSW50ZXJwcmV0ZXIgPSBmdW5jdGlvbihjb2RlLCBvcHRfaW5pdEZ1bmMpIHtcbiAgaWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJykge1xuICAgIGNvZGUgPSB0aGlzLnBhcnNlXyhjb2RlLCAnY29kZScpO1xuICB9XG4gIC8vIEdldCBhIGhhbmRsZSBvbiBBY29ybidzIG5vZGVfdCBvYmplY3QuXG4gIHRoaXMubm9kZUNvbnN0cnVjdG9yID0gY29kZS5jb25zdHJ1Y3RvcjtcbiAgLy8gQ2xvbmUgdGhlIHJvb3QgJ1Byb2dyYW0nIG5vZGUgc28gdGhhdCB0aGUgQVNUIG1heSBiZSBtb2RpZmllZC5cbiAgdmFyIGFzdCA9IG5ldyB0aGlzLm5vZGVDb25zdHJ1Y3Rvcih7b3B0aW9uczp7fX0pO1xuICBmb3IgKHZhciBwcm9wIGluIGNvZGUpIHtcbiAgICBhc3RbcHJvcF0gPSAocHJvcCA9PT0gJ2JvZHknKSA/IGNvZGVbcHJvcF0uc2xpY2UoKSA6IGNvZGVbcHJvcF07XG4gIH1cbiAgdGhpcy5hc3QgPSBhc3Q7XG4gIHRoaXMuaW5pdEZ1bmNfID0gb3B0X2luaXRGdW5jO1xuICB0aGlzLnBhdXNlZF8gPSBmYWxzZTtcbiAgdGhpcy5wb2x5ZmlsbHNfID0gW107XG4gIC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciBuYXRpdmUgZnVuY3Rpb25zLiAgVXNlZCBpbiBzZXJpYWxpemF0aW9uLlxuICB0aGlzLmZ1bmN0aW9uQ291bnRlcl8gPSAwO1xuICAvLyBNYXAgbm9kZSB0eXBlcyB0byBvdXIgc3RlcCBmdW5jdGlvbiBuYW1lczsgYSBwcm9wZXJ0eSBsb29rdXAgaXMgZmFzdGVyXG4gIC8vIHRoYW4gc3RyaW5nIGNvbmNhdGVuYXRpb24gd2l0aCBcInN0ZXBcIiBwcmVmaXguXG4gIHRoaXMuc3RlcEZ1bmN0aW9uc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgc3RlcE1hdGNoID0gL15zdGVwKFtBLVpdXFx3KikkLztcbiAgdmFyIG07XG4gIGZvciAodmFyIG1ldGhvZE5hbWUgaW4gdGhpcykge1xuICAgIGlmICgodHlwZW9mIHRoaXNbbWV0aG9kTmFtZV0gPT09ICdmdW5jdGlvbicpICYmXG4gICAgICAgIChtID0gbWV0aG9kTmFtZS5tYXRjaChzdGVwTWF0Y2gpKSkge1xuICAgICAgdGhpcy5zdGVwRnVuY3Rpb25zX1ttWzFdXSA9IHRoaXNbbWV0aG9kTmFtZV0uYmluZCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gQ3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBnbG9iYWwgc2NvcGUuXG4gIHRoaXMuZ2xvYmFsU2NvcGUgPSB0aGlzLmNyZWF0ZVNjb3BlKHRoaXMuYXN0LCBudWxsKTtcbiAgdGhpcy5nbG9iYWxPYmplY3QgPSB0aGlzLmdsb2JhbFNjb3BlLm9iamVjdDtcbiAgLy8gUnVuIHRoZSBwb2x5ZmlsbHMuXG4gIHRoaXMuYXN0ID0gdGhpcy5wYXJzZV8odGhpcy5wb2x5ZmlsbHNfLmpvaW4oJ1xcbicpLCAncG9seWZpbGxzJyk7XG4gIHRoaXMucG9seWZpbGxzXyA9IHVuZGVmaW5lZDsgIC8vIEFsbG93IHBvbHlmaWxsIHN0cmluZ3MgdG8gZ2FyYmFnZSBjb2xsZWN0LlxuICBJbnRlcnByZXRlci5zdHJpcExvY2F0aW9uc18odGhpcy5hc3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgdmFyIHN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKHRoaXMuYXN0LCB0aGlzLmdsb2JhbFNjb3BlKTtcbiAgc3RhdGUuZG9uZSA9IGZhbHNlO1xuICB0aGlzLnN0YXRlU3RhY2sgPSBbc3RhdGVdO1xuICB0aGlzLnJ1bigpO1xuICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAvLyBQb2ludCBhdCB0aGUgbWFpbiBwcm9ncmFtLlxuICB0aGlzLmFzdCA9IGFzdDtcbiAgdmFyIHN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKHRoaXMuYXN0LCB0aGlzLmdsb2JhbFNjb3BlKTtcbiAgc3RhdGUuZG9uZSA9IGZhbHNlO1xuICB0aGlzLnN0YXRlU3RhY2subGVuZ3RoID0gMDtcbiAgdGhpcy5zdGF0ZVN0YWNrWzBdID0gc3RhdGU7XG4gIC8vIFByZXNlcnZlIHB1YmxpY2x5IHByb3BlcnRpZXMgZnJvbSBiZWluZyBwcnVuZWQvcmVuYW1lZCBieSBKUyBjb21waWxlcnMuXG4gIC8vIEFkZCBvdGhlcnMgYXMgbmVlZGVkLlxuICB0aGlzWydzdGF0ZVN0YWNrJ10gPSB0aGlzLnN0YXRlU3RhY2s7XG59O1xuXG4vKipcbiAgKiBDb21wbGV0aW9uIFZhbHVlIFR5cGVzLlxuICAqIEBlbnVtIHtudW1iZXJ9XG4gICovXG4gSW50ZXJwcmV0ZXIuQ29tcGxldGlvbiA9IHtcbiAgIE5PUk1BTDogMCxcbiAgIEJSRUFLOiAxLFxuICAgQ09OVElOVUU6IDIsXG4gICBSRVRVUk46IDMsXG4gICBUSFJPVzogNFxuIH07XG5cbi8qKlxuICogQGNvbnN0IHshT2JqZWN0fSBDb25maWd1cmF0aW9uIHVzZWQgZm9yIGFsbCBBY29ybiBwYXJzaW5nLlxuICovXG5JbnRlcnByZXRlci5QQVJTRV9PUFRJT05TID0ge1xuICAnbG9jYXRpb25zJzogdHJ1ZSxcbiAgJ2VjbWFWZXJzaW9uJzogNVxufTtcblxuLyoqXG4gKiBQcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIHJlYWRvbmx5IHByb3BlcnRpZXMuXG4gKi9cbkludGVycHJldGVyLlJFQURPTkxZX0RFU0NSSVBUT1IgPSB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IGZhbHNlXG59O1xuXG4vKipcbiAqIFByb3BlcnR5IGRlc2NyaXB0b3Igb2Ygbm9uLWVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqL1xuSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SID0ge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICB3cml0YWJsZTogdHJ1ZVxufTtcblxuLyoqXG4gKiBQcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIHJlYWRvbmx5LCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICovXG5JbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IgPSB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIHdyaXRhYmxlOiBmYWxzZVxufTtcblxuLyoqXG4gKiBQcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIG5vbi1jb25maWd1cmFibGUsIHJlYWRvbmx5LCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICogRS5nLiBOYU4sIEluZmluaXR5LlxuICovXG5JbnRlcnByZXRlci5OT05DT05GSUdVUkFCTEVfUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SID0ge1xuICBjb25maWd1cmFibGU6IGZhbHNlLFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgd3JpdGFibGU6IGZhbHNlXG59O1xuXG4vKipcbiAqIFByb3BlcnR5IGRlc2NyaXB0b3Igb2YgdmFyaWFibGVzLlxuICovXG5JbnRlcnByZXRlci5WQVJJQUJMRV9ERVNDUklQVE9SID0ge1xuICBjb25maWd1cmFibGU6IGZhbHNlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZVxufTtcblxuLyoqXG4gKiBVbmlxdWUgc3ltYm9sIGZvciBpbmRpY2F0aW5nIHRoYXQgYSBzdGVwIGhhcyBlbmNvdW50ZXJlZCBhbiBlcnJvciwgaGFzXG4gKiBhZGRlZCBpdCB0byB0aGUgc3RhY2ssIGFuZCB3aWxsIGJlIHRocm93biB3aXRoaW4gdGhlIHVzZXIncyBwcm9ncmFtLlxuICogV2hlbiBTVEVQX0VSUk9SIGlzIHRocm93biBpbiB0aGUgSlMtSW50ZXJwcmV0ZXIsIHRoZSBlcnJvciBjYW4gYmUgaWdub3JlZC5cbiAqL1xuSW50ZXJwcmV0ZXIuU1RFUF9FUlJPUiA9IHsnU1RFUF9FUlJPUic6IHRydWV9O1xuXG4vKipcbiAqIFVuaXF1ZSBzeW1ib2wgZm9yIGluZGljYXRpbmcgdGhhdCBhIHJlZmVyZW5jZSBpcyBhIHZhcmlhYmxlIG9uIHRoZSBzY29wZSxcbiAqIG5vdCBhbiBvYmplY3QgcHJvcGVydHkuXG4gKi9cbkludGVycHJldGVyLlNDT1BFX1JFRkVSRU5DRSA9IHsnU0NPUEVfUkVGRVJFTkNFJzogdHJ1ZX07XG5cbi8qKlxuICogVW5pcXVlIHN5bWJvbCBmb3IgaW5kaWNhdGluZywgd2hlbiB1c2VkIGFzIHRoZSB2YWx1ZSBvZiB0aGUgdmFsdWVcbiAqIHBhcmFtZXRlciBpbiBjYWxscyB0byBzZXRQcm9wZXJ0eSBhbmQgZnJpZW5kcywgdGhhdCB0aGUgdmFsdWVcbiAqIHNob3VsZCBiZSB0YWtlbiBmcm9tIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGluc3RlYWQuXG4gKi9cbkludGVycHJldGVyLlZBTFVFX0lOX0RFU0NSSVBUT1IgPSB7J1ZBTFVFX0lOX0RFU0NSSVBUT1InOiB0cnVlfTtcblxuLyoqXG4gKiBVbmlxdWUgc3ltYm9sIGZvciBpbmRpY2F0aW5nIHRoYXQgYSBSZWdFeHAgdGltZW91dCBoYXMgb2NjdXJyZWQgaW4gYSBWTS5cbiAqL1xuSW50ZXJwcmV0ZXIuUkVHRVhQX1RJTUVPVVQgPSB7J1JFR0VYUF9USU1FT1VUJzogdHJ1ZX07XG5cbi8qKlxuICogRm9yIGN5Y2xlIGRldGVjdGlvbiBpbiBhcnJheSB0byBzdHJpbmcgYW5kIGVycm9yIGNvbnZlcnNpb247XG4gKiBzZWUgc3BlYyBidWcgZ2l0aHViLmNvbS90YzM5L2VjbWEyNjIvaXNzdWVzLzI4OVxuICogU2luY2UgdGhpcyBpcyBmb3IgYXRvbWljIGFjdGlvbnMgb25seSwgaXQgY2FuIGJlIGEgY2xhc3MgcHJvcGVydHkuXG4gKi9cbkludGVycHJldGVyLnRvU3RyaW5nQ3ljbGVzXyA9IFtdO1xuXG4vKipcbiAqIE5vZGUncyB2bSBtb2R1bGUsIGlmIGxvYWRlZCBhbmQgcmVxdWlyZWQuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5JbnRlcnByZXRlci52bSA9IG51bGw7XG5cbi8qKlxuICogVGhlIGdsb2JhbCBvYmplY3QgKGB3aW5kb3dgIGluIGEgYnJvd3NlciwgYGdsb2JhbGAgaW4gbm9kZS5qcykgaXMgYHRoaXNgLlxuICovXG5cbkludGVycHJldGVyLm5hdGl2ZUdsb2JhbCA9IHNlbGYgPyBzZWxmIDogdGhpcztcblxuLyoqXG4gKiBDb2RlIGZvciBleGVjdXRpbmcgcmVndWxhciBleHByZXNzaW9ucyBpbiBhIHRocmVhZC5cbiAqL1xuSW50ZXJwcmV0ZXIuV09SS0VSX0NPREUgPSBbXG4gIFwib25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1wiLFxuICAgIFwidmFyIHJlc3VsdDtcIixcbiAgICBcInZhciBkYXRhID0gZS5kYXRhO1wiLFxuICAgIFwic3dpdGNoIChkYXRhWzBdKSB7XCIsXG4gICAgICBcImNhc2UgJ3NwbGl0JzpcIixcbiAgICAgICAgLy8gWydzcGxpdCcsIHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdF1cbiAgICAgICAgXCJyZXN1bHQgPSBkYXRhWzFdLnNwbGl0KGRhdGFbMl0sIGRhdGFbM10pO1wiLFxuICAgICAgICBcImJyZWFrO1wiLFxuICAgICAgXCJjYXNlICdtYXRjaCc6XCIsXG4gICAgICAgIC8vIFsnbWF0Y2gnLCBzdHJpbmcsIHJlZ2V4cF1cbiAgICAgICAgXCJyZXN1bHQgPSBkYXRhWzFdLm1hdGNoKGRhdGFbMl0pO1wiLFxuICAgICAgICBcImJyZWFrO1wiLFxuICAgICAgXCJjYXNlICdzZWFyY2gnOlwiLFxuICAgICAgICAvLyBbJ3NlYXJjaCcsIHN0cmluZywgcmVnZXhwXVxuICAgICAgICBcInJlc3VsdCA9IGRhdGFbMV0uc2VhcmNoKGRhdGFbMl0pO1wiLFxuICAgICAgICBcImJyZWFrO1wiLFxuICAgICAgXCJjYXNlICdyZXBsYWNlJzpcIixcbiAgICAgICAgLy8gWydyZXBsYWNlJywgc3RyaW5nLCByZWdleHAsIG5ld1N1YnN0cl1cbiAgICAgICAgXCJyZXN1bHQgPSBkYXRhWzFdLnJlcGxhY2UoZGF0YVsyXSwgZGF0YVszXSk7XCIsXG4gICAgICAgIFwiYnJlYWs7XCIsXG4gICAgICBcImNhc2UgJ2V4ZWMnOlwiLFxuICAgICAgICAvLyBbJ2V4ZWMnLCByZWdleHAsIGxhc3RJbmRleCwgc3RyaW5nXVxuICAgICAgICBcInZhciByZWdleHAgPSBkYXRhWzFdO1wiLFxuICAgICAgICBcInJlZ2V4cC5sYXN0SW5kZXggPSBkYXRhWzJdO1wiLFxuICAgICAgICBcInJlc3VsdCA9IFtyZWdleHAuZXhlYyhkYXRhWzNdKSwgZGF0YVsxXS5sYXN0SW5kZXhdO1wiLFxuICAgICAgICBcImJyZWFrO1wiLFxuICAgICAgXCJkZWZhdWx0OlwiLFxuICAgICAgICBcInRocm93IEVycm9yKCdVbmtub3duIFJlZ0V4cCBvcGVyYXRpb246ICcgKyBkYXRhWzBdKTtcIixcbiAgICBcIn1cIixcbiAgICBcInBvc3RNZXNzYWdlKHJlc3VsdCk7XCIsXG4gIFwifTtcIl07XG5cbi8qKlxuICogSXMgYSB2YWx1ZSBhIGxlZ2FsIGludGVnZXIgZm9yIGFuIGFycmF5IGxlbmd0aD9cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHggVmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFplcm8sIG9yIGEgcG9zaXRpdmUgaW50ZWdlciBpZiB0aGUgdmFsdWUgY2FuIGJlXG4gKiAgICAgY29udmVydGVkIHRvIHN1Y2guICBOYU4gb3RoZXJ3aXNlLlxuICovXG5JbnRlcnByZXRlci5sZWdhbEFycmF5TGVuZ3RoID0gZnVuY3Rpb24oeCkge1xuICB2YXIgbiA9IHggPj4+IDA7XG4gIC8vIEFycmF5IGxlbmd0aCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMl4zMi0xIChpbmNsdXNpdmUpLlxuICByZXR1cm4gKG4gPT09IE51bWJlcih4KSkgPyBuIDogTmFOO1xufTtcblxuLyoqXG4gKiBJcyBhIHZhbHVlIGEgbGVnYWwgaW50ZWdlciBmb3IgYW4gYXJyYXkgaW5kZXg/XG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSB4IFZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybiB7bnVtYmVyfSBaZXJvLCBvciBhIHBvc2l0aXZlIGludGVnZXIgaWYgdGhlIHZhbHVlIGNhbiBiZVxuICogICAgIGNvbnZlcnRlZCB0byBzdWNoLiAgTmFOIG90aGVyd2lzZS5cbiAqL1xuSW50ZXJwcmV0ZXIubGVnYWxBcnJheUluZGV4ID0gZnVuY3Rpb24oeCkge1xuICB2YXIgbiA9IHggPj4+IDA7XG4gIC8vIEFycmF5IGluZGV4IGNhbm5vdCBiZSAyXjMyLTEsIG90aGVyd2lzZSBsZW5ndGggd291bGQgYmUgMl4zMi5cbiAgLy8gMHhmZmZmZmZmZiBpcyAyXjMyLTEuXG4gIHJldHVybiAoU3RyaW5nKG4pID09PSBTdHJpbmcoeCkgJiYgbiAhPT0gMHhmZmZmZmZmZikgPyBuIDogTmFOO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgZnJvbSBBU1QsIG9yIHNldCBzdGFydCBhbmQgZW5kIHZhbHVlcyB0byBhXG4gKiBjb25zdGFudCB2YWx1ZS4gIFVzZWQgdG8gcmVtb3ZlIGhpZ2hsaWdodGluZyBmcm9tIHBvbHlmaWxscyBhbmQgdG8gc2V0XG4gKiBoaWdobGlnaHRpbmcgaW4gYW4gZXZhbCB0byBjb3ZlciB0aGUgZW50aXJlIGV2YWwgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7IU9iamVjdH0gbm9kZSBBU1Qgbm9kZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gc3RhcnQgU3RhcnRpbmcgY2hhcmFjdGVyIG9mIGFsbCBub2Rlcywgb3IgdW5kZWZpbmVkLlxuICogQHBhcmFtIHtudW1iZXI9fSBlbmQgRW5kaW5nIGNoYXJhY3RlciBvZiBhbGwgbm9kZXMsIG9yIHVuZGVmaW5lZC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnN0cmlwTG9jYXRpb25zXyA9IGZ1bmN0aW9uKG5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0KSB7XG4gICAgbm9kZVsnc3RhcnQnXSA9IHN0YXJ0O1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBub2RlWydzdGFydCddO1xuICB9XG4gIGlmIChlbmQpIHtcbiAgICBub2RlWydlbmQnXSA9IGVuZDtcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgbm9kZVsnZW5kJ107XG4gIH1cbiAgZm9yICh2YXIgbmFtZSBpbiBub2RlKSB7XG4gICAgaWYgKG5hbWUgIT09ICdsb2MnICYmIG5vZGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHZhciBwcm9wID0gbm9kZVtuYW1lXTtcbiAgICAgIGlmIChwcm9wICYmIHR5cGVvZiBwcm9wID09PSAnb2JqZWN0Jykge1xuICAgICAgICBJbnRlcnByZXRlci5zdHJpcExvY2F0aW9uc18ocHJvcCwgc3RhcnQsIGVuZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFNvbWUgcGF0aG9sb2dpY2FsIHJlZ3VsYXIgZXhwcmVzc2lvbnMgY2FuIHRha2UgZ2VvbWV0cmljIHRpbWUuXG4gKiBSZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBoYW5kbGVkIGluIG9uZSBvZiB0aHJlZSB3YXlzOlxuICogMCAtIHRocm93IGFzIGludmFsaWQuXG4gKiAxIC0gZXhlY3V0ZSBuYXRpdmVseSAocmlzayBvZiB1bnJlc3BvbnNpdmUgcHJvZ3JhbSkuXG4gKiAyIC0gZXhlY3V0ZSBpbiBzZXBhcmF0ZSB0aHJlYWQgKG5vdCBzdXBwb3J0ZWQgYnkgSUUgOSkuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZVsnUkVHRVhQX01PREUnXSA9IDI7XG5cbi8qKlxuICogSWYgUkVHRVhQX01PREUgPSAyLCB0aGUgbGVuZ3RoIG9mIHRpbWUgKGluIG1zKSB0byBhbGxvdyBhIFJlZ0V4cFxuICogdGhyZWFkIHRvIGV4ZWN1dGUgYmVmb3JlIHRlcm1pbmF0aW5nIGl0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ1JFR0VYUF9USFJFQURfVElNRU9VVCddID0gMTAwMDtcblxuLyoqXG4gKiBMZW5ndGggb2YgdGltZSAoaW4gbXMpIHRvIGFsbG93IGEgcG9seWZpbGwgdG8gcnVuIGJlZm9yZSBlbmRpbmcgc3RlcC5cbiAqIElmIHNldCB0byAwLCBwb2x5ZmlsbHMgd2lsbCBleGVjdXRlIHN0ZXAgYnkgc3RlcC5cbiAqIElmIHNldCB0byAxMDAwLCBwb2x5ZmlsbHMgd2lsbCBydW4gZm9yIHVwIHRvIGEgc2Vjb25kIHBlciBzdGVwXG4gKiAoZXhlY3V0aW9uIHdpbGwgcmVzdW1lIGluIHRoZSBwb2x5ZmlsbCBpbiB0aGUgbmV4dCBzdGVwKS5cbiAqIElmIHNldCB0byBJbmZpbml0eSwgcG9seWZpbGxzIHdpbGwgcnVuIHRvIGNvbXBsZXRpb24gaW4gYSBzaW5nbGUgc3RlcC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydQT0xZRklMTF9USU1FT1VUJ10gPSAxMDAwO1xuXG4vKipcbiAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IGEgZ2V0dGVyIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIGNhbGxlZCBpbW1lZGlhdGVseS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXR0ZXJTdGVwXyA9IGZhbHNlO1xuXG4vKipcbiAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IGEgc2V0dGVyIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIGNhbGxlZCBpbW1lZGlhdGVseS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5zZXR0ZXJTdGVwXyA9IGZhbHNlO1xuXG4vKipcbiAqIE51bWJlciBvZiBjb2RlIGNodW5rcyBhcHBlbmRlZCB0byB0aGUgaW50ZXJwcmV0ZXIuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuYXBwZW5kQ29kZU51bWJlcl8gPSAwO1xuXG4vKipcbiAqIFBhcnNlIEphdmFTY3JpcHQgY29kZSBpbnRvIGFuIEFTVCB1c2luZyBBY29ybi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIFJhdyBKYXZhU2NyaXB0IHRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlRmlsZSBOYW1lIG9mIGZpbGVuYW1lIChmb3Igc3RhY2sgdHJhY2UpLlxuICogQHJldHVybiB7IU9iamVjdH0gQVNULlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBhcnNlXyA9IGZ1bmN0aW9uKGNvZGUsIHNvdXJjZUZpbGUpIHtcbiAgIC8vIENyZWF0ZSBhIG5ldyBvcHRpb25zIG9iamVjdCwgc2luY2UgQWNvcm4gd2lsbCBtb2RpZnkgdGhpcyBvYmplY3QuXG4gICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgZm9yICh2YXIgbmFtZSBpbiBJbnRlcnByZXRlci5QQVJTRV9PUFRJT05TKSB7XG4gICAgIG9wdGlvbnNbbmFtZV0gPSBJbnRlcnByZXRlci5QQVJTRV9PUFRJT05TW25hbWVdO1xuICAgfVxuICAgb3B0aW9uc1snc291cmNlRmlsZSddID0gc291cmNlRmlsZTtcbiAgIHJldHVybiBhY29ybi5wYXJzZShjb2RlLCBvcHRpb25zKTtcbn07XG5cbi8qKlxuICogQWRkIG1vcmUgY29kZSB0byB0aGUgaW50ZXJwcmV0ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ3whT2JqZWN0fSBjb2RlIFJhdyBKYXZhU2NyaXB0IHRleHQgb3IgQVNULlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuYXBwZW5kQ29kZSA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVN0YWNrWzBdO1xuICBpZiAoIXN0YXRlIHx8IHN0YXRlLm5vZGVbJ3R5cGUnXSAhPT0gJ1Byb2dyYW0nKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0V4cGVjdGluZyBvcmlnaW5hbCBBU1QgdG8gc3RhcnQgd2l0aCBhIFByb2dyYW0gbm9kZS4nKTtcbiAgfVxuICBpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgY29kZSA9IHRoaXMucGFyc2VfKGNvZGUsICdhcHBlbmRDb2RlJyArICh0aGlzLmFwcGVuZENvZGVOdW1iZXJfKyspKTtcbiAgfVxuICBpZiAoIWNvZGUgfHwgY29kZVsndHlwZSddICE9PSAnUHJvZ3JhbScpIHtcbiAgICB0aHJvdyBFcnJvcignRXhwZWN0aW5nIG5ldyBBU1QgdG8gc3RhcnQgd2l0aCBhIFByb2dyYW0gbm9kZS4nKTtcbiAgfVxuICB0aGlzLnBvcHVsYXRlU2NvcGVfKGNvZGUsIHN0YXRlLnNjb3BlKTtcbiAgLy8gQXBwZW5kIHRoZSBuZXcgcHJvZ3JhbSB0byB0aGUgb2xkIG9uZS5cbiAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc3RhdGUubm9kZVsnYm9keSddLCBjb2RlWydib2R5J10pO1xuICBzdGF0ZS5kb25lID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgb25lIHN0ZXAgb2YgdGhlIGludGVycHJldGVyLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhIHN0ZXAgd2FzIGV4ZWN1dGVkLCBmYWxzZSBpZiBubyBtb3JlIGluc3RydWN0aW9ucy5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YWNrID0gdGhpcy5zdGF0ZVN0YWNrO1xuICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgZG8ge1xuICAgIHZhciBzdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBzdGF0ZS5ub2RlLCB0eXBlID0gbm9kZVsndHlwZSddO1xuICAgIGlmICh0eXBlID09PSAnUHJvZ3JhbScgJiYgc3RhdGUuZG9uZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wYXVzZWRfKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLnN0ZXBGdW5jdGlvbnNfW3R5cGVdKHN0YWNrLCBzdGF0ZSwgbm9kZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gRWF0IGFueSBzdGVwIGVycm9ycy4gIFRoZXkgaGF2ZSBiZWVuIHRocm93biBvbiB0aGUgc3RhY2suXG4gICAgICBpZiAoZSAhPT0gSW50ZXJwcmV0ZXIuU1RFUF9FUlJPUikge1xuICAgICAgICAvLyBVaCBvaC4gIFRoaXMgaXMgYSByZWFsIGVycm9yIGluIHRoZSBKUy1JbnRlcnByZXRlci4gIFJldGhyb3cuXG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHN0YWNrLnB1c2gobmV4dFN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ2V0dGVyU3RlcF8pIHtcbiAgICAgIC8vIEdldHRlciBmcm9tIHRoaXMgc3RlcCB3YXMgbm90IGhhbmRsZWQuXG4gICAgICB0aHJvdyBFcnJvcignR2V0dGVyIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBjb250ZXh0Jyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNldHRlclN0ZXBfKSB7XG4gICAgICAvLyBTZXR0ZXIgZnJvbSB0aGlzIHN0ZXAgd2FzIG5vdCBoYW5kbGVkLlxuICAgICAgdGhyb3cgRXJyb3IoJ1NldHRlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgY29udGV4dCcpO1xuICAgIH1cbiAgICAvLyBUaGlzIG1heSBiZSBwb2x5ZmlsbCBjb2RlLiAgS2VlcCBleGVjdXRpbmcgdW50aWwgd2UgYXJyaXZlIGF0IHVzZXIgY29kZS5cbiAgfSB3aGlsZSAoIW5vZGVbJ2VuZCddICYmIHN0YXJ0VGltZSArIHRoaXNbJ1BPTFlGSUxMX1RJTUVPVVQnXSA+IERhdGUubm93KCkpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogRXhlY3V0ZSB0aGUgaW50ZXJwcmV0ZXIgdG8gcHJvZ3JhbSBjb21wbGV0aW9uLiAgVnVsbmVyYWJsZSB0byBpbmZpbml0ZSBsb29wcy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYSBleGVjdXRpb24gaXMgYXN5bmNocm9ub3VzbHkgYmxvY2tlZCxcbiAqICAgICBmYWxzZSBpZiBubyBtb3JlIGluc3RydWN0aW9ucy5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCkge1xuICB3aGlsZSAoIXRoaXMucGF1c2VkXyAmJiB0aGlzLnN0ZXAoKSkge31cbiAgcmV0dXJuIHRoaXMucGF1c2VkXztcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIG9iamVjdCB3aXRoIGJ1aXRpbiBwcm9wZXJ0aWVzIGFuZCBmdW5jdGlvbnMuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdEdsb2JhbCA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICAvLyBJbml0aWFsaXplIHVuZWRpdGFibGUgZ2xvYmFsIHByb3BlcnRpZXMuXG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnTmFOJywgTmFOLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9OQ09ORklHVVJBQkxFX1JFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnSW5maW5pdHknLCBJbmZpbml0eSxcbiAgICAgIEludGVycHJldGVyLk5PTkNPTkZJR1VSQUJMRV9SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3VuZGVmaW5lZCcsIHVuZGVmaW5lZCxcbiAgICAgIEludGVycHJldGVyLk5PTkNPTkZJR1VSQUJMRV9SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3dpbmRvdycsIGdsb2JhbE9iamVjdCxcbiAgICAgIEludGVycHJldGVyLlJFQURPTkxZX0RFU0NSSVBUT1IpO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3RoaXMnLCBnbG9iYWxPYmplY3QsXG4gICAgICBJbnRlcnByZXRlci5OT05DT05GSUdVUkFCTEVfUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdzZWxmJywgZ2xvYmFsT2JqZWN0KTsgIC8vIEVkaXRhYmxlLlxuXG4gIC8vIENyZWF0ZSB0aGUgb2JqZWN0cyB3aGljaCB3aWxsIGJlY29tZSBPYmplY3QucHJvdG90eXBlIGFuZFxuICAvLyBGdW5jdGlvbi5wcm90b3R5cGUsIHdoaWNoIGFyZSBuZWVkZWQgdG8gYm9vdHN0cmFwIGV2ZXJ5dGhpbmcgZWxzZS5cbiAgdGhpcy5PQkpFQ1RfUFJPVE8gPSBuZXcgSW50ZXJwcmV0ZXIuT2JqZWN0KG51bGwpO1xuICB0aGlzLkZVTkNUSU9OX1BST1RPID0gbmV3IEludGVycHJldGVyLk9iamVjdCh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gIC8vIEluaXRpYWxpemUgZ2xvYmFsIG9iamVjdHMuXG4gIHRoaXMuaW5pdEZ1bmN0aW9uKGdsb2JhbE9iamVjdCk7XG4gIHRoaXMuaW5pdE9iamVjdChnbG9iYWxPYmplY3QpO1xuICAvLyBVbmFibGUgdG8gc2V0IGdsb2JhbE9iamVjdCdzIHBhcmVudCBwcmlvciAoT0JKRUNUIGRpZCBub3QgZXhpc3QpLlxuICAvLyBOb3RlIHRoYXQgaW4gYSBicm93c2VyIHRoaXMgd291bGQgYmUgYFdpbmRvd2AsIHdoZXJlYXMgaW4gTm9kZS5qcyBpdCB3b3VsZFxuICAvLyBiZSBgT2JqZWN0YC4gIFRoaXMgaW50ZXJwcmV0ZXIgaXMgY2xvc2VyIHRvIE5vZGUgaW4gdGhhdCBpdCBoYXMgbm8gRE9NLlxuICBnbG9iYWxPYmplY3QucHJvdG8gPSB0aGlzLk9CSkVDVF9QUk9UTztcbiAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdjb25zdHJ1Y3RvcicsIHRoaXMuT0JKRUNULFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgdGhpcy5pbml0QXJyYXkoZ2xvYmFsT2JqZWN0KTtcbiAgdGhpcy5pbml0U3RyaW5nKGdsb2JhbE9iamVjdCk7XG4gIHRoaXMuaW5pdEJvb2xlYW4oZ2xvYmFsT2JqZWN0KTtcbiAgdGhpcy5pbml0TnVtYmVyKGdsb2JhbE9iamVjdCk7XG4gIHRoaXMuaW5pdERhdGUoZ2xvYmFsT2JqZWN0KTtcbiAgdGhpcy5pbml0UmVnRXhwKGdsb2JhbE9iamVjdCk7XG4gIHRoaXMuaW5pdEVycm9yKGdsb2JhbE9iamVjdCk7XG4gIHRoaXMuaW5pdE1hdGgoZ2xvYmFsT2JqZWN0KTtcbiAgdGhpcy5pbml0SlNPTihnbG9iYWxPYmplY3QpO1xuXG4gIC8vIEluaXRpYWxpemUgZ2xvYmFsIGZ1bmN0aW9ucy5cbiAgdmFyIHRoaXNJbnRlcnByZXRlciA9IHRoaXM7XG4gIHZhciBmdW5jID0gdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihcbiAgICAgIGZ1bmN0aW9uKHgpIHt0aHJvdyBFdmFsRXJyb3IoXCJDYW4ndCBoYXBwZW5cIik7fSwgZmFsc2UpO1xuICBmdW5jLmV2YWwgPSB0cnVlO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ2V2YWwnLCBmdW5jLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3BhcnNlSW50JyxcbiAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24ocGFyc2VJbnQsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAncGFyc2VGbG9hdCcsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHBhcnNlRmxvYXQsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdpc05hTicsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKGlzTmFOLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnaXNGaW5pdGUnLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihpc0Zpbml0ZSwgZmFsc2UpLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICB2YXIgc3RyRnVuY3Rpb25zID0gW1xuICAgIFtlc2NhcGUsICdlc2NhcGUnXSwgW3VuZXNjYXBlLCAndW5lc2NhcGUnXSxcbiAgICBbZGVjb2RlVVJJLCAnZGVjb2RlVVJJJ10sIFtkZWNvZGVVUklDb21wb25lbnQsICdkZWNvZGVVUklDb21wb25lbnQnXSxcbiAgICBbZW5jb2RlVVJJLCAnZW5jb2RlVVJJJ10sIFtlbmNvZGVVUklDb21wb25lbnQsICdlbmNvZGVVUklDb21wb25lbnQnXVxuICBdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ckZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB3cmFwcGVyID0gKGZ1bmN0aW9uKG5hdGl2ZUZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbmF0aXZlRnVuYyhzdHIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gZGVjb2RlVVJJKCcleHknKSB3aWxsIHRocm93IGFuIGVycm9yLiAgQ2F0Y2ggYW5kIHJldGhyb3cuXG4gICAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5VUklfRVJST1IsIGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkoc3RyRnVuY3Rpb25zW2ldWzBdKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgc3RyRnVuY3Rpb25zW2ldWzFdLFxuICAgICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgfVxuICAvLyBQcmVzZXJ2ZSBwdWJsaWNseSBwcm9wZXJ0aWVzIGZyb20gYmVpbmcgcHJ1bmVkL3JlbmFtZWQgYnkgSlMgY29tcGlsZXJzLlxuICAvLyBBZGQgb3RoZXJzIGFzIG5lZWRlZC5cbiAgdGhpc1snT0JKRUNUJ10gPSB0aGlzLk9CSkVDVDsgICAgIHRoaXNbJ09CSkVDVF9QUk9UTyddID0gdGhpcy5PQkpFQ1RfUFJPVE87XG4gIHRoaXNbJ0ZVTkNUSU9OJ10gPSB0aGlzLkZVTkNUSU9OOyB0aGlzWydGVU5DVElPTl9QUk9UTyddID0gdGhpcy5GVU5DVElPTl9QUk9UTztcbiAgdGhpc1snQVJSQVknXSA9IHRoaXMuQVJSQVk7ICAgICAgIHRoaXNbJ0FSUkFZX1BST1RPJ10gPSB0aGlzLkFSUkFZX1BST1RPO1xuICB0aGlzWydSRUdFWFAnXSA9IHRoaXMuUkVHRVhQOyAgICAgdGhpc1snUkVHRVhQX1BST1RPJ10gPSB0aGlzLlJFR0VYUF9QUk9UTztcbiAgdGhpc1snREFURSddID0gdGhpcy5EQVRFOyAgICAgICAgIHRoaXNbJ0RBVEVfUFJPVE8nXSA9IHRoaXMuREFURV9QUk9UTztcblxuICAvLyBSdW4gYW55IHVzZXItcHJvdmlkZWQgaW5pdGlhbGl6YXRpb24uXG4gIGlmICh0aGlzLmluaXRGdW5jXykge1xuICAgIHRoaXMuaW5pdEZ1bmNfKHRoaXMsIGdsb2JhbE9iamVjdCk7XG4gIH1cbn07XG5cbi8qKlxuICogTnVtYmVyIG9mIGZ1bmN0aW9ucyBjcmVhdGVkIGJ5IHRoZSBpbnRlcnByZXRlci5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5mdW5jdGlvbkNvZGVOdW1iZXJfID0gMDtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBGdW5jdGlvbiBjbGFzcy5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0RnVuY3Rpb24gPSBmdW5jdGlvbihnbG9iYWxPYmplY3QpIHtcbiAgdmFyIHRoaXNJbnRlcnByZXRlciA9IHRoaXM7XG4gIHZhciB3cmFwcGVyO1xuICB2YXIgaWRlbnRpZmllclJlZ2V4cCA9IC9eW0EtWmEtel8kXVtcXHckXSokLztcbiAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3IuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBGdW5jdGlvbih2YXJfYXJncykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB2YXIgY29kZSA9IFN0cmluZyhhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvZGUgPSAnJztcbiAgICB9XG4gICAgdmFyIGFyZ3NTdHIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDAsIC0xKS5qb2luKCcsJykudHJpbSgpO1xuICAgIGlmIChhcmdzU3RyKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3NTdHIuc3BsaXQoL1xccyosXFxzKi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBuYW1lID0gYXJnc1tpXTtcbiAgICAgICAgaWYgKCFpZGVudGlmaWVyUmVnZXhwLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlNZTlRBWF9FUlJPUixcbiAgICAgICAgICAgICAgJ0ludmFsaWQgZnVuY3Rpb24gYXJndW1lbnQ6ICcgKyBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1N0ciA9IGFyZ3Muam9pbignLCAnKTtcbiAgICB9XG4gICAgLy8gQWNvcm4gbmVlZHMgdG8gcGFyc2UgY29kZSBpbiB0aGUgY29udGV4dCBvZiBhIGZ1bmN0aW9uIG9yIGVsc2UgYHJldHVybmBcbiAgICAvLyBzdGF0ZW1lbnRzIHdpbGwgYmUgc3ludGF4IGVycm9ycy5cbiAgICB0cnkge1xuICAgICAgdmFyIGFzdCA9IHRoaXMucGFyc2VfKCcoZnVuY3Rpb24oJyArIGFyZ3NTdHIgKyAnKSB7JyArIGNvZGUgKyAnfSknLFxuICAgICAgICAgICdmdW5jdGlvbicgKyAodGhpcy5mdW5jdGlvbkNvZGVOdW1iZXJfKyspKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBBY29ybiB0aHJldyBhIFN5bnRheEVycm9yLiAgUmV0aHJvdyBhcyBhIHRyYXBwYWJsZSBlcnJvci5cbiAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuU1lOVEFYX0VSUk9SLFxuICAgICAgICAgICdJbnZhbGlkIGNvZGU6ICcgKyBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoYXN0Wydib2R5J10ubGVuZ3RoICE9PSAxKSB7XG4gICAgICAvLyBGdW5jdGlvbignYScsICdyZXR1cm4gYSArIDY7fTsge2FsZXJ0KDEpOycpO1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5TWU5UQVhfRVJST1IsXG4gICAgICAgICAgJ0ludmFsaWQgY29kZSBpbiBmdW5jdGlvbiBib2R5LicpO1xuICAgIH1cbiAgICB2YXIgbm9kZSA9IGFzdFsnYm9keSddWzBdWydleHByZXNzaW9uJ107XG4gICAgLy8gTm90ZSB0aGF0IGlmIHRoaXMgY29uc3RydWN0b3IgaXMgY2FsbGVkIGFzIGBuZXcgRnVuY3Rpb24oKWAgdGhlIGZ1bmN0aW9uXG4gICAgLy8gb2JqZWN0IGNyZWF0ZWQgYnkgc3RlcENhbGxFeHByZXNzaW9uIGFuZCBhc3NpZ25lZCB0byBgdGhpc2AgaXMgZGlzY2FyZGVkLlxuICAgIC8vIEludGVyZXN0aW5nbHksIHRoZSBzY29wZSBmb3IgY29uc3RydWN0ZWQgZnVuY3Rpb25zIGlzIHRoZSBnbG9iYWwgc2NvcGUsXG4gICAgLy8gZXZlbiBpZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgaW4gc29tZSBvdGhlciBzY29wZS5cbiAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLmNyZWF0ZUZ1bmN0aW9uKG5vZGUsIHRoaXNJbnRlcnByZXRlci5nbG9iYWxTY29wZSwgJ2Fub255bW91cycpO1xuICB9O1xuICB0aGlzLkZVTkNUSU9OID0gdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCB0cnVlKTtcblxuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0Z1bmN0aW9uJywgdGhpcy5GVU5DVElPTixcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIC8vIFRocm93IGF3YXkgdGhlIGNyZWF0ZWQgcHJvdG90eXBlIGFuZCB1c2UgdGhlIHJvb3QgcHJvdG90eXBlLlxuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuRlVOQ1RJT04sICdwcm90b3R5cGUnLCB0aGlzLkZVTkNUSU9OX1BST1RPLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICAvLyBDb25maWd1cmUgRnVuY3Rpb24ucHJvdG90eXBlLlxuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuRlVOQ1RJT05fUFJPVE8sICdjb25zdHJ1Y3RvcicsIHRoaXMuRlVOQ1RJT04sXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICB0aGlzLkZVTkNUSU9OX1BST1RPLm5hdGl2ZUZ1bmMgPSBmdW5jdGlvbigpIHt9O1xuICB0aGlzLkZVTkNUSU9OX1BST1RPLm5hdGl2ZUZ1bmMuaWQgPSB0aGlzLmZ1bmN0aW9uQ291bnRlcl8rKztcbiAgdGhpcy5GVU5DVElPTl9QUk9UTy5pbGxlZ2FsQ29uc3RydWN0b3IgPSB0cnVlO1xuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuRlVOQ1RJT05fUFJPVE8sICdsZW5ndGgnLCAwLFxuICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgdGhpcy5GVU5DVElPTl9QUk9UTy5jbGFzcyA9ICdGdW5jdGlvbic7XG5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIGFwcGx5KHRoaXNBcmcsIGFyZ3MpIHtcbiAgICB2YXIgc3RhdGUgPVxuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc3RhdGVTdGFja1t0aGlzSW50ZXJwcmV0ZXIuc3RhdGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICAvLyBSZXdyaXRlIHRoZSBjdXJyZW50IENhbGxFeHByZXNzaW9uIHN0YXRlIHRvIGFwcGx5IGEgZGlmZmVyZW50IGZ1bmN0aW9uLlxuICAgIHN0YXRlLmZ1bmNfID0gdGhpcztcbiAgICAvLyBBc3NpZ24gdGhlIGB0aGlzYCBvYmplY3QuXG4gICAgc3RhdGUuZnVuY1RoaXNfID0gdGhpc0FyZztcbiAgICAvLyBCaW5kIGFueSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgc3RhdGUuYXJndW1lbnRzXyA9IFtdO1xuICAgIGlmIChhcmdzICE9PSBudWxsICYmIGFyZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGFyZ3MgaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpIHtcbiAgICAgICAgc3RhdGUuYXJndW1lbnRzXyA9IHRoaXNJbnRlcnByZXRlci5hcnJheVBzZXVkb1RvTmF0aXZlKGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgJ0NyZWF0ZUxpc3RGcm9tQXJyYXlMaWtlIGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIHN0YXRlLmRvbmVFeGVjXyA9IGZhbHNlO1xuICB9O1xuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuRlVOQ1RJT04sICdhcHBseScsIHdyYXBwZXIpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBjYWxsKHRoaXNBcmcgLyosIHZhcl9hcmdzICovKSB7XG4gICAgdmFyIHN0YXRlID1cbiAgICAgICAgdGhpc0ludGVycHJldGVyLnN0YXRlU3RhY2tbdGhpc0ludGVycHJldGVyLnN0YXRlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgLy8gUmV3cml0ZSB0aGUgY3VycmVudCBDYWxsRXhwcmVzc2lvbiBzdGF0ZSB0byBjYWxsIGEgZGlmZmVyZW50IGZ1bmN0aW9uLlxuICAgIHN0YXRlLmZ1bmNfID0gdGhpcztcbiAgICAvLyBBc3NpZ24gdGhlIGB0aGlzYCBvYmplY3QuXG4gICAgc3RhdGUuZnVuY1RoaXNfID0gdGhpc0FyZztcbiAgICAvLyBCaW5kIGFueSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgc3RhdGUuYXJndW1lbnRzXyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdGF0ZS5hcmd1bWVudHNfLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgc3RhdGUuZG9uZUV4ZWNfID0gZmFsc2U7XG4gIH07XG4gIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5GVU5DVElPTiwgJ2NhbGwnLCB3cmFwcGVyKTtcblxuICB0aGlzLnBvbHlmaWxsc18ucHVzaChcbi8vIFBvbHlmaWxsIGNvcGllZCBmcm9tOlxuLy8gZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9vYmplY3RzL0Z1bmN0aW9uL2JpbmRcblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ2JpbmQnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIGJpbmQob1RoaXMpIHtcIixcbiAgICBcImlmICh0eXBlb2YgdGhpcyAhPT0gJ2Z1bmN0aW9uJykge1wiLFxuICAgICAgXCJ0aHJvdyBUeXBlRXJyb3IoJ1doYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZScpO1wiLFxuICAgIFwifVwiLFxuICAgIFwidmFyIGFBcmdzICAgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFwiLFxuICAgICAgICBcImZUb0JpbmQgPSB0aGlzLFwiLFxuICAgICAgICBcImZOT1AgICAgPSBmdW5jdGlvbigpIHt9LFwiLFxuICAgICAgICBcImZCb3VuZCAgPSBmdW5jdGlvbigpIHtcIixcbiAgICAgICAgICBcInJldHVybiBmVG9CaW5kLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBmTk9QXCIsXG4gICAgICAgICAgICAgICAgIFwiPyB0aGlzXCIsXG4gICAgICAgICAgICAgICAgIFwiOiBvVGhpcyxcIixcbiAgICAgICAgICAgICAgICAgXCJhQXJncy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1wiLFxuICAgICAgICBcIn07XCIsXG4gICAgXCJpZiAodGhpcy5wcm90b3R5cGUpIHtcIixcbiAgICAgIFwiZk5PUC5wcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcIixcbiAgICBcIn1cIixcbiAgICBcImZCb3VuZC5wcm90b3R5cGUgPSBuZXcgZk5PUCgpO1wiLFxuICAgIFwicmV0dXJuIGZCb3VuZDtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXCJcIik7XG5cbiAgLy8gRnVuY3Rpb24gaGFzIG5vIHBhcmVudCB0byBpbmhlcml0IGZyb20sIHNvIGl0IG5lZWRzIGl0cyBvd24gbWFuZGF0b3J5XG4gIC8vIHRvU3RyaW5nIGFuZCB2YWx1ZU9mIGZ1bmN0aW9ucy5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBTdHJpbmcodGhpcyk7XG4gIH07XG4gIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5GVU5DVElPTiwgJ3RvU3RyaW5nJywgd3JhcHBlcik7XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5GVU5DVElPTiwgJ3RvU3RyaW5nJyxcbiAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgd3JhcHBlciA9IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVPZigpO1xuICB9O1xuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuRlVOQ1RJT04sICd2YWx1ZU9mJywgd3JhcHBlcik7XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5GVU5DVElPTiwgJ3ZhbHVlT2YnLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBPYmplY3QgY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdE9iamVjdCA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgdmFyIHdyYXBwZXI7XG4gIC8vIE9iamVjdCBjb25zdHJ1Y3Rvci5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIE9iamVjdCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0LlxuICAgICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgICAgLy8gQ2FsbGVkIGFzIGBuZXcgT2JqZWN0KClgLlxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENhbGxlZCBhcyBgT2JqZWN0KClgLlxuICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdFByb3RvKHRoaXNJbnRlcnByZXRlci5PQkpFQ1RfUFJPVE8pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICAgIC8vIFdyYXAgdGhlIHZhbHVlIGFzIGFuIG9iamVjdC5cbiAgICAgIHZhciBib3ggPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlT2JqZWN0UHJvdG8oXG4gICAgICAgICAgdGhpc0ludGVycHJldGVyLmdldFByb3RvdHlwZSh2YWx1ZSkpO1xuICAgICAgYm94LmRhdGEgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBib3g7XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgcHJvdmlkZWQgb2JqZWN0LlxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgdGhpcy5PQkpFQ1QgPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIHRydWUpO1xuICAvLyBUaHJvdyBhd2F5IHRoZSBjcmVhdGVkIHByb3RvdHlwZSBhbmQgdXNlIHRoZSByb290IHByb3RvdHlwZS5cbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLk9CSkVDVCwgJ3Byb3RvdHlwZScsIHRoaXMuT0JKRUNUX1BST1RPLFxuICAgICAgICAgICAgICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5PQkpFQ1RfUFJPVE8sICdjb25zdHJ1Y3RvcicsIHRoaXMuT0JKRUNULFxuICAgICAgICAgICAgICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnT2JqZWN0JywgdGhpcy5PQkpFQ1QsXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkLlxuICAgKiBJZiBzbywgdGhlbiB0aHJvdyBhbiBlcnJvciBpbiB0aGUgY2FsbCBzdGFjay5cbiAgICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUgdG8gY2hlY2suXG4gICAqL1xuICB2YXIgdGhyb3dJZk51bGxVbmRlZmluZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgXCJDYW5ub3QgY29udmVydCAnXCIgKyB2YWx1ZSArIFwiJyB0byBvYmplY3RcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN0YXRpYyBtZXRob2RzIG9uIE9iamVjdC5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMob2JqKSB7XG4gICAgdGhyb3dJZk51bGxVbmRlZmluZWQob2JqKTtcbiAgICB2YXIgcHJvcHMgPSAob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSA/IG9iai5wcm9wZXJ0aWVzIDogb2JqO1xuICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpKTtcbiAgfTtcbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLk9CSkVDVCwgJ2dldE93blByb3BlcnR5TmFtZXMnLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBrZXlzKG9iaikge1xuICAgIHRocm93SWZOdWxsVW5kZWZpbmVkKG9iaik7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkge1xuICAgICAgb2JqID0gb2JqLnByb3BlcnRpZXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhPYmplY3Qua2V5cyhvYmopKTtcbiAgfTtcbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLk9CSkVDVCwgJ2tleXMnLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBjcmVhdGVfKHByb3RvKSB7XG4gICAgLy8gU3VwcG9ydCBmb3IgdGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgYSBwb2x5ZmlsbC5cbiAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlT2JqZWN0UHJvdG8obnVsbCk7XG4gICAgfVxuICAgIGlmICghKHByb3RvIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICdPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlT2JqZWN0UHJvdG8ocHJvdG8pO1xuICB9O1xuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuT0JKRUNULCAnY3JlYXRlJyxcbiAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICAvLyBBZGQgYSBwb2x5ZmlsbCB0byBoYW5kbGUgY3JlYXRlJ3Mgc2Vjb25kIGFyZ3VtZW50LlxuICB0aGlzLnBvbHlmaWxsc18ucHVzaChcblwiKGZ1bmN0aW9uKCkge1wiLFxuICBcInZhciBjcmVhdGVfID0gT2JqZWN0LmNyZWF0ZTtcIixcbiAgXCJPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3RvLCBwcm9wcykge1wiLFxuICAgIFwidmFyIG9iaiA9IGNyZWF0ZV8ocHJvdG8pO1wiLFxuICAgIFwicHJvcHMgJiYgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCBwcm9wcyk7XCIsXG4gICAgXCJyZXR1cm4gb2JqO1wiLFxuICBcIn07XCIsXG5cIn0pKCk7XCIsXG5cIlwiKTtcblxuICB3cmFwcGVyID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkZXNjcmlwdG9yKSB7XG4gICAgcHJvcCA9IFN0cmluZyhwcm9wKTtcbiAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgJ09iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAoIShkZXNjcmlwdG9yIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICdQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAoIW9iai5wcm9wZXJ0aWVzW3Byb3BdICYmIG9iai5wcmV2ZW50RXh0ZW5zaW9ucykge1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgIFwiQ2FuJ3QgZGVmaW5lIHByb3BlcnR5ICdcIiArIHByb3AgKyBcIicsIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcbiAgICB9XG4gICAgLy8gVGhlIHBvbHlmaWxsIGd1YXJhbnRlZXMgbm8gaW5oZXJpdGFuY2UgYW5kIG5vIGdldHRlciBmdW5jdGlvbnMuXG4gICAgLy8gVGhlcmVmb3JlIHRoZSBkZXNjcmlwdG9yIHByb3BlcnRpZXMgbWFwIGlzIHRoZSBuYXRpdmUgb2JqZWN0IG5lZWRlZC5cbiAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkob2JqLCBwcm9wLCBJbnRlcnByZXRlci5WQUxVRV9JTl9ERVNDUklQVE9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLnByb3BlcnRpZXMpO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5PQkpFQ1QsICdkZWZpbmVQcm9wZXJ0eScsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgdGhpcy5wb2x5ZmlsbHNfLnB1c2goXG4vLyBGbGF0dGVuIHRoZSBkZXNjcmlwdG9yIHRvIHJlbW92ZSBhbnkgaW5oZXJpdGFuY2Ugb3IgZ2V0dGVyIGZ1bmN0aW9ucy5cblwiKGZ1bmN0aW9uKCkge1wiLFxuICBcInZhciBkZWZpbmVQcm9wZXJ0eV8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XCIsXG4gIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkMSkge1wiLFxuICAgIFwidmFyIGQyID0ge307XCIsXG4gICAgXCJpZiAoJ2NvbmZpZ3VyYWJsZScgaW4gZDEpIGQyLmNvbmZpZ3VyYWJsZSA9IGQxLmNvbmZpZ3VyYWJsZTtcIixcbiAgICBcImlmICgnZW51bWVyYWJsZScgaW4gZDEpIGQyLmVudW1lcmFibGUgPSBkMS5lbnVtZXJhYmxlO1wiLFxuICAgIFwiaWYgKCd3cml0YWJsZScgaW4gZDEpIGQyLndyaXRhYmxlID0gZDEud3JpdGFibGU7XCIsXG4gICAgXCJpZiAoJ3ZhbHVlJyBpbiBkMSkgZDIudmFsdWUgPSBkMS52YWx1ZTtcIixcbiAgICBcImlmICgnZ2V0JyBpbiBkMSkgZDIuZ2V0ID0gZDEuZ2V0O1wiLFxuICAgIFwiaWYgKCdzZXQnIGluIGQxKSBkMi5zZXQgPSBkMS5zZXQ7XCIsXG4gICAgXCJyZXR1cm4gZGVmaW5lUHJvcGVydHlfKG9iaiwgcHJvcCwgZDIpO1wiLFxuICBcIn07XCIsXG5cIn0pKCk7XCIsXG5cblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwgJ2RlZmluZVByb3BlcnRpZXMnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMob2JqLCBwcm9wcykge1wiLFxuICAgIFwidmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcIixcbiAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5c1tpXSwgcHJvcHNba2V5c1tpXV0pO1wiLFxuICAgIFwifVwiLFxuICAgIFwicmV0dXJuIG9iajtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXCJcIik7XG5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApIHtcbiAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgJ09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcbiAgICB9XG4gICAgcHJvcCA9IFN0cmluZyhwcm9wKTtcbiAgICBpZiAoIShwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iai5wcm9wZXJ0aWVzLCBwcm9wKTtcbiAgICB2YXIgZ2V0dGVyID0gb2JqLmdldHRlcltwcm9wXTtcbiAgICB2YXIgc2V0dGVyID0gb2JqLnNldHRlcltwcm9wXTtcblxuICAgIHZhciBwc2V1ZG9EZXNjcmlwdG9yID1cbiAgICAgICAgdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdFByb3RvKHRoaXNJbnRlcnByZXRlci5PQkpFQ1RfUFJPVE8pO1xuICAgIGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkocHNldWRvRGVzY3JpcHRvciwgJ2dldCcsIGdldHRlcik7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkocHNldWRvRGVzY3JpcHRvciwgJ3NldCcsIHNldHRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShwc2V1ZG9EZXNjcmlwdG9yLCAndmFsdWUnLFxuICAgICAgICAgIGRlc2NyaXB0b3IudmFsdWUpO1xuICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHBzZXVkb0Rlc2NyaXB0b3IsICd3cml0YWJsZScsXG4gICAgICAgICAgZGVzY3JpcHRvci53cml0YWJsZSk7XG4gICAgfVxuICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShwc2V1ZG9EZXNjcmlwdG9yLCAnY29uZmlndXJhYmxlJyxcbiAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUpO1xuICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShwc2V1ZG9EZXNjcmlwdG9yLCAnZW51bWVyYWJsZScsXG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSk7XG4gICAgcmV0dXJuIHBzZXVkb0Rlc2NyaXB0b3I7XG4gIH07XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5PQkpFQ1QsICdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihvYmopIHtcbiAgICB0aHJvd0lmTnVsbFVuZGVmaW5lZChvYmopO1xuICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIuZ2V0UHJvdG90eXBlKG9iaik7XG4gIH07XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5PQkpFQ1QsICdnZXRQcm90b3R5cGVPZicsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIGlzRXh0ZW5zaWJsZShvYmopIHtcbiAgICByZXR1cm4gQm9vbGVhbihvYmopICYmICFvYmoucHJldmVudEV4dGVuc2lvbnM7XG4gIH07XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5PQkpFQ1QsICdpc0V4dGVuc2libGUnLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyhvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICBvYmoucHJldmVudEV4dGVuc2lvbnMgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuT0JKRUNULCAncHJldmVudEV4dGVuc2lvbnMnLFxuICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIC8vIEluc3RhbmNlIG1ldGhvZHMgb24gT2JqZWN0LlxuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuT0JKRUNULCAndG9TdHJpbmcnLFxuICAgICAgSW50ZXJwcmV0ZXIuT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7XG4gIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5PQkpFQ1QsICd0b0xvY2FsZVN0cmluZycsXG4gICAgICBJbnRlcnByZXRlci5PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcbiAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLk9CSkVDVCwgJ3ZhbHVlT2YnLFxuICAgICAgSW50ZXJwcmV0ZXIuT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKTtcblxuICB3cmFwcGVyID0gZnVuY3Rpb24gaGFzT3duUHJvcGVydHkocHJvcCkge1xuICAgIHRocm93SWZOdWxsVW5kZWZpbmVkKHRoaXMpO1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHByb3ApIGluIHRoaXMucHJvcGVydGllcztcbiAgICB9XG4gICAgLy8gUHJpbWl0aXZlLlxuICAgIHJldHVybiB0aGlzLmhhc093blByb3BlcnR5KHByb3ApO1xuICB9O1xuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuT0JKRUNULCAnaGFzT3duUHJvcGVydHknLCB3cmFwcGVyKTtcblxuICB3cmFwcGVyID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUocHJvcCkge1xuICAgIHRocm93SWZOdWxsVW5kZWZpbmVkKHRoaXMpO1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHRoaXMucHJvcGVydGllcywgcHJvcCk7XG4gICAgfVxuICAgIC8vIFByaW1pdGl2ZS5cbiAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eUlzRW51bWVyYWJsZShwcm9wKTtcbiAgfTtcbiAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLk9CSkVDVCwgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgd3JhcHBlcik7XG5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIGlzUHJvdG90eXBlT2Yob2JqKSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIC8vIE5vdGUsIGNpcmN1bGFyIGxvb3BzIHNob3VsZG4ndCBiZSBwb3NzaWJsZS5cbiAgICAgIG9iaiA9IHRoaXNJbnRlcnByZXRlci5nZXRQcm90b3R5cGUob2JqKTtcbiAgICAgIGlmICghb2JqKSB7XG4gICAgICAgIC8vIE5vIHBhcmVudDsgcmVhY2hlZCB0aGUgdG9wLlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAob2JqID09PSB0aGlzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLk9CSkVDVCwgJ2lzUHJvdG90eXBlT2YnLCAgd3JhcHBlcik7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIEFycmF5IGNsYXNzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXRBcnJheSA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgdmFyIHdyYXBwZXI7XG4gIC8vIEFycmF5IGNvbnN0cnVjdG9yLlxuICB3cmFwcGVyID0gZnVuY3Rpb24gQXJyYXkodmFyX2FyZ3MpIHtcbiAgICBpZiAodGhpc0ludGVycHJldGVyLmNhbGxlZFdpdGhOZXcoKSkge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBuZXcgQXJyYXkoKWAuXG4gICAgICB2YXIgbmV3QXJyYXkgPSB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYWxsZWQgYXMgYEFycmF5KClgLlxuICAgICAgdmFyIG5ld0FycmF5ID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZUFycmF5KCk7XG4gICAgfVxuICAgIHZhciBmaXJzdCA9IGFyZ3VtZW50c1swXTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgZmlyc3QgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoaXNOYU4oSW50ZXJwcmV0ZXIubGVnYWxBcnJheUxlbmd0aChmaXJzdCkpKSB7XG4gICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuUkFOR0VfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSW52YWxpZCBhcnJheSBsZW5ndGgnKTtcbiAgICAgIH1cbiAgICAgIG5ld0FycmF5LnByb3BlcnRpZXMubGVuZ3RoID0gZmlyc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld0FycmF5LnByb3BlcnRpZXNbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG4gICAgICBuZXdBcnJheS5wcm9wZXJ0aWVzLmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfTtcbiAgdGhpcy5BUlJBWSA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG4gIHRoaXMuQVJSQVlfUFJPVE8gPSB0aGlzLkFSUkFZLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0FycmF5JywgdGhpcy5BUlJBWSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgLy8gU3RhdGljIG1ldGhvZHMgb24gQXJyYXkuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLmNsYXNzID09PSAnQXJyYXknO1xuICB9O1xuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuQVJSQVksICdpc0FycmF5JyxcbiAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIC8vIEluc3RhbmNlIG1ldGhvZHMgb24gQXJyYXkuXG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5BUlJBWV9QUk9UTywgJ2xlbmd0aCcsIDAsXG4gICAgICB7Y29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlfSk7XG4gIHRoaXMuQVJSQVlfUFJPVE8uY2xhc3MgPSAnQXJyYXknO1xuXG4gIHRoaXMucG9seWZpbGxzXy5wdXNoKFxuXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAncG9wJyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBwb3AoKSB7XCIsXG4gICAgXCJpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgIFwidmFyIG8gPSBPYmplY3QodGhpcyk7XCIsXG4gICAgXCJ2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XCIsXG4gICAgXCJpZiAoIWxlbiB8fCBsZW4gPCAwKSB7XCIsXG4gICAgICBcIm8ubGVuZ3RoID0gMDtcIixcbiAgICAgIFwicmV0dXJuIHVuZGVmaW5lZDtcIixcbiAgICBcIn1cIixcbiAgICBcImxlbi0tO1wiLFxuICAgIFwidmFyIHggPSBvW2xlbl07XCIsXG4gICAgXCJkZWxldGUgb1tsZW5dO1wiLCAgLy8gTmVlZGVkIGZvciBub24tYXJyYXlzLlxuICAgIFwiby5sZW5ndGggPSBsZW47XCIsXG4gICAgXCJyZXR1cm4geDtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdwdXNoJyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBwdXNoKHZhcl9hcmdzKSB7XCIsXG4gICAgXCJpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgIFwidmFyIG8gPSBPYmplY3QodGhpcyk7XCIsXG4gICAgXCJ2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1wiLFxuICAgICAgXCJvW2xlbl0gPSBhcmd1bWVudHNbaV07XCIsXG4gICAgICBcImxlbisrO1wiLFxuICAgIFwifVwiLFxuICAgIFwiby5sZW5ndGggPSBsZW47XCIsXG4gICAgXCJyZXR1cm4gbGVuO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NoaWZ0JyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBzaGlmdCgpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcIixcbiAgICBcImlmICghbGVuIHx8IGxlbiA8IDApIHtcIixcbiAgICAgIFwiby5sZW5ndGggPSAwO1wiLFxuICAgICAgXCJyZXR1cm4gdW5kZWZpbmVkO1wiLFxuICAgIFwifVwiLFxuICAgIFwidmFyIHZhbHVlID0gb1swXTtcIixcbiAgICBcImZvciAodmFyIGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XCIsXG4gICAgICBcIm9baV0gPSBvW2kgKyAxXTtcIixcbiAgICBcIn1cIixcbiAgICBcImRlbGV0ZSBvW2ldO1wiLCAgLy8gTmVlZGVkIGZvciBub24tYXJyYXlzLlxuICAgIFwiby5sZW5ndGggPSBsZW4gLSAxO1wiLFxuICAgIFwicmV0dXJuIHZhbHVlO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3Vuc2hpZnQnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIHVuc2hpZnQodmFyX2FyZ3MpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcIixcbiAgICBcImlmICghbGVuIHx8IGxlbiA8IDApIHtcIixcbiAgICAgIFwibGVuID0gMDtcIixcbiAgICBcIn1cIixcbiAgICBcImZvciAodmFyIGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkge1wiLFxuICAgICAgXCJvW2kgKyBhcmd1bWVudHMubGVuZ3RoXSA9IG9baV07XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1wiLFxuICAgICAgXCJvW2ldID0gYXJndW1lbnRzW2ldO1wiLFxuICAgIFwifVwiLFxuICAgIFwicmV0dXJuIG8ubGVuZ3RoID0gbGVuICsgYXJndW1lbnRzLmxlbmd0aDtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdyZXZlcnNlJyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiByZXZlcnNlKCkge1wiLFxuICAgIFwiaWYgKCF0aGlzKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICBcInZhciBvID0gT2JqZWN0KHRoaXMpO1wiLFxuICAgIFwidmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1wiLFxuICAgIFwiaWYgKCFsZW4gfHwgbGVuIDwgMikge1wiLFxuICAgICAgXCJyZXR1cm4gbztcIiwgIC8vIE5vdCBhbiBhcnJheSwgb3IgdG9vIHNob3J0IHRvIHJldmVyc2UuXG4gICAgXCJ9XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAvIDIgLSAwLjU7IGkrKykge1wiLFxuICAgICAgXCJ2YXIgeCA9IG9baV07XCIsXG4gICAgICBcIm9baV0gPSBvW2xlbiAtIGkgLSAxXTtcIixcbiAgICAgIFwib1tsZW4gLSBpIC0gMV0gPSB4O1wiLFxuICAgIFwifVwiLFxuICAgIFwicmV0dXJuIG87XCIsXG4gIFwifVwiLFxuXCJ9KTtcIixcblxuXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnaW5kZXhPZicsXCIsXG4gICAgXCJ7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6XCIsXG4gIFwiZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcIixcbiAgICBcInZhciBuID0gZnJvbUluZGV4IHwgMDtcIixcbiAgICBcImlmICghbGVuIHx8IG4gPj0gbGVuKSB7XCIsXG4gICAgICBcInJldHVybiAtMTtcIixcbiAgICBcIn1cIixcbiAgICBcInZhciBpID0gTWF0aC5tYXgobiA+PSAwID8gbiA6IGxlbiAtIE1hdGguYWJzKG4pLCAwKTtcIixcbiAgICBcIndoaWxlIChpIDwgbGVuKSB7XCIsXG4gICAgICBcImlmIChpIGluIG8gJiYgb1tpXSA9PT0gc2VhcmNoRWxlbWVudCkge1wiLFxuICAgICAgICBcInJldHVybiBpO1wiLFxuICAgICAgXCJ9XCIsXG4gICAgICBcImkrKztcIixcbiAgICBcIn1cIixcbiAgICBcInJldHVybiAtMTtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdsYXN0SW5kZXhPZicsXCIsXG4gICAgXCJ7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6XCIsXG4gIFwiZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XCIsXG4gICAgXCJpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgIFwidmFyIG8gPSBPYmplY3QodGhpcyk7XCIsXG4gICAgXCJ2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XCIsXG4gICAgXCJpZiAoIWxlbikge1wiLFxuICAgICAgXCJyZXR1cm4gLTE7XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJ2YXIgbiA9IGxlbiAtIDE7XCIsXG4gICAgXCJpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcIixcbiAgICAgIFwibiA9IGZyb21JbmRleCB8IDA7XCIsXG4gICAgICBcImlmIChuKSB7XCIsXG4gICAgICAgIFwibiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcIixcbiAgICAgIFwifVwiLFxuICAgIFwifVwiLFxuICAgIFwidmFyIGkgPSBuID49IDAgPyBNYXRoLm1pbihuLCBsZW4gLSAxKSA6IGxlbiAtIE1hdGguYWJzKG4pO1wiLFxuICAgIFwid2hpbGUgKGkgPj0gMCkge1wiLFxuICAgICAgXCJpZiAoaSBpbiBvICYmIG9baV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcIixcbiAgICAgICAgXCJyZXR1cm4gaTtcIixcbiAgICAgIFwifVwiLFxuICAgICAgXCJpLS07XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gLTE7XCIsXG4gIFwifVwiLFxuXCJ9KTtcIixcblxuXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnc2xpY2UnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcIixcbiAgICAvLyBIYW5kbGUgbmVnYXRpdmUgdmFsdWUgZm9yIFwic3RhcnRcIlxuICAgIFwic3RhcnQgfD0gMDtcIixcbiAgICBcInN0YXJ0ID0gKHN0YXJ0ID49IDApID8gc3RhcnQgOiBNYXRoLm1heCgwLCBsZW4gKyBzdGFydCk7XCIsXG4gICAgLy8gSGFuZGxlIG5lZ2F0aXZlIHZhbHVlIGZvciBcImVuZFwiXG4gICAgXCJpZiAodHlwZW9mIGVuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcIixcbiAgICAgIFwiaWYgKGVuZCAhPT0gSW5maW5pdHkpIHtcIixcbiAgICAgICAgXCJlbmQgfD0gMDtcIixcbiAgICAgIFwifVwiLFxuICAgICAgXCJpZiAoZW5kIDwgMCkge1wiLFxuICAgICAgICBcImVuZCA9IGxlbiArIGVuZDtcIixcbiAgICAgIFwifSBlbHNlIHtcIixcbiAgICAgICAgXCJlbmQgPSBNYXRoLm1pbihlbmQsIGxlbik7XCIsXG4gICAgICBcIn1cIixcbiAgICBcIn0gZWxzZSB7XCIsXG4gICAgICBcImVuZCA9IGxlbjtcIixcbiAgICBcIn1cIixcbiAgICBcInZhciBzaXplID0gZW5kIC0gc3RhcnQ7XCIsXG4gICAgXCJ2YXIgY2xvbmVkID0gW107XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1wiLFxuICAgICAgXCJjbG9uZWRbaV0gPSBvW3N0YXJ0ICsgaV07XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gY2xvbmVkO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NwbGljZScsXCIsXG4gICAgXCJ7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6XCIsXG4gIFwiZnVuY3Rpb24gc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgdmFyX2FyZ3MpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcIixcbiAgICBcInN0YXJ0IHw9IDA7XCIsXG4gICAgXCJpZiAoc3RhcnQgPCAwKSB7XCIsXG4gICAgICBcInN0YXJ0ID0gTWF0aC5tYXgobGVuICsgc3RhcnQsIDApO1wiLFxuICAgIFwifSBlbHNlIHtcIixcbiAgICAgIFwic3RhcnQgPSBNYXRoLm1pbihzdGFydCwgbGVuKTtcIixcbiAgICBcIn1cIixcbiAgICBcImlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkge1wiLFxuICAgICAgXCJkZWxldGVDb3VudCA9IGxlbiAtIHN0YXJ0O1wiLFxuICAgIFwifSBlbHNlIHtcIixcbiAgICAgIFwiZGVsZXRlQ291bnQgfD0gMDtcIixcbiAgICAgIFwiZGVsZXRlQ291bnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkZWxldGVDb3VudCwgbGVuIC0gc3RhcnQpKTtcIixcbiAgICBcIn1cIixcbiAgICBcInZhciByZW1vdmVkID0gW107XCIsXG4gICAgLy8gUmVtb3ZlIHNwZWNpZmllZCBlbGVtZW50cy5cbiAgICBcImZvciAodmFyIGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgZGVsZXRlQ291bnQ7IGkrKykge1wiLFxuICAgICAgXCJyZW1vdmVkW3JlbW92ZWQubGVuZ3RoKytdID0gb1tpXTtcIixcbiAgICAgIFwib1tpXSA9IG9baSArIGRlbGV0ZUNvdW50XTtcIixcbiAgICBcIn1cIixcbiAgICAvLyBNb3ZlIG90aGVyIGVsZW1lbnQgdG8gZmlsbCB0aGUgZ2FwLlxuICAgIFwiZm9yICh2YXIgaSA9IHN0YXJ0ICsgZGVsZXRlQ291bnQ7IGkgPCBsZW4gLSBkZWxldGVDb3VudDsgaSsrKSB7XCIsXG4gICAgICBcIm9baV0gPSBvW2kgKyBkZWxldGVDb3VudF07XCIsXG4gICAgXCJ9XCIsXG4gICAgLy8gRGVsZXRlIHN1cGVyZmx1b3VzIHByb3BlcnRpZXMuXG4gICAgXCJmb3IgKHZhciBpID0gbGVuIC0gZGVsZXRlQ291bnQ7IGkgPCBsZW47IGkrKykge1wiLFxuICAgICAgXCJkZWxldGUgb1tpXTtcIixcbiAgICBcIn1cIixcbiAgICBcImxlbiAtPSBkZWxldGVDb3VudDtcIixcbiAgICAvLyBJbnNlcnQgc3BlY2lmaWVkIGl0ZW1zLlxuICAgIFwiZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gc3RhcnQ7IGktLSkge1wiLFxuICAgICAgXCJvW2kgKyBhcmd1bWVudHMubGVuZ3RoIC0gMl0gPSBvW2ldO1wiLFxuICAgIFwifVwiLFxuICAgIFwibGVuICs9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1wiLFxuICAgIFwiZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcIixcbiAgICAgIFwib1tzdGFydCArIGkgLSAyXSA9IGFyZ3VtZW50c1tpXTtcIixcbiAgICBcIn1cIixcbiAgICBcIm8ubGVuZ3RoID0gbGVuO1wiLFxuICAgIFwicmV0dXJuIHJlbW92ZWQ7XCIsXG4gIFwifVwiLFxuXCJ9KTtcIixcblxuXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnY29uY2F0JyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBjb25jYXQodmFyX2FyZ3MpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBjbG9uZWQgPSBbXTtcIixcbiAgICBcImZvciAodmFyIGkgPSAtMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1wiLFxuICAgICAgXCJ2YXIgdmFsdWUgPSAoaSA9PT0gLTEpID8gbyA6IGFyZ3VtZW50c1tpXTtcIixcbiAgICAgIFwiaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XCIsXG4gICAgICAgIFwiY2xvbmVkLnB1c2guYXBwbHkoY2xvbmVkLCB2YWx1ZSk7XCIsXG4gICAgICBcIn0gZWxzZSB7XCIsXG4gICAgICAgIFwiY2xvbmVkLnB1c2godmFsdWUpO1wiLFxuICAgICAgXCJ9XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gY2xvbmVkO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2pvaW4nLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIGpvaW4ob3B0X3NlcGFyYXRvcikge1wiLFxuICAgIFwiaWYgKCF0aGlzKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICBcInZhciBvID0gT2JqZWN0KHRoaXMpO1wiLFxuICAgIFwidmFyIHNlcCA9IHR5cGVvZiBvcHRfc2VwYXJhdG9yID09PSAndW5kZWZpbmVkJyA/XCIsXG4gICAgICAgIFwiJywnIDogKCcnICsgb3B0X3NlcGFyYXRvcik7XCIsXG4gICAgXCJ2YXIgc3RyID0gJyc7XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHtcIixcbiAgICAgIFwiaWYgKGkgJiYgc2VwKSB7XCIsXG4gICAgICAgIFwic3RyICs9IHNlcDtcIixcbiAgICAgIFwifVwiLFxuICAgICAgXCJzdHIgKz0gb1tpXTtcIixcbiAgICBcIn1cIixcbiAgICBcInJldHVybiBzdHI7XCIsXG4gIFwifVwiLFxuXCJ9KTtcIixcblxuLy8gUG9seWZpbGwgY29waWVkIGZyb206XG4vLyBkZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZXZlcnlcblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2V2ZXJ5JyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBldmVyeShjYWxsYmFja2ZuLCB0aGlzQXJnKSB7XCIsXG4gICAgXCJpZiAoIXRoaXMgfHwgdHlwZW9mIGNhbGxiYWNrZm4gIT09ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgIFwidmFyIHQsIGs7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDtcIixcbiAgICBcImlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgdCA9IHRoaXNBcmc7XCIsXG4gICAgXCJrID0gMDtcIixcbiAgICBcIndoaWxlIChrIDwgbGVuKSB7XCIsXG4gICAgICBcImlmIChrIGluIG8gJiYgIWNhbGxiYWNrZm4uY2FsbCh0LCBvW2tdLCBrLCBvKSkgcmV0dXJuIGZhbHNlO1wiLFxuICAgICAgXCJrKys7XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gdHJ1ZTtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXG4vLyBQb2x5ZmlsbCBjb3BpZWQgZnJvbTpcbi8vIGRldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maWx0ZXJcblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbHRlcicsXCIsXG4gICAgXCJ7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6XCIsXG4gIFwiZnVuY3Rpb24gZmlsdGVyKGZ1biwgdmFyX2FyZ3MpIHtcIixcbiAgICBcImlmICh0aGlzID09PSB2b2lkIDAgfHwgdGhpcyA9PT0gbnVsbCB8fCB0eXBlb2YgZnVuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICBcInZhciBvID0gT2JqZWN0KHRoaXMpO1wiLFxuICAgIFwidmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1wiLFxuICAgIFwidmFyIHJlcyA9IFtdO1wiLFxuICAgIFwidmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XCIsXG4gICAgXCJmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XCIsXG4gICAgICBcImlmIChpIGluIG8pIHtcIixcbiAgICAgICAgXCJ2YXIgdmFsID0gb1tpXTtcIixcbiAgICAgICAgXCJpZiAoZnVuLmNhbGwodGhpc0FyZywgdmFsLCBpLCBvKSkgcmVzLnB1c2godmFsKTtcIixcbiAgICAgIFwifVwiLFxuICAgIFwifVwiLFxuICAgIFwicmV0dXJuIHJlcztcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXG4vLyBQb2x5ZmlsbCBjb3BpZWQgZnJvbTpcbi8vIGRldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9mb3JFYWNoXG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdmb3JFYWNoJyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKSB7XCIsXG4gICAgXCJpZiAoIXRoaXMgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICBcInZhciB0LCBrO1wiLFxuICAgIFwidmFyIG8gPSBPYmplY3QodGhpcyk7XCIsXG4gICAgXCJ2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XCIsXG4gICAgXCJpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHQgPSB0aGlzQXJnO1wiLFxuICAgIFwiayA9IDA7XCIsXG4gICAgXCJ3aGlsZSAoayA8IGxlbikge1wiLFxuICAgICAgXCJpZiAoayBpbiBvKSBjYWxsYmFjay5jYWxsKHQsIG9ba10sIGssIG8pO1wiLFxuICAgICAgXCJrKys7XCIsXG4gICAgXCJ9XCIsXG4gIFwifVwiLFxuXCJ9KTtcIixcblxuLy8gUG9seWZpbGwgY29waWVkIGZyb206XG4vLyBkZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbWFwXG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdtYXAnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIG1hcChjYWxsYmFjaywgdGhpc0FyZykge1wiLFxuICAgIFwiaWYgKCF0aGlzIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgdCwgYSwgaztcIixcbiAgICBcInZhciBvID0gT2JqZWN0KHRoaXMpO1wiLFxuICAgIFwidmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1wiLFxuICAgIFwiaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB0ID0gdGhpc0FyZztcIixcbiAgICBcImEgPSBuZXcgQXJyYXkobGVuKTtcIixcbiAgICBcImsgPSAwO1wiLFxuICAgIFwid2hpbGUgKGsgPCBsZW4pIHtcIixcbiAgICAgIFwiaWYgKGsgaW4gbykgYVtrXSA9IGNhbGxiYWNrLmNhbGwodCwgb1trXSwgaywgbyk7XCIsXG4gICAgICBcImsrKztcIixcbiAgICBcIn1cIixcbiAgICBcInJldHVybiBhO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cbi8vIFBvbHlmaWxsIGNvcGllZCBmcm9tOlxuLy8gZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L1JlZHVjZVxuXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAncmVkdWNlJyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiByZWR1Y2UoY2FsbGJhY2sgLyosIGluaXRpYWxWYWx1ZSovKSB7XCIsXG4gICAgXCJpZiAoIXRoaXMgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICBcInZhciBvID0gT2JqZWN0KHRoaXMpLCBsZW4gPSBvLmxlbmd0aCA+Pj4gMCwgayA9IDAsIHZhbHVlO1wiLFxuICAgIFwiaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcIixcbiAgICAgIFwidmFsdWUgPSBhcmd1bWVudHNbMV07XCIsXG4gICAgXCJ9IGVsc2Uge1wiLFxuICAgICAgXCJ3aGlsZSAoayA8IGxlbiAmJiAhKGsgaW4gbykpIGsrKztcIixcbiAgICAgIFwiaWYgKGsgPj0gbGVuKSB7XCIsXG4gICAgICAgIFwidGhyb3cgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XCIsXG4gICAgICBcIn1cIixcbiAgICAgIFwidmFsdWUgPSBvW2srK107XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJmb3IgKDsgayA8IGxlbjsgaysrKSB7XCIsXG4gICAgICBcImlmIChrIGluIG8pIHZhbHVlID0gY2FsbGJhY2sodmFsdWUsIG9ba10sIGssIG8pO1wiLFxuICAgIFwifVwiLFxuICAgIFwicmV0dXJuIHZhbHVlO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cbi8vIFBvbHlmaWxsIGNvcGllZCBmcm9tOlxuLy8gZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L1JlZHVjZVJpZ2h0XG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdyZWR1Y2VSaWdodCcsXCIsXG4gICAgXCJ7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6XCIsXG4gIFwiZnVuY3Rpb24gcmVkdWNlUmlnaHQoY2FsbGJhY2sgLyosIGluaXRpYWxWYWx1ZSovKSB7XCIsXG4gICAgXCJpZiAobnVsbCA9PT0gdGhpcyB8fCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRoaXMgfHwgJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIGNhbGxiYWNrKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICBcInZhciBvID0gT2JqZWN0KHRoaXMpLCBsZW4gPSBvLmxlbmd0aCA+Pj4gMCwgayA9IGxlbiAtIDEsIHZhbHVlO1wiLFxuICAgIFwiaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1wiLFxuICAgICAgXCJ2YWx1ZSA9IGFyZ3VtZW50c1sxXTtcIixcbiAgICBcIn0gZWxzZSB7XCIsXG4gICAgICBcIndoaWxlIChrID49IDAgJiYgIShrIGluIG8pKSBrLS07XCIsXG4gICAgICBcImlmIChrIDwgMCkge1wiLFxuICAgICAgICBcInRocm93IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZScpO1wiLFxuICAgICAgXCJ9XCIsXG4gICAgICBcInZhbHVlID0gb1trLS1dO1wiLFxuICAgIFwifVwiLFxuICAgIFwiZm9yICg7IGsgPj0gMDsgay0tKSB7XCIsXG4gICAgICBcImlmIChrIGluIG8pIHZhbHVlID0gY2FsbGJhY2sodmFsdWUsIG9ba10sIGssIG8pO1wiLFxuICAgIFwifVwiLFxuICAgIFwicmV0dXJuIHZhbHVlO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cbi8vIFBvbHlmaWxsIGNvcGllZCBmcm9tOlxuLy8gZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvbWVcblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NvbWUnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIHNvbWUoZnVuLyosIHRoaXNBcmcqLykge1wiLFxuICAgIFwiaWYgKCF0aGlzIHx8IHR5cGVvZiBmdW4gIT09ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgIFwidmFyIG8gPSBPYmplY3QodGhpcyk7XCIsXG4gICAgXCJ2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7XCIsXG4gICAgXCJ2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcIixcbiAgICBcImZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcIixcbiAgICAgIFwiaWYgKGkgaW4gbyAmJiBmdW4uY2FsbCh0aGlzQXJnLCBvW2ldLCBpLCBvKSkge1wiLFxuICAgICAgICBcInJldHVybiB0cnVlO1wiLFxuICAgICAgXCJ9XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gZmFsc2U7XCIsXG4gIFwifVwiLFxuXCJ9KTtcIixcblxuXG5cIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdzb3J0JyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiBzb3J0KG9wdF9jb21wKSB7XCIsICAvLyBCdWJibGUgc29ydCFcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJpZiAodHlwZW9mIG9wdF9jb21wICE9PSAnZnVuY3Rpb24nKSB7XCIsXG4gICAgICBcIm9wdF9jb21wID0gdW5kZWZpbmVkO1wiLFxuICAgIFwifVwiLFxuICAgIFwiZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XCIsXG4gICAgICBcInZhciBjaGFuZ2VzID0gMDtcIixcbiAgICAgIFwiZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmxlbmd0aCAtIGkgLSAxOyBqKyspIHtcIixcbiAgICAgICAgXCJpZiAob3B0X2NvbXAgPyAob3B0X2NvbXAodGhpc1tqXSwgdGhpc1tqICsgMV0pID4gMCkgOlwiLFxuICAgICAgICAgICAgXCIoU3RyaW5nKHRoaXNbal0pID4gU3RyaW5nKHRoaXNbaiArIDFdKSkpIHtcIixcbiAgICAgICAgICBcInZhciBzd2FwID0gdGhpc1tqXTtcIixcbiAgICAgICAgICBcInRoaXNbal0gPSB0aGlzW2ogKyAxXTtcIixcbiAgICAgICAgICBcInRoaXNbaiArIDFdID0gc3dhcDtcIixcbiAgICAgICAgICBcImNoYW5nZXMrKztcIixcbiAgICAgICAgXCJ9XCIsXG4gICAgICBcIn1cIixcbiAgICAgIFwiaWYgKCFjaGFuZ2VzKSBicmVhaztcIixcbiAgICBcIn1cIixcbiAgICBcInJldHVybiB0aGlzO1wiLFxuICBcIn1cIixcblwifSk7XCIsXG5cblwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3RvTG9jYWxlU3RyaW5nJyxcIixcbiAgICBcIntjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTpcIixcbiAgXCJmdW5jdGlvbiB0b0xvY2FsZVN0cmluZygpIHtcIixcbiAgICBcImlmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgXCJ2YXIgbyA9IE9iamVjdCh0aGlzKTtcIixcbiAgICBcInZhciBvdXQgPSBbXTtcIixcbiAgICBcImZvciAodmFyIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKykge1wiLFxuICAgICAgXCJvdXRbaV0gPSAob1tpXSA9PT0gbnVsbCB8fCBvW2ldID09PSB1bmRlZmluZWQpID8gJycgOiBvW2ldLnRvTG9jYWxlU3RyaW5nKCk7XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gb3V0LmpvaW4oJywnKTtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiLFxuXCJcIik7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIFN0cmluZyBjbGFzcy5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0U3RyaW5nID0gZnVuY3Rpb24oZ2xvYmFsT2JqZWN0KSB7XG4gIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICB2YXIgd3JhcHBlcjtcbiAgLy8gU3RyaW5nIGNvbnN0cnVjdG9yLlxuICB3cmFwcGVyID0gZnVuY3Rpb24gU3RyaW5nKHZhbHVlKSB7XG4gICAgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID8gSW50ZXJwcmV0ZXIubmF0aXZlR2xvYmFsLlN0cmluZyh2YWx1ZSkgOiAnJztcbiAgICBpZiAodGhpc0ludGVycHJldGVyLmNhbGxlZFdpdGhOZXcoKSkge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBuZXcgU3RyaW5nKClgLlxuICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBTdHJpbmcoKWAuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuICB0aGlzLlNUUklORyA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnU3RyaW5nJywgdGhpcy5TVFJJTkcsXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIC8vIFN0YXRpYyBtZXRob2RzIG9uIFN0cmluZy5cbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLlNUUklORywgJ2Zyb21DaGFyQ29kZScsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKFN0cmluZy5mcm9tQ2hhckNvZGUsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgLy8gSW5zdGFuY2UgbWV0aG9kcyBvbiBTdHJpbmcuXG4gIC8vIE1ldGhvZHMgd2l0aCBleGNsdXNpdmVseSBwcmltaXRpdmUgYXJndW1lbnRzLlxuICB2YXIgZnVuY3Rpb25zID0gWydjaGFyQXQnLCAnY2hhckNvZGVBdCcsICdjb25jYXQnLCAnaW5kZXhPZicsICdsYXN0SW5kZXhPZicsXG4gICAgICAnc2xpY2UnLCAnc3Vic3RyJywgJ3N1YnN0cmluZycsICd0b0xvY2FsZUxvd2VyQ2FzZScsICd0b0xvY2FsZVVwcGVyQ2FzZScsXG4gICAgICAndG9Mb3dlckNhc2UnLCAndG9VcHBlckNhc2UnLCAndHJpbSddO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5TVFJJTkcsIGZ1bmN0aW9uc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZy5wcm90b3R5cGVbZnVuY3Rpb25zW2ldXSk7XG4gIH1cblxuICB3cmFwcGVyID0gZnVuY3Rpb24gbG9jYWxlQ29tcGFyZShjb21wYXJlU3RyaW5nLCBsb2NhbGVzLCBvcHRpb25zKSB7XG4gICAgbG9jYWxlcyA9IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShsb2NhbGVzKTtcbiAgICBvcHRpb25zID0gdGhpc0ludGVycHJldGVyLnBzZXVkb1RvTmF0aXZlKG9wdGlvbnMpO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHRoaXMpLmxvY2FsZUNvbXBhcmUoY29tcGFyZVN0cmluZywgbG9jYWxlcywgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5FUlJPUixcbiAgICAgICAgICAnbG9jYWxlQ29tcGFyZTogJyArIGUubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuU1RSSU5HLCAnbG9jYWxlQ29tcGFyZScsIHdyYXBwZXIpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBzcGxpdChzZXBhcmF0b3IsIGxpbWl0LCBjYWxsYmFjaykge1xuICAgIHZhciBzdHJpbmcgPSBTdHJpbmcodGhpcyk7XG4gICAgbGltaXQgPSBsaW1pdCA/IE51bWJlcihsaW1pdCkgOiB1bmRlZmluZWQ7XG4gICAgLy8gRXhhbXBsZSBvZiBjYXRhc3Ryb3BoaWMgc3BsaXQgUmVnRXhwOlxuICAgIC8vICdhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFjJy5zcGxpdCgvXihhKykrYi8pXG4gICAgaWYgKHRoaXNJbnRlcnByZXRlci5pc2Eoc2VwYXJhdG9yLCB0aGlzSW50ZXJwcmV0ZXIuUkVHRVhQKSkge1xuICAgICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yLmRhdGE7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIubWF5YmVUaHJvd1JlZ0V4cChzZXBhcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXJbJ1JFR0VYUF9NT0RFJ10gPT09IDIpIHtcbiAgICAgICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAgICAgLy8gUnVuIHNwbGl0IGluIHZtLlxuICAgICAgICAgIHZhciBzYW5kYm94ID0ge1xuICAgICAgICAgICAgJ3N0cmluZyc6IHN0cmluZyxcbiAgICAgICAgICAgICdzZXBhcmF0b3InOiBzZXBhcmF0b3IsXG4gICAgICAgICAgICAnbGltaXQnOiBsaW1pdFxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGNvZGUgPSAnc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpJztcbiAgICAgICAgICB2YXIganNMaXN0ID1cbiAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnZtQ2FsbChjb2RlLCBzYW5kYm94LCBzZXBhcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoanNMaXN0ICE9PSBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVCkge1xuICAgICAgICAgICAgY2FsbGJhY2sodGhpc0ludGVycHJldGVyLmFycmF5TmF0aXZlVG9Qc2V1ZG8oanNMaXN0KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJ1biBzcGxpdCBpbiBzZXBhcmF0ZSB0aHJlYWQuXG4gICAgICAgICAgdmFyIHNwbGl0V29ya2VyID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZVdvcmtlcigpO1xuICAgICAgICAgIHZhciBwaWQgPSB0aGlzSW50ZXJwcmV0ZXIucmVnRXhwVGltZW91dChzZXBhcmF0b3IsIHNwbGl0V29ya2VyLFxuICAgICAgICAgICAgICBjYWxsYmFjayk7XG4gICAgICAgICAgc3BsaXRXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBpZCk7XG4gICAgICAgICAgICBjYWxsYmFjayh0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhlLmRhdGEpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNwbGl0V29ya2VyLnBvc3RNZXNzYWdlKFsnc3BsaXQnLCBzdHJpbmcsIHNlcGFyYXRvciwgbGltaXRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJ1biBzcGxpdCBuYXRpdmVseS5cbiAgICB2YXIganNMaXN0ID0gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIGNhbGxiYWNrKHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKGpzTGlzdCkpO1xuICB9O1xuICB0aGlzLnNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5TVFJJTkcsICdzcGxpdCcsIHdyYXBwZXIpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBtYXRjaChyZWdleHAsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0cmluZyA9IFN0cmluZyh0aGlzKTtcbiAgICBpZiAodGhpc0ludGVycHJldGVyLmlzYShyZWdleHAsIHRoaXNJbnRlcnByZXRlci5SRUdFWFApKSB7XG4gICAgICByZWdleHAgPSByZWdleHAuZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVnZXhwID0gbmV3IFJlZ0V4cChyZWdleHApO1xuICAgIH1cbiAgICAvLyBFeGFtcGxlIG9mIGNhdGFzdHJvcGhpYyBtYXRjaCBSZWdFeHA6XG4gICAgLy8gJ2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWMnLm1hdGNoKC9eKGErKStiLylcbiAgICB0aGlzSW50ZXJwcmV0ZXIubWF5YmVUaHJvd1JlZ0V4cChyZWdleHAsIGNhbGxiYWNrKTtcbiAgICBpZiAodGhpc0ludGVycHJldGVyWydSRUdFWFBfTU9ERSddID09PSAyKSB7XG4gICAgICBpZiAoSW50ZXJwcmV0ZXIudm0pIHtcbiAgICAgICAgLy8gUnVuIG1hdGNoIGluIHZtLlxuICAgICAgICB2YXIgc2FuZGJveCA9IHtcbiAgICAgICAgICAnc3RyaW5nJzogc3RyaW5nLFxuICAgICAgICAgICdyZWdleHAnOiByZWdleHBcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNvZGUgPSAnc3RyaW5nLm1hdGNoKHJlZ2V4cCknO1xuICAgICAgICB2YXIgbSA9IHRoaXNJbnRlcnByZXRlci52bUNhbGwoY29kZSwgc2FuZGJveCwgcmVnZXhwLCBjYWxsYmFjayk7XG4gICAgICAgIGlmIChtICE9PSBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVCkge1xuICAgICAgICAgIGNhbGxiYWNrKG0gJiYgdGhpc0ludGVycHJldGVyLmFycmF5TmF0aXZlVG9Qc2V1ZG8obSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSdW4gbWF0Y2ggaW4gc2VwYXJhdGUgdGhyZWFkLlxuICAgICAgICB2YXIgbWF0Y2hXb3JrZXIgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlV29ya2VyKCk7XG4gICAgICAgIHZhciBwaWQgPSB0aGlzSW50ZXJwcmV0ZXIucmVnRXhwVGltZW91dChyZWdleHAsIG1hdGNoV29ya2VyLCBjYWxsYmFjayk7XG4gICAgICAgIG1hdGNoV29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQocGlkKTtcbiAgICAgICAgICBjYWxsYmFjayhlLmRhdGEgJiYgdGhpc0ludGVycHJldGVyLmFycmF5TmF0aXZlVG9Qc2V1ZG8oZS5kYXRhKSk7XG4gICAgICAgIH07XG4gICAgICAgIG1hdGNoV29ya2VyLnBvc3RNZXNzYWdlKFsnbWF0Y2gnLCBzdHJpbmcsIHJlZ2V4cF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBSdW4gbWF0Y2ggbmF0aXZlbHkuXG4gICAgdmFyIG0gPSBzdHJpbmcubWF0Y2gocmVnZXhwKTtcbiAgICBjYWxsYmFjayhtICYmIHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKG0pKTtcbiAgfTtcbiAgdGhpcy5zZXRBc3luY0Z1bmN0aW9uUHJvdG90eXBlKHRoaXMuU1RSSU5HLCAnbWF0Y2gnLCB3cmFwcGVyKTtcblxuICB3cmFwcGVyID0gZnVuY3Rpb24gc2VhcmNoKHJlZ2V4cCwgY2FsbGJhY2spIHtcbiAgICB2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuaXNhKHJlZ2V4cCwgdGhpc0ludGVycHJldGVyLlJFR0VYUCkpIHtcbiAgICAgIHJlZ2V4cCA9IHJlZ2V4cC5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cCk7XG4gICAgfVxuICAgIC8vIEV4YW1wbGUgb2YgY2F0YXN0cm9waGljIHNlYXJjaCBSZWdFeHA6XG4gICAgLy8gJ2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWMnLnNlYXJjaCgvXihhKykrYi8pXG4gICAgdGhpc0ludGVycHJldGVyLm1heWJlVGhyb3dSZWdFeHAocmVnZXhwLCBjYWxsYmFjayk7XG4gICAgaWYgKHRoaXNJbnRlcnByZXRlclsnUkVHRVhQX01PREUnXSA9PT0gMikge1xuICAgICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAgIC8vIFJ1biBzZWFyY2ggaW4gdm0uXG4gICAgICAgIHZhciBzYW5kYm94ID0ge1xuICAgICAgICAgICdzdHJpbmcnOiBzdHJpbmcsXG4gICAgICAgICAgJ3JlZ2V4cCc6IHJlZ2V4cFxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29kZSA9ICdzdHJpbmcuc2VhcmNoKHJlZ2V4cCknO1xuICAgICAgICB2YXIgbiA9IHRoaXNJbnRlcnByZXRlci52bUNhbGwoY29kZSwgc2FuZGJveCwgcmVnZXhwLCBjYWxsYmFjayk7XG4gICAgICAgIGlmIChuICE9PSBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVCkge1xuICAgICAgICAgIGNhbGxiYWNrKG4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSdW4gc2VhcmNoIGluIHNlcGFyYXRlIHRocmVhZC5cbiAgICAgICAgdmFyIHNlYXJjaFdvcmtlciA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVXb3JrZXIoKTtcbiAgICAgICAgdmFyIHBpZCA9IHRoaXNJbnRlcnByZXRlci5yZWdFeHBUaW1lb3V0KHJlZ2V4cCwgc2VhcmNoV29ya2VyLCBjYWxsYmFjayk7XG4gICAgICAgIHNlYXJjaFdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHBpZCk7XG4gICAgICAgICAgY2FsbGJhY2soZS5kYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VhcmNoV29ya2VyLnBvc3RNZXNzYWdlKFsnc2VhcmNoJywgc3RyaW5nLCByZWdleHBdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUnVuIHNlYXJjaCBuYXRpdmVseS5cbiAgICBjYWxsYmFjayhzdHJpbmcuc2VhcmNoKHJlZ2V4cCkpO1xuICB9O1xuICB0aGlzLnNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5TVFJJTkcsICdzZWFyY2gnLCB3cmFwcGVyKTtcblxuICB3cmFwcGVyID0gZnVuY3Rpb24gcmVwbGFjZV8oc3Vic3RyLCBuZXdTdWJzdHIsIGNhbGxiYWNrKSB7XG4gICAgLy8gU3VwcG9ydCBmb3IgZnVuY3Rpb24gcmVwbGFjZW1lbnRzIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiBhIHBvbHlmaWxsLlxuICAgIHZhciBzdHJpbmcgPSBTdHJpbmcodGhpcyk7XG4gICAgbmV3U3Vic3RyID0gU3RyaW5nKG5ld1N1YnN0cik7XG4gICAgLy8gRXhhbXBsZSBvZiBjYXRhc3Ryb3BoaWMgcmVwbGFjZSBSZWdFeHA6XG4gICAgLy8gJ2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWMnLnJlcGxhY2UoL14oYSspK2IvLCAnJylcbiAgICBpZiAodGhpc0ludGVycHJldGVyLmlzYShzdWJzdHIsIHRoaXNJbnRlcnByZXRlci5SRUdFWFApKSB7XG4gICAgICBzdWJzdHIgPSBzdWJzdHIuZGF0YTtcbiAgICAgIHRoaXNJbnRlcnByZXRlci5tYXliZVRocm93UmVnRXhwKHN1YnN0ciwgY2FsbGJhY2spO1xuICAgICAgaWYgKHRoaXNJbnRlcnByZXRlclsnUkVHRVhQX01PREUnXSA9PT0gMikge1xuICAgICAgICBpZiAoSW50ZXJwcmV0ZXIudm0pIHtcbiAgICAgICAgICAvLyBSdW4gcmVwbGFjZSBpbiB2bS5cbiAgICAgICAgICB2YXIgc2FuZGJveCA9IHtcbiAgICAgICAgICAgICdzdHJpbmcnOiBzdHJpbmcsXG4gICAgICAgICAgICAnc3Vic3RyJzogc3Vic3RyLFxuICAgICAgICAgICAgJ25ld1N1YnN0cic6IG5ld1N1YnN0clxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGNvZGUgPSAnc3RyaW5nLnJlcGxhY2Uoc3Vic3RyLCBuZXdTdWJzdHIpJztcbiAgICAgICAgICB2YXIgc3RyID0gdGhpc0ludGVycHJldGVyLnZtQ2FsbChjb2RlLCBzYW5kYm94LCBzdWJzdHIsIGNhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoc3RyICE9PSBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVCkge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUnVuIHJlcGxhY2UgaW4gc2VwYXJhdGUgdGhyZWFkLlxuICAgICAgICAgIHZhciByZXBsYWNlV29ya2VyID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZVdvcmtlcigpO1xuICAgICAgICAgIHZhciBwaWQgPSB0aGlzSW50ZXJwcmV0ZXIucmVnRXhwVGltZW91dChzdWJzdHIsIHJlcGxhY2VXb3JrZXIsXG4gICAgICAgICAgICAgIGNhbGxiYWNrKTtcbiAgICAgICAgICByZXBsYWNlV29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChwaWQpO1xuICAgICAgICAgICAgY2FsbGJhY2soZS5kYXRhKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcGxhY2VXb3JrZXIucG9zdE1lc3NhZ2UoWydyZXBsYWNlJywgc3RyaW5nLCBzdWJzdHIsIG5ld1N1YnN0cl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUnVuIHJlcGxhY2UgbmF0aXZlbHkuXG4gICAgY2FsbGJhY2soc3RyaW5nLnJlcGxhY2Uoc3Vic3RyLCBuZXdTdWJzdHIpKTtcbiAgfTtcbiAgdGhpcy5zZXRBc3luY0Z1bmN0aW9uUHJvdG90eXBlKHRoaXMuU1RSSU5HLCAncmVwbGFjZScsIHdyYXBwZXIpO1xuICAvLyBBZGQgYSBwb2x5ZmlsbCB0byBoYW5kbGUgcmVwbGFjZSdzIHNlY29uZCBhcmd1bWVudCBiZWluZyBhIGZ1bmN0aW9uLlxuICB0aGlzLnBvbHlmaWxsc18ucHVzaChcblwiKGZ1bmN0aW9uKCkge1wiLFxuICBcInZhciByZXBsYWNlXyA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcIixcbiAgXCJTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHN1YnN0ciwgbmV3U3Vic3RyKSB7XCIsXG4gICAgXCJpZiAodHlwZW9mIG5ld1N1YnN0ciAhPT0gJ2Z1bmN0aW9uJykge1wiLFxuICAgICAgLy8gc3RyaW5nLnJlcGxhY2Uoc3RyaW5nfHJlZ2V4cCwgc3RyaW5nKVxuICAgICAgXCJyZXR1cm4gcmVwbGFjZV8uY2FsbCh0aGlzLCBzdWJzdHIsIG5ld1N1YnN0cik7XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJ2YXIgc3RyID0gdGhpcztcIixcbiAgICBcImlmIChzdWJzdHIgaW5zdGFuY2VvZiBSZWdFeHApIHtcIiwgIC8vIHN0cmluZy5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24pXG4gICAgICBcInZhciBzdWJzID0gW107XCIsXG4gICAgICBcInZhciBtID0gc3Vic3RyLmV4ZWMoc3RyKTtcIixcbiAgICAgIFwid2hpbGUgKG0pIHtcIixcbiAgICAgICAgXCJtLnB1c2gobS5pbmRleCwgc3RyKTtcIixcbiAgICAgICAgXCJ2YXIgaW5qZWN0ID0gbmV3U3Vic3RyLmFwcGx5KG51bGwsIG0pO1wiLFxuICAgICAgICBcInN1YnMucHVzaChbbS5pbmRleCwgbVswXS5sZW5ndGgsIGluamVjdF0pO1wiLFxuICAgICAgICBcIm0gPSBzdWJzdHIuZ2xvYmFsID8gc3Vic3RyLmV4ZWMoc3RyKSA6IG51bGw7XCIsXG4gICAgICBcIn1cIixcbiAgICAgIFwiZm9yICh2YXIgaSA9IHN1YnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcIixcbiAgICAgICAgXCJzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIHN1YnNbaV1bMF0pICsgc3Vic1tpXVsyXSArIFwiICtcbiAgICAgICAgICAgIFwic3RyLnN1YnN0cmluZyhzdWJzW2ldWzBdICsgc3Vic1tpXVsxXSk7XCIsXG4gICAgICBcIn1cIixcbiAgICBcIn0gZWxzZSB7XCIsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZy5yZXBsYWNlKHN0cmluZywgZnVuY3Rpb24pXG4gICAgICBcInZhciBpID0gc3RyLmluZGV4T2Yoc3Vic3RyKTtcIixcbiAgICAgIFwiaWYgKGkgIT09IC0xKSB7XCIsXG4gICAgICAgIFwidmFyIGluamVjdCA9IG5ld1N1YnN0cihzdHIuc3Vic3RyKGksIHN1YnN0ci5sZW5ndGgpLCBpLCBzdHIpO1wiLFxuICAgICAgICBcInN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgaSkgKyBpbmplY3QgKyBcIiArXG4gICAgICAgICAgICBcInN0ci5zdWJzdHJpbmcoaSArIHN1YnN0ci5sZW5ndGgpO1wiLFxuICAgICAgXCJ9XCIsXG4gICAgXCJ9XCIsXG4gICAgXCJyZXR1cm4gc3RyO1wiLFxuICBcIn07XCIsXG5cIn0pKCk7XCIsXG5cIlwiKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgQm9vbGVhbiBjbGFzcy5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0Qm9vbGVhbiA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgdmFyIHdyYXBwZXI7XG4gIC8vIEJvb2xlYW4gY29uc3RydWN0b3IuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBCb29sZWFuKHZhbHVlKSB7XG4gICAgdmFsdWUgPSBJbnRlcnByZXRlci5uYXRpdmVHbG9iYWwuQm9vbGVhbih2YWx1ZSk7XG4gICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgIC8vIENhbGxlZCBhcyBgbmV3IEJvb2xlYW4oKWAuXG4gICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYWxsZWQgYXMgYEJvb2xlYW4oKWAuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuICB0aGlzLkJPT0xFQU4gPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIHRydWUpO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0Jvb2xlYW4nLCB0aGlzLkJPT0xFQU4sXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBOdW1iZXIgY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdE51bWJlciA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgdmFyIHdyYXBwZXI7XG4gIC8vIE51bWJlciBjb25zdHJ1Y3Rvci5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIE51bWJlcih2YWx1ZSkge1xuICAgIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA/IEludGVycHJldGVyLm5hdGl2ZUdsb2JhbC5OdW1iZXIodmFsdWUpIDogMDtcbiAgICBpZiAodGhpc0ludGVycHJldGVyLmNhbGxlZFdpdGhOZXcoKSkge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBuZXcgTnVtYmVyKClgLlxuICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBOdW1iZXIoKWAuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuICB0aGlzLk5VTUJFUiA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnTnVtYmVyJywgdGhpcy5OVU1CRVIsXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIHZhciBudW1Db25zdHMgPSBbJ01BWF9WQUxVRScsICdNSU5fVkFMVUUnLCAnTmFOJywgJ05FR0FUSVZFX0lORklOSVRZJyxcbiAgICAgICAgICAgICAgICAgICAnUE9TSVRJVkVfSU5GSU5JVFknXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Db25zdHMubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLnNldFByb3BlcnR5KHRoaXMuTlVNQkVSLCBudW1Db25zdHNbaV0sIE51bWJlcltudW1Db25zdHNbaV1dLFxuICAgICAgICBJbnRlcnByZXRlci5OT05DT05GSUdVUkFCTEVfUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgfVxuXG4gIC8vIEluc3RhbmNlIG1ldGhvZHMgb24gTnVtYmVyLlxuICB3cmFwcGVyID0gZnVuY3Rpb24gdG9FeHBvbmVudGlhbChmcmFjdGlvbkRpZ2l0cykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvRXhwb25lbnRpYWwoZnJhY3Rpb25EaWdpdHMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFRocm93cyBpZiBmcmFjdGlvbkRpZ2l0cyBpc24ndCB3aXRoaW4gMC0yMC5cbiAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuRVJST1IsIGUubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuTlVNQkVSLCAndG9FeHBvbmVudGlhbCcsIHdyYXBwZXIpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiB0b0ZpeGVkKGRpZ2l0cykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvRml4ZWQoZGlnaXRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBUaHJvd3MgaWYgZGlnaXRzIGlzbid0IHdpdGhpbiAwLTIwLlxuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5FUlJPUiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5OVU1CRVIsICd0b0ZpeGVkJywgd3JhcHBlcik7XG5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIHRvUHJlY2lzaW9uKHByZWNpc2lvbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvUHJlY2lzaW9uKHByZWNpc2lvbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gVGhyb3dzIGlmIHByZWNpc2lvbiBpc24ndCB3aXRoaW4gcmFuZ2UgKGRlcGVuZHMgb24gaW1wbGVtZW50YXRpb24pLlxuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5FUlJPUiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5OVU1CRVIsICd0b1ByZWNpc2lvbicsIHdyYXBwZXIpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiB0b1N0cmluZyhyYWRpeCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvU3RyaW5nKHJhZGl4KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBUaHJvd3MgaWYgcmFkaXggaXNuJ3Qgd2l0aGluIDItMzYuXG4gICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLkVSUk9SLCBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcbiAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLk5VTUJFUiwgJ3RvU3RyaW5nJywgd3JhcHBlcik7XG5cbiAgd3JhcHBlciA9IGZ1bmN0aW9uIHRvTG9jYWxlU3RyaW5nKGxvY2FsZXMsIG9wdGlvbnMpIHtcbiAgICBsb2NhbGVzID0gbG9jYWxlcyA/IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShsb2NhbGVzKSA6IHVuZGVmaW5lZDtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShvcHRpb25zKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvTG9jYWxlU3RyaW5nKGxvY2FsZXMsIG9wdGlvbnMpO1xuICB9O1xuICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuTlVNQkVSLCAndG9Mb2NhbGVTdHJpbmcnLCB3cmFwcGVyKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgRGF0ZSBjbGFzcy5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0RGF0ZSA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgdmFyIHdyYXBwZXI7XG4gIC8vIERhdGUgY29uc3RydWN0b3IuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBEYXRlKHZhbHVlLCB2YXJfYXJncykge1xuICAgIGlmICghdGhpc0ludGVycHJldGVyLmNhbGxlZFdpdGhOZXcoKSkge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBEYXRlKClgLlxuICAgICAgLy8gQ2FsbGluZyBEYXRlKCkgYXMgYSBmdW5jdGlvbiByZXR1cm5zIGEgc3RyaW5nLCBubyBhcmd1bWVudHMgYXJlIGhlZWRlZC5cbiAgICAgIHJldHVybiBJbnRlcnByZXRlci5uYXRpdmVHbG9iYWwuRGF0ZSgpO1xuICAgIH1cbiAgICAvLyBDYWxsZWQgYXMgYG5ldyBEYXRlKClgLlxuICAgIHZhciBhcmdzID0gW251bGxdLmNvbmNhdChBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xuICAgIHRoaXMuZGF0YSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoXG4gICAgICAgIEludGVycHJldGVyLm5hdGl2ZUdsb2JhbC5EYXRlLCBhcmdzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHRoaXMuREFURSA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG4gIHRoaXMuREFURV9QUk9UTyA9IHRoaXMuREFURS5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXTtcbiAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdEYXRlJywgdGhpcy5EQVRFLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICAvLyBTdGF0aWMgbWV0aG9kcyBvbiBEYXRlLlxuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuREFURSwgJ25vdycsIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24oRGF0ZS5ub3csIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLkRBVEUsICdwYXJzZScsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKERhdGUucGFyc2UsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLkRBVEUsICdVVEMnLCB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKERhdGUuVVRDLCBmYWxzZSksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gIC8vIEluc3RhbmNlIG1ldGhvZHMgb24gRGF0ZS5cbiAgdmFyIGZ1bmN0aW9ucyA9IFsnZ2V0RGF0ZScsICdnZXREYXknLCAnZ2V0RnVsbFllYXInLCAnZ2V0SG91cnMnLFxuICAgICAgJ2dldE1pbGxpc2Vjb25kcycsICdnZXRNaW51dGVzJywgJ2dldE1vbnRoJywgJ2dldFNlY29uZHMnLCAnZ2V0VGltZScsXG4gICAgICAnZ2V0VGltZXpvbmVPZmZzZXQnLCAnZ2V0VVRDRGF0ZScsICdnZXRVVENEYXknLCAnZ2V0VVRDRnVsbFllYXInLFxuICAgICAgJ2dldFVUQ0hvdXJzJywgJ2dldFVUQ01pbGxpc2Vjb25kcycsICdnZXRVVENNaW51dGVzJywgJ2dldFVUQ01vbnRoJyxcbiAgICAgICdnZXRVVENTZWNvbmRzJywgJ2dldFllYXInLFxuICAgICAgJ3NldERhdGUnLCAnc2V0RnVsbFllYXInLCAnc2V0SG91cnMnLCAnc2V0TWlsbGlzZWNvbmRzJyxcbiAgICAgICdzZXRNaW51dGVzJywgJ3NldE1vbnRoJywgJ3NldFNlY29uZHMnLCAnc2V0VGltZScsICdzZXRVVENEYXRlJyxcbiAgICAgICdzZXRVVENGdWxsWWVhcicsICdzZXRVVENIb3VycycsICdzZXRVVENNaWxsaXNlY29uZHMnLCAnc2V0VVRDTWludXRlcycsXG4gICAgICAnc2V0VVRDTW9udGgnLCAnc2V0VVRDU2Vjb25kcycsICdzZXRZZWFyJyxcbiAgICAgICd0b0RhdGVTdHJpbmcnLCAndG9JU09TdHJpbmcnLCAndG9KU09OJywgJ3RvR01UU3RyaW5nJyxcbiAgICAgICd0b0xvY2FsZURhdGVTdHJpbmcnLCAndG9Mb2NhbGVTdHJpbmcnLCAndG9Mb2NhbGVUaW1lU3RyaW5nJyxcbiAgICAgICd0b1RpbWVTdHJpbmcnLCAndG9VVENTdHJpbmcnXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICB3cmFwcGVyID0gKGZ1bmN0aW9uKG5hdGl2ZUZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YXJfYXJncykge1xuICAgICAgICB2YXIgZGF0ZSA9IHRoaXMuZGF0YTtcbiAgICAgICAgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgICBuYXRpdmVGdW5jICsgJyBub3QgY2FsbGVkIG9uIGEgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShhcmd1bWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlW25hdGl2ZUZ1bmNdLmFwcGx5KGRhdGUsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KShmdW5jdGlvbnNbaV0pO1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5EQVRFLCBmdW5jdGlvbnNbaV0sIHdyYXBwZXIpO1xuICB9XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgUmVndWxhciBFeHByZXNzaW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0UmVnRXhwID0gZnVuY3Rpb24oZ2xvYmFsT2JqZWN0KSB7XG4gIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICB2YXIgd3JhcHBlcjtcbiAgLy8gUmVnRXhwIGNvbnN0cnVjdG9yLlxuICB3cmFwcGVyID0gZnVuY3Rpb24gUmVnRXhwKHBhdHRlcm4sIGZsYWdzKSB7XG4gICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgIC8vIENhbGxlZCBhcyBgbmV3IFJlZ0V4cCgpYC5cbiAgICAgIHZhciByZ3ggPSB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYWxsZWQgYXMgYFJlZ0V4cCgpYC5cbiAgICAgIGlmIChmbGFncyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgdGhpc0ludGVycHJldGVyLmlzYShwYXR0ZXJuLCB0aGlzSW50ZXJwcmV0ZXIuUkVHRVhQKSkge1xuICAgICAgICAvLyBSZWdleHAoL2Zvby8pIHJldHVybnMgdGhlIHNhbWUgb2JqLlxuICAgICAgICByZXR1cm4gcGF0dGVybjtcbiAgICAgIH1cbiAgICAgIHZhciByZ3ggPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlT2JqZWN0UHJvdG8odGhpc0ludGVycHJldGVyLlJFR0VYUF9QUk9UTyk7XG4gICAgfVxuICAgIHBhdHRlcm4gPSBwYXR0ZXJuID09PSB1bmRlZmluZWQgPyAnJyA6IFN0cmluZyhwYXR0ZXJuKTtcbiAgICBmbGFncyA9IGZsYWdzID8gU3RyaW5nKGZsYWdzKSA6ICcnO1xuICAgIHRoaXNJbnRlcnByZXRlci5wb3B1bGF0ZVJlZ0V4cChyZ3gsXG4gICAgICAgIG5ldyBJbnRlcnByZXRlci5uYXRpdmVHbG9iYWwuUmVnRXhwKHBhdHRlcm4sIGZsYWdzKSk7XG4gICAgcmV0dXJuIHJneDtcbiAgfTtcbiAgdGhpcy5SRUdFWFAgPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIHRydWUpO1xuICB0aGlzLlJFR0VYUF9QUk9UTyA9IHRoaXMuUkVHRVhQLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ1JlZ0V4cCcsIHRoaXMuUkVHRVhQLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuUkVHRVhQLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddLCAnZ2xvYmFsJywgdW5kZWZpbmVkLFxuICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLlJFR0VYUC5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSwgJ2lnbm9yZUNhc2UnLCB1bmRlZmluZWQsXG4gICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICB0aGlzLnNldFByb3BlcnR5KHRoaXMuUkVHRVhQLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddLCAnbXVsdGlsaW5lJywgdW5kZWZpbmVkLFxuICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLlJFR0VYUC5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSwgJ3NvdXJjZScsICcoPzopJyxcbiAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgLy8gVXNlIHBvbHlmaWxsIHRvIGF2b2lkIGNvbXBsZXhpdHkgb2YgcmVnZXhwIHRocmVhZHMuXG4gIHRoaXMucG9seWZpbGxzXy5wdXNoKFxuXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVnRXhwLnByb3RvdHlwZSwgJ3Rlc3QnLFwiLFxuICAgIFwie2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOlwiLFxuICBcImZ1bmN0aW9uIHRlc3Qoc3RyKSB7XCIsXG4gICAgXCJyZXR1cm4gISF0aGlzLmV4ZWMoc3RyKTtcIixcbiAgXCJ9XCIsXG5cIn0pO1wiKTtcblxuICB3cmFwcGVyID0gZnVuY3Rpb24gZXhlYyhzdHJpbmcsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlZ2V4cCA9IHRoaXMuZGF0YTtcbiAgICBzdHJpbmcgPSBTdHJpbmcoc3RyaW5nKTtcbiAgICAvLyBHZXQgbGFzdEluZGV4IGZyb20gd3JhcHBlZCByZWdleHAsIHNpbmNlIHRoaXMgaXMgc2V0dGFibGUuXG4gICAgcmVnZXhwLmxhc3RJbmRleCA9IE51bWJlcih0aGlzSW50ZXJwcmV0ZXIuZ2V0UHJvcGVydHkodGhpcywgJ2xhc3RJbmRleCcpKTtcbiAgICAvLyBFeGFtcGxlIG9mIGNhdGFzdHJvcGhpYyBleGVjIFJlZ0V4cDpcbiAgICAvLyAvXihhKykrYi8uZXhlYygnYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYycpXG4gICAgdGhpc0ludGVycHJldGVyLm1heWJlVGhyb3dSZWdFeHAocmVnZXhwLCBjYWxsYmFjayk7XG4gICAgaWYgKHRoaXNJbnRlcnByZXRlclsnUkVHRVhQX01PREUnXSA9PT0gMikge1xuICAgICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAgIC8vIFJ1biBleGVjIGluIHZtLlxuICAgICAgICB2YXIgc2FuZGJveCA9IHtcbiAgICAgICAgICAnc3RyaW5nJzogc3RyaW5nLFxuICAgICAgICAgICdyZWdleHAnOiByZWdleHBcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNvZGUgPSAncmVnZXhwLmV4ZWMoc3RyaW5nKSc7XG4gICAgICAgIHZhciBtYXRjaCA9IHRoaXNJbnRlcnByZXRlci52bUNhbGwoY29kZSwgc2FuZGJveCwgcmVnZXhwLCBjYWxsYmFjayk7XG4gICAgICAgIGlmIChtYXRjaCAhPT0gSW50ZXJwcmV0ZXIuUkVHRVhQX1RJTUVPVVQpIHtcbiAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkodGhpcywgJ2xhc3RJbmRleCcsIHJlZ2V4cC5sYXN0SW5kZXgpO1xuICAgICAgICAgIGNhbGxiYWNrKG1hdGNoVG9Qc2V1ZG8obWF0Y2gpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUnVuIGV4ZWMgaW4gc2VwYXJhdGUgdGhyZWFkLlxuICAgICAgICAvLyBOb3RlIHRoYXQgbGFzdEluZGV4IGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBhIFJlZ0V4cCBpcyBwYXNzZWQgdG8gYVxuICAgICAgICAvLyBXZWIgV29ya2VyLiAgVGh1cyBpdCBuZWVkcyB0byBiZSBwYXNzZWQgYmFjayBhbmQgZm9ydGggc2VwYXJhdGVseS5cbiAgICAgICAgdmFyIGV4ZWNXb3JrZXIgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlV29ya2VyKCk7XG4gICAgICAgIHZhciBwaWQgPSB0aGlzSW50ZXJwcmV0ZXIucmVnRXhwVGltZW91dChyZWdleHAsIGV4ZWNXb3JrZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgdmFyIHRoaXNQc2V1ZG9SZWdFeHAgPSB0aGlzO1xuICAgICAgICBleGVjV29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQocGlkKTtcbiAgICAgICAgICAvLyBSZXR1cm4gdHVwbGU6IFtyZXN1bHQsIGxhc3RJbmRleF1cbiAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkodGhpc1BzZXVkb1JlZ0V4cCwgJ2xhc3RJbmRleCcsIGUuZGF0YVsxXSk7XG4gICAgICAgICAgY2FsbGJhY2sobWF0Y2hUb1BzZXVkbyhlLmRhdGFbMF0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgZXhlY1dvcmtlci5wb3N0TWVzc2FnZShbJ2V4ZWMnLCByZWdleHAsIHJlZ2V4cC5sYXN0SW5kZXgsIHN0cmluZ10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBSdW4gZXhlYyBuYXRpdmVseS5cbiAgICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYyhzdHJpbmcpO1xuICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eSh0aGlzLCAnbGFzdEluZGV4JywgcmVnZXhwLmxhc3RJbmRleCk7XG4gICAgY2FsbGJhY2sobWF0Y2hUb1BzZXVkbyhtYXRjaCkpO1xuXG4gICAgZnVuY3Rpb24gbWF0Y2hUb1BzZXVkbyhtYXRjaCkge1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhtYXRjaCk7XG4gICAgICAgIC8vIG1hdGNoIGhhcyBhZGRpdGlvbmFsIHByb3BlcnRpZXMuXG4gICAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShyZXN1bHQsICdpbmRleCcsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHJlc3VsdCwgJ2lucHV0JywgbWF0Y2guaW5wdXQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuICB0aGlzLnNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5SRUdFWFAsICdleGVjJywgd3JhcHBlcik7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIEVycm9yIGNsYXNzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXRFcnJvciA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgLy8gRXJyb3IgY29uc3RydWN0b3IuXG4gIHRoaXMuRVJST1IgPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKGZ1bmN0aW9uIEVycm9yKG9wdF9tZXNzYWdlKSB7XG4gICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgIC8vIENhbGxlZCBhcyBgbmV3IEVycm9yKClgLlxuICAgICAgdmFyIG5ld0Vycm9yID0gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FsbGVkIGFzIGBFcnJvcigpYC5cbiAgICAgIHZhciBuZXdFcnJvciA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVPYmplY3QodGhpc0ludGVycHJldGVyLkVSUk9SKTtcbiAgICB9XG4gICAgdGhpc0ludGVycHJldGVyLnBvcHVsYXRlRXJyb3IobmV3RXJyb3IsIG9wdF9tZXNzYWdlKTtcbiAgICByZXR1cm4gbmV3RXJyb3I7XG4gIH0sIHRydWUpO1xuICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0Vycm9yJywgdGhpcy5FUlJPUixcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5FUlJPUi5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSwgJ21lc3NhZ2UnLCAnJyxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkodGhpcy5FUlJPUi5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSwgJ25hbWUnLCAnRXJyb3InLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICB2YXIgY3JlYXRlRXJyb3JTdWJjbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgY29uc3RydWN0b3IgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlTmF0aXZlRnVuY3Rpb24oXG4gICAgICAgIGZ1bmN0aW9uKG9wdF9tZXNzYWdlKSB7XG4gICAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgbmV3IFh5ekVycm9yKClgLlxuICAgICAgICAgICAgdmFyIG5ld0Vycm9yID0gdGhpcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ2FsbGVkIGFzIGBYeXpFcnJvcigpYC5cbiAgICAgICAgICAgIHZhciBuZXdFcnJvciA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVPYmplY3QoY29uc3RydWN0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIucG9wdWxhdGVFcnJvcihuZXdFcnJvciwgb3B0X21lc3NhZ2UpO1xuICAgICAgICAgIHJldHVybiBuZXdFcnJvcjtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KGNvbnN0cnVjdG9yLCAncHJvdG90eXBlJyxcbiAgICAgICAgdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdCh0aGlzSW50ZXJwcmV0ZXIuRVJST1IpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShjb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSwgJ25hbWUnLFxuICAgICAgICBuYW1lLCBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsIG5hbWUsIGNvbnN0cnVjdG9yLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuXG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICB9O1xuXG4gIHRoaXMuRVZBTF9FUlJPUiA9IGNyZWF0ZUVycm9yU3ViY2xhc3MoJ0V2YWxFcnJvcicpO1xuICB0aGlzLlJBTkdFX0VSUk9SID0gY3JlYXRlRXJyb3JTdWJjbGFzcygnUmFuZ2VFcnJvcicpO1xuICB0aGlzLlJFRkVSRU5DRV9FUlJPUiA9IGNyZWF0ZUVycm9yU3ViY2xhc3MoJ1JlZmVyZW5jZUVycm9yJyk7XG4gIHRoaXMuU1lOVEFYX0VSUk9SID0gY3JlYXRlRXJyb3JTdWJjbGFzcygnU3ludGF4RXJyb3InKTtcbiAgdGhpcy5UWVBFX0VSUk9SID0gY3JlYXRlRXJyb3JTdWJjbGFzcygnVHlwZUVycm9yJyk7XG4gIHRoaXMuVVJJX0VSUk9SID0gY3JlYXRlRXJyb3JTdWJjbGFzcygnVVJJRXJyb3InKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBNYXRoIG9iamVjdC5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0TWF0aCA9IGZ1bmN0aW9uKGdsb2JhbE9iamVjdCkge1xuICB2YXIgbXlNYXRoID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnTWF0aCcsIG15TWF0aCxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHZhciBtYXRoQ29uc3RzID0gWydFJywgJ0xOMicsICdMTjEwJywgJ0xPRzJFJywgJ0xPRzEwRScsICdQSScsXG4gICAgICAgICAgICAgICAgICAgICdTUVJUMV8yJywgJ1NRUlQyJ107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0aENvbnN0cy5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMuc2V0UHJvcGVydHkobXlNYXRoLCBtYXRoQ29uc3RzW2ldLCBNYXRoW21hdGhDb25zdHNbaV1dLFxuICAgICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICB9XG4gIHZhciBudW1GdW5jdGlvbnMgPSBbJ2FicycsICdhY29zJywgJ2FzaW4nLCAnYXRhbicsICdhdGFuMicsICdjZWlsJywgJ2NvcycsXG4gICAgICAgICAgICAgICAgICAgICAgJ2V4cCcsICdmbG9vcicsICdsb2cnLCAnbWF4JywgJ21pbicsICdwb3cnLCAncmFuZG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAncm91bmQnLCAnc2luJywgJ3NxcnQnLCAndGFuJ107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShteU1hdGgsIG51bUZ1bmN0aW9uc1tpXSxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihNYXRoW251bUZ1bmN0aW9uc1tpXV0sIGZhbHNlKSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgfVxufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIEpTT04gb2JqZWN0LlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXRKU09OID0gZnVuY3Rpb24oZ2xvYmFsT2JqZWN0KSB7XG4gIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICB2YXIgbXlKU09OID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdFByb3RvKHRoaXMuT0JKRUNUX1BST1RPKTtcbiAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdKU09OJywgbXlKU09OLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICB2YXIgd3JhcHBlciA9IGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG5hdGl2ZU9iaiA9IEpTT04ucGFyc2UoU3RyaW5nKHRleHQpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlNZTlRBWF9FUlJPUiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNJbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbyhuYXRpdmVPYmopO1xuICB9O1xuICB0aGlzLnNldFByb3BlcnR5KG15SlNPTiwgJ3BhcnNlJywgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSkpO1xuXG4gIHdyYXBwZXIgPSBmdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgIGlmIChyZXBsYWNlciAmJiByZXBsYWNlci5jbGFzcyA9PT0gJ0Z1bmN0aW9uJykge1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICdGdW5jdGlvbiByZXBsYWNlciBvbiBKU09OLnN0cmluZ2lmeSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfSBlbHNlIGlmIChyZXBsYWNlciAmJiByZXBsYWNlci5jbGFzcyA9PT0gJ0FycmF5Jykge1xuICAgICAgcmVwbGFjZXIgPSB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlQc2V1ZG9Ub05hdGl2ZShyZXBsYWNlcik7XG4gICAgICByZXBsYWNlciA9IHJlcGxhY2VyLmZpbHRlcihmdW5jdGlvbih3b3JkKSB7XG4gICAgICAgIC8vIFNwZWMgc2F5cyB3ZSBzaG91bGQgYWxzbyBzdXBwb3J0IGJveGVkIHByaW1pdGl2ZXMgaGVyZS5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3b3JkID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygd29yZCA9PT0gJ251bWJlcic7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZXIgPSBudWxsO1xuICAgIH1cbiAgICAvLyBTcGVjIHNheXMgd2Ugc2hvdWxkIGFsc28gc3VwcG9ydCBib3hlZCBwcmltaXRpdmVzIGhlcmUuXG4gICAgaWYgKHR5cGVvZiBzcGFjZSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHNwYWNlICE9PSAnbnVtYmVyJykge1xuICAgICAgc3BhY2UgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFyIG5hdGl2ZU9iaiA9IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZSh2YWx1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShuYXRpdmVPYmosIHJlcGxhY2VyLCBzcGFjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLCBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICB0aGlzLnNldFByb3BlcnR5KG15SlNPTiwgJ3N0cmluZ2lmeScsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSk7XG59O1xuXG4vKipcbiAqIElzIGFuIG9iamVjdCBvZiBhIGNlcnRhaW4gY2xhc3M/XG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSBjaGlsZCBPYmplY3QgdG8gY2hlY2suXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gY29uc3RydWN0b3IgQ29uc3RydWN0b3Igb2Ygb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvYmplY3QgaXMgdGhlIGNsYXNzIG9yIGluaGVyaXRzIGZyb20gaXQuXG4gKiAgICAgRmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaXNhID0gZnVuY3Rpb24oY2hpbGQsIGNvbnN0cnVjdG9yKSB7XG4gIGlmIChjaGlsZCA9PT0gbnVsbCB8fCBjaGlsZCA9PT0gdW5kZWZpbmVkIHx8ICFjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBjb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXTtcbiAgaWYgKGNoaWxkID09PSBwcm90bykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIFRoZSBmaXJzdCBzdGVwIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4gaXMgaGFyZGVyIHNpbmNlIHRoZSBjaGlsZCBtaWdodCBiZVxuICAvLyBhIHByaW1pdGl2ZSB2YWx1ZS4gIFN1YnNlcXVlbnQgc3RlcHMgY2FuIGp1c3QgZm9sbG93IHRoZSAucHJvdG8gcHJvcGVydHkuXG4gIGNoaWxkID0gdGhpcy5nZXRQcm90b3R5cGUoY2hpbGQpO1xuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgPT09IHByb3RvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5wcm90bztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBwc2V1ZG8gcmVndWxhciBleHByZXNzaW9uIG9iamVjdCBiYXNlZCBvbiBhIG5hdGl2ZSByZWd1bGFyXG4gKiBleHByZXNzaW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gcHNldWRvUmVnZXhwIFRoZSBleGlzdGluZyBvYmplY3QgdG8gc2V0LlxuICogQHBhcmFtIHshUmVnRXhwfSBuYXRpdmVSZWdleHAgVGhlIG5hdGl2ZSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5wb3B1bGF0ZVJlZ0V4cCA9IGZ1bmN0aW9uKHBzZXVkb1JlZ2V4cCwgbmF0aXZlUmVnZXhwKSB7XG4gIHBzZXVkb1JlZ2V4cC5kYXRhID0gbmV3IFJlZ0V4cChuYXRpdmVSZWdleHAuc291cmNlLCBuYXRpdmVSZWdleHAuZmxhZ3MpO1xuICAvLyBsYXN0SW5kZXggaXMgc2V0dGFibGUsIGFsbCBvdGhlcnMgYXJlIHJlYWQtb25seSBhdHRyaWJ1dGVzXG4gIHRoaXMuc2V0UHJvcGVydHkocHNldWRvUmVnZXhwLCAnbGFzdEluZGV4JywgbmF0aXZlUmVnZXhwLmxhc3RJbmRleCxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkocHNldWRvUmVnZXhwLCAnc291cmNlJywgbmF0aXZlUmVnZXhwLnNvdXJjZSxcbiAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkocHNldWRvUmVnZXhwLCAnZ2xvYmFsJywgbmF0aXZlUmVnZXhwLmdsb2JhbCxcbiAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHRoaXMuc2V0UHJvcGVydHkocHNldWRvUmVnZXhwLCAnaWdub3JlQ2FzZScsIG5hdGl2ZVJlZ2V4cC5pZ25vcmVDYXNlLFxuICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgdGhpcy5zZXRQcm9wZXJ0eShwc2V1ZG9SZWdleHAsICdtdWx0aWxpbmUnLCBuYXRpdmVSZWdleHAubXVsdGlsaW5lLFxuICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIHBzZXVkbyBlcnJvciBvYmplY3QuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IHBzZXVkb0Vycm9yIFRoZSBleGlzdGluZyBvYmplY3QgdG8gc2V0LlxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbWVzc2FnZSBFcnJvcidzIG1lc3NhZ2UuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5wb3B1bGF0ZUVycm9yID0gZnVuY3Rpb24ocHNldWRvRXJyb3IsIG9wdF9tZXNzYWdlKSB7XG4gIGlmIChvcHRfbWVzc2FnZSkge1xuICAgIHRoaXMuc2V0UHJvcGVydHkocHNldWRvRXJyb3IsICdtZXNzYWdlJywgU3RyaW5nKG9wdF9tZXNzYWdlKSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgfVxuICB2YXIgdHJhY2ViYWNrRGF0YSA9IFtdO1xuICBmb3IgKHZhciBpID0gdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVN0YWNrW2ldO1xuICAgIHZhciBub2RlID0gc3RhdGUubm9kZTtcbiAgICBpZiAobm9kZVsndHlwZSddID09PSAnQ2FsbEV4cHJlc3Npb24nKSB7XG4gICAgICB2YXIgZnVuYyA9IHN0YXRlLmZ1bmNfO1xuICAgICAgaWYgKGZ1bmMgJiYgdHJhY2ViYWNrRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdHJhY2ViYWNrRGF0YVt0cmFjZWJhY2tEYXRhLmxlbmd0aCAtIDFdLm5hbWUgPVxuICAgICAgICAgICAgdGhpcy5nZXRQcm9wZXJ0eShmdW5jLCAnbmFtZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZVsnbG9jJ10gJiZcbiAgICAgICAgKCF0cmFjZWJhY2tEYXRhLmxlbmd0aCB8fCBub2RlWyd0eXBlJ10gPT09ICdDYWxsRXhwcmVzc2lvbicpKSB7XG4gICAgICB0cmFjZWJhY2tEYXRhLnB1c2goe2xvYzogbm9kZVsnbG9jJ119KTtcbiAgICB9XG4gIH1cbiAgdmFyIG5hbWUgPSBTdHJpbmcodGhpcy5nZXRQcm9wZXJ0eShwc2V1ZG9FcnJvciwgJ25hbWUnKSk7XG4gIHZhciBtZXNzYWdlID0gU3RyaW5nKHRoaXMuZ2V0UHJvcGVydHkocHNldWRvRXJyb3IsICdtZXNzYWdlJykpO1xuICB2YXIgc3RhY2tTdHJpbmcgPSBuYW1lICsgJzogJyArIG1lc3NhZ2UgKyAnXFxuJztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFjZWJhY2tEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxvYyA9IHRyYWNlYmFja0RhdGFbaV0ubG9jO1xuICAgIHZhciBuYW1lID0gdHJhY2ViYWNrRGF0YVtpXS5uYW1lO1xuICAgIHZhciBsb2NTdHJpbmcgPSBsb2NbJ3NvdXJjZSddICsgJzonICtcbiAgICAgICAgbG9jWydzdGFydCddWydsaW5lJ10gKyAnOicgKyBsb2NbJ3N0YXJ0J11bJ2NvbHVtbiddO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBzdGFja1N0cmluZyArPSAnICBhdCAnICsgbmFtZSArICcgKCcgKyBsb2NTdHJpbmcgKyAnKVxcbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YWNrU3RyaW5nICs9ICcgIGF0ICcgKyBsb2NTdHJpbmcgKyAnXFxuJztcbiAgICB9XG4gIH1cbiAgdGhpcy5zZXRQcm9wZXJ0eShwc2V1ZG9FcnJvciwgJ3N0YWNrJywgc3RhY2tTdHJpbmcudHJpbSgpLFxuICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgV2ViIFdvcmtlciB0byBleGVjdXRlIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gKiBVc2luZyBhIHNlcGFyYXRlIGZpbGUgZmFpbHMgaW4gQ2hyb21lIHdoZW4gcnVuIGxvY2FsbHkgb24gYSBmaWxlOi8vIFVSSS5cbiAqIFVzaW5nIGEgZGF0YSBlbmNvZGVkIFVSSSBmYWlscyBpbiBJRSBhbmQgRWRnZS5cbiAqIFVzaW5nIGEgYmxvYiB3b3JrcyBpbiBJRTExIGFuZCBhbGwgb3RoZXIgYnJvd3NlcnMuXG4gKiBAcmV0dXJuIHshV29ya2VyfSBXZWIgV29ya2VyIHdpdGggcmVnZXhwIGV4ZWN1dGlvbiBjb2RlIGxvYWRlZC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYmxvYiA9IHRoaXMuY3JlYXRlV29ya2VyLmJsb2JfO1xuICBpZiAoIWJsb2IpIHtcbiAgICBibG9iID0gbmV3IEJsb2IoW0ludGVycHJldGVyLldPUktFUl9DT0RFLmpvaW4oJ1xcbicpXSxcbiAgICAgICAge3R5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J30pO1xuICAgIC8vIENhY2hlIHRoZSBibG9iLCBzbyBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgY3JlYXRlZCBuZXh0IHRpbWUuXG4gICAgdGhpcy5jcmVhdGVXb3JrZXIuYmxvYl8gPSBibG9iO1xuICB9XG4gIHJldHVybiBuZXcgV29ya2VyKFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xufTtcblxuLyoqXG4gKiBFeGVjdXRlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgaW4gYSBub2RlIHZtLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZSB0byBleGVjdXRlLlxuICogQHBhcmFtIHshT2JqZWN0fSBzYW5kYm94IEdsb2JhbCB2YXJpYWJsZXMgZm9yIG5ldyB2bS5cbiAqIEBwYXJhbSB7IVJlZ0V4cH0gbmF0aXZlUmVnRXhwIFJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjYWxsYmFjayBBc3luY2hyb25vdXMgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS52bUNhbGwgPSBmdW5jdGlvbihjb2RlLCBzYW5kYm94LCBuYXRpdmVSZWdFeHAsIGNhbGxiYWNrKSB7XG4gIHZhciBvcHRpb25zID0geyd0aW1lb3V0JzogdGhpc1snUkVHRVhQX1RIUkVBRF9USU1FT1VUJ119O1xuICB0cnkge1xuICAgIHJldHVybiBJbnRlcnByZXRlci52bVsncnVuSW5OZXdDb250ZXh0J10oY29kZSwgc2FuZGJveCwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWxsYmFjayhudWxsKTtcbiAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuRVJST1IsICdSZWdFeHAgVGltZW91dDogJyArIG5hdGl2ZVJlZ0V4cCk7XG4gIH1cbiAgcmV0dXJuIEludGVycHJldGVyLlJFR0VYUF9USU1FT1VUO1xufTtcblxuLyoqXG4gKiBJZiBSRUdFWFBfTU9ERSBpcyAwLCB0aGVuIHRocm93IGFuIGVycm9yLlxuICogQWxzbyB0aHJvdyBpZiBSRUdFWFBfTU9ERSBpcyAyIGFuZCBKUyBkb2Vzbid0IHN1cHBvcnQgV2ViIFdvcmtlcnMgb3Igdm0uXG4gKiBAcGFyYW0geyFSZWdFeHB9IG5hdGl2ZVJlZ0V4cCBSZWd1bGFyIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gY2FsbGJhY2sgQXN5bmNocm9ub3VzIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUubWF5YmVUaHJvd1JlZ0V4cCA9IGZ1bmN0aW9uKG5hdGl2ZVJlZ0V4cCwgY2FsbGJhY2spIHtcbiAgdmFyIG9rO1xuICBpZiAodGhpc1snUkVHRVhQX01PREUnXSA9PT0gMCkge1xuICAgIC8vIEZhaWw6IE5vIFJlZ0V4cCBzdXBwb3J0LlxuICAgIG9rID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAodGhpc1snUkVHRVhQX01PREUnXSA9PT0gMSkge1xuICAgIC8vIE9rOiBOYXRpdmUgUmVnRXhwIHN1cHBvcnQuXG4gICAgb2sgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIC8vIFNhbmRib3hlZCBSZWdFeHAgaGFuZGxpbmcuXG4gICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAvLyBPazogTm9kZSdzIHZtIG1vZHVsZSBhbHJlYWR5IGxvYWRlZC5cbiAgICAgIG9rID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBXb3JrZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFVSTCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gT2s6IFdlYiBXb3JrZXJzIGF2YWlsYWJsZS5cbiAgICAgIG9rID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRydWUpIHtcbiAgICAgIC8vIFRyeSB0byBsb2FkIE5vZGUncyB2bSBtb2R1bGUuXG4gICAgICB0cnkge1xuICAgICAgICBJbnRlcnByZXRlci52bSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHZtICovIFwiLi9ub2RlX21vZHVsZXMvdm0tYnJvd3NlcmlmeS9pbmRleC5qc1wiKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICBvayA9ICEhSW50ZXJwcmV0ZXIudm07XG4gICAgfSBlbHNlIHt9XG4gIH1cbiAgaWYgKCFvaykge1xuICAgIGNhbGxiYWNrKG51bGwpO1xuICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5FUlJPUiwgJ1JlZ3VsYXIgZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZDogJyArXG4gICAgICAgIG5hdGl2ZVJlZ0V4cCk7XG4gIH1cbn07XG5cbi8qKlxuICogU2V0IGEgdGltZW91dCBmb3IgcmVndWxhciBleHByZXNzaW9uIHRocmVhZHMuICBVbmxlc3MgY2FuY2VsbGVkLCB0aGlzIHdpbGxcbiAqIHRlcm1pbmF0ZSB0aGUgdGhyZWFkIGFuZCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSB7IVJlZ0V4cH0gbmF0aXZlUmVnRXhwIFJlZ3VsYXIgZXhwcmVzc2lvbiAodXNlZCBmb3IgZXJyb3IgbWVzc2FnZSkuXG4gKiBAcGFyYW0geyFXb3JrZXJ9IHdvcmtlciBUaHJlYWQgdG8gdGVybWluYXRlLlxuICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrIEFzeW5jIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGV4ZWN1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUElEIG9mIHRpbWVvdXQuICBVc2VkIHRvIGNhbmNlbCBpZiB0aHJlYWQgY29tcGxldGVzLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUucmVnRXhwVGltZW91dCA9IGZ1bmN0aW9uKG5hdGl2ZVJlZ0V4cCwgd29ya2VyLCBjYWxsYmFjaykge1xuICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuRVJST1IsXG4gICAgICAgICAgICAnUmVnRXhwIFRpbWVvdXQ6ICcgKyBuYXRpdmVSZWdFeHApO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFYXQgdGhlIGV4cGVjdGVkIEludGVycHJldGVyLlNURVBfRVJST1IuXG4gICAgICB9XG4gIH0sIHRoaXNbJ1JFR0VYUF9USFJFQURfVElNRU9VVCddKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGRhdGEgb2JqZWN0IGJhc2VkIG9uIGEgY29uc3RydWN0b3IncyBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gY29uc3RydWN0b3IgUGFyZW50IGNvbnN0cnVjdG9yIGZ1bmN0aW9uLFxuICogICAgIG9yIG51bGwgaWYgc2NvcGUgb2JqZWN0LlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGRhdGEgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8oY29uc3RydWN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IucHJvcGVydGllc1sncHJvdG90eXBlJ10pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZGF0YSBvYmplY3QgYmFzZWQgb24gYSBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gcHJvdG8gUHJvdG90eXBlIG9iamVjdC5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R9IE5ldyBkYXRhIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZU9iamVjdFByb3RvID0gZnVuY3Rpb24ocHJvdG8pIHtcbiAgaWYgKHR5cGVvZiBwcm90byAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBFcnJvcignTm9uIG9iamVjdCBwcm90b3R5cGUnKTtcbiAgfVxuICB2YXIgb2JqID0gbmV3IEludGVycHJldGVyLk9iamVjdChwcm90byk7XG4gIGlmICh0aGlzLmlzYShvYmosIHRoaXMuRVJST1IpKSB7XG4gICAgLy8gUmVjb3JkIHRoaXMgb2JqZWN0IGFzIGJlaW5nIGFuIGVycm9yIHNvIHRoYXQgaXRzIHRvU3RyaW5nIGZ1bmN0aW9uIGNhblxuICAgIC8vIHByb2Nlc3MgaXQgY29ycmVjdGx5ICh0b1N0cmluZyBoYXMgbm8gYWNjZXNzIHRvIHRoZSBpbnRlcnByZXRlciBhbmQgY291bGRcbiAgICAvLyBub3Qgb3RoZXJ3aXNlIGRldGVybWluZSB0aGF0IHRoZSBvYmplY3QgaXMgYW4gZXJyb3IpLlxuICAgIG9iai5jbGFzcyA9ICdFcnJvcic7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGFycmF5LlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGFycmF5LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGFycmF5ID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLkFSUkFZX1BST1RPKTtcbiAgLy8gQXJyYXlzIGhhdmUgbGVuZ3RoLlxuICB0aGlzLnNldFByb3BlcnR5KGFycmF5LCAnbGVuZ3RoJywgMCxcbiAgICAgIHtjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWV9KTtcbiAgYXJyYXkuY2xhc3MgPSAnQXJyYXknO1xuICByZXR1cm4gYXJyYXk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QgKGNvdWxkIGJlY29tZSBpbnRlcnByZXRlZCBvciBuYXRpdmUgb3IgYXN5bmMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGFyZ3VtZW50TGVuZ3RoIE51bWJlciBvZiBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ29uc3RydWN0b3IgVHJ1ZSBpZiBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aXRoICduZXcnLlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGZ1bmN0aW9uLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZUZ1bmN0aW9uQmFzZV8gPSBmdW5jdGlvbihhcmd1bWVudExlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb25zdHJ1Y3Rvcikge1xuICB2YXIgZnVuYyA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8odGhpcy5GVU5DVElPTl9QUk9UTyk7XG4gIGlmIChpc0NvbnN0cnVjdG9yKSB7XG4gICAgdmFyIHByb3RvID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShmdW5jLCAncHJvdG90eXBlJywgcHJvdG8sXG4gICAgICAgICAgICAgICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIHRoaXMuc2V0UHJvcGVydHkocHJvdG8sICdjb25zdHJ1Y3RvcicsIGZ1bmMsXG4gICAgICAgICAgICAgICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICB9IGVsc2Uge1xuICAgIGZ1bmMuaWxsZWdhbENvbnN0cnVjdG9yID0gdHJ1ZTtcbiAgfVxuICB0aGlzLnNldFByb3BlcnR5KGZ1bmMsICdsZW5ndGgnLCBhcmd1bWVudExlbmd0aCxcbiAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIGZ1bmMuY2xhc3MgPSAnRnVuY3Rpb24nO1xuICAvLyBXaGVuIG1ha2luZyBjaGFuZ2VzIHRvIHRoaXMgZnVuY3Rpb24sIGNoZWNrIHRvIHNlZSBpZiB0aG9zZSBjaGFuZ2VzIGFsc29cbiAgLy8gbmVlZCB0byBiZSBtYWRlIHRvIHRoZSBjcmVhdGlvbiBvZiBGVU5DVElPTl9QUk9UTyBpbiBpbml0RnVuY3Rpb24uXG4gIHJldHVybiBmdW5jO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW50ZXJwcmV0ZWQgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFPYmplY3R9IG5vZGUgQVNUIG5vZGUgZGVmaW5pbmcgdGhlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuU2NvcGV9IHNjb3BlIFBhcmVudCBzY29wZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X25hbWUgT3B0aW9uYWwgbmFtZSBmb3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBOZXcgZnVuY3Rpb24uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVGdW5jdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIHNjb3BlLCBvcHRfbmFtZSkge1xuICB2YXIgZnVuYyA9IHRoaXMuY3JlYXRlRnVuY3Rpb25CYXNlXyhub2RlWydwYXJhbXMnXS5sZW5ndGgsIHRydWUpO1xuICBmdW5jLnBhcmVudFNjb3BlID0gc2NvcGU7XG4gIGZ1bmMubm9kZSA9IG5vZGU7XG4gIC8vIENob29zZSBhIG5hbWUgZm9yIHRoaXMgZnVuY3Rpb24uXG4gIC8vIGZ1bmN0aW9uIGZvbygpIHt9ICAgICAgICAgICAgIC0+ICdmb28nXG4gIC8vIHZhciBiYXIgPSBmdW5jdGlvbigpIHt9OyAgICAgIC0+ICdiYXInXG4gIC8vIHZhciBiYXIgPSBmdW5jdGlvbiBmb28oKSB7fTsgIC0+ICdmb28nXG4gIC8vIGZvby5iYXIgPSBmdW5jdGlvbigpIHt9OyAgICAgIC0+ICcnXG4gIC8vIHZhciBiYXIgPSBuZXcgRnVuY3Rpb24oJycpOyAgIC0+ICdhbm9ueW1vdXMnXG4gIHZhciBuYW1lID0gbm9kZVsnaWQnXSA/IFN0cmluZyhub2RlWydpZCddWyduYW1lJ10pIDogKG9wdF9uYW1lIHx8ICcnKTtcbiAgdGhpcy5zZXRQcm9wZXJ0eShmdW5jLCAnbmFtZScsIG5hbWUsXG4gICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICByZXR1cm4gZnVuYztcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG5hdGl2ZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBuYXRpdmVGdW5jIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ29uc3RydWN0b3IgVHJ1ZSBpZiBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aXRoICduZXcnLlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGZ1bmN0aW9uLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlTmF0aXZlRnVuY3Rpb24gPSBmdW5jdGlvbihuYXRpdmVGdW5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb25zdHJ1Y3Rvcikge1xuICB2YXIgZnVuYyA9IHRoaXMuY3JlYXRlRnVuY3Rpb25CYXNlXyhuYXRpdmVGdW5jLmxlbmd0aCwgaXNDb25zdHJ1Y3Rvcik7XG4gIGZ1bmMubmF0aXZlRnVuYyA9IG5hdGl2ZUZ1bmM7XG4gIG5hdGl2ZUZ1bmMuaWQgPSB0aGlzLmZ1bmN0aW9uQ291bnRlcl8rKztcbiAgdGhpcy5zZXRQcm9wZXJ0eShmdW5jLCAnbmFtZScsIG5hdGl2ZUZ1bmMubmFtZSxcbiAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gIHJldHVybiBmdW5jO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbmF0aXZlIGFzeW5jaHJvbm91cyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBhc3luY0Z1bmMgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R9IE5ldyBmdW5jdGlvbi5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZUFzeW5jRnVuY3Rpb24gPSBmdW5jdGlvbihhc3luY0Z1bmMpIHtcbiAgdmFyIGZ1bmMgPSB0aGlzLmNyZWF0ZUZ1bmN0aW9uQmFzZV8oYXN5bmNGdW5jLmxlbmd0aCwgdHJ1ZSk7XG4gIGZ1bmMuYXN5bmNGdW5jID0gYXN5bmNGdW5jO1xuICBhc3luY0Z1bmMuaWQgPSB0aGlzLmZ1bmN0aW9uQ291bnRlcl8rKztcbiAgdGhpcy5zZXRQcm9wZXJ0eShmdW5jLCAnbmFtZScsIGFzeW5jRnVuYy5uYW1lLFxuICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGZyb20gYSBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3Qgb3IgdmFsdWUgdG8gYSBKUy1JbnRlcnByZXRlciBvYmplY3QuXG4gKiBDYW4gaGFuZGxlIEpTT04tc3R5bGUgdmFsdWVzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcyBhbmQgZnVuY3Rpb25zLlxuICogRG9lcyBOT1QgaGFuZGxlIGN5Y2xlcy5cbiAqIEBwYXJhbSB7Kn0gbmF0aXZlT2JqIFRoZSBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3QgdG8gYmUgY29udmVydGVkLlxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuVmFsdWV9IFRoZSBlcXVpdmFsZW50IEpTLUludGVycHJldGVyIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLm5hdGl2ZVRvUHNldWRvID0gZnVuY3Rpb24obmF0aXZlT2JqKSB7XG4gIGlmIChuYXRpdmVPYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpIHtcbiAgICB0aHJvdyBFcnJvcignT2JqZWN0IGlzIGFscmVhZHkgcHNldWRvJyk7XG4gIH1cbiAgaWYgKCh0eXBlb2YgbmF0aXZlT2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgbmF0aXZlT2JqICE9PSAnZnVuY3Rpb24nKSB8fFxuICAgICAgbmF0aXZlT2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU9iajtcbiAgfVxuXG4gIGlmIChuYXRpdmVPYmogaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICB2YXIgcHNldWRvUmVnZXhwID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLlJFR0VYUF9QUk9UTyk7XG4gICAgdGhpcy5wb3B1bGF0ZVJlZ0V4cChwc2V1ZG9SZWdleHAsIG5hdGl2ZU9iaik7XG4gICAgcmV0dXJuIHBzZXVkb1JlZ2V4cDtcbiAgfVxuXG4gIGlmIChuYXRpdmVPYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgdmFyIHBzZXVkb0RhdGUgPSB0aGlzLmNyZWF0ZU9iamVjdFByb3RvKHRoaXMuREFURV9QUk9UTyk7XG4gICAgcHNldWRvRGF0ZS5kYXRhID0gbmV3IERhdGUobmF0aXZlT2JqLnZhbHVlT2YoKSk7XG4gICAgcmV0dXJuIHBzZXVkb0RhdGU7XG4gIH1cblxuICBpZiAodHlwZW9mIG5hdGl2ZU9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykubWFwKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLnBzZXVkb1RvTmF0aXZlKGkpO1xuICAgICAgfSk7XG4gICAgICB2YXIgdmFsdWUgPSBuYXRpdmVPYmouYXBwbHkodGhpc0ludGVycHJldGVyLCBhcmdzKTtcbiAgICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIubmF0aXZlVG9Qc2V1ZG8odmFsdWUpO1xuICAgIH07XG4gICAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmF0aXZlT2JqLCAncHJvdG90eXBlJyk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgISFwcm90b3R5cGUpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobmF0aXZlT2JqKSkgeyAgLy8gQXJyYXkuXG4gICAgdmFyIHBzZXVkb0FycmF5ID0gdGhpcy5jcmVhdGVBcnJheSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF0aXZlT2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSBpbiBuYXRpdmVPYmopIHtcbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShwc2V1ZG9BcnJheSwgaSwgdGhpcy5uYXRpdmVUb1BzZXVkbyhuYXRpdmVPYmpbaV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBzZXVkb0FycmF5O1xuICB9XG5cbiAgLy8gT2JqZWN0LlxuICB2YXIgcHNldWRvT2JqID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gIGZvciAodmFyIGtleSBpbiBuYXRpdmVPYmopIHtcbiAgICB0aGlzLnNldFByb3BlcnR5KHBzZXVkb09iaiwga2V5LCB0aGlzLm5hdGl2ZVRvUHNldWRvKG5hdGl2ZU9ialtrZXldKSk7XG4gIH1cbiAgcmV0dXJuIHBzZXVkb09iajtcbn07XG5cbi8qKlxuICogQ29udmVydHMgZnJvbSBhIEpTLUludGVycHJldGVyIG9iamVjdCB0byBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBDYW4gaGFuZGxlIEpTT04tc3R5bGUgdmFsdWVzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBhbmQgZGF0ZXMuXG4gKiBEb2VzIGhhbmRsZSBjeWNsZXMuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSBwc2V1ZG9PYmogVGhlIEpTLUludGVycHJldGVyIG9iamVjdCB0byBiZVxuICogY29udmVydGVkLlxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfY3ljbGVzIEN5Y2xlIGRldGVjdGlvbiAodXNlZCBpbiByZWN1cnNpdmUgY2FsbHMpLlxuICogQHJldHVybiB7Kn0gVGhlIGVxdWl2YWxlbnQgbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0IG9yIHZhbHVlLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUucHNldWRvVG9OYXRpdmUgPSBmdW5jdGlvbihwc2V1ZG9PYmosIG9wdF9jeWNsZXMpIHtcbiAgaWYgKCh0eXBlb2YgcHNldWRvT2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgcHNldWRvT2JqICE9PSAnZnVuY3Rpb24nKSB8fFxuICAgICAgcHNldWRvT2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHBzZXVkb09iajtcbiAgfVxuICBpZiAoIShwc2V1ZG9PYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgdGhyb3cgRXJyb3IoJ09iamVjdCBpcyBub3QgcHNldWRvJyk7XG4gIH1cblxuICBpZiAodGhpcy5pc2EocHNldWRvT2JqLCB0aGlzLlJFR0VYUCkpIHsgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICB2YXIgbmF0aXZlUmVnRXhwID0gbmV3IFJlZ0V4cChwc2V1ZG9PYmouZGF0YS5zb3VyY2UsIHBzZXVkb09iai5kYXRhLmZsYWdzKTtcbiAgICBuYXRpdmVSZWdFeHAubGFzdEluZGV4ID0gcHNldWRvT2JqLmRhdGEubGFzdEluZGV4O1xuICAgIHJldHVybiBuYXRpdmVSZWdFeHA7XG4gIH1cblxuICBpZiAodGhpcy5pc2EocHNldWRvT2JqLCB0aGlzLkRBVEUpKSB7ICAvLyBEYXRlLlxuICAgIHJldHVybiBuZXcgRGF0ZShwc2V1ZG9PYmouZGF0YS52YWx1ZU9mKCkpO1xuICB9XG5cbiAgdmFyIGN5Y2xlcyA9IG9wdF9jeWNsZXMgfHwge1xuICAgIHBzZXVkbzogW10sXG4gICAgbmF0aXZlOiBbXVxuICB9O1xuICB2YXIgaSA9IGN5Y2xlcy5wc2V1ZG8uaW5kZXhPZihwc2V1ZG9PYmopO1xuICBpZiAoaSAhPT0gLTEpIHtcbiAgICByZXR1cm4gY3ljbGVzLm5hdGl2ZVtpXTtcbiAgfVxuICBjeWNsZXMucHNldWRvLnB1c2gocHNldWRvT2JqKTtcbiAgdmFyIG5hdGl2ZU9iajtcbiAgaWYgKHRoaXMuaXNhKHBzZXVkb09iaiwgdGhpcy5BUlJBWSkpIHsgIC8vIEFycmF5LlxuICAgIG5hdGl2ZU9iaiA9IFtdO1xuICAgIGN5Y2xlcy5uYXRpdmUucHVzaChuYXRpdmVPYmopO1xuICAgIHZhciBsZW4gPSB0aGlzLmdldFByb3BlcnR5KHBzZXVkb09iaiwgJ2xlbmd0aCcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmhhc1Byb3BlcnR5KHBzZXVkb09iaiwgaSkpIHtcbiAgICAgICAgbmF0aXZlT2JqW2ldID1cbiAgICAgICAgICAgIHRoaXMucHNldWRvVG9OYXRpdmUodGhpcy5nZXRQcm9wZXJ0eShwc2V1ZG9PYmosIGkpLCBjeWNsZXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHsgIC8vIE9iamVjdC5cbiAgICBuYXRpdmVPYmogPSB7fTtcbiAgICBjeWNsZXMubmF0aXZlLnB1c2gobmF0aXZlT2JqKTtcbiAgICB2YXIgdmFsO1xuICAgIGZvciAodmFyIGtleSBpbiBwc2V1ZG9PYmoucHJvcGVydGllcykge1xuICAgICAgdmFsID0gdGhpcy5wc2V1ZG9Ub05hdGl2ZShwc2V1ZG9PYmoucHJvcGVydGllc1trZXldLCBjeWNsZXMpO1xuICAgICAgLy8gVXNlIGRlZmluZVByb3BlcnR5IHRvIGF2b2lkIHNpZGUgZWZmZWN0cyBpZiBzZXR0aW5nICdfX3Byb3RvX18nLlxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdGl2ZU9iaiwga2V5LFxuICAgICAgICAgIHt2YWx1ZTogdmFsLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG4gICAgfVxuICB9XG4gIGN5Y2xlcy5wc2V1ZG8ucG9wKCk7XG4gIGN5Y2xlcy5uYXRpdmUucG9wKCk7XG4gIHJldHVybiBuYXRpdmVPYmo7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGZyb20gYSBuYXRpdmUgSmF2YVNjcmlwdCBhcnJheSB0byBhIEpTLUludGVycHJldGVyIGFycmF5LlxuICogRG9lcyBoYW5kbGUgbm9uLW51bWVyaWMgcHJvcGVydGllcyAobGlrZSBzdHIubWF0Y2gncyBpbmRleCBwcm9wKS5cbiAqIERvZXMgTk9UIHJlY3Vyc2UgaW50byB0aGUgYXJyYXkncyBjb250ZW50cy5cbiAqIEBwYXJhbSB7IUFycmF5fSBuYXRpdmVBcnJheSBUaGUgSmF2YVNjcmlwdCBhcnJheSB0byBiZSBjb252ZXJ0ZWQuXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBUaGUgZXF1aXZhbGVudCBKUy1JbnRlcnByZXRlciBhcnJheS5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmFycmF5TmF0aXZlVG9Qc2V1ZG8gPSBmdW5jdGlvbihuYXRpdmVBcnJheSkge1xuICB2YXIgcHNldWRvQXJyYXkgPSB0aGlzLmNyZWF0ZUFycmF5KCk7XG4gIHZhciBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG5hdGl2ZUFycmF5KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMuc2V0UHJvcGVydHkocHNldWRvQXJyYXksIHByb3BzW2ldLCBuYXRpdmVBcnJheVtwcm9wc1tpXV0pO1xuICB9XG4gIHJldHVybiBwc2V1ZG9BcnJheTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgZnJvbSBhIEpTLUludGVycHJldGVyIGFycmF5IHRvIG5hdGl2ZSBKYXZhU2NyaXB0IGFycmF5LlxuICogRG9lcyBoYW5kbGUgbm9uLW51bWVyaWMgcHJvcGVydGllcyAobGlrZSBzdHIubWF0Y2gncyBpbmRleCBwcm9wKS5cbiAqIERvZXMgTk9UIHJlY3Vyc2UgaW50byB0aGUgYXJyYXkncyBjb250ZW50cy5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gcHNldWRvQXJyYXkgVGhlIEpTLUludGVycHJldGVyIGFycmF5LFxuICogICAgIG9yIEpTLUludGVycHJldGVyIG9iamVjdCBwcmV0ZW5kaW5nIHRvIGJlIGFuIGFycmF5LlxuICogQHJldHVybiB7IUFycmF5fSBUaGUgZXF1aXZhbGVudCBuYXRpdmUgSmF2YVNjcmlwdCBhcnJheS5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmFycmF5UHNldWRvVG9OYXRpdmUgPSBmdW5jdGlvbihwc2V1ZG9BcnJheSkge1xuICB2YXIgbmF0aXZlQXJyYXkgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHBzZXVkb0FycmF5LnByb3BlcnRpZXMpIHtcbiAgICBuYXRpdmVBcnJheVtrZXldID0gdGhpcy5nZXRQcm9wZXJ0eShwc2V1ZG9BcnJheSwga2V5KTtcbiAgfVxuICAvLyBwc2V1ZG9BcnJheSBtaWdodCBiZSBhbiBvYmplY3QgcHJldGVuZGluZyB0byBiZSBhbiBhcnJheS4gIEluIHRoaXMgY2FzZVxuICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgbGVuZ3RoIGlzIG5vbi1leGlzdGVudCwgaW52YWxpZCwgb3Igc21hbGxlciB0aGFuIHRoZVxuICAvLyBsYXJnZXN0IGRlZmluZWQgbnVtZXJpYyBwcm9wZXJ0eS4gIFNldCBsZW5ndGggZXhwbGljaXRseSBoZXJlLlxuICBuYXRpdmVBcnJheS5sZW5ndGggPSBJbnRlcnByZXRlci5sZWdhbEFycmF5TGVuZ3RoKFxuICAgICAgdGhpcy5nZXRQcm9wZXJ0eShwc2V1ZG9BcnJheSwgJ2xlbmd0aCcpKSB8fCAwO1xuICByZXR1cm4gbmF0aXZlQXJyYXk7XG59O1xuXG4vKipcbiAqIExvb2sgdXAgdGhlIHByb3RvdHlwZSBmb3IgdGhpcyB2YWx1ZS5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHZhbHVlIERhdGEgb2JqZWN0LlxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuT2JqZWN0fSBQcm90b3R5cGUgb2JqZWN0LCBudWxsIGlmIG5vbmUuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXRQcm90b3R5cGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gdGhpcy5OVU1CRVIucHJvcGVydGllc1sncHJvdG90eXBlJ107XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdGhpcy5CT09MRUFOLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdGhpcy5TVFJJTkcucHJvcGVydGllc1sncHJvdG90eXBlJ107XG4gIH1cbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnByb3RvO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBGZXRjaCBhIHByb3BlcnR5IHZhbHVlIGZyb20gYSBkYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG9iaiBEYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge0ludGVycHJldGVyLlZhbHVlfSBQcm9wZXJ0eSB2YWx1ZSAobWF5IGJlIHVuZGVmaW5lZCkuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKG9iaiwgbmFtZSkge1xuICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgIHRocm93IEVycm9yKCdHZXR0ZXIgbm90IHN1cHBvcnRlZCBpbiB0aGF0IGNvbnRleHQnKTtcbiAgfVxuICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICBpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XG4gICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZWFkIHByb3BlcnR5ICdcIiArIG5hbWUgKyBcIicgb2YgXCIgKyBvYmopO1xuICB9XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAhKG9iaiBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGluZyBuYXRpdmUgdmFsdWUgb3IgcHNldWRvIG9iamVjdCcpO1xuICB9XG4gIGlmIChuYW1lID09PSAnbGVuZ3RoJykge1xuICAgIC8vIFNwZWNpYWwgY2FzZXMgZm9yIG1hZ2ljIGxlbmd0aCBwcm9wZXJ0eS5cbiAgICBpZiAodGhpcy5pc2Eob2JqLCB0aGlzLlNUUklORykpIHtcbiAgICAgIHJldHVybiBTdHJpbmcob2JqKS5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5hbWUuY2hhckNvZGVBdCgwKSA8IDB4NDApIHtcbiAgICAvLyBNaWdodCBoYXZlIG51bWJlcnMgaW4gdGhlcmU/XG4gICAgLy8gU3BlY2lhbCBjYXNlcyBmb3Igc3RyaW5nIGFycmF5IGluZGV4aW5nXG4gICAgaWYgKHRoaXMuaXNhKG9iaiwgdGhpcy5TVFJJTkcpKSB7XG4gICAgICB2YXIgbiA9IEludGVycHJldGVyLmxlZ2FsQXJyYXlJbmRleChuYW1lKTtcbiAgICAgIGlmICghaXNOYU4obikgJiYgbiA8IFN0cmluZyhvYmopLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKG9iailbbl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRvIHtcbiAgICBpZiAob2JqLnByb3BlcnRpZXMgJiYgbmFtZSBpbiBvYmoucHJvcGVydGllcykge1xuICAgICAgdmFyIGdldHRlciA9IG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICBpZiAoZ2V0dGVyKSB7XG4gICAgICAgIC8vIEZsYWcgdGhpcyBmdW5jdGlvbiBhcyBiZWluZyBhIGdldHRlciBhbmQgdGh1cyBuZWVkaW5nIGltbWVkaWF0ZVxuICAgICAgICAvLyBleGVjdXRpb24gKHJhdGhlciB0aGFuIGJlaW5nIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkpLlxuICAgICAgICB0aGlzLmdldHRlclN0ZXBfID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGdldHRlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmoucHJvcGVydGllc1tuYW1lXTtcbiAgICB9XG4gIH0gd2hpbGUgKChvYmogPSB0aGlzLmdldFByb3RvdHlwZShvYmopKSk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIERvZXMgdGhlIG5hbWVkIHByb3BlcnR5IGV4aXN0IG9uIGEgZGF0YSBvYmplY3QuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IG9iaiBEYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcHJvcGVydHkgZXhpc3RzLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaGFzUHJvcGVydHkgPSBmdW5jdGlvbihvYmosIG5hbWUpIHtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcignUHJpbWl0aXZlIGRhdGEgdHlwZSBoYXMgbm8gcHJvcGVydGllcycpO1xuICB9XG4gIG5hbWUgPSBTdHJpbmcobmFtZSk7XG4gIGlmIChuYW1lID09PSAnbGVuZ3RoJyAmJiB0aGlzLmlzYShvYmosIHRoaXMuU1RSSU5HKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0aGlzLmlzYShvYmosIHRoaXMuU1RSSU5HKSkge1xuICAgIHZhciBuID0gSW50ZXJwcmV0ZXIubGVnYWxBcnJheUluZGV4KG5hbWUpO1xuICAgIGlmICghaXNOYU4obikgJiYgbiA8IFN0cmluZyhvYmopLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGRvIHtcbiAgICBpZiAob2JqLnByb3BlcnRpZXMgJiYgbmFtZSBpbiBvYmoucHJvcGVydGllcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IHdoaWxlICgob2JqID0gdGhpcy5nZXRQcm90b3R5cGUob2JqKSkpO1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IHZhbHVlIG9uIGEgZGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSBvYmogRGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSBuYW1lIE5hbWUgb2YgcHJvcGVydHkuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSB2YWx1ZSBOZXcgcHJvcGVydHkgdmFsdWUuXG4gKiAgICAgVXNlIEludGVycHJldGVyLlZBTFVFX0lOX0RFU0NSSVBUT1IgaWYgdmFsdWUgaXMgaGFuZGxlZCBieVxuICogICAgIGRlc2NyaXB0b3IgaW5zdGVhZC5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X2Rlc2NyaXB0b3IgT3B0aW9uYWwgZGVzY3JpcHRvciBvYmplY3QuXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuT2JqZWN0fHVuZGVmaW5lZH0gUmV0dXJucyBhIHNldHRlciBmdW5jdGlvbiBpZiBvbmVcbiAqICAgICBuZWVkcyB0byBiZSBjYWxsZWQsIG90aGVyd2lzZSB1bmRlZmluZWQuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgdmFsdWUsIG9wdF9kZXNjcmlwdG9yKSB7XG4gIGlmICh0aGlzLnNldHRlclN0ZXBfKSB7XG4gICAgLy8gR2V0dGVyIGZyb20gcHJldmlvdXMgY2FsbCB0byBzZXRQcm9wZXJ0eSB3YXMgbm90IGhhbmRsZWQuXG4gICAgdGhyb3cgRXJyb3IoJ1NldHRlciBub3Qgc3VwcG9ydGVkIGluIHRoYXQgY29udGV4dCcpO1xuICB9XG4gIG5hbWUgPSBTdHJpbmcobmFtZSk7XG4gIGlmIChvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGwpIHtcbiAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuVFlQRV9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNldCBwcm9wZXJ0eSAnXCIgKyBuYW1lICsgXCInIG9mIFwiICsgb2JqKTtcbiAgfVxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIShvYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdFeHBlY3RpbmcgbmF0aXZlIHZhbHVlIG9yIHBzZXVkbyBvYmplY3QnKTtcbiAgfVxuICBpZiAob3B0X2Rlc2NyaXB0b3IgJiYgKCdnZXQnIGluIG9wdF9kZXNjcmlwdG9yIHx8ICdzZXQnIGluIG9wdF9kZXNjcmlwdG9yKSAmJlxuICAgICAgKCd2YWx1ZScgaW4gb3B0X2Rlc2NyaXB0b3IgfHwgJ3dyaXRhYmxlJyBpbiBvcHRfZGVzY3JpcHRvcikpIHtcbiAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuVFlQRV9FUlJPUiwgJ0ludmFsaWQgcHJvcGVydHkgZGVzY3JpcHRvci4gJyArXG4gICAgICAgICdDYW5ub3QgYm90aCBzcGVjaWZ5IGFjY2Vzc29ycyBhbmQgYSB2YWx1ZSBvciB3cml0YWJsZSBhdHRyaWJ1dGUnKTtcbiAgfVxuICB2YXIgc3RyaWN0ID0gIXRoaXMuc3RhdGVTdGFjayB8fCB0aGlzLmdldFNjb3BlKCkuc3RyaWN0O1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIFwiQ2FuJ3QgY3JlYXRlIHByb3BlcnR5ICdcIiArIG5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIicgb24gJ1wiICsgb2JqICsgXCInXCIpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRoaXMuaXNhKG9iaiwgdGhpcy5TVFJJTkcpKSB7XG4gICAgdmFyIG4gPSBJbnRlcnByZXRlci5sZWdhbEFycmF5SW5kZXgobmFtZSk7XG4gICAgaWYgKG5hbWUgPT09ICdsZW5ndGgnIHx8ICghaXNOYU4obikgJiYgbiA8IFN0cmluZyhvYmopLmxlbmd0aCkpIHtcbiAgICAgIC8vIENhbid0IHNldCBsZW5ndGggb3IgbGV0dGVycyBvbiBTdHJpbmcgb2JqZWN0cy5cbiAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIFwiQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgXCIgK1xuICAgICAgICAgICAgXCJwcm9wZXJ0eSAnXCIgKyBuYW1lICsgXCInIG9mIFN0cmluZyAnXCIgKyBvYmouZGF0YSArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKG9iai5jbGFzcyA9PT0gJ0FycmF5Jykge1xuICAgIC8vIEFycmF5cyBoYXZlIGEgbWFnaWMgbGVuZ3RoIHZhcmlhYmxlIHRoYXQgaXMgYm91bmQgdG8gdGhlIGVsZW1lbnRzLlxuICAgIHZhciBsZW4gPSBvYmoucHJvcGVydGllcy5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgaWYgKG5hbWUgPT09ICdsZW5ndGgnKSB7XG4gICAgICAvLyBEZWxldGUgZWxlbWVudHMgaWYgbGVuZ3RoIGlzIHNtYWxsZXIuXG4gICAgICBpZiAob3B0X2Rlc2NyaXB0b3IpIHtcbiAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBvcHRfZGVzY3JpcHRvcikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBvcHRfZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gSW50ZXJwcmV0ZXIubGVnYWxBcnJheUxlbmd0aCh2YWx1ZSk7XG4gICAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5SQU5HRV9FUlJPUiwgJ0ludmFsaWQgYXJyYXkgbGVuZ3RoJyk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPCBsZW4pIHtcbiAgICAgICAgZm9yIChpIGluIG9iai5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgaSA9IEludGVycHJldGVyLmxlZ2FsQXJyYXlJbmRleChpKTtcbiAgICAgICAgICBpZiAoIWlzTmFOKGkpICYmIHZhbHVlIDw9IGkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmoucHJvcGVydGllc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc05hTihpID0gSW50ZXJwcmV0ZXIubGVnYWxBcnJheUluZGV4KG5hbWUpKSkge1xuICAgICAgLy8gSW5jcmVhc2UgbGVuZ3RoIGlmIHRoaXMgaW5kZXggaXMgbGFyZ2VyLlxuICAgICAgb2JqLnByb3BlcnRpZXMubGVuZ3RoID0gTWF0aC5tYXgobGVuLCBpICsgMSk7XG4gICAgfVxuICB9XG4gIGlmIChvYmoucHJldmVudEV4dGVuc2lvbnMgJiYgIShuYW1lIGluIG9iai5wcm9wZXJ0aWVzKSkge1xuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5UWVBFX0VSUk9SLCBcIkNhbid0IGFkZCBwcm9wZXJ0eSAnXCIgKyBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCInLCBvYmplY3QgaXMgbm90IGV4dGVuc2libGVcIik7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAob3B0X2Rlc2NyaXB0b3IpIHtcbiAgICAvLyBEZWZpbmUgdGhlIHByb3BlcnR5LlxuICAgIHZhciBkZXNjcmlwdG9yID0ge307XG4gICAgaWYgKCdnZXQnIGluIG9wdF9kZXNjcmlwdG9yICYmIG9wdF9kZXNjcmlwdG9yLmdldCkge1xuICAgICAgb2JqLmdldHRlcltuYW1lXSA9IG9wdF9kZXNjcmlwdG9yLmdldDtcbiAgICAgIGRlc2NyaXB0b3IuZ2V0ID0gdGhpcy5zZXRQcm9wZXJ0eS5wbGFjZWhvbGRlckdldF87XG4gICAgfVxuICAgIGlmICgnc2V0JyBpbiBvcHRfZGVzY3JpcHRvciAmJiBvcHRfZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIG9iai5zZXR0ZXJbbmFtZV0gPSBvcHRfZGVzY3JpcHRvci5zZXQ7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9IHRoaXMuc2V0UHJvcGVydHkucGxhY2Vob2xkZXJTZXRfO1xuICAgIH1cbiAgICBpZiAoJ2NvbmZpZ3VyYWJsZScgaW4gb3B0X2Rlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gb3B0X2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlO1xuICAgIH1cbiAgICBpZiAoJ2VudW1lcmFibGUnIGluIG9wdF9kZXNjcmlwdG9yKSB7XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBvcHRfZGVzY3JpcHRvci5lbnVtZXJhYmxlO1xuICAgIH1cbiAgICBpZiAoJ3dyaXRhYmxlJyBpbiBvcHRfZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IG9wdF9kZXNjcmlwdG9yLndyaXRhYmxlO1xuICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICBkZWxldGUgb2JqLnNldHRlcltuYW1lXTtcbiAgICB9XG4gICAgaWYgKCd2YWx1ZScgaW4gb3B0X2Rlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBvcHRfZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgIGRlbGV0ZSBvYmouZ2V0dGVyW25hbWVdO1xuICAgICAgZGVsZXRlIG9iai5zZXR0ZXJbbmFtZV07XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gSW50ZXJwcmV0ZXIuVkFMVUVfSU5fREVTQ1JJUFRPUikge1xuICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICBkZWxldGUgb2JqLnNldHRlcltuYW1lXTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmoucHJvcGVydGllcywgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsICdDYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6ICcgKyBuYW1lKTtcbiAgICB9XG4gICAgLy8gTm93IHRoYXQgdGhlIGRlZmluaXRpb24gaGFzIHN1Y2VlZGVkLCBjbGVhbiB1cCBhbnkgb2Jzb2xldGUgZ2V0L3NldCBmdW5jcy5cbiAgICBpZiAoJ2dldCcgaW4gb3B0X2Rlc2NyaXB0b3IgJiYgIW9wdF9kZXNjcmlwdG9yLmdldCkge1xuICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgfVxuICAgIGlmICgnc2V0JyBpbiBvcHRfZGVzY3JpcHRvciAmJiAhb3B0X2Rlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZWxldGUgb2JqLnNldHRlcltuYW1lXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gU2V0IHRoZSBwcm9wZXJ0eS5cbiAgICBpZiAodmFsdWUgPT09IEludGVycHJldGVyLlZBTFVFX0lOX0RFU0NSSVBUT1IpIHtcbiAgICAgIHRocm93IFJlZmVyZW5jZUVycm9yKCdWYWx1ZSBub3Qgc3BlY2lmaWVkLicpO1xuICAgIH1cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHBhcmVudCAocG9zc2libHkgc2VsZikgd2hlcmUgdGhlIHByb3BlcnR5IGlzIGRlZmluZWQuXG4gICAgdmFyIGRlZk9iaiA9IG9iajtcbiAgICB3aGlsZSAoIShuYW1lIGluIGRlZk9iai5wcm9wZXJ0aWVzKSkge1xuICAgICAgZGVmT2JqID0gdGhpcy5nZXRQcm90b3R5cGUoZGVmT2JqKTtcbiAgICAgIGlmICghZGVmT2JqKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgcHJvcGVydHkuXG4gICAgICAgIGRlZk9iaiA9IG9iajtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWZPYmouc2V0dGVyICYmIGRlZk9iai5zZXR0ZXJbbmFtZV0pIHtcbiAgICAgIHRoaXMuc2V0dGVyU3RlcF8gPSB0cnVlO1xuICAgICAgcmV0dXJuIGRlZk9iai5zZXR0ZXJbbmFtZV07XG4gICAgfVxuICAgIGlmIChkZWZPYmouZ2V0dGVyICYmIGRlZk9iai5nZXR0ZXJbbmFtZV0pIHtcbiAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIFwiQ2Fubm90IHNldCBwcm9wZXJ0eSAnXCIgKyBuYW1lICtcbiAgICAgICAgICAgIFwiJyBvZiBvYmplY3QgJ1wiICsgb2JqICsgXCInIHdoaWNoIG9ubHkgaGFzIGEgZ2V0dGVyXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBzZXR0ZXIsIHNpbXBsZSBhc3NpZ25tZW50LlxuICAgICAgdHJ5IHtcbiAgICAgICAgb2JqLnByb3BlcnRpZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5UWVBFX0VSUk9SLCBcIkNhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IFwiICtcbiAgICAgICAgICAgICAgXCJwcm9wZXJ0eSAnXCIgKyBuYW1lICsgXCInIG9mIG9iamVjdCAnXCIgKyBvYmogKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0eS5wbGFjZWhvbGRlckdldF8gPSBmdW5jdGlvbigpIHt0aHJvdyBFcnJvcignUGxhY2Vob2xkZXIgZ2V0dGVyJyl9O1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNldFByb3BlcnR5LnBsYWNlaG9sZGVyU2V0XyA9IGZ1bmN0aW9uKCkge3Rocm93IEVycm9yKCdQbGFjZWhvbGRlciBzZXR0ZXInKX07XG5cbi8qKlxuICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBhZGRpbmcgYSBuYXRpdmUgZnVuY3Rpb24gYXMgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuICogb250byBhbiBvYmplY3QncyBwcm90b3R5cGUuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IG9iaiBEYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSB3cmFwcGVyIEZ1bmN0aW9uIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlID1cbiAgICBmdW5jdGlvbihvYmosIG5hbWUsIHdyYXBwZXIpIHtcbiAgdGhpcy5zZXRQcm9wZXJ0eShvYmoucHJvcGVydGllc1sncHJvdG90eXBlJ10sIG5hbWUsXG4gICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSxcbiAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG59O1xuXG4vKipcbiAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgYWRkaW5nIGFuIGFzeW5jIGZ1bmN0aW9uIGFzIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcbiAqIG9udG8gYW4gb2JqZWN0J3MgcHJvdG90eXBlLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBvYmogRGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSBuYW1lIE5hbWUgb2YgcHJvcGVydHkuXG4gKiBAcGFyYW0geyFGdW5jdGlvbn0gd3JhcHBlciBGdW5jdGlvbiBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5zZXRBc3luY0Z1bmN0aW9uUHJvdG90eXBlID1cbiAgICBmdW5jdGlvbihvYmosIG5hbWUsIHdyYXBwZXIpIHtcbiAgdGhpcy5zZXRQcm9wZXJ0eShvYmoucHJvcGVydGllc1sncHJvdG90eXBlJ10sIG5hbWUsXG4gICAgICB0aGlzLmNyZWF0ZUFzeW5jRnVuY3Rpb24od3JhcHBlciksXG4gICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHNjb3BlIGZyb20gdGhlIHN0YXRlU3RhY2suXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuU2NvcGV9IEN1cnJlbnQgc2NvcGUuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXRTY29wZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2NvcGUgPSB0aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCAtIDFdLnNjb3BlO1xuICBpZiAoIXNjb3BlKSB7XG4gICAgdGhyb3cgRXJyb3IoJ05vIHNjb3BlIGZvdW5kLicpO1xuICB9XG4gIHJldHVybiBzY29wZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHNjb3BlIGRpY3Rpb25hcnkuXG4gKiBAcGFyYW0geyFPYmplY3R9IG5vZGUgQVNUIG5vZGUgZGVmaW5pbmcgdGhlIHNjb3BlIGNvbnRhaW5lclxuICogICAgIChlLmcuIGEgZnVuY3Rpb24pLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5TY29wZX0gcGFyZW50U2NvcGUgU2NvcGUgdG8gbGluayB0by5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5TY29wZX0gTmV3IHNjb3BlLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlU2NvcGUgPSBmdW5jdGlvbihub2RlLCBwYXJlbnRTY29wZSkge1xuICAvLyBEZXRlcm1pbmUgaWYgdGhpcyBzY29wZSBzdGFydHMgd2l0aCBgdXNlIHN0cmljdGAuXG4gIHZhciBzdHJpY3QgPSBmYWxzZTtcbiAgaWYgKHBhcmVudFNjb3BlICYmIHBhcmVudFNjb3BlLnN0cmljdCkge1xuICAgIHN0cmljdCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGZpcnN0Tm9kZSA9IG5vZGVbJ2JvZHknXSAmJiBub2RlWydib2R5J11bMF07XG4gICAgaWYgKGZpcnN0Tm9kZSAmJiBmaXJzdE5vZGUuZXhwcmVzc2lvbiAmJlxuICAgICAgICBmaXJzdE5vZGUuZXhwcmVzc2lvblsndHlwZSddID09PSAnTGl0ZXJhbCcgJiZcbiAgICAgICAgZmlyc3ROb2RlLmV4cHJlc3Npb24udmFsdWUgPT09ICd1c2Ugc3RyaWN0Jykge1xuICAgICAgc3RyaWN0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgdmFyIG9iamVjdCA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8obnVsbCk7XG4gIHZhciBzY29wZSA9IG5ldyBJbnRlcnByZXRlci5TY29wZShwYXJlbnRTY29wZSwgc3RyaWN0LCBvYmplY3QpO1xuICBpZiAoIXBhcmVudFNjb3BlKSB7XG4gICAgdGhpcy5pbml0R2xvYmFsKHNjb3BlLm9iamVjdCk7XG4gIH1cbiAgdGhpcy5wb3B1bGF0ZVNjb3BlXyhub2RlLCBzY29wZSk7XG4gIHJldHVybiBzY29wZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHNwZWNpYWwgc2NvcGUgZGljdGlvbmFyeS4gU2ltaWxhciB0byBjcmVhdGVTY29wZSgpLCBidXRcbiAqIGRvZXNuJ3QgYXNzdW1lIHRoYXQgdGhlIHNjb3BlIGlzIGZvciBhIGZ1bmN0aW9uIGJvZHkuXG4gKiBUaGlzIGlzIHVzZWQgZm9yICdjYXRjaCcgY2xhdXNlcyBhbmQgJ3dpdGgnIHN0YXRlbWVudHMuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5TY29wZX0gcGFyZW50U2NvcGUgU2NvcGUgdG8gbGluayB0by5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuT2JqZWN0PX0gb3B0X29iamVjdCBPcHRpb25hbCBvYmplY3QgdG8gdHJhbnNmb3JtIGludG9cbiAqICAgICBzY29wZS5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5TY29wZX0gTmV3IHNjb3BlLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlU3BlY2lhbFNjb3BlID0gZnVuY3Rpb24ocGFyZW50U2NvcGUsIG9wdF9vYmplY3QpIHtcbiAgaWYgKCFwYXJlbnRTY29wZSkge1xuICAgIHRocm93IEVycm9yKCdwYXJlbnRTY29wZSByZXF1aXJlZCcpO1xuICB9XG4gIHZhciBvYmplY3QgPSBvcHRfb2JqZWN0IHx8IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8obnVsbCk7XG4gIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU2NvcGUocGFyZW50U2NvcGUsIHBhcmVudFNjb3BlLnN0cmljdCwgb2JqZWN0KTtcbn07XG5cbi8qKlxuICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSB0aGUgc2NvcGUgY2hhaW4uXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHZhcmlhYmxlLlxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuVmFsdWV9IEFueSB2YWx1ZS5cbiAqICAgTWF5IGJlIGZsYWdnZWQgYXMgYmVpbmcgYSBnZXR0ZXIgYW5kIHRodXMgbmVlZGluZyBpbW1lZGlhdGUgZXhlY3V0aW9uXG4gKiAgIChyYXRoZXIgdGhhbiBiZWluZyB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5KS5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmdldFZhbHVlRnJvbVNjb3BlID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgc2NvcGUgPSB0aGlzLmdldFNjb3BlKCk7XG4gIHdoaWxlIChzY29wZSAmJiBzY29wZSAhPT0gdGhpcy5nbG9iYWxTY29wZSkge1xuICAgIGlmIChuYW1lIGluIHNjb3BlLm9iamVjdC5wcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm4gc2NvcGUub2JqZWN0LnByb3BlcnRpZXNbbmFtZV07XG4gICAgfVxuICAgIHNjb3BlID0gc2NvcGUucGFyZW50U2NvcGU7XG4gIH1cbiAgLy8gVGhlIHJvb3Qgc2NvcGUgaXMgYWxzbyBhbiBvYmplY3Qgd2hpY2ggaGFzIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGFuZFxuICAvLyBjb3VsZCBhbHNvIGhhdmUgZ2V0dGVycy5cbiAgaWYgKHNjb3BlID09PSB0aGlzLmdsb2JhbFNjb3BlICYmIHRoaXMuaGFzUHJvcGVydHkoc2NvcGUub2JqZWN0LCBuYW1lKSkge1xuICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgbmFtZSk7XG4gIH1cbiAgLy8gVHlwZW9mIG9wZXJhdG9yIGlzIHVuaXF1ZTogaXQgY2FuIHNhZmVseSBsb29rIGF0IG5vbi1kZWZpbmVkIHZhcmlhYmxlcy5cbiAgdmFyIHByZXZOb2RlID0gdGhpcy5zdGF0ZVN0YWNrW3RoaXMuc3RhdGVTdGFjay5sZW5ndGggLSAxXS5ub2RlO1xuICBpZiAocHJldk5vZGVbJ3R5cGUnXSA9PT0gJ1VuYXJ5RXhwcmVzc2lvbicgJiZcbiAgICAgIHByZXZOb2RlWydvcGVyYXRvciddID09PSAndHlwZW9mJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlJFRkVSRU5DRV9FUlJPUiwgbmFtZSArICcgaXMgbm90IGRlZmluZWQnKTtcbn07XG5cbi8qKlxuICogU2V0cyBhIHZhbHVlIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB2YXJpYWJsZS5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHZhbHVlIFZhbHVlLlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdHx1bmRlZmluZWR9IFJldHVybnMgYSBzZXR0ZXIgZnVuY3Rpb24gaWYgb25lXG4gKiAgICAgbmVlZHMgdG8gYmUgY2FsbGVkLCBvdGhlcndpc2UgdW5kZWZpbmVkLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuc2V0VmFsdWVUb1Njb3BlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIHNjb3BlID0gdGhpcy5nZXRTY29wZSgpO1xuICB2YXIgc3RyaWN0ID0gc2NvcGUuc3RyaWN0O1xuICB3aGlsZSAoc2NvcGUgJiYgc2NvcGUgIT09IHRoaXMuZ2xvYmFsU2NvcGUpIHtcbiAgICBpZiAobmFtZSBpbiBzY29wZS5vYmplY3QucHJvcGVydGllcykge1xuICAgICAgc2NvcGUub2JqZWN0LnByb3BlcnRpZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHNjb3BlID0gc2NvcGUucGFyZW50U2NvcGU7XG4gIH1cbiAgLy8gVGhlIHJvb3Qgc2NvcGUgaXMgYWxzbyBhbiBvYmplY3Qgd2hpY2ggaGFzIHJlYWRvbmx5IHByb3BlcnRpZXMgYW5kXG4gIC8vIGNvdWxkIGFsc28gaGF2ZSBzZXR0ZXJzLlxuICBpZiAoc2NvcGUgPT09IHRoaXMuZ2xvYmFsU2NvcGUgJiZcbiAgICAgICghc3RyaWN0IHx8IHRoaXMuaGFzUHJvcGVydHkoc2NvcGUub2JqZWN0LCBuYW1lKSkpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eShzY29wZS5vYmplY3QsIG5hbWUsIHZhbHVlKTtcbiAgfVxuICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuUkVGRVJFTkNFX0VSUk9SLCBuYW1lICsgJyBpcyBub3QgZGVmaW5lZCcpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc2NvcGUgZm9yIHRoZSBnaXZlbiBub2RlLlxuICogQHBhcmFtIHshT2JqZWN0fSBub2RlIEFTVCBub2RlIChwcm9ncmFtIG9yIGZ1bmN0aW9uKS5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLlNjb3BlfSBzY29wZSBTY29wZSBkaWN0aW9uYXJ5IHRvIHBvcHVsYXRlLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBvcHVsYXRlU2NvcGVfID0gZnVuY3Rpb24obm9kZSwgc2NvcGUpIHtcbiAgaWYgKG5vZGVbJ3R5cGUnXSA9PT0gJ1ZhcmlhYmxlRGVjbGFyYXRpb24nKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlWydkZWNsYXJhdGlvbnMnXS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zZXRQcm9wZXJ0eShzY29wZS5vYmplY3QsIG5vZGVbJ2RlY2xhcmF0aW9ucyddW2ldWydpZCddWyduYW1lJ10sXG4gICAgICAgICAgdW5kZWZpbmVkLCBJbnRlcnByZXRlci5WQVJJQUJMRV9ERVNDUklQVE9SKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobm9kZVsndHlwZSddID09PSAnRnVuY3Rpb25EZWNsYXJhdGlvbicpIHtcbiAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgbm9kZVsnaWQnXVsnbmFtZSddLFxuICAgICAgICB0aGlzLmNyZWF0ZUZ1bmN0aW9uKG5vZGUsIHNjb3BlKSwgSW50ZXJwcmV0ZXIuVkFSSUFCTEVfREVTQ1JJUFRPUik7XG4gICAgcmV0dXJuOyAgLy8gRG8gbm90IHJlY3Vyc2UgaW50byBmdW5jdGlvbi5cbiAgfSBlbHNlIGlmIChub2RlWyd0eXBlJ10gPT09ICdGdW5jdGlvbkV4cHJlc3Npb24nKSB7XG4gICAgcmV0dXJuOyAgLy8gRG8gbm90IHJlY3Vyc2UgaW50byBmdW5jdGlvbi5cbiAgfSBlbHNlIGlmIChub2RlWyd0eXBlJ10gPT09ICdFeHByZXNzaW9uU3RhdGVtZW50Jykge1xuICAgIHJldHVybjsgIC8vIEV4cHJlc3Npb25zIGNhbid0IGNvbnRhaW4gdmFyaWFibGUvZnVuY3Rpb24gZGVjbGFyYXRpb25zLlxuICB9XG4gIHZhciBub2RlQ2xhc3MgPSBub2RlWydjb25zdHJ1Y3RvciddO1xuICBmb3IgKHZhciBuYW1lIGluIG5vZGUpIHtcbiAgICB2YXIgcHJvcCA9IG5vZGVbbmFtZV07XG4gICAgaWYgKHByb3AgJiYgdHlwZW9mIHByb3AgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocHJvcFtpXSAmJiBwcm9wW2ldLmNvbnN0cnVjdG9yID09PSBub2RlQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVTY29wZV8ocHJvcFtpXSwgc2NvcGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByb3AuY29uc3RydWN0b3IgPT09IG5vZGVDbGFzcykge1xuICAgICAgICAgIHRoaXMucG9wdWxhdGVTY29wZV8ocHJvcCwgc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIElzIHRoZSBjdXJyZW50IHN0YXRlIGRpcmVjdGx5IGJlaW5nIGNhbGxlZCB3aXRoIGFzIGEgY29uc3RydWN0aW9uIHdpdGggJ25ldycuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmICduZXcgZm9vKCknLCBmYWxzZSBpZiAnZm9vKCknLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY2FsbGVkV2l0aE5ldyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zdGF0ZVN0YWNrW3RoaXMuc3RhdGVTdGFjay5sZW5ndGggLSAxXS5pc0NvbnN0cnVjdG9yO1xufTtcblxuLyoqXG4gKiBHZXRzIGEgdmFsdWUgZnJvbSB0aGUgc2NvcGUgY2hhaW4gb3IgZnJvbSBhbiBvYmplY3QgcHJvcGVydHkuXG4gKiBAcGFyYW0geyFBcnJheX0gcmVmIE5hbWUgb2YgdmFyaWFibGUgb3Igb2JqZWN0L3Byb3BuYW1lIHR1cGxlLlxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuVmFsdWV9IEFueSB2YWx1ZS5cbiAqICAgTWF5IGJlIGZsYWdnZWQgYXMgYmVpbmcgYSBnZXR0ZXIgYW5kIHRodXMgbmVlZGluZyBpbW1lZGlhdGUgZXhlY3V0aW9uXG4gKiAgIChyYXRoZXIgdGhhbiBiZWluZyB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5KS5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24ocmVmKSB7XG4gIGlmIChyZWZbMF0gPT09IEludGVycHJldGVyLlNDT1BFX1JFRkVSRU5DRSkge1xuICAgIC8vIEEgbnVsbC92YXJuYW1lIHZhcmlhYmxlIGxvb2t1cC5cbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZUZyb21TY29wZShyZWZbMV0pO1xuICB9IGVsc2Uge1xuICAgIC8vIEFuIG9iai9wcm9wIGNvbXBvbmVudHMgdHVwbGUgKGZvby5iYXIpLlxuICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KHJlZlswXSwgcmVmWzFdKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIGEgdmFsdWUgdG8gdGhlIHNjb3BlIGNoYWluIG9yIHRvIGFuIG9iamVjdCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7IUFycmF5fSByZWYgTmFtZSBvZiB2YXJpYWJsZSBvciBvYmplY3QvcHJvcG5hbWUgdHVwbGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSB2YWx1ZSBWYWx1ZS5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R8dW5kZWZpbmVkfSBSZXR1cm5zIGEgc2V0dGVyIGZ1bmN0aW9uIGlmIG9uZVxuICogICAgIG5lZWRzIHRvIGJlIGNhbGxlZCwgb3RoZXJ3aXNlIHVuZGVmaW5lZC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24ocmVmLCB2YWx1ZSkge1xuICBpZiAocmVmWzBdID09PSBJbnRlcnByZXRlci5TQ09QRV9SRUZFUkVOQ0UpIHtcbiAgICAvLyBBIG51bGwvdmFybmFtZSB2YXJpYWJsZSBsb29rdXAuXG4gICAgcmV0dXJuIHRoaXMuc2V0VmFsdWVUb1Njb3BlKHJlZlsxXSwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIC8vIEFuIG9iai9wcm9wIGNvbXBvbmVudHMgdHVwbGUgKGZvby5iYXIpLlxuICAgIHJldHVybiB0aGlzLnNldFByb3BlcnR5KHJlZlswXSwgcmVmWzFdLCB2YWx1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogVGhyb3cgYW4gZXhjZXB0aW9uIGluIHRoZSBpbnRlcnByZXRlciB0aGF0IGNhbiBiZSBoYW5kbGVkIGJ5IGFuXG4gKiBpbnRlcnByZXRlciB0cnkvY2F0Y2ggc3RhdGVtZW50LiAgSWYgdW5oYW5kbGVkLCBhIHJlYWwgZXhjZXB0aW9uIHdpbGxcbiAqIGJlIHRocm93bi4gIENhbiBiZSBjYWxsZWQgd2l0aCBlaXRoZXIgYW4gZXJyb3IgY2xhc3MgYW5kIGEgbWVzc2FnZSwgb3JcbiAqIHdpdGggYW4gYWN0dWFsIG9iamVjdCB0byBiZSB0aHJvd24uXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R8SW50ZXJwcmV0ZXIuVmFsdWV9IGVycm9yQ2xhc3MgVHlwZSBvZiBlcnJvclxuICogICAoaWYgbWVzc2FnZSBpcyBwcm92aWRlZCkgb3IgdGhlIHZhbHVlIHRvIHRocm93IChpZiBubyBtZXNzYWdlKS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgTWVzc2FnZSBiZWluZyB0aHJvd24uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS50aHJvd0V4Y2VwdGlvbiA9IGZ1bmN0aW9uKGVycm9yQ2xhc3MsIG9wdF9tZXNzYWdlKSB7XG4gIGlmIChvcHRfbWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGVycm9yID0gZXJyb3JDbGFzczsgIC8vIFRoaXMgaXMgYSB2YWx1ZSB0byB0aHJvdywgbm90IGFuIGVycm9yIGNsYXNzLlxuICB9IGVsc2Uge1xuICAgIHZhciBlcnJvciA9IHRoaXMuY3JlYXRlT2JqZWN0KGVycm9yQ2xhc3MpO1xuICAgIHRoaXMucG9wdWxhdGVFcnJvcihlcnJvciwgb3B0X21lc3NhZ2UpO1xuICB9XG4gIHRoaXMudW53aW5kKEludGVycHJldGVyLkNvbXBsZXRpb24uVEhST1csIGVycm9yLCB1bmRlZmluZWQpO1xuICAvLyBBYm9ydCBhbnl0aGluZyByZWxhdGVkIHRvIHRoZSBjdXJyZW50IHN0ZXAuXG4gIHRocm93IEludGVycHJldGVyLlNURVBfRVJST1I7XG59O1xuXG4vKipcbiAqIFVud2luZCB0aGUgc3RhY2sgdG8gdGhlIGlubmVybW9zdCByZWxldmFudCBlbmNsb3NpbmcgVHJ5U3RhdGVtZW50LFxuICogRm9yL0ZvckluL1doaWxlU3RhdGVtZW50IG9yIENhbGwvTmV3RXhwcmVzc2lvbi4gIElmIHRoaXMgcmVzdWx0cyBpblxuICogdGhlIHN0YWNrIGJlaW5nIGNvbXBsZXRlbHkgdW53b3VuZCB0aGUgdGhyZWFkIHdpbGwgYmUgdGVybWluYXRlZFxuICogYW5kIHRoZSBhcHByb3ByaWF0ZSBlcnJvciBiZWluZyB0aHJvd24uXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLkNvbXBsZXRpb259IHR5cGUgQ29tcGxldGlvbiB0eXBlLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUgY29tcHV0ZWQsIHJldHVybmVkIG9yIHRocm93bi5cbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gbGFiZWwgVGFyZ2V0IGxhYmVsIGZvciBicmVhayBvciByZXR1cm4uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS51bndpbmQgPSBmdW5jdGlvbih0eXBlLCB2YWx1ZSwgbGFiZWwpIHtcbiAgaWYgKHR5cGUgPT09IEludGVycHJldGVyLkNvbXBsZXRpb24uTk9STUFMKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTaG91bGQgbm90IHVud2luZCBmb3IgTk9STUFMIGNvbXBsZXRpb25zJyk7XG4gIH1cblxuICBsb29wOiBmb3IgKHZhciBzdGFjayA9IHRoaXMuc3RhdGVTdGFjazsgc3RhY2subGVuZ3RoID4gMDsgc3RhY2sucG9wKCkpIHtcbiAgICB2YXIgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKHN0YXRlLm5vZGVbJ3R5cGUnXSkge1xuICAgICAgY2FzZSAnVHJ5U3RhdGVtZW50JzpcbiAgICAgICAgc3RhdGUuY3YgPSB7dHlwZTogdHlwZSwgdmFsdWU6IHZhbHVlLCBsYWJlbDogbGFiZWx9O1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlICdDYWxsRXhwcmVzc2lvbic6XG4gICAgICBjYXNlICdOZXdFeHByZXNzaW9uJzpcbiAgICAgICAgaWYgKHR5cGUgPT09IEludGVycHJldGVyLkNvbXBsZXRpb24uUkVUVVJOKSB7XG4gICAgICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gSW50ZXJwcmV0ZXIuQ29tcGxldGlvbi5USFJPVykge1xuICAgICAgICAgIHRocm93IEVycm9yKCdVbnN5bmF0Y3RpYyBicmVhay9jb250aW51ZSBub3QgcmVqZWN0ZWQgYnkgQWNvcm4nKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1Byb2dyYW0nOlxuICAgICAgICAvLyBEb24ndCBwb3AgdGhlIHN0YXRlU3RhY2suXG4gICAgICAgIC8vIExlYXZlIHRoZSByb290IHNjb3BlIG9uIHRoZSB0cmVlIGluIGNhc2UgdGhlIHByb2dyYW0gaXMgYXBwZW5kZWQgdG8uXG4gICAgICAgIHN0YXRlLmRvbmUgPSB0cnVlO1xuICAgICAgICBicmVhayBsb29wO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gSW50ZXJwcmV0ZXIuQ29tcGxldGlvbi5CUkVBSykge1xuICAgICAgaWYgKGxhYmVsID8gKHN0YXRlLmxhYmVscyAmJiBzdGF0ZS5sYWJlbHMuaW5kZXhPZihsYWJlbCkgIT09IC0xKSA6XG4gICAgICAgICAgKHN0YXRlLmlzTG9vcCB8fCBzdGF0ZS5pc1N3aXRjaCkpIHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEludGVycHJldGVyLkNvbXBsZXRpb24uQ09OVElOVUUpIHtcbiAgICAgIGlmIChsYWJlbCA/IChzdGF0ZS5sYWJlbHMgJiYgc3RhdGUubGFiZWxzLmluZGV4T2YobGFiZWwpICE9PSAtMSkgOlxuICAgICAgICAgIHN0YXRlLmlzTG9vcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVW5oYW5kbGVkIGNvbXBsZXRpb24uICBUaHJvdyBhIHJlYWwgZXJyb3IuXG4gIHZhciByZWFsRXJyb3I7XG4gIGlmICh0aGlzLmlzYSh2YWx1ZSwgdGhpcy5FUlJPUikpIHtcbiAgICB2YXIgZXJyb3JUYWJsZSA9IHtcbiAgICAgICdFdmFsRXJyb3InOiBFdmFsRXJyb3IsXG4gICAgICAnUmFuZ2VFcnJvcic6IFJhbmdlRXJyb3IsXG4gICAgICAnUmVmZXJlbmNlRXJyb3InOiBSZWZlcmVuY2VFcnJvcixcbiAgICAgICdTeW50YXhFcnJvcic6IFN5bnRheEVycm9yLFxuICAgICAgJ1R5cGVFcnJvcic6IFR5cGVFcnJvcixcbiAgICAgICdVUklFcnJvcic6IFVSSUVycm9yXG4gICAgfTtcbiAgICB2YXIgbmFtZSA9IFN0cmluZyh0aGlzLmdldFByb3BlcnR5KHZhbHVlLCAnbmFtZScpKTtcbiAgICB2YXIgbWVzc2FnZSA9IHRoaXMuZ2V0UHJvcGVydHkodmFsdWUsICdtZXNzYWdlJykudmFsdWVPZigpO1xuICAgIHZhciBlcnJvckNvbnN0cnVjdG9yID0gZXJyb3JUYWJsZVtuYW1lXSB8fCBFcnJvcjtcbiAgICByZWFsRXJyb3IgPSBlcnJvckNvbnN0cnVjdG9yKG1lc3NhZ2UpO1xuICAgIHJlYWxFcnJvci5zdGFjayA9IFN0cmluZyh0aGlzLmdldFByb3BlcnR5KHZhbHVlLCAnc3RhY2snKSk7XG4gIH0gZWxzZSB7XG4gICAgcmVhbEVycm9yID0gU3RyaW5nKHZhbHVlKTtcbiAgfVxuICB0aHJvdyByZWFsRXJyb3I7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGNhbGwgdG8gYSBnZXR0ZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGZ1bmMgRnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdHwhQXJyYXl9IGxlZnRcbiAqICAgICBOYW1lIG9mIHZhcmlhYmxlIG9yIG9iamVjdC9wcm9wbmFtZSB0dXBsZS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVHZXR0ZXJfID0gZnVuY3Rpb24oZnVuYywgbGVmdCkge1xuICBpZiAoIXRoaXMuZ2V0dGVyU3RlcF8pIHtcbiAgICB0aHJvdyBFcnJvcignVW5leHBlY3RlZCBjYWxsIHRvIGNyZWF0ZUdldHRlcicpO1xuICB9XG4gIC8vIENsZWFyIHRoZSBnZXR0ZXIgZmxhZy5cbiAgdGhpcy5nZXR0ZXJTdGVwXyA9IGZhbHNlO1xuICAvLyBOb3JtYWxseSBgdGhpc2Agd2lsbCBiZSBzcGVjaWZpZWQgYXMgdGhlIG9iamVjdCBjb21wb25lbnQgKG8ueCkuXG4gIC8vIFNvbWV0aW1lcyBgdGhpc2AgaXMgZXhwbGljaXRseSBwcm92aWRlZCAobykuXG4gIHZhciBmdW5jVGhpcyA9IEFycmF5LmlzQXJyYXkobGVmdCkgPyBsZWZ0WzBdIDogbGVmdDtcbiAgdmFyIG5vZGUgPSBuZXcgdGhpcy5ub2RlQ29uc3RydWN0b3Ioe29wdGlvbnM6e319KTtcbiAgbm9kZVsndHlwZSddID0gJ0NhbGxFeHByZXNzaW9uJztcbiAgdmFyIHN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGUsXG4gICAgICB0aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCAtIDFdLnNjb3BlKTtcbiAgc3RhdGUuZG9uZUNhbGxlZV8gPSB0cnVlO1xuICBzdGF0ZS5mdW5jVGhpc18gPSBmdW5jVGhpcztcbiAgc3RhdGUuZnVuY18gPSBmdW5jO1xuICBzdGF0ZS5kb25lQXJnc18gPSB0cnVlO1xuICBzdGF0ZS5hcmd1bWVudHNfID0gW107XG4gIHJldHVybiBzdGF0ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FsbCB0byBhIHNldHRlciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZnVuYyBGdW5jdGlvbiB0byBleGVjdXRlLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fCFBcnJheX0gbGVmdFxuICogICAgIE5hbWUgb2YgdmFyaWFibGUgb3Igb2JqZWN0L3Byb3BuYW1lIHR1cGxlLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUgdG8gc2V0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZVNldHRlcl8gPSBmdW5jdGlvbihmdW5jLCBsZWZ0LCB2YWx1ZSkge1xuICBpZiAoIXRoaXMuc2V0dGVyU3RlcF8pIHtcbiAgICB0aHJvdyBFcnJvcignVW5leHBlY3RlZCBjYWxsIHRvIGNyZWF0ZVNldHRlcicpO1xuICB9XG4gIC8vIENsZWFyIHRoZSBzZXR0ZXIgZmxhZy5cbiAgdGhpcy5zZXR0ZXJTdGVwXyA9IGZhbHNlO1xuICAvLyBOb3JtYWxseSBgdGhpc2Agd2lsbCBiZSBzcGVjaWZpZWQgYXMgdGhlIG9iamVjdCBjb21wb25lbnQgKG8ueCkuXG4gIC8vIFNvbWV0aW1lcyBgdGhpc2AgaXMgaW1wbGljaXRseSB0aGUgZ2xvYmFsIG9iamVjdCAoeCkuXG4gIHZhciBmdW5jVGhpcyA9IEFycmF5LmlzQXJyYXkobGVmdCkgPyBsZWZ0WzBdIDogdGhpcy5nbG9iYWxPYmplY3Q7XG4gIHZhciBub2RlID0gbmV3IHRoaXMubm9kZUNvbnN0cnVjdG9yKHtvcHRpb25zOnt9fSk7XG4gIG5vZGVbJ3R5cGUnXSA9ICdDYWxsRXhwcmVzc2lvbic7XG4gIHZhciBzdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlLFxuICAgICAgdGhpcy5zdGF0ZVN0YWNrW3RoaXMuc3RhdGVTdGFjay5sZW5ndGggLSAxXS5zY29wZSk7XG4gIHN0YXRlLmRvbmVDYWxsZWVfID0gdHJ1ZTtcbiAgc3RhdGUuZnVuY1RoaXNfID0gZnVuY1RoaXM7XG4gIHN0YXRlLmZ1bmNfID0gZnVuYztcbiAgc3RhdGUuZG9uZUFyZ3NfID0gdHJ1ZTtcbiAgc3RhdGUuYXJndW1lbnRzXyA9IFt2YWx1ZV07XG4gIHJldHVybiBzdGF0ZTtcbn07XG5cbi8qKlxuICogSW4gbm9uLXN0cmljdCBtb2RlIGB0aGlzYCBtdXN0IGJlIGFuIG9iamVjdC5cbiAqIE11c3Qgbm90IGJlIGNhbGxlZCBpbiBzdHJpY3QgbW9kZS5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHZhbHVlIFByb3Bvc2VkIHZhbHVlIGZvciBgdGhpc2AuXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBGaW5hbCB2YWx1ZSBmb3IgYHRoaXNgLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmJveFRoaXNfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAvLyBgVW5kZWZpbmVkYCBhbmQgYG51bGxgIGFyZSBjaGFuZ2VkIHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJldHVybiB0aGlzLmdsb2JhbE9iamVjdDtcbiAgfVxuICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICAvLyBQcmltaXRpdmVzIG11c3QgYmUgYm94ZWQuXG4gICAgdmFyIGJveCA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8odGhpcy5nZXRQcm90b3R5cGUodmFsdWUpKTtcbiAgICBib3guZGF0YSA9IHZhbHVlO1xuICAgIHJldHVybiBib3g7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBUeXBlZGVmIGZvciBKUyB2YWx1ZXMuXG4gKiBAdHlwZWRlZiB7IUludGVycHJldGVyLk9iamVjdHxib29sZWFufG51bWJlcnxzdHJpbmd8dW5kZWZpbmVkfG51bGx9XG4gKi9cbkludGVycHJldGVyLlZhbHVlO1xuXG4vKipcbiAqIENsYXNzIGZvciBhIHN0YXRlLlxuICogQHBhcmFtIHshT2JqZWN0fSBub2RlIEFTVCBub2RlIGZvciB0aGUgc3RhdGUuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5TY29wZX0gc2NvcGUgU2NvcGUgb2JqZWN0IGZvciB0aGUgc3RhdGUuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuSW50ZXJwcmV0ZXIuU3RhdGUgPSBmdW5jdGlvbihub2RlLCBzY29wZSkge1xuICB0aGlzLm5vZGUgPSBub2RlO1xuICB0aGlzLnNjb3BlID0gc2NvcGU7XG59O1xuXG4vKipcbiAqIENsYXNzIGZvciBhIHNjb3BlLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5TY29wZX0gcGFyZW50U2NvcGUgUGFyZW50IHNjb3BlLlxuICogQHBhcmFtIHtib29sZWFufSBzdHJpY3QgVHJ1ZSBpZiBcInVzZSBzdHJpY3RcIi5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gb2JqZWN0IE9iamVjdCBjb250YWluaW5nIHNjb3BlJ3MgdmFyaWFibGVzLlxuICogQHN0cnVjdFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbkludGVycHJldGVyLlNjb3BlID0gZnVuY3Rpb24ocGFyZW50U2NvcGUsIHN0cmljdCwgb2JqZWN0KSB7XG4gIHRoaXMucGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZTtcbiAgdGhpcy5zdHJpY3QgPSBzdHJpY3Q7XG4gIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xufTtcblxuLyoqXG4gKiBDbGFzcyBmb3IgYW4gb2JqZWN0LlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5PYmplY3R9IHByb3RvIFByb3RvdHlwZSBvYmplY3Qgb3IgbnVsbC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5JbnRlcnByZXRlci5PYmplY3QgPSBmdW5jdGlvbihwcm90bykge1xuICB0aGlzLmdldHRlciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuc2V0dGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5wcm9wZXJ0aWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5wcm90byA9IHByb3RvO1xufTtcblxuLyoqIEB0eXBlIHtJbnRlcnByZXRlci5PYmplY3R9ICovXG5JbnRlcnByZXRlci5PYmplY3QucHJvdG90eXBlLnByb3RvID0gbnVsbDtcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5JbnRlcnByZXRlci5PYmplY3QucHJvdG90eXBlLmNsYXNzID0gJ09iamVjdCc7XG5cbi8qKiBAdHlwZSB7RGF0ZXxSZWdFeHB8Ym9vbGVhbnxudW1iZXJ8c3RyaW5nfG51bGx9ICovXG5JbnRlcnByZXRlci5PYmplY3QucHJvdG90eXBlLmRhdGEgPSBudWxsO1xuXG4vKipcbiAqIENvbnZlcnQgdGhpcyBvYmplY3QgaW50byBhIHN0cmluZy5cbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIHZhbHVlLlxuICogQG92ZXJyaWRlXG4gKi9cbkludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICAvLyBQcmltaXRpdmUgdmFsdWUuXG4gICAgcmV0dXJuIFN0cmluZyh0aGlzKTtcbiAgfVxuXG4gIGlmICh0aGlzLmNsYXNzID09PSAnQXJyYXknKSB7XG4gICAgLy8gQXJyYXkgY29udGVudHMgbXVzdCBub3QgaGF2ZSBjeWNsZXMuXG4gICAgdmFyIGN5Y2xlcyA9IEludGVycHJldGVyLnRvU3RyaW5nQ3ljbGVzXztcbiAgICBjeWNsZXMucHVzaCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgdmFyIHN0cnMgPSBbXTtcbiAgICAgIC8vIFRydW5jYXRlIHZlcnkgbG9uZyBzdHJpbmdzLiAgVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgc3BlYyxcbiAgICAgIC8vIGJ1dCBpdCBwcmV2ZW50cyBoYW5naW5nIHRoZSBpbnRlcnByZXRlciBmb3IgZ2lnYW50aWMgYXJyYXlzLlxuICAgICAgdmFyIG1heExlbmd0aCA9IHRoaXMucHJvcGVydGllcy5sZW5ndGg7XG4gICAgICB2YXIgdHJ1bmNhdGVkID0gZmFsc2U7XG4gICAgICBpZiAobWF4TGVuZ3RoID4gMTAyNCkge1xuICAgICAgICBtYXhMZW5ndGggPSAxMDAwO1xuICAgICAgICB0cnVuY2F0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhMZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BlcnRpZXNbaV07XG4gICAgICAgIHN0cnNbaV0gPSAoKHZhbHVlIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSAmJlxuICAgICAgICAgICAgY3ljbGVzLmluZGV4T2YodmFsdWUpICE9PSAtMSkgPyAnLi4uJyA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHRydW5jYXRlZCkge1xuICAgICAgICBzdHJzLnB1c2goJy4uLicpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBjeWNsZXMucG9wKCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJzLmpvaW4oJywnKTtcbiAgfVxuXG4gIGlmICh0aGlzLmNsYXNzID09PSAnRXJyb3InKSB7XG4gICAgLy8gRXJyb3IgbmFtZSBhbmQgbWVzc2FnZSBwcm9wZXJ0aWVzIG11c3Qgbm90IGhhdmUgY3ljbGVzLlxuICAgIHZhciBjeWNsZXMgPSBJbnRlcnByZXRlci50b1N0cmluZ0N5Y2xlc187XG4gICAgaWYgKGN5Y2xlcy5pbmRleE9mKHRoaXMpICE9PSAtMSkge1xuICAgICAgcmV0dXJuICdbb2JqZWN0IEVycm9yXSc7XG4gICAgfVxuICAgIHZhciBuYW1lLCBtZXNzYWdlO1xuICAgIC8vIEJ1ZzogRG9lcyBub3Qgc3VwcG9ydCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGZvciBuYW1lIG9yIG1lc3NhZ2UuXG4gICAgdmFyIG9iaiA9IHRoaXM7XG4gICAgZG8ge1xuICAgICAgaWYgKCduYW1lJyBpbiBvYmoucHJvcGVydGllcykge1xuICAgICAgICBuYW1lID0gb2JqLnByb3BlcnRpZXNbJ25hbWUnXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKG9iaiA9IG9iai5wcm90bykpO1xuICAgIHZhciBvYmogPSB0aGlzO1xuICAgIGRvIHtcbiAgICAgIGlmICgnbWVzc2FnZScgaW4gb2JqLnByb3BlcnRpZXMpIHtcbiAgICAgICAgbWVzc2FnZSA9IG9iai5wcm9wZXJ0aWVzWydtZXNzYWdlJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChvYmogPSBvYmoucHJvdG8pKTtcbiAgICBjeWNsZXMucHVzaCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgbmFtZSA9IG5hbWUgJiYgU3RyaW5nKG5hbWUpO1xuICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgJiYgU3RyaW5nKG1lc3NhZ2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjeWNsZXMucG9wKCk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlID8gbmFtZSArICc6ICcgKyBtZXNzYWdlIDogU3RyaW5nKG5hbWUpO1xuICB9XG5cbiAgaWYgKHRoaXMuZGF0YSAhPT0gbnVsbCkge1xuICAgIC8vIFJlZ0V4cCwgRGF0ZSwgYW5kIGJveGVkIHByaW1pdGl2ZXMuXG4gICAgcmV0dXJuIFN0cmluZyh0aGlzLmRhdGEpO1xuICB9XG5cbiAgcmV0dXJuICdbb2JqZWN0ICcgKyB0aGlzLmNsYXNzICsgJ10nO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG9iamVjdCdzIHZhbHVlLlxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuVmFsdWV9IFZhbHVlLlxuICogQG92ZXJyaWRlXG4gKi9cbkludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5kYXRhID09PSB1bmRlZmluZWQgfHwgdGhpcy5kYXRhID09PSBudWxsIHx8XG4gICAgICB0aGlzLmRhdGEgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gdGhpczsgIC8vIEFuIE9iamVjdCwgUmVnRXhwLCBvciBwcmltaXRpdmUuXG4gIH1cbiAgaWYgKHRoaXMuZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLnZhbHVlT2YoKTsgIC8vIE1pbGxpc2Vjb25kcy5cbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHsoYm9vbGVhbnxudW1iZXJ8c3RyaW5nKX0gKi8gKHRoaXMuZGF0YSk7ICAvLyBCb3hlZCBwcmltaXRpdmUuXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgdG8gaGFuZGxlIGVhY2ggbm9kZSB0eXBlLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBBcnJheUV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICB2YXIgZWxlbWVudHMgPSBub2RlWydlbGVtZW50cyddO1xuICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gIGlmICghc3RhdGUuYXJyYXlfKSB7XG4gICAgc3RhdGUuYXJyYXlfID0gdGhpcy5jcmVhdGVBcnJheSgpO1xuICAgIHN0YXRlLmFycmF5Xy5wcm9wZXJ0aWVzLmxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNldFByb3BlcnR5KHN0YXRlLmFycmF5Xywgbiwgc3RhdGUudmFsdWUpO1xuICAgIG4rKztcbiAgfVxuICB3aGlsZSAobiA8IGVsZW1lbnRzLmxlbmd0aCkge1xuICAgIC8vIFNraXAgbWlzc2luZyBlbGVtZW50cyAtIHRoZXkncmUgbm90IGRlZmluZWQsIG5vdCB1bmRlZmluZWQuXG4gICAgaWYgKGVsZW1lbnRzW25dKSB7XG4gICAgICBzdGF0ZS5uXyA9IG47XG4gICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKGVsZW1lbnRzW25dLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIG4rKztcbiAgfVxuICBzdGFjay5wb3AoKTtcbiAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS5hcnJheV87XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBBc3NpZ25tZW50RXhwcmVzc2lvbiddID1cbiAgICBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgaWYgKCFzdGF0ZS5kb25lTGVmdF8pIHtcbiAgICBzdGF0ZS5kb25lTGVmdF8gPSB0cnVlO1xuICAgIHZhciBuZXh0U3RhdGUgPSBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnbGVmdCddLCBzdGF0ZS5zY29wZSk7XG4gICAgbmV4dFN0YXRlLmNvbXBvbmVudHMgPSB0cnVlO1xuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH1cbiAgaWYgKCFzdGF0ZS5kb25lUmlnaHRfKSB7XG4gICAgaWYgKCFzdGF0ZS5sZWZ0UmVmZXJlbmNlXykge1xuICAgICAgc3RhdGUubGVmdFJlZmVyZW5jZV8gPSBzdGF0ZS52YWx1ZTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmRvbmVHZXR0ZXJfKSB7XG4gICAgICBzdGF0ZS5sZWZ0VmFsdWVfID0gc3RhdGUudmFsdWU7XG4gICAgfVxuICAgIGlmICghc3RhdGUuZG9uZUdldHRlcl8gJiYgbm9kZVsnb3BlcmF0b3InXSAhPT0gJz0nKSB7XG4gICAgICB2YXIgbGVmdFZhbHVlID0gdGhpcy5nZXRWYWx1ZShzdGF0ZS5sZWZ0UmVmZXJlbmNlXyk7XG4gICAgICBzdGF0ZS5sZWZ0VmFsdWVfID0gbGVmdFZhbHVlO1xuICAgICAgaWYgKHRoaXMuZ2V0dGVyU3RlcF8pIHtcbiAgICAgICAgLy8gQ2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAgICBzdGF0ZS5kb25lR2V0dGVyXyA9IHRydWU7XG4gICAgICAgIHZhciBmdW5jID0gLyoqIEB0eXBlIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSAqLyAobGVmdFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR2V0dGVyXyhmdW5jLCBzdGF0ZS5sZWZ0UmVmZXJlbmNlXyk7XG4gICAgICB9XG4gICAgfVxuICAgIHN0YXRlLmRvbmVSaWdodF8gPSB0cnVlO1xuICAgIC8vIFdoZW4gYXNzaWduaW5nIGFuIHVubmFtZWQgZnVuY3Rpb24gdG8gYSB2YXJpYWJsZSwgdGhlIGZ1bmN0aW9uJ3MgbmFtZVxuICAgIC8vIGlzIHNldCB0byB0aGUgdmFyaWFibGUgbmFtZS4gIFJlY29yZCB0aGUgdmFyaWFibGUgbmFtZSBpbiBjYXNlIHRoZVxuICAgIC8vIHJpZ2h0IHNpZGUgaXMgYSBmdW5jdGlvbkV4cHJlc3Npb24uXG4gICAgLy8gRS5nLiBmb28gPSBmdW5jdGlvbigpIHt9O1xuICAgIGlmIChub2RlWydvcGVyYXRvciddID09PSAnPScgJiYgbm9kZVsnbGVmdCddWyd0eXBlJ10gPT09ICdJZGVudGlmaWVyJykge1xuICAgICAgc3RhdGUuZGVzdGluYXRpb25OYW1lID0gbm9kZVsnbGVmdCddWyduYW1lJ107XG4gICAgfVxuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsncmlnaHQnXSwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIGlmIChzdGF0ZS5kb25lU2V0dGVyXykge1xuICAgIC8vIFJldHVybiBpZiBzZXR0ZXIgZnVuY3Rpb24uXG4gICAgLy8gU2V0dGVyIG1ldGhvZCBvbiBwcm9wZXJ0eSBoYXMgY29tcGxldGVkLlxuICAgIC8vIElnbm9yZSBpdHMgcmV0dXJuIHZhbHVlLCBhbmQgdXNlIHRoZSBvcmlnaW5hbCBzZXQgdmFsdWUgaW5zdGVhZC5cbiAgICBzdGFjay5wb3AoKTtcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLnNldHRlclZhbHVlXztcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHZhbHVlID0gc3RhdGUubGVmdFZhbHVlXztcbiAgdmFyIHJpZ2h0VmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgc3dpdGNoIChub2RlWydvcGVyYXRvciddKSB7XG4gICAgY2FzZSAnPSc6ICAgIHZhbHVlID0gICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnKz0nOiAgIHZhbHVlICs9ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnLT0nOiAgIHZhbHVlIC09ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnKj0nOiAgIHZhbHVlICo9ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnLz0nOiAgIHZhbHVlIC89ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnJT0nOiAgIHZhbHVlICU9ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnPDw9JzogIHZhbHVlIDw8PSAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnPj49JzogIHZhbHVlID4+PSAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnPj4+PSc6IHZhbHVlID4+Pj0gcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnJj0nOiAgIHZhbHVlICY9ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnXj0nOiAgIHZhbHVlIF49ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnfD0nOiAgIHZhbHVlIHw9ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFN5bnRheEVycm9yKCdVbmtub3duIGFzc2lnbm1lbnQgZXhwcmVzc2lvbjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICB9XG4gIHZhciBzZXR0ZXIgPSB0aGlzLnNldFZhbHVlKHN0YXRlLmxlZnRSZWZlcmVuY2VfLCB2YWx1ZSk7XG4gIGlmIChzZXR0ZXIpIHtcbiAgICBzdGF0ZS5kb25lU2V0dGVyXyA9IHRydWU7XG4gICAgc3RhdGUuc2V0dGVyVmFsdWVfID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2V0dGVyXyhzZXR0ZXIsIHN0YXRlLmxlZnRSZWZlcmVuY2VfLCB2YWx1ZSk7XG4gIH1cbiAgLy8gUmV0dXJuIGlmIG5vIHNldHRlciBmdW5jdGlvbi5cbiAgc3RhY2sucG9wKCk7XG4gIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBCaW5hcnlFeHByZXNzaW9uJ10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgaWYgKCFzdGF0ZS5kb25lTGVmdF8pIHtcbiAgICBzdGF0ZS5kb25lTGVmdF8gPSB0cnVlO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnbGVmdCddLCBzdGF0ZS5zY29wZSk7XG4gIH1cbiAgaWYgKCFzdGF0ZS5kb25lUmlnaHRfKSB7XG4gICAgc3RhdGUuZG9uZVJpZ2h0XyA9IHRydWU7XG4gICAgc3RhdGUubGVmdFZhbHVlXyA9IHN0YXRlLnZhbHVlO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsncmlnaHQnXSwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIHN0YWNrLnBvcCgpO1xuICB2YXIgbGVmdFZhbHVlID0gc3RhdGUubGVmdFZhbHVlXztcbiAgdmFyIHJpZ2h0VmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgdmFyIHZhbHVlO1xuICBzd2l0Y2ggKG5vZGVbJ29wZXJhdG9yJ10pIHtcbiAgICBjYXNlICc9PSc6ICB2YWx1ZSA9IGxlZnRWYWx1ZSA9PSAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnIT0nOiAgdmFsdWUgPSBsZWZ0VmFsdWUgIT0gIHJpZ2h0VmFsdWU7IGJyZWFrO1xuICAgIGNhc2UgJz09PSc6IHZhbHVlID0gbGVmdFZhbHVlID09PSByaWdodFZhbHVlOyBicmVhaztcbiAgICBjYXNlICchPT0nOiB2YWx1ZSA9IGxlZnRWYWx1ZSAhPT0gcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnPic6ICAgdmFsdWUgPSBsZWZ0VmFsdWUgPiAgIHJpZ2h0VmFsdWU7IGJyZWFrO1xuICAgIGNhc2UgJz49JzogIHZhbHVlID0gbGVmdFZhbHVlID49ICByaWdodFZhbHVlOyBicmVhaztcbiAgICBjYXNlICc8JzogICB2YWx1ZSA9IGxlZnRWYWx1ZSA8ICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnPD0nOiAgdmFsdWUgPSBsZWZ0VmFsdWUgPD0gIHJpZ2h0VmFsdWU7IGJyZWFrO1xuICAgIGNhc2UgJysnOiAgIHZhbHVlID0gbGVmdFZhbHVlICsgICByaWdodFZhbHVlOyBicmVhaztcbiAgICBjYXNlICctJzogICB2YWx1ZSA9IGxlZnRWYWx1ZSAtICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnKic6ICAgdmFsdWUgPSBsZWZ0VmFsdWUgKiAgIHJpZ2h0VmFsdWU7IGJyZWFrO1xuICAgIGNhc2UgJy8nOiAgIHZhbHVlID0gbGVmdFZhbHVlIC8gICByaWdodFZhbHVlOyBicmVhaztcbiAgICBjYXNlICclJzogICB2YWx1ZSA9IGxlZnRWYWx1ZSAlICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnJic6ICAgdmFsdWUgPSBsZWZ0VmFsdWUgJiAgIHJpZ2h0VmFsdWU7IGJyZWFrO1xuICAgIGNhc2UgJ3wnOiAgIHZhbHVlID0gbGVmdFZhbHVlIHwgICByaWdodFZhbHVlOyBicmVhaztcbiAgICBjYXNlICdeJzogICB2YWx1ZSA9IGxlZnRWYWx1ZSBeICAgcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnPDwnOiAgdmFsdWUgPSBsZWZ0VmFsdWUgPDwgIHJpZ2h0VmFsdWU7IGJyZWFrO1xuICAgIGNhc2UgJz4+JzogIHZhbHVlID0gbGVmdFZhbHVlID4+ICByaWdodFZhbHVlOyBicmVhaztcbiAgICBjYXNlICc+Pj4nOiB2YWx1ZSA9IGxlZnRWYWx1ZSA+Pj4gcmlnaHRWYWx1ZTsgYnJlYWs7XG4gICAgY2FzZSAnaW4nOlxuICAgICAgaWYgKCEocmlnaHRWYWx1ZSBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICBcIidpbicgZXhwZWN0cyBhbiBvYmplY3QsIG5vdCAnXCIgKyByaWdodFZhbHVlICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0aGlzLmhhc1Byb3BlcnR5KHJpZ2h0VmFsdWUsIGxlZnRWYWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnN0YW5jZW9mJzpcbiAgICAgIGlmICghdGhpcy5pc2EocmlnaHRWYWx1ZSwgdGhpcy5GVU5DVElPTikpIHtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAnUmlnaHQtaGFuZCBzaWRlIG9mIGluc3RhbmNlb2YgaXMgbm90IGFuIG9iamVjdCcpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSAobGVmdFZhbHVlIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSA/XG4gICAgICAgICAgdGhpcy5pc2EobGVmdFZhbHVlLCByaWdodFZhbHVlKSA6IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFN5bnRheEVycm9yKCdVbmtub3duIGJpbmFyeSBvcGVyYXRvcjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICB9XG4gIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBCbG9ja1N0YXRlbWVudCddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIHZhciBuID0gc3RhdGUubl8gfHwgMDtcbiAgdmFyIGV4cHJlc3Npb24gPSBub2RlWydib2R5J11bbl07XG4gIGlmIChleHByZXNzaW9uKSB7XG4gICAgc3RhdGUubl8gPSBuICsgMTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKGV4cHJlc3Npb24sIHN0YXRlLnNjb3BlKTtcbiAgfVxuICBzdGFjay5wb3AoKTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEJyZWFrU3RhdGVtZW50J10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgdmFyIGxhYmVsID0gbm9kZVsnbGFiZWwnXSAmJiBub2RlWydsYWJlbCddWyduYW1lJ107XG4gIHRoaXMudW53aW5kKEludGVycHJldGVyLkNvbXBsZXRpb24uQlJFQUssIHVuZGVmaW5lZCwgbGFiZWwpO1xufTtcblxuLyoqXG4gKiBOdW1iZXIgb2YgZXZhbHMgY2FsbGVkIGJ5IHRoZSBpbnRlcnByZXRlci5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5ldmFsQ29kZU51bWJlcl8gPSAwO1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBDYWxsRXhwcmVzc2lvbiddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIGlmICghc3RhdGUuZG9uZUNhbGxlZV8pIHtcbiAgICBzdGF0ZS5kb25lQ2FsbGVlXyA9IDE7XG4gICAgLy8gQ29tcG9uZW50cyBuZWVkZWQgdG8gZGV0ZXJtaW5lIHZhbHVlIG9mIGB0aGlzYC5cbiAgICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2NhbGxlZSddLCBzdGF0ZS5zY29wZSk7XG4gICAgbmV4dFN0YXRlLmNvbXBvbmVudHMgPSB0cnVlO1xuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH1cbiAgaWYgKHN0YXRlLmRvbmVDYWxsZWVfID09PSAxKSB7XG4gICAgLy8gRGV0ZXJtaW5lIHZhbHVlIG9mIHRoZSBmdW5jdGlvbi5cbiAgICBzdGF0ZS5kb25lQ2FsbGVlXyA9IDI7XG4gICAgdmFyIGZ1bmMgPSBzdGF0ZS52YWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5jKSkge1xuICAgICAgc3RhdGUuZnVuY18gPSB0aGlzLmdldFZhbHVlKGZ1bmMpO1xuICAgICAgaWYgKGZ1bmNbMF0gPT09IEludGVycHJldGVyLlNDT1BFX1JFRkVSRU5DRSkge1xuICAgICAgICAvLyAoR2xvYmFsbHkgb3IgbG9jYWxseSkgbmFtZWQgZnVuY3Rpb24uICBJcyBpdCBuYW1lZCAnZXZhbCc/XG4gICAgICAgIHN0YXRlLmRpcmVjdEV2YWxfID0gKGZ1bmNbMV0gPT09ICdldmFsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNZXRob2QgZnVuY3Rpb24sIGB0aGlzYCBpcyBvYmplY3QgKGlnbm9yZWQgaWYgaW52b2tlZCBhcyBgbmV3YCkuXG4gICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IGZ1bmNbMF07XG4gICAgICB9XG4gICAgICBmdW5jID0gc3RhdGUuZnVuY187XG4gICAgICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgICAgICAvLyBDYWxsIHRoZSBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICAgIHN0YXRlLmRvbmVDYWxsZWVfID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR2V0dGVyXygvKiogQHR5cGUgeyFJbnRlcnByZXRlci5PYmplY3R9ICovIChmdW5jKSxcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWxyZWFkeSBldmFsdWF0ZWQgZnVuY3Rpb246IChmdW5jdGlvbigpey4uLn0pKCk7XG4gICAgICBzdGF0ZS5mdW5jXyA9IGZ1bmM7XG4gICAgfVxuICAgIHN0YXRlLmFyZ3VtZW50c18gPSBbXTtcbiAgICBzdGF0ZS5uXyA9IDA7XG4gIH1cbiAgdmFyIGZ1bmMgPSBzdGF0ZS5mdW5jXztcbiAgaWYgKCFzdGF0ZS5kb25lQXJnc18pIHtcbiAgICBpZiAoc3RhdGUubl8gIT09IDApIHtcbiAgICAgIHN0YXRlLmFyZ3VtZW50c18ucHVzaChzdGF0ZS52YWx1ZSk7XG4gICAgfVxuICAgIGlmIChub2RlWydhcmd1bWVudHMnXVtzdGF0ZS5uX10pIHtcbiAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYXJndW1lbnRzJ11bc3RhdGUubl8rK10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gICAgLy8gRGV0ZXJtaW5lIHZhbHVlIG9mIGB0aGlzYCBpbiBmdW5jdGlvbi5cbiAgICBpZiAobm9kZVsndHlwZSddID09PSAnTmV3RXhwcmVzc2lvbicpIHtcbiAgICAgIGlmICghKGZ1bmMgaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpIHx8IGZ1bmMuaWxsZWdhbENvbnN0cnVjdG9yKSB7XG4gICAgICAgIC8vIElsbGVnYWw6IG5ldyBlc2NhcGUoKTtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIGZ1bmMgKyAnIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICAvLyBDb25zdHJ1Y3RvciwgYHRoaXNgIGlzIG5ldyBvYmplY3QuXG4gICAgICBpZiAoZnVuYyA9PT0gdGhpcy5BUlJBWSkge1xuICAgICAgICBzdGF0ZS5mdW5jVGhpc18gPSB0aGlzLmNyZWF0ZUFycmF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJvdG8gPSBmdW5jLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddO1xuICAgICAgICBpZiAodHlwZW9mIHByb3RvICE9PSAnb2JqZWN0JyB8fCBwcm90byA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vbi1vYmplY3QgcHJvdG90eXBlcyBkZWZhdWx0IHRvIGBPYmplY3QucHJvdG90eXBlYC5cbiAgICAgICAgICBwcm90byA9IHRoaXMuT0JKRUNUX1BST1RPO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8ocHJvdG8pO1xuICAgICAgfVxuICAgICAgc3RhdGUuaXNDb25zdHJ1Y3RvciA9IHRydWU7XG4gICAgfVxuICAgIHN0YXRlLmRvbmVBcmdzXyA9IHRydWU7XG4gIH1cbiAgaWYgKCFzdGF0ZS5kb25lRXhlY18pIHtcbiAgICBzdGF0ZS5kb25lRXhlY18gPSB0cnVlO1xuICAgIGlmICghKGZ1bmMgaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuVFlQRV9FUlJPUiwgZnVuYyArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIGZ1bmNOb2RlID0gZnVuYy5ub2RlO1xuICAgIGlmIChmdW5jTm9kZSkge1xuICAgICAgdmFyIHNjb3BlID0gdGhpcy5jcmVhdGVTY29wZShmdW5jTm9kZVsnYm9keSddLCBmdW5jLnBhcmVudFNjb3BlKTtcbiAgICAgIC8vIEFkZCBhbGwgYXJndW1lbnRzLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jTm9kZVsncGFyYW1zJ10ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcmFtTmFtZSA9IGZ1bmNOb2RlWydwYXJhbXMnXVtpXVsnbmFtZSddO1xuICAgICAgICB2YXIgcGFyYW1WYWx1ZSA9IHN0YXRlLmFyZ3VtZW50c18ubGVuZ3RoID4gaSA/IHN0YXRlLmFyZ3VtZW50c19baV0gOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgcGFyYW1OYW1lLCBwYXJhbVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIEJ1aWxkIGFyZ3VtZW50cyB2YXJpYWJsZS5cbiAgICAgIHZhciBhcmdzTGlzdCA9IHRoaXMuY3JlYXRlQXJyYXkoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUuYXJndW1lbnRzXy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KGFyZ3NMaXN0LCBpLCBzdGF0ZS5hcmd1bWVudHNfW2ldKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0UHJvcGVydHkoc2NvcGUub2JqZWN0LCAnYXJndW1lbnRzJywgYXJnc0xpc3QpO1xuICAgICAgLy8gQWRkIHRoZSBmdW5jdGlvbidzIG5hbWUgKHZhciB4ID0gZnVuY3Rpb24gZm9vKCl7fTspXG4gICAgICB2YXIgbmFtZSA9IGZ1bmNOb2RlWydpZCddICYmIGZ1bmNOb2RlWydpZCddWyduYW1lJ107XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgbmFtZSwgZnVuYyk7XG4gICAgICB9XG4gICAgICBpZiAoIXNjb3BlLnN0cmljdCkge1xuICAgICAgICBzdGF0ZS5mdW5jVGhpc18gPSB0aGlzLmJveFRoaXNfKHN0YXRlLmZ1bmNUaGlzXyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgJ3RoaXMnLCBzdGF0ZS5mdW5jVGhpc18sXG4gICAgICAgICAgICAgICAgICAgICAgIEludGVycHJldGVyLlJFQURPTkxZX0RFU0NSSVBUT1IpO1xuICAgICAgc3RhdGUudmFsdWUgPSB1bmRlZmluZWQ7ICAvLyBEZWZhdWx0IHZhbHVlIGlmIG5vIGV4cGxpY2l0IHJldHVybi5cbiAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZnVuY05vZGVbJ2JvZHknXSwgc2NvcGUpO1xuICAgIH0gZWxzZSBpZiAoZnVuYy5ldmFsKSB7XG4gICAgICB2YXIgY29kZSA9IHN0YXRlLmFyZ3VtZW50c19bMF07XG4gICAgICBpZiAodHlwZW9mIGNvZGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEpTIGRvZXMgbm90IHBhcnNlIFN0cmluZyBvYmplY3RzOlxuICAgICAgICAvLyBldmFsKG5ldyBTdHJpbmcoJzEgKyAxJykpIC0+ICcxICsgMSdcbiAgICAgICAgc3RhdGUudmFsdWUgPSBjb2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgYXN0ID0gdGhpcy5wYXJzZV8oU3RyaW5nKGNvZGUpLFxuICAgICAgICAgICAgICdldmFsJyArICh0aGlzLmV2YWxDb2RlTnVtYmVyXysrKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBBY29ybiB0aHJldyBhIFN5bnRheEVycm9yLiAgUmV0aHJvdyBhcyBhIHRyYXBwYWJsZSBlcnJvci5cbiAgICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuU1lOVEFYX0VSUk9SLCAnSW52YWxpZCBjb2RlOiAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZhbE5vZGUgPSBuZXcgdGhpcy5ub2RlQ29uc3RydWN0b3Ioe29wdGlvbnM6e319KTtcbiAgICAgICAgZXZhbE5vZGVbJ3R5cGUnXSA9ICdFdmFsUHJvZ3JhbV8nO1xuICAgICAgICBldmFsTm9kZVsnYm9keSddID0gYXN0Wydib2R5J107XG4gICAgICAgIEludGVycHJldGVyLnN0cmlwTG9jYXRpb25zXyhldmFsTm9kZSwgbm9kZVsnc3RhcnQnXSwgbm9kZVsnZW5kJ10pO1xuICAgICAgICAvLyBDcmVhdGUgbmV3IHNjb3BlIGFuZCB1cGRhdGUgaXQgd2l0aCBkZWZpbml0aW9ucyBpbiBldmFsKCkuXG4gICAgICAgIHZhciBzY29wZSA9IHN0YXRlLmRpcmVjdEV2YWxfID8gc3RhdGUuc2NvcGUgOiB0aGlzLmdsb2JhbFNjb3BlO1xuICAgICAgICBpZiAoc2NvcGUuc3RyaWN0KSB7XG4gICAgICAgICAgLy8gU3RyaWN0IG1vZGUgZ2V0IGl0cyBvd24gc2NvcGUgaW4gZXZhbC5cbiAgICAgICAgICBzY29wZSA9IHRoaXMuY3JlYXRlU2NvcGUoYXN0LCBzY29wZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm9uLXN0cmljdCBtb2RlIHBvbGx1dGVzIHRoZSBjdXJyZW50IHNjb3BlLlxuICAgICAgICAgIHRoaXMucG9wdWxhdGVTY29wZV8oYXN0LCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDsgIC8vIERlZmF1bHQgdmFsdWUgaWYgbm8gY29kZS5cbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShldmFsTm9kZSwgc2NvcGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZnVuYy5uYXRpdmVGdW5jKSB7XG4gICAgICBpZiAoIXN0YXRlLnNjb3BlLnN0cmljdCkge1xuICAgICAgICBzdGF0ZS5mdW5jVGhpc18gPSB0aGlzLmJveFRoaXNfKHN0YXRlLmZ1bmNUaGlzXyk7XG4gICAgICB9XG4gICAgICBzdGF0ZS52YWx1ZSA9IGZ1bmMubmF0aXZlRnVuYy5hcHBseShzdGF0ZS5mdW5jVGhpc18sIHN0YXRlLmFyZ3VtZW50c18pO1xuICAgIH0gZWxzZSBpZiAoZnVuYy5hc3luY0Z1bmMpIHtcbiAgICAgIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpc0ludGVycHJldGVyLnBhdXNlZF8gPSBmYWxzZTtcbiAgICAgIH07XG4gICAgICAvLyBGb3JjZSB0aGUgYXJndW1lbnQgbGVuZ3RocyB0byBtYXRjaCwgdGhlbiBhcHBlbmQgdGhlIGNhbGxiYWNrLlxuICAgICAgdmFyIGFyZ0xlbmd0aCA9IGZ1bmMuYXN5bmNGdW5jLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgYXJnc1dpdGhDYWxsYmFjayA9IHN0YXRlLmFyZ3VtZW50c18uY29uY2F0KFxuICAgICAgICAgIG5ldyBBcnJheShhcmdMZW5ndGgpKS5zbGljZSgwLCBhcmdMZW5ndGgpO1xuICAgICAgYXJnc1dpdGhDYWxsYmFjay5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHRoaXMucGF1c2VkXyA9IHRydWU7XG4gICAgICBpZiAoIXN0YXRlLnNjb3BlLnN0cmljdCkge1xuICAgICAgICBzdGF0ZS5mdW5jVGhpc18gPSB0aGlzLmJveFRoaXNfKHN0YXRlLmZ1bmNUaGlzXyk7XG4gICAgICB9XG4gICAgICBmdW5jLmFzeW5jRnVuYy5hcHBseShzdGF0ZS5mdW5jVGhpc18sIGFyZ3NXaXRoQ2FsbGJhY2spO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBBIGNoaWxkIG9mIGEgZnVuY3Rpb24gaXMgYSBmdW5jdGlvbiBidXQgaXMgbm90IGNhbGxhYmxlLiAgRm9yIGV4YW1wbGU6XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKCkge307XG4gICAgICBGLnByb3RvdHlwZSA9IGVzY2FwZTtcbiAgICAgIHZhciBmID0gbmV3IEYoKTtcbiAgICAgIGYoKTtcbiAgICAgICovXG4gICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuVFlQRV9FUlJPUiwgZnVuYy5jbGFzcyArICcgaXMgbm90IGNhbGxhYmxlJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEV4ZWN1dGlvbiBjb21wbGV0ZS4gIFB1dCB0aGUgcmV0dXJuIHZhbHVlIG9uIHRoZSBzdGFjay5cbiAgICBzdGFjay5wb3AoKTtcbiAgICBpZiAoc3RhdGUuaXNDb25zdHJ1Y3RvciAmJiB0eXBlb2Ygc3RhdGUudmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBOb3JtYWwgY2FzZSBmb3IgYSBjb25zdHJ1Y3RvciBpcyB0byB1c2UgdGhlIGB0aGlzYCB2YWx1ZS5cbiAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gc3RhdGUuZnVuY1RoaXNfO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb24tY29uc3RydWN0b3JzIG9yIGNvbnN0cnVjdGlvbnMgZXhwbGljaXRseSByZXR1cm5pbmcgb2JqZWN0cyB1c2VcbiAgICAgIC8vIHRoZSByZXR1cm4gdmFsdWUuXG4gICAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLnZhbHVlO1xuICAgIH1cbiAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQ2F0Y2hDbGF1c2UnXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICBpZiAoIXN0YXRlLmRvbmVfKSB7XG4gICAgc3RhdGUuZG9uZV8gPSB0cnVlO1xuICAgIC8vIENyZWF0ZSBhbiBlbXB0eSBzY29wZS5cbiAgICB2YXIgc2NvcGUgPSB0aGlzLmNyZWF0ZVNwZWNpYWxTY29wZShzdGF0ZS5zY29wZSk7XG4gICAgLy8gQWRkIHRoZSBhcmd1bWVudC5cbiAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgbm9kZVsncGFyYW0nXVsnbmFtZSddLCBzdGF0ZS50aHJvd1ZhbHVlKTtcbiAgICAvLyBFeGVjdXRlIGNhdGNoIGNsYXVzZS5cbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2JvZHknXSwgc2NvcGUpO1xuICB9IGVsc2Uge1xuICAgIHN0YWNrLnBvcCgpO1xuICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBDb25kaXRpb25hbEV4cHJlc3Npb24nXSA9XG4gICAgZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIHZhciBtb2RlID0gc3RhdGUubW9kZV8gfHwgMDtcbiAgaWYgKG1vZGUgPT09IDApIHtcbiAgICBzdGF0ZS5tb2RlXyA9IDE7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWyd0ZXN0J10sIHN0YXRlLnNjb3BlKTtcbiAgfVxuICBpZiAobW9kZSA9PT0gMSkge1xuICAgIHN0YXRlLm1vZGVfID0gMjtcbiAgICB2YXIgdmFsdWUgPSBCb29sZWFuKHN0YXRlLnZhbHVlKTtcbiAgICBpZiAodmFsdWUgJiYgbm9kZVsnY29uc2VxdWVudCddKSB7XG4gICAgICAvLyBFeGVjdXRlIGBpZmAgYmxvY2suXG4gICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2NvbnNlcXVlbnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmIG5vZGVbJ2FsdGVybmF0ZSddKSB7XG4gICAgICAvLyBFeGVjdXRlIGBlbHNlYCBibG9jay5cbiAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYWx0ZXJuYXRlJ10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gICAgLy8gZXZhbCgnMTtpZihmYWxzZSl7Mn0nKSAtPiB1bmRlZmluZWRcbiAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICB9XG4gIHN0YWNrLnBvcCgpO1xuICBpZiAobm9kZVsndHlwZSddID09PSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJykge1xuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gc3RhdGUudmFsdWU7XG4gIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcENvbnRpbnVlU3RhdGVtZW50J10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgdmFyIGxhYmVsID0gbm9kZVsnbGFiZWwnXSAmJiBub2RlWydsYWJlbCddWyduYW1lJ107XG4gIHRoaXMudW53aW5kKEludGVycHJldGVyLkNvbXBsZXRpb24uQ09OVElOVUUsIHVuZGVmaW5lZCwgbGFiZWwpO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwRGVidWdnZXJTdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAvLyBEbyBub3RoaW5nLiAgTWF5IGJlIG92ZXJyaWRkZW4gYnkgZGV2ZWxvcGVycy5cbiAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBEb1doaWxlU3RhdGVtZW50J10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgaWYgKG5vZGVbJ3R5cGUnXSA9PT0gJ0RvV2hpbGVTdGF0ZW1lbnQnICYmIHN0YXRlLnRlc3RfID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBGaXJzdCBpdGVyYXRpb24gb2YgZG8vd2hpbGUgZXhlY3V0ZXMgd2l0aG91dCBjaGVja2luZyB0ZXN0LlxuICAgIHN0YXRlLnZhbHVlID0gdHJ1ZTtcbiAgICBzdGF0ZS50ZXN0XyA9IHRydWU7XG4gIH1cbiAgaWYgKCFzdGF0ZS50ZXN0Xykge1xuICAgIHN0YXRlLnRlc3RfID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ3Rlc3QnXSwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIGlmICghc3RhdGUudmFsdWUpIHsgIC8vIERvbmUsIGV4aXQgbG9vcC5cbiAgICBzdGFjay5wb3AoKTtcbiAgfSBlbHNlIGlmIChub2RlWydib2R5J10pIHsgIC8vIEV4ZWN1dGUgdGhlIGJvZHkuXG4gICAgc3RhdGUudGVzdF8gPSBmYWxzZTtcbiAgICBzdGF0ZS5pc0xvb3AgPSB0cnVlO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYm9keSddLCBzdGF0ZS5zY29wZSk7XG4gIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEVtcHR5U3RhdGVtZW50J10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBFdmFsUHJvZ3JhbV8nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gIHZhciBleHByZXNzaW9uID0gbm9kZVsnYm9keSddW25dO1xuICBpZiAoZXhwcmVzc2lvbikge1xuICAgIHN0YXRlLm5fID0gbiArIDE7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShleHByZXNzaW9uLCBzdGF0ZS5zY29wZSk7XG4gIH1cbiAgc3RhY2sucG9wKCk7XG4gIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdGhpcy52YWx1ZTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEV4cHJlc3Npb25TdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICBpZiAoIXN0YXRlLmRvbmVfKSB7XG4gICAgc3RhdGUuZG9uZV8gPSB0cnVlO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnZXhwcmVzc2lvbiddLCBzdGF0ZS5zY29wZSk7XG4gIH1cbiAgc3RhY2sucG9wKCk7XG4gIC8vIFNhdmUgdGhpcyB2YWx1ZSB0byBpbnRlcnByZXRlci52YWx1ZSBmb3IgdXNlIGFzIGEgcmV0dXJuIHZhbHVlIGlmXG4gIC8vIHRoaXMgY29kZSBpcyBpbnNpZGUgYW4gZXZhbCBmdW5jdGlvbi5cbiAgdGhpcy52YWx1ZSA9IHN0YXRlLnZhbHVlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwRm9ySW5TdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAvLyBGaXJzdCwgaW5pdGlhbGl6ZSBhIHZhcmlhYmxlIGlmIGV4aXN0cy4gIE9ubHkgZG8gc28gb25jZSwgZXZlci5cbiAgaWYgKCFzdGF0ZS5kb25lSW5pdF8pIHtcbiAgICBzdGF0ZS5kb25lSW5pdF8gPSB0cnVlO1xuICAgIGlmIChub2RlWydsZWZ0J11bJ2RlY2xhcmF0aW9ucyddICYmXG4gICAgICAgIG5vZGVbJ2xlZnQnXVsnZGVjbGFyYXRpb25zJ11bMF1bJ2luaXQnXSkge1xuICAgICAgaWYgKHN0YXRlLnNjb3BlLnN0cmljdCkge1xuICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuU1lOVEFYX0VSUk9SLFxuICAgICAgICAgICAgJ2Zvci1pbiBsb29wIHZhcmlhYmxlIGRlY2xhcmF0aW9uIG1heSBub3QgaGF2ZSBhbiBpbml0aWFsaXplci4nKTtcbiAgICAgIH1cbiAgICAgIC8vIFZhcmlhYmxlIGluaXRpYWxpemF0aW9uOiBmb3IgKHZhciB4ID0gNCBpbiB5KVxuICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydsZWZ0J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gIH1cbiAgLy8gU2Vjb25kLCBsb29rIHVwIHRoZSBvYmplY3QuICBPbmx5IGRvIHNvIG9uY2UsIGV2ZXIuXG4gIGlmICghc3RhdGUuZG9uZU9iamVjdF8pIHtcbiAgICBzdGF0ZS5kb25lT2JqZWN0XyA9IHRydWU7XG4gICAgaWYgKCFzdGF0ZS52YXJpYWJsZV8pIHtcbiAgICAgIHN0YXRlLnZhcmlhYmxlXyA9IHN0YXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ3JpZ2h0J10sIHN0YXRlLnNjb3BlKTtcbiAgfVxuICBpZiAoIXN0YXRlLmlzTG9vcCkge1xuICAgIC8vIEZpcnN0IGl0ZXJhdGlvbi5cbiAgICBzdGF0ZS5pc0xvb3AgPSB0cnVlO1xuICAgIHN0YXRlLm9iamVjdF8gPSBzdGF0ZS52YWx1ZTtcbiAgICBzdGF0ZS52aXNpdGVkXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgLy8gVGhpcmQsIGZpbmQgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoaXMgaXRlcmF0aW9uLlxuICBpZiAoc3RhdGUubmFtZV8gPT09IHVuZGVmaW5lZCkge1xuICAgIGdvdFByb3BOYW1lOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHN0YXRlLm9iamVjdF8gaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5wcm9wc18pIHtcbiAgICAgICAgICBzdGF0ZS5wcm9wc18gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdGF0ZS5vYmplY3RfLnByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHByb3AgPSBzdGF0ZS5wcm9wc18uc2hpZnQoKTtcbiAgICAgICAgICBpZiAocHJvcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhazsgIC8vIFJlYWNoZWQgZW5kIG9mIHRoaXMgb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3RhdGUub2JqZWN0Xy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIHByb3ApKSB7XG4gICAgICAgICAgICBjb250aW51ZTsgIC8vIFByb3BlcnR5IGhhcyBiZWVuIGRlbGV0ZWQgaW4gdGhlIGxvb3AuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0ZS52aXNpdGVkX1twcm9wXSkge1xuICAgICAgICAgICAgY29udGludWU7ICAvLyBBbHJlYWR5IHNlZW4gdGhpcyBwcm9wZXJ0eSBvbiBhIGNoaWxkLlxuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZS52aXNpdGVkX1twcm9wXSA9IHRydWU7XG4gICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoXG4gICAgICAgICAgICAgICAgc3RhdGUub2JqZWN0Xy5wcm9wZXJ0aWVzLCBwcm9wKSkge1xuICAgICAgICAgICAgY29udGludWU7ICAvLyBTa2lwIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5LlxuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZS5uYW1lXyA9IHByb3A7XG4gICAgICAgICAgYnJlYWsgZ290UHJvcE5hbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUub2JqZWN0XyAhPT0gbnVsbCAmJiBzdGF0ZS5vYmplY3RfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gUHJpbWl0aXZlIHZhbHVlIChvdGhlciB0aGFuIG51bGwgb3IgdW5kZWZpbmVkKS5cbiAgICAgICAgaWYgKCFzdGF0ZS5wcm9wc18pIHtcbiAgICAgICAgICBzdGF0ZS5wcm9wc18gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdGF0ZS5vYmplY3RfKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBwcm9wID0gc3RhdGUucHJvcHNfLnNoaWZ0KCk7XG4gICAgICAgICAgaWYgKHByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7ICAvLyBSZWFjaGVkIGVuZCBvZiB0aGlzIHZhbHVlJ3MgcHJvcGVydGllcy5cbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUudmlzaXRlZF9bcHJvcF0gPSB0cnVlO1xuICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKFxuICAgICAgICAgICAgICAgIHN0YXRlLm9iamVjdF8sIHByb3ApKSB7XG4gICAgICAgICAgICBjb250aW51ZTsgIC8vIFNraXAgbm9uLWVudW1lcmFibGUgcHJvcGVydHkuXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlLm5hbWVfID0gcHJvcDtcbiAgICAgICAgICBicmVhayBnb3RQcm9wTmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhdGUub2JqZWN0XyA9IHRoaXMuZ2V0UHJvdG90eXBlKHN0YXRlLm9iamVjdF8pO1xuICAgICAgc3RhdGUucHJvcHNfID0gbnVsbDtcbiAgICAgIGlmIChzdGF0ZS5vYmplY3RfID09PSBudWxsKSB7XG4gICAgICAgIC8vIERvbmUsIGV4aXQgbG9vcC5cbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRm91cnRoLCBmaW5kIHRoZSB2YXJpYWJsZVxuICBpZiAoIXN0YXRlLmRvbmVWYXJpYWJsZV8pIHtcbiAgICBzdGF0ZS5kb25lVmFyaWFibGVfID0gdHJ1ZTtcbiAgICB2YXIgbGVmdCA9IG5vZGVbJ2xlZnQnXTtcbiAgICBpZiAobGVmdFsndHlwZSddID09PSAnVmFyaWFibGVEZWNsYXJhdGlvbicpIHtcbiAgICAgIC8vIElubGluZSB2YXJpYWJsZSBkZWNsYXJhdGlvbjogZm9yICh2YXIgeCBpbiB5KVxuICAgICAgc3RhdGUudmFyaWFibGVfID1cbiAgICAgICAgICBbSW50ZXJwcmV0ZXIuU0NPUEVfUkVGRVJFTkNFLCBsZWZ0WydkZWNsYXJhdGlvbnMnXVswXVsnaWQnXVsnbmFtZSddXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXJiaXRyYXJ5IGxlZnQgc2lkZTogZm9yIChmb28oKS5iYXIgaW4geSlcbiAgICAgIHN0YXRlLnZhcmlhYmxlXyA9IG51bGw7XG4gICAgICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKGxlZnQsIHN0YXRlLnNjb3BlKTtcbiAgICAgIG5leHRTdGF0ZS5jb21wb25lbnRzID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuICB9XG4gIGlmICghc3RhdGUudmFyaWFibGVfKSB7XG4gICAgc3RhdGUudmFyaWFibGVfID0gc3RhdGUudmFsdWU7XG4gIH1cbiAgLy8gRmlmdGgsIHNldCB0aGUgdmFyaWFibGUuXG4gIGlmICghc3RhdGUuZG9uZVNldHRlcl8pIHtcbiAgICBzdGF0ZS5kb25lU2V0dGVyXyA9IHRydWU7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUubmFtZV87XG4gICAgdmFyIHNldHRlciA9IHRoaXMuc2V0VmFsdWUoc3RhdGUudmFyaWFibGVfLCB2YWx1ZSk7XG4gICAgaWYgKHNldHRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2V0dGVyXyhzZXR0ZXIsIHN0YXRlLnZhcmlhYmxlXywgdmFsdWUpO1xuICAgIH1cbiAgfVxuICAvLyBOZXh0IHN0ZXAgd2lsbCBiZSBzdGVwIHRocmVlLlxuICBzdGF0ZS5uYW1lXyA9IHVuZGVmaW5lZDtcbiAgLy8gUmVldmFsdWF0ZSB0aGUgdmFyaWFibGUgc2luY2UgaXQgY291bGQgYmUgYSBzZXR0ZXIgb24gdGhlIGdsb2JhbCBvYmplY3QuXG4gIHN0YXRlLmRvbmVWYXJpYWJsZV8gPSBmYWxzZTtcbiAgc3RhdGUuZG9uZVNldHRlcl8gPSBmYWxzZTtcbiAgLy8gU2l4dGggYW5kIGZpbmFsbHksIGV4ZWN1dGUgdGhlIGJvZHkgaWYgdGhlcmUgd2FzIG9uZS4gIHRoaXMuXG4gIGlmIChub2RlWydib2R5J10pIHtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2JvZHknXSwgc3RhdGUuc2NvcGUpO1xuICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBGb3JTdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICB2YXIgbW9kZSA9IHN0YXRlLm1vZGVfIHx8IDA7XG4gIGlmIChtb2RlID09PSAwKSB7XG4gICAgc3RhdGUubW9kZV8gPSAxO1xuICAgIGlmIChub2RlWydpbml0J10pIHtcbiAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnaW5pdCddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG1vZGUgPT09IDEpIHtcbiAgICBzdGF0ZS5tb2RlXyA9IDI7XG4gICAgaWYgKG5vZGVbJ3Rlc3QnXSkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWyd0ZXN0J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gMikge1xuICAgIHN0YXRlLm1vZGVfID0gMztcbiAgICBpZiAobm9kZVsndGVzdCddICYmICFzdGF0ZS52YWx1ZSkge1xuICAgICAgLy8gRG9uZSwgZXhpdCBsb29wLlxuICAgICAgc3RhY2sucG9wKCk7XG4gICAgfSBlbHNlIHsgIC8vIEV4ZWN1dGUgdGhlIGJvZHkuXG4gICAgICBzdGF0ZS5pc0xvb3AgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydib2R5J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gMykge1xuICAgIHN0YXRlLm1vZGVfID0gMTtcbiAgICBpZiAobm9kZVsndXBkYXRlJ10pIHtcbiAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsndXBkYXRlJ10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEZ1bmN0aW9uRGVjbGFyYXRpb24nXSA9XG4gICAgZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIC8vIFRoaXMgd2FzIGZvdW5kIGFuZCBoYW5kbGVkIHdoZW4gdGhlIHNjb3BlIHdhcyBwb3B1bGF0ZWQuXG4gIHN0YWNrLnBvcCgpO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwRnVuY3Rpb25FeHByZXNzaW9uJ10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgc3RhY2sucG9wKCk7XG4gIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gIHN0YXRlLnZhbHVlID0gdGhpcy5jcmVhdGVGdW5jdGlvbihub2RlLCBzdGF0ZS5zY29wZSwgc3RhdGUuZGVzdGluYXRpb25OYW1lKTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcElkZW50aWZpZXInXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICBzdGFjay5wb3AoKTtcbiAgaWYgKHN0YXRlLmNvbXBvbmVudHMpIHtcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IFtJbnRlcnByZXRlci5TQ09QRV9SRUZFUkVOQ0UsIG5vZGVbJ25hbWUnXV07XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWVGcm9tU2NvcGUobm9kZVsnbmFtZSddKTtcbiAgLy8gQW4gaWRlbnRpZmllciBjb3VsZCBiZSBhIGdldHRlciBpZiBpdCdzIGEgcHJvcGVydHkgb24gdGhlIGdsb2JhbCBvYmplY3QuXG4gIGlmICh0aGlzLmdldHRlclN0ZXBfKSB7XG4gICAgLy8gQ2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgIHZhciBmdW5jID0gLyoqIEB0eXBlIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSAqLyAodmFsdWUpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZUdldHRlcl8oZnVuYywgdGhpcy5nbG9iYWxPYmplY3QpO1xuICB9XG4gIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBJZlN0YXRlbWVudCddID1cbiAgICBJbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBDb25kaXRpb25hbEV4cHJlc3Npb24nXTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwTGFiZWxlZFN0YXRlbWVudCddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIC8vIE5vIG5lZWQgdG8gaGl0IHRoaXMgbm9kZSBhZ2FpbiBvbiB0aGUgd2F5IGJhY2sgdXAgdGhlIHN0YWNrLlxuICBzdGFjay5wb3AoKTtcbiAgLy8gTm90ZSB0aGF0IGEgc3RhdGVtZW50IG1pZ2h0IGhhdmUgbXVsdGlwbGUgbGFiZWxzLlxuICB2YXIgbGFiZWxzID0gc3RhdGUubGFiZWxzIHx8IFtdO1xuICBsYWJlbHMucHVzaChub2RlWydsYWJlbCddWyduYW1lJ10pO1xuICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2JvZHknXSwgc3RhdGUuc2NvcGUpO1xuICBuZXh0U3RhdGUubGFiZWxzID0gbGFiZWxzO1xuICByZXR1cm4gbmV4dFN0YXRlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwTGl0ZXJhbCddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIHN0YWNrLnBvcCgpO1xuICB2YXIgdmFsdWUgPSBub2RlWyd2YWx1ZSddO1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICB2YXIgcHNldWRvUmVnZXhwID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLlJFR0VYUF9QUk9UTyk7XG4gICAgdGhpcy5wb3B1bGF0ZVJlZ0V4cChwc2V1ZG9SZWdleHAsIHZhbHVlKTtcbiAgICB2YWx1ZSA9IHBzZXVkb1JlZ2V4cDtcbiAgfVxuICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHZhbHVlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwTG9naWNhbEV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICBpZiAobm9kZVsnb3BlcmF0b3InXSAhPT0gJyYmJyAmJiBub2RlWydvcGVyYXRvciddICE9PSAnfHwnKSB7XG4gICAgdGhyb3cgU3ludGF4RXJyb3IoJ1Vua25vd24gbG9naWNhbCBvcGVyYXRvcjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICB9XG4gIGlmICghc3RhdGUuZG9uZUxlZnRfKSB7XG4gICAgc3RhdGUuZG9uZUxlZnRfID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2xlZnQnXSwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIGlmICghc3RhdGUuZG9uZVJpZ2h0Xykge1xuICAgIGlmICgobm9kZVsnb3BlcmF0b3InXSA9PT0gJyYmJyAmJiAhc3RhdGUudmFsdWUpIHx8XG4gICAgICAgIChub2RlWydvcGVyYXRvciddID09PSAnfHwnICYmIHN0YXRlLnZhbHVlKSkge1xuICAgICAgLy8gU2hvcnRjdXQgZXZhbHVhdGlvbi5cbiAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuZG9uZVJpZ2h0XyA9IHRydWU7XG4gICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ3JpZ2h0J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3RhY2sucG9wKCk7XG4gICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwTWVtYmVyRXhwcmVzc2lvbiddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIGlmICghc3RhdGUuZG9uZU9iamVjdF8pIHtcbiAgICBzdGF0ZS5kb25lT2JqZWN0XyA9IHRydWU7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydvYmplY3QnXSwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIHZhciBwcm9wTmFtZTtcbiAgaWYgKCFub2RlWydjb21wdXRlZCddKSB7XG4gICAgc3RhdGUub2JqZWN0XyA9IHN0YXRlLnZhbHVlO1xuICAgIC8vIG9iai5mb28gLS0gSnVzdCBhY2Nlc3MgYGZvb2AgZGlyZWN0bHkuXG4gICAgcHJvcE5hbWUgPSBub2RlWydwcm9wZXJ0eSddWyduYW1lJ107XG4gIH0gZWxzZSBpZiAoIXN0YXRlLmRvbmVQcm9wZXJ0eV8pIHtcbiAgICBzdGF0ZS5vYmplY3RfID0gc3RhdGUudmFsdWU7XG4gICAgLy8gb2JqW2Zvb10gLS0gQ29tcHV0ZSB2YWx1ZSBvZiBgZm9vYC5cbiAgICBzdGF0ZS5kb25lUHJvcGVydHlfID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ3Byb3BlcnR5J10sIHN0YXRlLnNjb3BlKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wTmFtZSA9IHN0YXRlLnZhbHVlO1xuICB9XG4gIHN0YWNrLnBvcCgpO1xuICBpZiAoc3RhdGUuY29tcG9uZW50cykge1xuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gW3N0YXRlLm9iamVjdF8sIHByb3BOYW1lXTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFByb3BlcnR5KHN0YXRlLm9iamVjdF8sIHByb3BOYW1lKTtcbiAgICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgICAgLy8gQ2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAgdmFyIGZ1bmMgPSAvKiogQHR5cGUgeyFJbnRlcnByZXRlci5PYmplY3R9ICovICh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVHZXR0ZXJfKGZ1bmMsIHN0YXRlLm9iamVjdF8pO1xuICAgIH1cbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHZhbHVlO1xuICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBOZXdFeHByZXNzaW9uJ10gPVxuICAgIEludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcENhbGxFeHByZXNzaW9uJ107XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcE9iamVjdEV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gIHZhciBwcm9wZXJ0eSA9IG5vZGVbJ3Byb3BlcnRpZXMnXVtuXTtcbiAgaWYgKCFzdGF0ZS5vYmplY3RfKSB7XG4gICAgLy8gRmlyc3QgZXhlY3V0aW9uLlxuICAgIHN0YXRlLm9iamVjdF8gPSB0aGlzLmNyZWF0ZU9iamVjdFByb3RvKHRoaXMuT0JKRUNUX1BST1RPKTtcbiAgICBzdGF0ZS5wcm9wZXJ0aWVzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSBjb21wdXRlZCBpbiB0aGUgcHJldmlvdXMgZXhlY3V0aW9uLlxuICAgIHZhciBwcm9wTmFtZSA9IHN0YXRlLmRlc3RpbmF0aW9uTmFtZTtcbiAgICBpZiAoIXN0YXRlLnByb3BlcnRpZXNfW3Byb3BOYW1lXSkge1xuICAgICAgLy8gQ3JlYXRlIHRlbXAgb2JqZWN0IHRvIGNvbGxlY3QgdmFsdWUsIGdldHRlciwgYW5kL29yIHNldHRlci5cbiAgICAgIHN0YXRlLnByb3BlcnRpZXNfW3Byb3BOYW1lXSA9IHt9O1xuICAgIH1cbiAgICBzdGF0ZS5wcm9wZXJ0aWVzX1twcm9wTmFtZV1bcHJvcGVydHlbJ2tpbmQnXV0gPSBzdGF0ZS52YWx1ZTtcbiAgICBzdGF0ZS5uXyA9ICsrbjtcbiAgICBwcm9wZXJ0eSA9IG5vZGVbJ3Byb3BlcnRpZXMnXVtuXTtcbiAgfVxuICBpZiAocHJvcGVydHkpIHtcbiAgICAvLyBEZXRlcm1pbmUgcHJvcGVydHkgbmFtZS5cbiAgICB2YXIga2V5ID0gcHJvcGVydHlbJ2tleSddO1xuICAgIGlmIChrZXlbJ3R5cGUnXSA9PT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICB2YXIgcHJvcE5hbWUgPSBrZXlbJ25hbWUnXTtcbiAgICB9IGVsc2UgaWYgKGtleVsndHlwZSddID09PSAnTGl0ZXJhbCcpIHtcbiAgICAgIHZhciBwcm9wTmFtZSA9IGtleVsndmFsdWUnXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgU3ludGF4RXJyb3IoJ1Vua25vd24gb2JqZWN0IHN0cnVjdHVyZTogJyArIGtleVsndHlwZSddKTtcbiAgICB9XG4gICAgLy8gV2hlbiBhc3NpZ25pbmcgYW4gdW5uYW1lZCBmdW5jdGlvbiB0byBhIHByb3BlcnR5LCB0aGUgZnVuY3Rpb24ncyBuYW1lXG4gICAgLy8gaXMgc2V0IHRvIHRoZSBwcm9wZXJ0eSBuYW1lLiAgUmVjb3JkIHRoZSBwcm9wZXJ0eSBuYW1lIGluIGNhc2UgdGhlXG4gICAgLy8gdmFsdWUgaXMgYSBmdW5jdGlvbkV4cHJlc3Npb24uXG4gICAgLy8gRS5nLiB7Zm9vOiBmdW5jdGlvbigpIHt9fVxuICAgIHN0YXRlLmRlc3RpbmF0aW9uTmFtZSA9IHByb3BOYW1lO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUocHJvcGVydHlbJ3ZhbHVlJ10sIHN0YXRlLnNjb3BlKTtcbiAgfVxuICBmb3IgKHZhciBrZXkgaW4gc3RhdGUucHJvcGVydGllc18pIHtcbiAgICB2YXIga2luZHMgPSBzdGF0ZS5wcm9wZXJ0aWVzX1trZXldO1xuICAgIGlmICgnZ2V0JyBpbiBraW5kcyB8fCAnc2V0JyBpbiBraW5kcykge1xuICAgICAgLy8gU2V0IGEgcHJvcGVydHkgd2l0aCBhIGdldHRlciBvciBzZXR0ZXIuXG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGtpbmRzWydnZXQnXSxcbiAgICAgICAgc2V0OiBraW5kc1snc2V0J11cbiAgICAgIH07XG4gICAgICB0aGlzLnNldFByb3BlcnR5KHN0YXRlLm9iamVjdF8sIGtleSwgSW50ZXJwcmV0ZXIuVkFMVUVfSU5fREVTQ1JJUFRPUixcbiAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNldCBhIG5vcm1hbCBwcm9wZXJ0eSB3aXRoIGEgdmFsdWUuXG4gICAgICB0aGlzLnNldFByb3BlcnR5KHN0YXRlLm9iamVjdF8sIGtleSwga2luZHNbJ2luaXQnXSk7XG4gICAgfVxuICB9XG4gIHN0YWNrLnBvcCgpO1xuICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLm9iamVjdF87XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBQcm9ncmFtJ10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgdmFyIGV4cHJlc3Npb24gPSBub2RlWydib2R5J10uc2hpZnQoKTtcbiAgaWYgKGV4cHJlc3Npb24pIHtcbiAgICBzdGF0ZS5kb25lID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShleHByZXNzaW9uLCBzdGF0ZS5zY29wZSk7XG4gIH1cbiAgc3RhdGUuZG9uZSA9IHRydWU7XG4gIC8vIERvbid0IHBvcCB0aGUgc3RhdGVTdGFjay5cbiAgLy8gTGVhdmUgdGhlIHJvb3Qgc2NvcGUgb24gdGhlIHRyZWUgaW4gY2FzZSB0aGUgcHJvZ3JhbSBpcyBhcHBlbmRlZCB0by5cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFJldHVyblN0YXRlbWVudCddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIGlmIChub2RlWydhcmd1bWVudCddICYmICFzdGF0ZS5kb25lXykge1xuICAgIHN0YXRlLmRvbmVfID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2FyZ3VtZW50J10sIHN0YXRlLnNjb3BlKTtcbiAgfVxuICB0aGlzLnVud2luZChJbnRlcnByZXRlci5Db21wbGV0aW9uLlJFVFVSTiwgc3RhdGUudmFsdWUsIHVuZGVmaW5lZCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBTZXF1ZW5jZUV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gIHZhciBleHByZXNzaW9uID0gbm9kZVsnZXhwcmVzc2lvbnMnXVtuXTtcbiAgaWYgKGV4cHJlc3Npb24pIHtcbiAgICBzdGF0ZS5uXyA9IG4gKyAxO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZXhwcmVzc2lvbiwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIHN0YWNrLnBvcCgpO1xuICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLnZhbHVlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwU3dpdGNoU3RhdGVtZW50J10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgaWYgKCFzdGF0ZS50ZXN0Xykge1xuICAgIHN0YXRlLnRlc3RfID0gMTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2Rpc2NyaW1pbmFudCddLCBzdGF0ZS5zY29wZSk7XG4gIH1cbiAgaWYgKHN0YXRlLnRlc3RfID09PSAxKSB7XG4gICAgc3RhdGUudGVzdF8gPSAyO1xuICAgIC8vIFByZXNlcnZlIHN3aXRjaCB2YWx1ZSBiZXR3ZWVuIGNhc2UgdGVzdHMuXG4gICAgc3RhdGUuc3dpdGNoVmFsdWVfID0gc3RhdGUudmFsdWU7XG4gICAgc3RhdGUuZGVmYXVsdENhc2VfID0gLTE7XG4gIH1cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4XyB8fCAwO1xuICAgIHZhciBzd2l0Y2hDYXNlID0gbm9kZVsnY2FzZXMnXVtpbmRleF07XG4gICAgaWYgKCFzdGF0ZS5tYXRjaGVkXyAmJiBzd2l0Y2hDYXNlICYmICFzd2l0Y2hDYXNlWyd0ZXN0J10pIHtcbiAgICAgIC8vIFRlc3Qgb24gdGhlIGRlZmF1bHQgY2FzZSBpcyBudWxsLlxuICAgICAgLy8gQnlwYXNzIChidXQgc3RvcmUpIHRoZSBkZWZhdWx0IGNhc2UsIGFuZCBnZXQgYmFjayB0byBpdCBsYXRlci5cbiAgICAgIHN0YXRlLmRlZmF1bHRDYXNlXyA9IGluZGV4O1xuICAgICAgc3RhdGUuaW5kZXhfID0gaW5kZXggKyAxO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghc3dpdGNoQ2FzZSAmJiAhc3RhdGUubWF0Y2hlZF8gJiYgc3RhdGUuZGVmYXVsdENhc2VfICE9PSAtMSkge1xuICAgICAgLy8gUmFuIHRocm91Z2ggYWxsIGNhc2VzLCBubyBtYXRjaC4gIEp1bXAgdG8gdGhlIGRlZmF1bHQuXG4gICAgICBzdGF0ZS5tYXRjaGVkXyA9IHRydWU7XG4gICAgICBzdGF0ZS5pbmRleF8gPSBzdGF0ZS5kZWZhdWx0Q2FzZV87XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHN3aXRjaENhc2UpIHtcbiAgICAgIGlmICghc3RhdGUubWF0Y2hlZF8gJiYgIXN0YXRlLnRlc3RlZF8gJiYgc3dpdGNoQ2FzZVsndGVzdCddKSB7XG4gICAgICAgIHN0YXRlLnRlc3RlZF8gPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKHN3aXRjaENhc2VbJ3Rlc3QnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLm1hdGNoZWRfIHx8IHN0YXRlLnZhbHVlID09PSBzdGF0ZS5zd2l0Y2hWYWx1ZV8pIHtcbiAgICAgICAgc3RhdGUubWF0Y2hlZF8gPSB0cnVlO1xuICAgICAgICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gICAgICAgIGlmIChzd2l0Y2hDYXNlWydjb25zZXF1ZW50J11bbl0pIHtcbiAgICAgICAgICBzdGF0ZS5pc1N3aXRjaCA9IHRydWU7XG4gICAgICAgICAgc3RhdGUubl8gPSBuICsgMTtcbiAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKHN3aXRjaENhc2VbJ2NvbnNlcXVlbnQnXVtuXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTW92ZSBvbiB0byBuZXh0IGNhc2UuXG4gICAgICBzdGF0ZS50ZXN0ZWRfID0gZmFsc2U7XG4gICAgICBzdGF0ZS5uXyA9IDA7XG4gICAgICBzdGF0ZS5pbmRleF8gPSBpbmRleCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwVGhpc0V4cHJlc3Npb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICBzdGFjay5wb3AoKTtcbiAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSB0aGlzLmdldFZhbHVlRnJvbVNjb3BlKCd0aGlzJyk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBUaHJvd1N0YXRlbWVudCddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIGlmICghc3RhdGUuZG9uZV8pIHtcbiAgICBzdGF0ZS5kb25lXyA9IHRydWU7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydhcmd1bWVudCddLCBzdGF0ZS5zY29wZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy50aHJvd0V4Y2VwdGlvbihzdGF0ZS52YWx1ZSk7XG4gIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFRyeVN0YXRlbWVudCddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIGlmICghc3RhdGUuZG9uZUJsb2NrXykge1xuICAgIHN0YXRlLmRvbmVCbG9ja18gPSB0cnVlO1xuICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYmxvY2snXSwgc3RhdGUuc2NvcGUpO1xuICB9XG4gIGlmIChzdGF0ZS5jdiAmJiBzdGF0ZS5jdi50eXBlID09PSBJbnRlcnByZXRlci5Db21wbGV0aW9uLlRIUk9XICYmXG4gICAgICAhc3RhdGUuZG9uZUhhbmRsZXJfICYmIG5vZGVbJ2hhbmRsZXInXSkge1xuICAgIHN0YXRlLmRvbmVIYW5kbGVyXyA9IHRydWU7XG4gICAgdmFyIG5leHRTdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydoYW5kbGVyJ10sIHN0YXRlLnNjb3BlKTtcbiAgICBuZXh0U3RhdGUudGhyb3dWYWx1ZSA9IHN0YXRlLmN2LnZhbHVlO1xuICAgIHN0YXRlLmN2ID0gdW5kZWZpbmVkOyAgLy8gVGhpcyBlcnJvciBoYXMgYmVlbiBoYW5kbGVkLCBkb24ndCByZXRocm93LlxuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH1cbiAgaWYgKCFzdGF0ZS5kb25lRmluYWxpemVyXyAmJiBub2RlWydmaW5hbGl6ZXInXSkge1xuICAgIHN0YXRlLmRvbmVGaW5hbGl6ZXJfID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2ZpbmFsaXplciddLCBzdGF0ZS5zY29wZSk7XG4gIH1cbiAgc3RhY2sucG9wKCk7XG4gIGlmIChzdGF0ZS5jdikge1xuICAgIC8vIFRoZXJlIHdhcyBubyBjYXRjaCBoYW5kbGVyLCBvciB0aGUgY2F0Y2gvZmluYWxseSB0aHJldyBhbiBlcnJvci5cbiAgICAvLyBUaHJvdyB0aGUgZXJyb3IgdXAgdG8gYSBoaWdoZXIgdHJ5LlxuICAgIHRoaXMudW53aW5kKHN0YXRlLmN2LnR5cGUsIHN0YXRlLmN2LnZhbHVlLCBzdGF0ZS5jdi5sYWJlbCk7XG4gIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFVuYXJ5RXhwcmVzc2lvbiddID0gZnVuY3Rpb24oc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gIGlmICghc3RhdGUuZG9uZV8pIHtcbiAgICBzdGF0ZS5kb25lXyA9IHRydWU7XG4gICAgdmFyIG5leHRTdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydhcmd1bWVudCddLCBzdGF0ZS5zY29wZSk7XG4gICAgbmV4dFN0YXRlLmNvbXBvbmVudHMgPSBub2RlWydvcGVyYXRvciddID09PSAnZGVsZXRlJztcbiAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9XG4gIHN0YWNrLnBvcCgpO1xuICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICctJykge1xuICAgIHZhbHVlID0gLXZhbHVlO1xuICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICcrJykge1xuICAgIHZhbHVlID0gK3ZhbHVlO1xuICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICchJykge1xuICAgIHZhbHVlID0gIXZhbHVlO1xuICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICd+Jykge1xuICAgIHZhbHVlID0gfnZhbHVlO1xuICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICdkZWxldGUnKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgLy8gSWYgdmFsdWUgaXMgbm90IGFuIGFycmF5LCB0aGVuIGl0IGlzIGEgcHJpbWl0aXZlLCBvciBzb21lIG90aGVyIHZhbHVlLlxuICAgIC8vIElmIHNvLCBza2lwIHRoZSBkZWxldGUgYW5kIHJldHVybiB0cnVlLlxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFyIG9iaiA9IHZhbHVlWzBdO1xuICAgICAgaWYgKG9iaiA9PT0gSW50ZXJwcmV0ZXIuU0NPUEVfUkVGRVJFTkNFKSB7XG4gICAgICAgIC8vIGBkZWxldGUgZm9vO2AgaXMgdGhlIHNhbWUgYXMgYGRlbGV0ZSB3aW5kb3cuZm9vO2AuXG4gICAgICAgIG9iaiA9IHN0YXRlLnNjb3BlO1xuICAgICAgfVxuICAgICAgdmFyIG5hbWUgPSBTdHJpbmcodmFsdWVbMV0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGVsZXRlIG9iai5wcm9wZXJ0aWVzW25hbWVdO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RhdGUuc2NvcGUuc3RyaWN0KSB7XG4gICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIFwiQ2Fubm90IGRlbGV0ZSBwcm9wZXJ0eSAnXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSArIFwiJyBvZiAnXCIgKyBvYmogKyBcIidcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFsdWUgPSByZXN1bHQ7XG4gIH0gZWxzZSBpZiAobm9kZVsnb3BlcmF0b3InXSA9PT0gJ3R5cGVvZicpIHtcbiAgICB2YWx1ZSA9ICh2YWx1ZSAmJiB2YWx1ZS5jbGFzcyA9PT0gJ0Z1bmN0aW9uJykgPyAnZnVuY3Rpb24nIDogdHlwZW9mIHZhbHVlO1xuICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICd2b2lkJykge1xuICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIHRocm93IFN5bnRheEVycm9yKCdVbmtub3duIHVuYXJ5IG9wZXJhdG9yOiAnICsgbm9kZVsnb3BlcmF0b3InXSk7XG4gIH1cbiAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSB2YWx1ZTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFVwZGF0ZUV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICBpZiAoIXN0YXRlLmRvbmVMZWZ0Xykge1xuICAgIHN0YXRlLmRvbmVMZWZ0XyA9IHRydWU7XG4gICAgdmFyIG5leHRTdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydhcmd1bWVudCddLCBzdGF0ZS5zY29wZSk7XG4gICAgbmV4dFN0YXRlLmNvbXBvbmVudHMgPSB0cnVlO1xuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH1cbiAgaWYgKCFzdGF0ZS5sZWZ0U2lkZV8pIHtcbiAgICBzdGF0ZS5sZWZ0U2lkZV8gPSBzdGF0ZS52YWx1ZTtcbiAgfVxuICBpZiAoc3RhdGUuZG9uZUdldHRlcl8pIHtcbiAgICBzdGF0ZS5sZWZ0VmFsdWVfID0gc3RhdGUudmFsdWU7XG4gIH1cbiAgaWYgKCFzdGF0ZS5kb25lR2V0dGVyXykge1xuICAgIHZhciBsZWZ0VmFsdWUgPSB0aGlzLmdldFZhbHVlKHN0YXRlLmxlZnRTaWRlXyk7XG4gICAgc3RhdGUubGVmdFZhbHVlXyA9IGxlZnRWYWx1ZTtcbiAgICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgICAgLy8gQ2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAgc3RhdGUuZG9uZUdldHRlcl8gPSB0cnVlO1xuICAgICAgdmFyIGZ1bmMgPSAvKiogQHR5cGUgeyFJbnRlcnByZXRlci5PYmplY3R9ICovIChsZWZ0VmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR2V0dGVyXyhmdW5jLCBzdGF0ZS5sZWZ0U2lkZV8pO1xuICAgIH1cbiAgfVxuICBpZiAoc3RhdGUuZG9uZVNldHRlcl8pIHtcbiAgICAvLyBSZXR1cm4gaWYgc2V0dGVyIGZ1bmN0aW9uLlxuICAgIC8vIFNldHRlciBtZXRob2Qgb24gcHJvcGVydHkgaGFzIGNvbXBsZXRlZC5cbiAgICAvLyBJZ25vcmUgaXRzIHJldHVybiB2YWx1ZSwgYW5kIHVzZSB0aGUgb3JpZ2luYWwgc2V0IHZhbHVlIGluc3RlYWQuXG4gICAgc3RhY2sucG9wKCk7XG4gICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS5zZXR0ZXJWYWx1ZV87XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBsZWZ0VmFsdWUgPSBOdW1iZXIoc3RhdGUubGVmdFZhbHVlXyk7XG4gIHZhciBjaGFuZ2VWYWx1ZTtcbiAgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICcrKycpIHtcbiAgICBjaGFuZ2VWYWx1ZSA9IGxlZnRWYWx1ZSArIDE7XG4gIH0gZWxzZSBpZiAobm9kZVsnb3BlcmF0b3InXSA9PT0gJy0tJykge1xuICAgIGNoYW5nZVZhbHVlID0gbGVmdFZhbHVlIC0gMTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBTeW50YXhFcnJvcignVW5rbm93biB1cGRhdGUgZXhwcmVzc2lvbjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICB9XG4gIHZhciByZXR1cm5WYWx1ZSA9IG5vZGVbJ3ByZWZpeCddID8gY2hhbmdlVmFsdWUgOiBsZWZ0VmFsdWU7XG4gIHZhciBzZXR0ZXIgPSB0aGlzLnNldFZhbHVlKHN0YXRlLmxlZnRTaWRlXywgY2hhbmdlVmFsdWUpO1xuICBpZiAoc2V0dGVyKSB7XG4gICAgc3RhdGUuZG9uZVNldHRlcl8gPSB0cnVlO1xuICAgIHN0YXRlLnNldHRlclZhbHVlXyA9IHJldHVyblZhbHVlO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNldHRlcl8oc2V0dGVyLCBzdGF0ZS5sZWZ0U2lkZV8sIGNoYW5nZVZhbHVlKTtcbiAgfVxuICAvLyBSZXR1cm4gaWYgbm8gc2V0dGVyIGZ1bmN0aW9uLlxuICBzdGFjay5wb3AoKTtcbiAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSByZXR1cm5WYWx1ZTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFZhcmlhYmxlRGVjbGFyYXRpb24nXSA9IGZ1bmN0aW9uKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICB2YXIgZGVjbGFyYXRpb25zID0gbm9kZVsnZGVjbGFyYXRpb25zJ107XG4gIHZhciBuID0gc3RhdGUubl8gfHwgMDtcbiAgdmFyIGRlY2xhcmF0aW9uTm9kZSA9IGRlY2xhcmF0aW9uc1tuXTtcbiAgaWYgKHN0YXRlLmluaXRfICYmIGRlY2xhcmF0aW9uTm9kZSkge1xuICAgIC8vIFRoaXMgc2V0VmFsdWUgY2FsbCBuZXZlciBuZWVkcyB0byBkZWFsIHdpdGggY2FsbGluZyBhIHNldHRlciBmdW5jdGlvbi5cbiAgICAvLyBOb3RlIHRoYXQgdGhpcyBpcyBzZXR0aW5nIHRoZSBpbml0IHZhbHVlLCBub3QgZGVmaW5pbmcgdGhlIHZhcmlhYmxlLlxuICAgIC8vIFZhcmlhYmxlIGRlZmluaXRpb24gaXMgZG9uZSB3aGVuIHNjb3BlIGlzIHBvcHVsYXRlZC5cbiAgICB0aGlzLnNldFZhbHVlVG9TY29wZShkZWNsYXJhdGlvbk5vZGVbJ2lkJ11bJ25hbWUnXSwgc3RhdGUudmFsdWUpO1xuICAgIHN0YXRlLmluaXRfID0gZmFsc2U7XG4gICAgZGVjbGFyYXRpb25Ob2RlID0gZGVjbGFyYXRpb25zWysrbl07XG4gIH1cbiAgd2hpbGUgKGRlY2xhcmF0aW9uTm9kZSkge1xuICAgIC8vIFNraXAgYW55IGRlY2xhcmF0aW9ucyB0aGF0IGFyZSBub3QgaW5pdGlhbGl6ZWQuICBUaGV5IGhhdmUgYWxyZWFkeVxuICAgIC8vIGJlZW4gZGVmaW5lZCBhcyB1bmRlZmluZWQgaW4gcG9wdWxhdGVTY29wZV8uXG4gICAgaWYgKGRlY2xhcmF0aW9uTm9kZVsnaW5pdCddKSB7XG4gICAgICBzdGF0ZS5uXyA9IG47XG4gICAgICBzdGF0ZS5pbml0XyA9IHRydWU7XG4gICAgICAvLyBXaGVuIGFzc2lnbmluZyBhbiB1bm5hbWVkIGZ1bmN0aW9uIHRvIGEgdmFyaWFibGUsIHRoZSBmdW5jdGlvbidzIG5hbWVcbiAgICAgIC8vIGlzIHNldCB0byB0aGUgdmFyaWFibGUgbmFtZS4gIFJlY29yZCB0aGUgdmFyaWFibGUgbmFtZSBpbiBjYXNlIHRoZVxuICAgICAgLy8gcmlnaHQgc2lkZSBpcyBhIGZ1bmN0aW9uRXhwcmVzc2lvbi5cbiAgICAgIC8vIEUuZy4gdmFyIGZvbyA9IGZ1bmN0aW9uKCkge307XG4gICAgICBzdGF0ZS5kZXN0aW5hdGlvbk5hbWUgPSBkZWNsYXJhdGlvbk5vZGVbJ2lkJ11bJ25hbWUnXTtcbiAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZGVjbGFyYXRpb25Ob2RlWydpbml0J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gICAgZGVjbGFyYXRpb25Ob2RlID0gZGVjbGFyYXRpb25zWysrbl07XG4gIH1cbiAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBXaXRoU3RhdGVtZW50J10gPSBmdW5jdGlvbihzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgaWYgKCFzdGF0ZS5kb25lT2JqZWN0Xykge1xuICAgIHN0YXRlLmRvbmVPYmplY3RfID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ29iamVjdCddLCBzdGF0ZS5zY29wZSk7XG4gIH0gZWxzZSBpZiAoIXN0YXRlLmRvbmVCb2R5Xykge1xuICAgIHN0YXRlLmRvbmVCb2R5XyA9IHRydWU7XG4gICAgdmFyIHNjb3BlID0gdGhpcy5jcmVhdGVTcGVjaWFsU2NvcGUoc3RhdGUuc2NvcGUsIHN0YXRlLnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2JvZHknXSwgc2NvcGUpO1xuICB9IGVsc2Uge1xuICAgIHN0YWNrLnBvcCgpO1xuICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBXaGlsZVN0YXRlbWVudCddID1cbiAgICBJbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBEb1doaWxlU3RhdGVtZW50J107XG5cbi8vIFByZXNlcnZlIHRvcC1sZXZlbCBBUEkgZnVuY3Rpb25zIGZyb20gYmVpbmcgcHJ1bmVkL3JlbmFtZWQgYnkgSlMgY29tcGlsZXJzLlxuLy8gQWRkIG90aGVycyBhcyBuZWVkZWQuXG4vLyBUaGUgZ2xvYmFsIG9iamVjdCAoYHdpbmRvd2AgaW4gYSBicm93c2VyLCBgZ2xvYmFsYCBpbiBub2RlLmpzKSBpcyBgdGhpc2AuXG50aGlzLkludGVycHJldGVyID0gSW50ZXJwcmV0ZXI7XG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXAnXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5zdGVwO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydydW4nXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5ydW47XG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ2FwcGVuZENvZGUnXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5hcHBlbmRDb2RlO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydjcmVhdGVPYmplY3QnXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVPYmplY3Q7XG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ2NyZWF0ZU9iamVjdFByb3RvJ10gPVxuICAgIEludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVPYmplY3RQcm90bztcbkludGVycHJldGVyLnByb3RvdHlwZVsnY3JlYXRlQXN5bmNGdW5jdGlvbiddID1cbiAgICBJbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlQXN5bmNGdW5jdGlvbjtcbkludGVycHJldGVyLnByb3RvdHlwZVsnY3JlYXRlTmF0aXZlRnVuY3Rpb24nXSA9XG4gICAgSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydnZXRQcm9wZXJ0eSddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlLmdldFByb3BlcnR5O1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzZXRQcm9wZXJ0eSddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNldFByb3BlcnR5O1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWyduYXRpdmVUb1BzZXVkbyddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlLm5hdGl2ZVRvUHNldWRvO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydwc2V1ZG9Ub05hdGl2ZSddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBzZXVkb1RvTmF0aXZlO1xuXG5cbi8qKiovIH0pXG5cbi8qKioqKiovIFx0fSk7XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0ICovXG4vKioqKioqLyBcdCgoKSA9PiB7XG4vKioqKioqLyBcdFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG4vKioqKioqLyBcdFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG4vKioqKioqLyBcdFx0XHRcdCgpID0+IChtb2R1bGUpO1xuLyoqKioqKi8gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdH0pKCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMgKi9cbi8qKioqKiovIFx0KCgpID0+IHtcbi8qKioqKiovIFx0XHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcbi8qKioqKiovIFx0XHRcdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcbi8qKioqKiovIFx0XHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdH0pKCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kICovXG4vKioqKioqLyBcdCgoKSA9PiB7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKVxuLyoqKioqKi8gXHR9KSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCAqL1xuLyoqKioqKi8gXHQoKCkgPT4ge1xuLyoqKioqKi8gXHRcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuLyoqKioqKi8gXHRcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHR9KSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IHt9O1xuLy8gVGhpcyBlbnRyeSBuZWVkIHRvIGJlIHdyYXBwZWQgaW4gYW4gSUlGRSBiZWNhdXNlIGl0IG5lZWQgdG8gYmUgaW4gc3RyaWN0IG1vZGUuXG4oKCkgPT4ge1xuXCJ1c2Ugc3RyaWN0XCI7XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2pzLWludGVycHJldGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIHtcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJkZWZhdWx0XCI6ICgpID0+IChfX1dFQlBBQ0tfREVGQVVMVF9FWFBPUlRfXylcbi8qIGhhcm1vbnkgZXhwb3J0ICovIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9vcmlnaW5hbF9yZXBvX2ludGVycHJldGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9vcmlnaW5hbC1yZXBvL2ludGVycHJldGVyICovIFwiLi9vcmlnaW5hbC1yZXBvL2ludGVycHJldGVyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9vcmlnaW5hbF9yZXBvX2ludGVycHJldGVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX29yaWdpbmFsX3JlcG9faW50ZXJwcmV0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBjb25zdCBfX1dFQlBBQ0tfREVGQVVMVF9FWFBPUlRfXyA9IChfb3JpZ2luYWxfcmVwb19pbnRlcnByZXRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLkludGVycHJldGVyKTtcblxufSkoKTtcblxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdO1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX2V4cG9ydHNfXztcbi8qKioqKiovIH0pKClcbjtcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/@deriv/js-interpreter/lib/js-interpreter.js\n");

/***/ }),

/***/ "./api/api-base.js":
/*!*************************!*\
  !*** ./api/api-base.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api_base\": () => (/* binding */ api_base)\n/* harmony export */ });\n/* harmony import */ var _tradeEngine_utils_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../tradeEngine/utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tradeEngine/utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _appId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./appId */ \"./api/appId.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\nvar APIBase = /*#__PURE__*/function () {\n  function APIBase() {\n    var _this = this;\n    _classCallCheck(this, APIBase);\n    this.api = void 0;\n    this.token = void 0;\n    this.account_id = void 0;\n    this.pip_sizes = {};\n    this.account_info = {};\n    this.is_running = false;\n    this.subscriptions = [];\n    this.time_interval = null;\n    this.has_activeSymbols = false;\n    this.is_stopping = false;\n    this.reconnectIfNotConnected = function () {\n      // eslint-disable-next-line no-console\n      console.log('connection state: ', _this.api.connection.readyState);\n      if (_this.api.connection.readyState !== 1) {\n        // eslint-disable-next-line no-console\n        console.log('Info: Connection to the server was closed, trying to reconnect.');\n        _this.init();\n      }\n    };\n    this.getActiveSymbols = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              (0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.doUntilDone)(function () {\n                return _this.api.send({\n                  active_symbols: 'brief'\n                });\n              }).then(function (_ref2) {\n                var _ref2$active_symbols = _ref2.active_symbols,\n                  active_symbols = _ref2$active_symbols === void 0 ? [] : _ref2$active_symbols;\n                var pip_sizes = {};\n                if (active_symbols.length) _this.has_activeSymbols = true;\n                active_symbols.forEach(function (_ref3) {\n                  var symbol = _ref3.symbol,\n                    pip = _ref3.pip;\n                  pip_sizes[symbol] = +(+pip).toExponential().substring(3);\n                });\n                _this.pip_sizes = pip_sizes;\n                _this.toggleRunButton(false);\n              });\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    this.toggleRunButton = function (toggle) {\n      var run_button = document.querySelector('#db-animation__run-button');\n      if (!run_button) return;\n      run_button.disabled = toggle;\n    };\n  }\n  _createClass(APIBase, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var force_update,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                force_update = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : false;\n                if (!(0,_appId__WEBPACK_IMPORTED_MODULE_2__.getLoginId)()) {\n                  _context2.next = 11;\n                  break;\n                }\n                this.toggleRunButton(true);\n                if (force_update) this.terminate();\n                this.api = (0,_appId__WEBPACK_IMPORTED_MODULE_2__.generateDerivApiInstance)();\n                this.initEventListeners();\n                _context2.next = 8;\n                return this.authorizeAndSubscribe();\n              case 8:\n                if (this.time_interval) clearInterval(this.time_interval);\n                this.time_interval = null;\n                this.getTime();\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"getConnectionStatus\",\n    value: function getConnectionStatus() {\n      var _this$api;\n      if ((_this$api = this.api) !== null && _this$api !== void 0 && _this$api.connection) {\n        var ready_state = this.api.connection.readyState;\n        return _tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.socket_state[ready_state] || 'Unknown';\n      }\n      return 'Socket not initialized';\n    }\n  }, {\n    key: \"terminate\",\n    value: function terminate() {\n      // eslint-disable-next-line no-console\n      console.log('connection terminated');\n      if (this.api) this.api.disconnect();\n    }\n  }, {\n    key: \"initEventListeners\",\n    value: function initEventListeners() {\n      if (window) {\n        window.addEventListener('online', this.reconnectIfNotConnected);\n        window.addEventListener('focus', this.reconnectIfNotConnected);\n      }\n    }\n  }, {\n    key: \"createNewInstance\",\n    value: function createNewInstance(account_id) {\n      if (this.account_id !== account_id) {\n        this.init(true);\n      }\n    }\n  }, {\n    key: \"authorizeAndSubscribe\",\n    value: function () {\n      var _authorizeAndSubscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _getToken, token, account_id, _yield$this$api$expec, authorize;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _getToken = (0,_appId__WEBPACK_IMPORTED_MODULE_2__.getToken)(), token = _getToken.token, account_id = _getToken.account_id;\n                if (!token) {\n                  _context3.next = 19;\n                  break;\n                }\n                this.token = token;\n                this.account_id = account_id;\n                this.api.authorize(this.token);\n                _context3.prev = 5;\n                _context3.next = 8;\n                return this.api.expectResponse('authorize');\n              case 8:\n                _yield$this$api$expec = _context3.sent;\n                authorize = _yield$this$api$expec.authorize;\n                if (this.has_activeSymbols) {\n                  this.toggleRunButton(false);\n                } else {\n                  this.getActiveSymbols();\n                }\n                _context3.next = 13;\n                return this.subscribe();\n              case 13:\n                this.account_info = authorize;\n                _context3.next = 19;\n                break;\n              case 16:\n                _context3.prev = 16;\n                _context3.t0 = _context3[\"catch\"](5);\n                _tradeEngine_utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('Error', _context3.t0);\n              case 19:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[5, 16]]);\n      }));\n      function authorizeAndSubscribe() {\n        return _authorizeAndSubscribe.apply(this, arguments);\n      }\n      return authorizeAndSubscribe;\n    }()\n  }, {\n    key: \"subscribe\",\n    value: function () {\n      var _subscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var _this2 = this;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return Promise.all([(0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.doUntilDone)(function () {\n                  return _this2.api.send({\n                    balance: 1,\n                    subscribe: 1\n                  });\n                }), (0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.doUntilDone)(function () {\n                  return _this2.api.send({\n                    transaction: 1,\n                    subscribe: 1\n                  });\n                }), (0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.doUntilDone)(function () {\n                  return _this2.api.send({\n                    proposal_open_contract: 1,\n                    subscribe: 1\n                  });\n                })]);\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n      function subscribe() {\n        return _subscribe.apply(this, arguments);\n      }\n      return subscribe;\n    }()\n  }, {\n    key: \"setIsRunning\",\n    value: function setIsRunning() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.is_running = toggle;\n    }\n  }, {\n    key: \"pushSubscription\",\n    value: function pushSubscription(subscription) {\n      this.subscriptions.push(subscription);\n    }\n  }, {\n    key: \"clearSubscriptions\",\n    value: function clearSubscriptions() {\n      var _globalObserver$getSt;\n      this.subscriptions.forEach(function (s) {\n        return s.unsubscribe();\n      });\n      this.subscriptions = [];\n\n      // Resetting timeout resolvers\n      var global_timeouts = (_globalObserver$getSt = _tradeEngine_utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.getState('global_timeouts')) !== null && _globalObserver$getSt !== void 0 ? _globalObserver$getSt : [];\n      global_timeouts.forEach(function (_, i) {\n        clearTimeout(i);\n      });\n    }\n  }, {\n    key: \"getTime\",\n    value: function getTime() {\n      var _this3 = this;\n      if (!this.time_interval) {\n        this.time_interval = setInterval(function () {\n          _this3.api.send({\n            time: 1\n          });\n        }, 30000);\n      }\n    }\n  }]);\n  return APIBase;\n}();\nvar api_base = new APIBase();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcGkvYXBpLWJhc2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQStCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBL0ZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vYXBpL2FwaS1iYXNlLmpzP2QwN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2ZXIgYXMgZ2xvYmFsT2JzZXJ2ZXIgfSBmcm9tICcuLy4uL3RyYWRlRW5naW5lL3V0aWxzL29ic2VydmVyJztcbmltcG9ydCB7IGRvVW50aWxEb25lLCBzb2NrZXRfc3RhdGUgfSBmcm9tICcuLi90cmFkZUVuZ2luZS91dGlscy9oZWxwZXJzJztcbmltcG9ydCB7IGdlbmVyYXRlRGVyaXZBcGlJbnN0YW5jZSwgZ2V0TG9naW5JZCwgZ2V0VG9rZW4gfSBmcm9tICcuL2FwcElkJztcblxuY2xhc3MgQVBJQmFzZSB7XG4gICAgYXBpO1xuICAgIHRva2VuO1xuICAgIGFjY291bnRfaWQ7XG4gICAgcGlwX3NpemVzID0ge307XG4gICAgYWNjb3VudF9pbmZvID0ge307XG4gICAgaXNfcnVubmluZyA9IGZhbHNlO1xuICAgIHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB0aW1lX2ludGVydmFsID0gbnVsbDtcbiAgICBoYXNfYWN0aXZlU3ltYm9scyA9IGZhbHNlO1xuICAgIGlzX3N0b3BwaW5nID0gZmFsc2U7XG5cbiAgICBhc3luYyBpbml0KGZvcmNlX3VwZGF0ZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChnZXRMb2dpbklkKCkpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUnVuQnV0dG9uKHRydWUpO1xuICAgICAgICAgICAgaWYgKGZvcmNlX3VwZGF0ZSkgdGhpcy50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIHRoaXMuYXBpID0gZ2VuZXJhdGVEZXJpdkFwaUluc3RhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hdXRob3JpemVBbmRTdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVfaW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lX2ludGVydmFsKTtcbiAgICAgICAgICAgIHRoaXMudGltZV9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbm5lY3Rpb25TdGF0dXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmFwaT8uY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcmVhZHlfc3RhdGUgPSB0aGlzLmFwaS5jb25uZWN0aW9uLnJlYWR5U3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gc29ja2V0X3N0YXRlW3JlYWR5X3N0YXRlXSB8fCAnVW5rbm93bic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdTb2NrZXQgbm90IGluaXRpYWxpemVkJztcbiAgICB9XG5cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRlcm1pbmF0ZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuYXBpKSB0aGlzLmFwaS5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgaW5pdEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBpZiAod2luZG93KSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5yZWNvbm5lY3RJZk5vdENvbm5lY3RlZCk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnJlY29ubmVjdElmTm90Q29ubmVjdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZU5ld0luc3RhbmNlKGFjY291bnRfaWQpIHtcbiAgICAgICAgaWYgKHRoaXMuYWNjb3VudF9pZCAhPT0gYWNjb3VudF9pZCkge1xuICAgICAgICAgICAgdGhpcy5pbml0KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVjb25uZWN0SWZOb3RDb25uZWN0ZWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHN0YXRlOiAnLCB0aGlzLmFwaS5jb25uZWN0aW9uLnJlYWR5U3RhdGUpO1xuICAgICAgICBpZiAodGhpcy5hcGkuY29ubmVjdGlvbi5yZWFkeVN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0luZm86IENvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciB3YXMgY2xvc2VkLCB0cnlpbmcgdG8gcmVjb25uZWN0LicpO1xuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMgYXV0aG9yaXplQW5kU3Vic2NyaWJlKCkge1xuICAgICAgICBjb25zdCB7IHRva2VuLCBhY2NvdW50X2lkIH0gPSBnZXRUb2tlbigpO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgIHRoaXMuYWNjb3VudF9pZCA9IGFjY291bnRfaWQ7XG4gICAgICAgICAgICB0aGlzLmFwaS5hdXRob3JpemUodGhpcy50b2tlbik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYXV0aG9yaXplIH0gPSBhd2FpdCB0aGlzLmFwaS5leHBlY3RSZXNwb25zZSgnYXV0aG9yaXplJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzX2FjdGl2ZVN5bWJvbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVSdW5CdXR0b24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWN0aXZlU3ltYm9scygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudF9pbmZvID0gYXV0aG9yaXplO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGdsb2JhbE9ic2VydmVyLmVtaXQoJ0Vycm9yJywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzdWJzY3JpYmUoKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGRvVW50aWxEb25lKCgpID0+IHRoaXMuYXBpLnNlbmQoeyBiYWxhbmNlOiAxLCBzdWJzY3JpYmU6IDEgfSkpLFxuICAgICAgICAgICAgZG9VbnRpbERvbmUoKCkgPT4gdGhpcy5hcGkuc2VuZCh7IHRyYW5zYWN0aW9uOiAxLCBzdWJzY3JpYmU6IDEgfSkpLFxuICAgICAgICAgICAgZG9VbnRpbERvbmUoKCkgPT4gdGhpcy5hcGkuc2VuZCh7IHByb3Bvc2FsX29wZW5fY29udHJhY3Q6IDEsIHN1YnNjcmliZTogMSB9KSksXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZVN5bWJvbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGRvVW50aWxEb25lKCgpID0+IHRoaXMuYXBpLnNlbmQoeyBhY3RpdmVfc3ltYm9sczogJ2JyaWVmJyB9KSkudGhlbigoeyBhY3RpdmVfc3ltYm9scyA9IFtdIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBpcF9zaXplcyA9IHt9O1xuICAgICAgICAgICAgaWYgKGFjdGl2ZV9zeW1ib2xzLmxlbmd0aCkgdGhpcy5oYXNfYWN0aXZlU3ltYm9scyA9IHRydWU7XG4gICAgICAgICAgICBhY3RpdmVfc3ltYm9scy5mb3JFYWNoKCh7IHN5bWJvbCwgcGlwIH0pID0+IHtcbiAgICAgICAgICAgICAgICBwaXBfc2l6ZXNbc3ltYm9sXSA9ICsoK3BpcCkudG9FeHBvbmVudGlhbCgpLnN1YnN0cmluZygzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5waXBfc2l6ZXMgPSBwaXBfc2l6ZXM7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVJ1bkJ1dHRvbihmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0b2dnbGVSdW5CdXR0b24gPSB0b2dnbGUgPT4ge1xuICAgICAgICBjb25zdCBydW5fYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RiLWFuaW1hdGlvbl9fcnVuLWJ1dHRvbicpO1xuICAgICAgICBpZiAoIXJ1bl9idXR0b24pIHJldHVybjtcbiAgICAgICAgcnVuX2J1dHRvbi5kaXNhYmxlZCA9IHRvZ2dsZTtcbiAgICB9O1xuXG4gICAgc2V0SXNSdW5uaW5nKHRvZ2dsZSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuaXNfcnVubmluZyA9IHRvZ2dsZTtcbiAgICB9XG5cbiAgICBwdXNoU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgIH1cblxuICAgIGNsZWFyU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2gocyA9PiBzLnVuc3Vic2NyaWJlKCkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgICAgICAvLyBSZXNldHRpbmcgdGltZW91dCByZXNvbHZlcnNcbiAgICAgICAgY29uc3QgZ2xvYmFsX3RpbWVvdXRzID0gZ2xvYmFsT2JzZXJ2ZXIuZ2V0U3RhdGUoJ2dsb2JhbF90aW1lb3V0cycpID8/IFtdO1xuXG4gICAgICAgIGdsb2JhbF90aW1lb3V0cy5mb3JFYWNoKChfLCBpKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFRpbWUoKSB7XG4gICAgICAgIGlmICghdGhpcy50aW1lX2ludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVfaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcGkuc2VuZCh7IHRpbWU6IDEgfSk7XG4gICAgICAgICAgICB9LCAzMDAwMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBhcGlfYmFzZSA9IG5ldyBBUElCYXNlKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./api/api-base.js\n");

/***/ }),

/***/ "./api/api-middleware.js":
/*!*******************************!*\
  !*** ./api/api-middleware.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"REQUESTS\": () => (/* binding */ REQUESTS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_logs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-logs */ \"../../node_modules/@datadog/browser-logs/esm/entries/main.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _process$env$DATADOG_, _process$env$DATADOG_2;\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\nvar DATADOG_CLIENT_TOKEN_LOGS = (_process$env$DATADOG_ = process.env.DATADOG_CLIENT_TOKEN_LOGS) !== null && _process$env$DATADOG_ !== void 0 ? _process$env$DATADOG_ : '';\nvar isProduction = \"development\" === 'production';\nvar isStaging = \"development\" === 'staging';\nvar dataDogSessionSampleRate = 0;\ndataDogSessionSampleRate = (_process$env$DATADOG_2 = +process.env.DATADOG_SESSION_SAMPLE_RATE_LOGS) !== null && _process$env$DATADOG_2 !== void 0 ? _process$env$DATADOG_2 : 1;\nvar dataDogVersion = '';\nvar dataDogEnv = '';\nif (isProduction) {\n  dataDogVersion = \"deriv-app-\".concat(process.env.REF_NAME);\n  dataDogEnv = 'production';\n} else if (isStaging) {\n  dataDogVersion = \"deriv-app-staging-v\".concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatDate)(new Date(), 'YYYYMMDD'), \"-\").concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatTime)(Date.now(), 'HH:mm'));\n  dataDogEnv = 'staging';\n}\nif (DATADOG_CLIENT_TOKEN_LOGS) {\n  _datadog_browser_logs__WEBPACK_IMPORTED_MODULE_0__.datadogLogs.init({\n    clientToken: DATADOG_CLIENT_TOKEN_LOGS,\n    site: 'datadoghq.com',\n    forwardErrorsToLogs: false,\n    service: 'Dbot',\n    sessionSampleRate: dataDogSessionSampleRate,\n    version: dataDogVersion,\n    env: dataDogEnv\n  });\n}\nvar REQUESTS = ['active_symbols', 'authorize', 'balance', 'buy', 'proposal', 'proposal_open_contract', 'transaction', 'ticks_history', 'history'];\nvar APIMiddleware = /*#__PURE__*/function () {\n  function APIMiddleware(config) {\n    var _this = this;\n    _classCallCheck(this, APIMiddleware);\n    this.getRequestType = function (request) {\n      var req_type;\n      REQUESTS.forEach(function (type) {\n        if (type in request && !req_type) req_type = type;\n      });\n      return req_type;\n    };\n    this.log = function () {\n      var measures = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var is_bot_running = arguments.length > 1 ? arguments[1] : undefined;\n      if (measures && measures.length) {\n        measures.forEach(function (measure) {\n          _datadog_browser_logs__WEBPACK_IMPORTED_MODULE_0__.datadogLogs.logger.info(measure.name, {\n            name: measure.name,\n            startTime: measure.startTimeDate,\n            duration: measure.duration,\n            detail: measure.detail,\n            isBotRunning: is_bot_running\n          });\n        });\n      }\n    };\n    this.defineMeasure = function (res_type) {\n      if (res_type) {\n        var measure;\n        if (res_type === 'history') {\n          performance.mark('ticks_history_end');\n          measure = performance.measure('ticks_history', 'ticks_history_start', 'ticks_history_end');\n        } else {\n          performance.mark(\"\".concat(res_type, \"_end\"));\n          measure = performance.measure(\"\".concat(res_type), \"\".concat(res_type, \"_start\"), \"\".concat(res_type, \"_end\"));\n        }\n        return measure.startTimeDate = new Date(Date.now() - measure.startTime);\n      }\n      return false;\n    };\n    this.sendIsCalled = function (_ref) {\n      var response_promise = _ref.response_promise,\n        _ref$args = _slicedToArray(_ref.args, 1),\n        request = _ref$args[0];\n      var req_type = _this.getRequestType(request);\n      if (req_type) performance.mark(\"\".concat(req_type, \"_start\"));\n      response_promise.then(function (res) {\n        var res_type = _this.getRequestType(res);\n        if (res_type) {\n          _this.defineMeasure(res_type);\n        }\n      })[\"catch\"](function () {});\n      return response_promise;\n    };\n    this.sendRequestsStatistic = function (is_bot_running) {\n      REQUESTS.forEach(function (req_type) {\n        var measure = performance.getEntriesByName(req_type);\n        if (measure && measure.length) {\n          if (process.env.DATADOG_CLIENT_TOKEN_LOGS) {\n            _this.log(measure, is_bot_running, req_type);\n          }\n        }\n      });\n      performance.clearMeasures();\n    };\n    this.config = config;\n    this.debounced_calls = {};\n    this.addGlobalMethod();\n  }\n  _createClass(APIMiddleware, [{\n    key: \"addGlobalMethod\",\n    value: function addGlobalMethod() {\n      if (window) window.sendRequestsStatistic = this.sendRequestsStatistic;\n    }\n  }]);\n  return APIMiddleware;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (APIMiddleware);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcGkvYXBpLW1pZGRsZXdhcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBbUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vYXBpL2FwaS1taWRkbGV3YXJlLmpzP2ZlNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGF0YWRvZ0xvZ3MgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWxvZ3MnO1xuaW1wb3J0IHsgZm9ybWF0RGF0ZSwgZm9ybWF0VGltZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5jb25zdCBEQVRBRE9HX0NMSUVOVF9UT0tFTl9MT0dTID0gcHJvY2Vzcy5lbnYuREFUQURPR19DTElFTlRfVE9LRU5fTE9HUyA/PyAnJztcbmNvbnN0IGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG5jb25zdCBpc1N0YWdpbmcgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3N0YWdpbmcnO1xubGV0IGRhdGFEb2dTZXNzaW9uU2FtcGxlUmF0ZSA9IDA7XG5cbmRhdGFEb2dTZXNzaW9uU2FtcGxlUmF0ZSA9ICtwcm9jZXNzLmVudi5EQVRBRE9HX1NFU1NJT05fU0FNUExFX1JBVEVfTE9HUyA/PyAxO1xubGV0IGRhdGFEb2dWZXJzaW9uID0gJyc7XG5sZXQgZGF0YURvZ0VudiA9ICcnO1xuXG5pZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgZGF0YURvZ1ZlcnNpb24gPSBgZGVyaXYtYXBwLSR7cHJvY2Vzcy5lbnYuUkVGX05BTUV9YDtcbiAgICBkYXRhRG9nRW52ID0gJ3Byb2R1Y3Rpb24nO1xufSBlbHNlIGlmIChpc1N0YWdpbmcpIHtcbiAgICBkYXRhRG9nVmVyc2lvbiA9IGBkZXJpdi1hcHAtc3RhZ2luZy12JHtmb3JtYXREYXRlKG5ldyBEYXRlKCksICdZWVlZTU1ERCcpfS0ke2Zvcm1hdFRpbWUoRGF0ZS5ub3coKSwgJ0hIOm1tJyl9YDtcbiAgICBkYXRhRG9nRW52ID0gJ3N0YWdpbmcnO1xufVxuXG5pZiAoREFUQURPR19DTElFTlRfVE9LRU5fTE9HUykge1xuICAgIGRhdGFkb2dMb2dzLmluaXQoe1xuICAgICAgICBjbGllbnRUb2tlbjogREFUQURPR19DTElFTlRfVE9LRU5fTE9HUyxcbiAgICAgICAgc2l0ZTogJ2RhdGFkb2docS5jb20nLFxuICAgICAgICBmb3J3YXJkRXJyb3JzVG9Mb2dzOiBmYWxzZSxcbiAgICAgICAgc2VydmljZTogJ0Rib3QnLFxuICAgICAgICBzZXNzaW9uU2FtcGxlUmF0ZTogZGF0YURvZ1Nlc3Npb25TYW1wbGVSYXRlLFxuICAgICAgICB2ZXJzaW9uOiBkYXRhRG9nVmVyc2lvbixcbiAgICAgICAgZW52OiBkYXRhRG9nRW52LFxuICAgIH0pO1xufVxuXG5leHBvcnQgY29uc3QgUkVRVUVTVFMgPSBbXG4gICAgJ2FjdGl2ZV9zeW1ib2xzJyxcbiAgICAnYXV0aG9yaXplJyxcbiAgICAnYmFsYW5jZScsXG4gICAgJ2J1eScsXG4gICAgJ3Byb3Bvc2FsJyxcbiAgICAncHJvcG9zYWxfb3Blbl9jb250cmFjdCcsXG4gICAgJ3RyYW5zYWN0aW9uJyxcbiAgICAndGlja3NfaGlzdG9yeScsXG4gICAgJ2hpc3RvcnknLFxuXTtcblxuY2xhc3MgQVBJTWlkZGxld2FyZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmRlYm91bmNlZF9jYWxscyA9IHt9O1xuICAgICAgICB0aGlzLmFkZEdsb2JhbE1ldGhvZCgpO1xuICAgIH1cblxuICAgIGdldFJlcXVlc3RUeXBlID0gcmVxdWVzdCA9PiB7XG4gICAgICAgIGxldCByZXFfdHlwZTtcbiAgICAgICAgUkVRVUVTVFMuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlIGluIHJlcXVlc3QgJiYgIXJlcV90eXBlKSByZXFfdHlwZSA9IHR5cGU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXFfdHlwZTtcbiAgICB9O1xuXG4gICAgbG9nID0gKG1lYXN1cmVzID0gW10sIGlzX2JvdF9ydW5uaW5nKSA9PiB7XG4gICAgICAgIGlmIChtZWFzdXJlcyAmJiBtZWFzdXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1lYXN1cmVzLmZvckVhY2gobWVhc3VyZSA9PiB7XG4gICAgICAgICAgICAgICAgZGF0YWRvZ0xvZ3MubG9nZ2VyLmluZm8obWVhc3VyZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lYXN1cmUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBtZWFzdXJlLnN0YXJ0VGltZURhdGUsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBtZWFzdXJlLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IG1lYXN1cmUuZGV0YWlsLFxuICAgICAgICAgICAgICAgICAgICBpc0JvdFJ1bm5pbmc6IGlzX2JvdF9ydW5uaW5nLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZGVmaW5lTWVhc3VyZSA9IHJlc190eXBlID0+IHtcbiAgICAgICAgaWYgKHJlc190eXBlKSB7XG4gICAgICAgICAgICBsZXQgbWVhc3VyZTtcbiAgICAgICAgICAgIGlmIChyZXNfdHlwZSA9PT0gJ2hpc3RvcnknKSB7XG4gICAgICAgICAgICAgICAgcGVyZm9ybWFuY2UubWFyaygndGlja3NfaGlzdG9yeV9lbmQnKTtcbiAgICAgICAgICAgICAgICBtZWFzdXJlID0gcGVyZm9ybWFuY2UubWVhc3VyZSgndGlja3NfaGlzdG9yeScsICd0aWNrc19oaXN0b3J5X3N0YXJ0JywgJ3RpY2tzX2hpc3RvcnlfZW5kJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoYCR7cmVzX3R5cGV9X2VuZGApO1xuICAgICAgICAgICAgICAgIG1lYXN1cmUgPSBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke3Jlc190eXBlfWAsIGAke3Jlc190eXBlfV9zdGFydGAsIGAke3Jlc190eXBlfV9lbmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAobWVhc3VyZS5zdGFydFRpbWVEYXRlID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIG1lYXN1cmUuc3RhcnRUaW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBzZW5kSXNDYWxsZWQgPSAoeyByZXNwb25zZV9wcm9taXNlLCBhcmdzOiBbcmVxdWVzdF0gfSkgPT4ge1xuICAgICAgICBjb25zdCByZXFfdHlwZSA9IHRoaXMuZ2V0UmVxdWVzdFR5cGUocmVxdWVzdCk7XG4gICAgICAgIGlmIChyZXFfdHlwZSkgcGVyZm9ybWFuY2UubWFyayhgJHtyZXFfdHlwZX1fc3RhcnRgKTtcbiAgICAgICAgcmVzcG9uc2VfcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNfdHlwZSA9IHRoaXMuZ2V0UmVxdWVzdFR5cGUocmVzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbmVNZWFzdXJlKHJlc190eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlX3Byb21pc2U7XG4gICAgfTtcblxuICAgIHNlbmRSZXF1ZXN0c1N0YXRpc3RpYyA9IGlzX2JvdF9ydW5uaW5nID0+IHtcbiAgICAgICAgUkVRVUVTVFMuZm9yRWFjaChyZXFfdHlwZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlID0gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShyZXFfdHlwZSk7XG4gICAgICAgICAgICBpZiAobWVhc3VyZSAmJiBtZWFzdXJlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5EQVRBRE9HX0NMSUVOVF9UT0tFTl9MT0dTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKG1lYXN1cmUsIGlzX2JvdF9ydW5uaW5nLCByZXFfdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcygpO1xuICAgIH07XG5cbiAgICBhZGRHbG9iYWxNZXRob2QoKSB7XG4gICAgICAgIGlmICh3aW5kb3cpIHdpbmRvdy5zZW5kUmVxdWVzdHNTdGF0aXN0aWMgPSB0aGlzLnNlbmRSZXF1ZXN0c1N0YXRpc3RpYztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFQSU1pZGRsZXdhcmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./api/api-middleware.js\n");

/***/ }),

/***/ "./api/appId.js":
/*!**********************!*\
  !*** ./api/appId.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"generateDerivApiInstance\": () => (/* binding */ generateDerivApiInstance),\n/* harmony export */   \"getLoginId\": () => (/* binding */ getLoginId),\n/* harmony export */   \"getToken\": () => (/* binding */ getToken)\n/* harmony export */ });\n/* harmony import */ var _deriv_deriv_api_dist_DerivAPIBasic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/deriv-api/dist/DerivAPIBasic */ \"../../node_modules/@deriv/deriv-api/dist/DerivAPIBasic.js\");\n/* harmony import */ var _deriv_deriv_api_dist_DerivAPIBasic__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_deriv_api_dist_DerivAPIBasic__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _api_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./api-middleware */ \"./api/api-middleware.js\");\n\n\n\n\nvar generateDerivApiInstance = function generateDerivApiInstance() {\n  var socket_url = \"wss://\".concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getSocketURL)(), \"/websockets/v3?app_id=\").concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAppId)(), \"&l=\").concat((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.getLanguage)(), \"&brand=\").concat(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.website_name.toLowerCase());\n  var deriv_socket = new WebSocket(socket_url);\n  var deriv_api = new (_deriv_deriv_api_dist_DerivAPIBasic__WEBPACK_IMPORTED_MODULE_0___default())({\n    connection: deriv_socket,\n    middleware: new _api_middleware__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({})\n  });\n  return deriv_api;\n};\nvar getLoginId = function getLoginId() {\n  var login_id = localStorage.getItem('active_loginid');\n  if (login_id && login_id !== 'null') return login_id;\n  return null;\n};\nvar getToken = function getToken() {\n  var active_loginid = getLoginId();\n  var client_accounts = JSON.parse(localStorage.getItem('client.accounts')) || undefined;\n  var active_account = client_accounts && client_accounts[active_loginid] || {};\n  return {\n    token: (active_account === null || active_account === void 0 ? void 0 : active_account.token) || undefined,\n    account_id: active_loginid || undefined\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcGkvYXBwSWQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vYXBpL2FwcElkLmpzPzVhM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERlcml2QVBJQmFzaWMgZnJvbSAnQGRlcml2L2Rlcml2LWFwaS9kaXN0L0Rlcml2QVBJQmFzaWMnO1xuaW1wb3J0IHsgZ2V0QXBwSWQsIGdldFNvY2tldFVSTCwgd2Vic2l0ZV9uYW1lIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBnZXRMYW5ndWFnZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IEFQSU1pZGRsZXdhcmUgZnJvbSAnLi9hcGktbWlkZGxld2FyZSc7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZURlcml2QXBpSW5zdGFuY2UgPSAoKSA9PiB7XG4gICAgY29uc3Qgc29ja2V0X3VybCA9IGB3c3M6Ly8ke2dldFNvY2tldFVSTCgpfS93ZWJzb2NrZXRzL3YzP2FwcF9pZD0ke2dldEFwcElkKCl9Jmw9JHtnZXRMYW5ndWFnZSgpfSZicmFuZD0ke3dlYnNpdGVfbmFtZS50b0xvd2VyQ2FzZSgpfWA7XG4gICAgY29uc3QgZGVyaXZfc29ja2V0ID0gbmV3IFdlYlNvY2tldChzb2NrZXRfdXJsKTtcbiAgICBjb25zdCBkZXJpdl9hcGkgPSBuZXcgRGVyaXZBUElCYXNpYyh7XG4gICAgICAgIGNvbm5lY3Rpb246IGRlcml2X3NvY2tldCxcbiAgICAgICAgbWlkZGxld2FyZTogbmV3IEFQSU1pZGRsZXdhcmUoe30pLFxuICAgIH0pO1xuICAgIHJldHVybiBkZXJpdl9hcGk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TG9naW5JZCA9ICgpID0+IHtcbiAgICBjb25zdCBsb2dpbl9pZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVfbG9naW5pZCcpO1xuICAgIGlmIChsb2dpbl9pZCAmJiBsb2dpbl9pZCAhPT0gJ251bGwnKSByZXR1cm4gbG9naW5faWQ7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VG9rZW4gPSAoKSA9PiB7XG4gICAgY29uc3QgYWN0aXZlX2xvZ2luaWQgPSBnZXRMb2dpbklkKCk7XG4gICAgY29uc3QgY2xpZW50X2FjY291bnRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50LmFjY291bnRzJykpIHx8IHVuZGVmaW5lZDtcbiAgICBjb25zdCBhY3RpdmVfYWNjb3VudCA9IChjbGllbnRfYWNjb3VudHMgJiYgY2xpZW50X2FjY291bnRzW2FjdGl2ZV9sb2dpbmlkXSkgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW46IGFjdGl2ZV9hY2NvdW50Py50b2tlbiB8fCB1bmRlZmluZWQsXG4gICAgICAgIGFjY291bnRfaWQ6IGFjdGl2ZV9sb2dpbmlkIHx8IHVuZGVmaW5lZCxcbiAgICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./api/appId.js\n");

/***/ }),

/***/ "./api/ticks_service.js":
/*!******************************!*\
  !*** ./api/ticks_service.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TicksService)\n/* harmony export */ });\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! immutable */ \"../../node_modules/immutable/dist/immutable.js\");\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var binary_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! binary-utils */ \"../../node_modules/binary-utils/lib/index.js\");\n/* harmony import */ var _tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tradeEngine/utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _tradeEngine_utils_observer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../tradeEngine/utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _api_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\nvar parseTick = function parseTick(tick) {\n  return {\n    epoch: +tick.epoch,\n    quote: +tick.quote\n  };\n};\nvar parseOhlc = function parseOhlc(ohlc) {\n  return {\n    open: +ohlc.open,\n    high: +ohlc.high,\n    low: +ohlc.low,\n    close: +ohlc.close,\n    epoch: +(ohlc.open_time || ohlc.epoch)\n  };\n};\nvar parseCandles = function parseCandles(candles) {\n  return candles.map(function (t) {\n    return parseOhlc(t);\n  });\n};\nvar updateTicks = function updateTicks(ticks, newTick) {\n  return (0,binary_utils__WEBPACK_IMPORTED_MODULE_1__.getLast)(ticks).epoch >= newTick.epoch ? ticks : [].concat(_toConsumableArray(ticks.slice(1)), [newTick]);\n};\nvar updateCandles = function updateCandles(candles, ohlc) {\n  var lastCandle = (0,binary_utils__WEBPACK_IMPORTED_MODULE_1__.getLast)(candles);\n  if (lastCandle.open === ohlc.open && lastCandle.high === ohlc.high && lastCandle.low === ohlc.low && lastCandle.close === ohlc.close && lastCandle.epoch === ohlc.epoch || lastCandle.epoch > ohlc.epoch) {\n    return candles;\n  }\n  var prevCandles = lastCandle.epoch === ohlc.epoch ? candles.slice(0, -1) : candles.slice(1);\n  return [].concat(_toConsumableArray(prevCandles), [ohlc]);\n};\nvar getType = function getType(isCandle) {\n  return isCandle ? 'candles' : 'ticks';\n};\nvar TicksService = /*#__PURE__*/function () {\n  function TicksService() {\n    _classCallCheck(this, TicksService);\n    this.forget = function () {\n      return new Promise(function (resolve, reject) {\n        if (_api_base__WEBPACK_IMPORTED_MODULE_4__.api_base !== null && _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base !== void 0 && _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api) {\n          _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api.forgetAll('ticks').then(function () {\n            resolve();\n          })[\"catch\"](reject);\n        } else {\n          resolve();\n        }\n      });\n    };\n    this.forgetCandleSubscription = function () {\n      return new Promise(function (resolve, reject) {\n        if (_api_base__WEBPACK_IMPORTED_MODULE_4__.api_base !== null && _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base !== void 0 && _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api) {\n          _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api.forgetAll('candles').then(function () {\n            resolve();\n          })[\"catch\"](reject);\n        } else {\n          resolve();\n        }\n      });\n    };\n    this.ticks = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map();\n    this.candles = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map();\n    this.tickListeners = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map();\n    this.ohlcListeners = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map();\n    this.subscriptions = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map();\n    this.ticks_history_promise = null;\n    this.active_symbols_promise = null;\n    this.candles_promise = null;\n    this.observe();\n  }\n  _createClass(TicksService, [{\n    key: \"requestPipSizes\",\n    value: function requestPipSizes() {\n      var _this = this;\n      if (this.pipSizes) {\n        return Promise.resolve(this.pipSizes);\n      }\n      if (!this.active_symbols_promise) {\n        this.active_symbols_promise = new Promise(function (resolve) {\n          _this.pipSizes = _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.pip_sizes;\n          resolve(_this.pipSizes);\n        });\n      }\n      return this.active_symbols_promise;\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(options) {\n        var _this2 = this;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var symbol = options.symbol,\n                    granularity = options.granularity;\n                  var style = getType(granularity);\n                  if (style === 'ticks' && _this2.ticks.has(symbol)) {\n                    resolve(_this2.ticks.get(symbol));\n                  }\n                  if (style === 'candles' && _this2.candles.hasIn([symbol, Number(granularity)])) {\n                    resolve(_this2.candles.getIn([symbol, Number(granularity)]));\n                  }\n                  _this2.requestStream(_objectSpread(_objectSpread({}, options), {}, {\n                    style: style\n                  })).then(function (res) {\n                    resolve(res);\n                  })[\"catch\"](function (e) {\n                    reject(e);\n                  });\n                }));\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      function request(_x) {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"monitor\",\n    value: function monitor(options) {\n      var _this3 = this;\n      return new Promise(function (resolve, reject) {\n        var symbol = options.symbol,\n          granularity = options.granularity,\n          callback = options.callback;\n        var type = getType(granularity);\n        var key = (0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.getUUID)();\n        _this3.request(options).then(function () {\n          if (type === 'ticks') {\n            _this3.tickListeners = _this3.tickListeners.setIn([symbol, key], callback);\n            _tradeEngine_utils_observer__WEBPACK_IMPORTED_MODULE_3__.observer.emit('bot.bot_ready');\n            _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.toggleRunButton(false);\n          } else {\n            _this3.ohlcListeners = _this3.ohlcListeners.setIn([symbol, Number(granularity), key], callback);\n          }\n          resolve(key);\n        })[\"catch\"](function (e) {\n          _tradeEngine_utils_observer__WEBPACK_IMPORTED_MODULE_3__.observer.emit('Error', e);\n          _this3.ticks_history_promise = null;\n          _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.toggleRunButton(false);\n          reject(e);\n        });\n      });\n    }\n  }, {\n    key: \"stopMonitor\",\n    value: function () {\n      var _stopMonitor = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(options) {\n        var symbol, granularity, key, type;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                symbol = options.symbol, granularity = options.granularity, key = options.key;\n                type = getType(granularity);\n                if (type === 'ticks' && this.tickListeners.hasIn([symbol, key])) {\n                  this.tickListeners = this.tickListeners.deleteIn([symbol, key]);\n                }\n                if (type === 'candles' && this.ohlcListeners.hasIn([symbol, Number(granularity), key])) {\n                  this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity), key]);\n                }\n                _context2.next = 6;\n                return this.unsubscribeIfEmptyListeners(options);\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function stopMonitor(_x2) {\n        return _stopMonitor.apply(this, arguments);\n      }\n      return stopMonitor;\n    }()\n  }, {\n    key: \"unsubscribeIfEmptyListeners\",\n    value: function () {\n      var _unsubscribeIfEmptyListeners = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(options) {\n        var symbol, granularity, needToUnsubscribe, tickListener, ohlcListener;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                symbol = options.symbol, granularity = options.granularity;\n                needToUnsubscribe = false;\n                tickListener = this.tickListeners.get(symbol);\n                if (tickListener && !tickListener.size) {\n                  this.tickListeners = this.tickListeners[\"delete\"](symbol);\n                  this.ticks = this.ticks[\"delete\"](symbol);\n                  needToUnsubscribe = true;\n                }\n                ohlcListener = this.ohlcListeners.getIn([symbol, Number(granularity)]);\n                if (ohlcListener && !ohlcListener.size) {\n                  this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity)]);\n                  this.candles = this.candles.deleteIn([symbol, Number(granularity)]);\n                  needToUnsubscribe = true;\n                }\n                if (!needToUnsubscribe) {\n                  _context3.next = 9;\n                  break;\n                }\n                _context3.next = 9;\n                return this.unsubscribeAllAndSubscribeListeners(symbol);\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function unsubscribeIfEmptyListeners(_x3) {\n        return _unsubscribeIfEmptyListeners.apply(this, arguments);\n      }\n      return unsubscribeIfEmptyListeners;\n    }()\n  }, {\n    key: \"unsubscribeAllAndSubscribeListeners\",\n    value: function unsubscribeAllAndSubscribeListeners(symbol) {\n      var ohlcSubscriptions = this.subscriptions.getIn(['ohlc', symbol]);\n      var subscription = _toConsumableArray(ohlcSubscriptions ? Array.from(ohlcSubscriptions.values()) : []);\n      Promise.all(subscription.map(function (id) {\n        return (0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(function () {\n          return _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api.forget(id);\n        });\n      }));\n      this.subscriptions = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map();\n    }\n  }, {\n    key: \"updateTicksAndCallListeners\",\n    value: function updateTicksAndCallListeners(symbol, ticks) {\n      var _this4 = this;\n      if (this.ticks.get(symbol) === ticks) {\n        return;\n      }\n      this.ticks = this.ticks.set(symbol, ticks);\n      var listeners = this.tickListeners.get(symbol);\n      if (listeners) {\n        listeners.forEach(function (callback) {\n          return callback(_this4.ticks.get(symbol));\n        });\n      }\n    }\n  }, {\n    key: \"updateCandlesAndCallListeners\",\n    value: function updateCandlesAndCallListeners(address, candles) {\n      var _this5 = this;\n      if (this.ticks.getIn(address) === candles) {\n        return;\n      }\n      this.candles = this.candles.setIn(address, candles);\n      var listeners = this.ohlcListeners.getIn(address);\n      if (listeners) {\n        listeners.forEach(function (callback) {\n          return callback(_this5.candles.getIn(address));\n        });\n      }\n    }\n  }, {\n    key: \"observe\",\n    value: function observe() {\n      var _this6 = this;\n      if (_api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api) {\n        var subscription = _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api.onMessage().subscribe(function (_ref) {\n          var data = _ref.data;\n          if (data.msg_type === 'tick') {\n            var tick = data.tick;\n            var symbol = tick.symbol,\n              id = tick.id;\n            if (_this6.ticks.has(symbol)) {\n              _this6.subscriptions = _this6.subscriptions.setIn(['tick', symbol], id);\n              _this6.updateTicksAndCallListeners(symbol, updateTicks(_this6.ticks.get(symbol), parseTick(tick)));\n            }\n          }\n          if (data.msg_type === 'ohlc') {\n            var ohlc = data.ohlc;\n            var _symbol = ohlc.symbol,\n              granularity = ohlc.granularity,\n              _id = ohlc.id;\n            if (_this6.candles.hasIn([_symbol, Number(granularity)])) {\n              _this6.subscriptions = _this6.subscriptions.setIn(['ohlc', _symbol, Number(granularity)], _id);\n              var address = [_symbol, Number(granularity)];\n              _this6.updateCandlesAndCallListeners(address, updateCandles(_this6.candles.getIn(address), parseOhlc(ohlc)));\n            }\n          }\n        });\n        _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.pushSubscription(subscription);\n      }\n    }\n  }, {\n    key: \"requestStream\",\n    value: function requestStream(options) {\n      var _this7 = this;\n      var style = options.style;\n      var stringified_options = JSON.stringify(options);\n      if (style === 'ticks') {\n        var _this$ticks_history_p;\n        if (((_this$ticks_history_p = this.ticks_history_promise) === null || _this$ticks_history_p === void 0 ? void 0 : _this$ticks_history_p.stringified_options) !== stringified_options) {\n          this.ticks_history_promise = {\n            promise: this.requestPipSizes().then(function () {\n              return _this7.requestTicks(options);\n            }),\n            stringified_options: stringified_options\n          };\n        }\n        return this.ticks_history_promise.promise;\n      }\n      if (style === 'candles') {\n        if (!this.candles_promise || this.candles_promise.stringified_options !== stringified_options) {\n          this.candles_promise = {\n            promise: this.requestPipSizes().then(function () {\n              return _this7.requestTicks(options);\n            }),\n            stringified_options: stringified_options\n          };\n        }\n        return this.candles_promise.promise;\n      }\n      return [];\n    }\n  }, {\n    key: \"requestTicks\",\n    value: function requestTicks(options) {\n      var _this8 = this;\n      var symbol = options.symbol,\n        granularity = options.granularity,\n        style = options.style;\n      var request_object = {\n        ticks_history: symbol,\n        subscribe: 1,\n        end: 'latest',\n        count: 1000,\n        granularity: granularity ? Number(granularity) : undefined,\n        style: style\n      };\n      return new Promise(function (resolve, reject) {\n        if (!_api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api) resolve([]);\n        (0,_tradeEngine_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(function () {\n          return _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base.api.send(request_object);\n        }, [], _api_base__WEBPACK_IMPORTED_MODULE_4__.api_base).then(function (r) {\n          if (style === 'ticks') {\n            var ticks = (0,binary_utils__WEBPACK_IMPORTED_MODULE_1__.historyToTicks)(r.history);\n            _this8.updateTicksAndCallListeners(symbol, ticks);\n            resolve(ticks);\n          } else {\n            var candles = parseCandles(r.candles);\n            _this8.updateCandlesAndCallListeners([symbol, Number(granularity)], candles);\n            resolve(candles);\n          }\n        })[\"catch\"](reject);\n      });\n    }\n  }, {\n    key: \"unsubscribeFromTicksService\",\n    value: function unsubscribeFromTicksService() {\n      var _this9 = this;\n      return new Promise(function (resolve, reject) {\n        _this9.forget().then(function () {\n          _this9.forgetCandleSubscription().then(function () {\n            resolve();\n          })[\"catch\"](reject);\n        })[\"catch\"](reject);\n        _this9.ticks_history_promise = null;\n      });\n    }\n  }]);\n  return TicksService;\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcGkvdGlja3Nfc2VydmljZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQW9QQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWdDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vYXBpL3RpY2tzX3NlcnZpY2UuanM/MzVmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXAgfSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IHsgaGlzdG9yeVRvVGlja3MsIGdldExhc3QgfSBmcm9tICdiaW5hcnktdXRpbHMnO1xuaW1wb3J0IHsgZG9VbnRpbERvbmUsIGdldFVVSUQgfSBmcm9tICcuLi90cmFkZUVuZ2luZS91dGlscy9oZWxwZXJzJztcbmltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi8uLi90cmFkZUVuZ2luZS91dGlscy9vYnNlcnZlcic7XG5pbXBvcnQgeyBhcGlfYmFzZSB9IGZyb20gJy4vYXBpLWJhc2UnO1xuXG5jb25zdCBwYXJzZVRpY2sgPSB0aWNrID0+ICh7XG4gICAgZXBvY2g6ICt0aWNrLmVwb2NoLFxuICAgIHF1b3RlOiArdGljay5xdW90ZSxcbn0pO1xuXG5jb25zdCBwYXJzZU9obGMgPSBvaGxjID0+ICh7XG4gICAgb3BlbjogK29obGMub3BlbixcbiAgICBoaWdoOiArb2hsYy5oaWdoLFxuICAgIGxvdzogK29obGMubG93LFxuICAgIGNsb3NlOiArb2hsYy5jbG9zZSxcbiAgICBlcG9jaDogKyhvaGxjLm9wZW5fdGltZSB8fCBvaGxjLmVwb2NoKSxcbn0pO1xuXG5jb25zdCBwYXJzZUNhbmRsZXMgPSBjYW5kbGVzID0+IGNhbmRsZXMubWFwKHQgPT4gcGFyc2VPaGxjKHQpKTtcblxuY29uc3QgdXBkYXRlVGlja3MgPSAodGlja3MsIG5ld1RpY2spID0+IChnZXRMYXN0KHRpY2tzKS5lcG9jaCA+PSBuZXdUaWNrLmVwb2NoID8gdGlja3MgOiBbLi4udGlja3Muc2xpY2UoMSksIG5ld1RpY2tdKTtcblxuY29uc3QgdXBkYXRlQ2FuZGxlcyA9IChjYW5kbGVzLCBvaGxjKSA9PiB7XG4gICAgY29uc3QgbGFzdENhbmRsZSA9IGdldExhc3QoY2FuZGxlcyk7XG4gICAgaWYgKFxuICAgICAgICAobGFzdENhbmRsZS5vcGVuID09PSBvaGxjLm9wZW4gJiZcbiAgICAgICAgICAgIGxhc3RDYW5kbGUuaGlnaCA9PT0gb2hsYy5oaWdoICYmXG4gICAgICAgICAgICBsYXN0Q2FuZGxlLmxvdyA9PT0gb2hsYy5sb3cgJiZcbiAgICAgICAgICAgIGxhc3RDYW5kbGUuY2xvc2UgPT09IG9obGMuY2xvc2UgJiZcbiAgICAgICAgICAgIGxhc3RDYW5kbGUuZXBvY2ggPT09IG9obGMuZXBvY2gpIHx8XG4gICAgICAgIGxhc3RDYW5kbGUuZXBvY2ggPiBvaGxjLmVwb2NoXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBjYW5kbGVzO1xuICAgIH1cbiAgICBjb25zdCBwcmV2Q2FuZGxlcyA9IGxhc3RDYW5kbGUuZXBvY2ggPT09IG9obGMuZXBvY2ggPyBjYW5kbGVzLnNsaWNlKDAsIC0xKSA6IGNhbmRsZXMuc2xpY2UoMSk7XG4gICAgcmV0dXJuIFsuLi5wcmV2Q2FuZGxlcywgb2hsY107XG59O1xuXG5jb25zdCBnZXRUeXBlID0gaXNDYW5kbGUgPT4gKGlzQ2FuZGxlID8gJ2NhbmRsZXMnIDogJ3RpY2tzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tzU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGlja3MgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2FuZGxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy50aWNrTGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm9obGNMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy50aWNrc19oaXN0b3J5X3Byb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmFjdGl2ZV9zeW1ib2xzX3Byb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbmRsZXNfcHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdFBpcFNpemVzKCkge1xuICAgICAgICBpZiAodGhpcy5waXBTaXplcykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnBpcFNpemVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVfc3ltYm9sc19wcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZV9zeW1ib2xzX3Byb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpcFNpemVzID0gYXBpX2Jhc2UucGlwX3NpemVzO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5waXBTaXplcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVfc3ltYm9sc19wcm9taXNlO1xuICAgIH1cblxuICAgIGFzeW5jIHJlcXVlc3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBzeW1ib2wsIGdyYW51bGFyaXR5IH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGdldFR5cGUoZ3JhbnVsYXJpdHkpO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgPT09ICd0aWNrcycgJiYgdGhpcy50aWNrcy5oYXMoc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy50aWNrcy5nZXQoc3ltYm9sKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZSA9PT0gJ2NhbmRsZXMnICYmIHRoaXMuY2FuZGxlcy5oYXNJbihbc3ltYm9sLCBOdW1iZXIoZ3JhbnVsYXJpdHkpXSkpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuY2FuZGxlcy5nZXRJbihbc3ltYm9sLCBOdW1iZXIoZ3JhbnVsYXJpdHkpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0U3RyZWFtKHsgLi4ub3B0aW9ucywgc3R5bGUgfSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW9uaXRvcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHN5bWJvbCwgZ3JhbnVsYXJpdHksIGNhbGxiYWNrIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZ2V0VHlwZShncmFudWxhcml0eSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFVVSUQoKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdChvcHRpb25zKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd0aWNrcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlja0xpc3RlbmVycyA9IHRoaXMudGlja0xpc3RlbmVycy5zZXRJbihbc3ltYm9sLCBrZXldLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYnNlcnZlci5lbWl0KCdib3QuYm90X3JlYWR5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlfYmFzZS50b2dnbGVSdW5CdXR0b24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vaGxjTGlzdGVuZXJzID0gdGhpcy5vaGxjTGlzdGVuZXJzLnNldEluKFtzeW1ib2wsIE51bWJlcihncmFudWxhcml0eSksIGtleV0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGtleSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbE9ic2VydmVyLmVtaXQoJ0Vycm9yJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlja3NfaGlzdG9yeV9wcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYXBpX2Jhc2UudG9nZ2xlUnVuQnV0dG9uKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBzdG9wTW9uaXRvcihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgc3ltYm9sLCBncmFudWxhcml0eSwga2V5IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB0eXBlID0gZ2V0VHlwZShncmFudWxhcml0eSk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICd0aWNrcycgJiYgdGhpcy50aWNrTGlzdGVuZXJzLmhhc0luKFtzeW1ib2wsIGtleV0pKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tMaXN0ZW5lcnMgPSB0aGlzLnRpY2tMaXN0ZW5lcnMuZGVsZXRlSW4oW3N5bWJvbCwga2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ2NhbmRsZXMnICYmIHRoaXMub2hsY0xpc3RlbmVycy5oYXNJbihbc3ltYm9sLCBOdW1iZXIoZ3JhbnVsYXJpdHkpLCBrZXldKSkge1xuICAgICAgICAgICAgdGhpcy5vaGxjTGlzdGVuZXJzID0gdGhpcy5vaGxjTGlzdGVuZXJzLmRlbGV0ZUluKFtzeW1ib2wsIE51bWJlcihncmFudWxhcml0eSksIGtleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy51bnN1YnNjcmliZUlmRW1wdHlMaXN0ZW5lcnMob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgdW5zdWJzY3JpYmVJZkVtcHR5TGlzdGVuZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBzeW1ib2wsIGdyYW51bGFyaXR5IH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGxldCBuZWVkVG9VbnN1YnNjcmliZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHRpY2tMaXN0ZW5lciA9IHRoaXMudGlja0xpc3RlbmVycy5nZXQoc3ltYm9sKTtcblxuICAgICAgICBpZiAodGlja0xpc3RlbmVyICYmICF0aWNrTGlzdGVuZXIuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy50aWNrTGlzdGVuZXJzID0gdGhpcy50aWNrTGlzdGVuZXJzLmRlbGV0ZShzeW1ib2wpO1xuICAgICAgICAgICAgdGhpcy50aWNrcyA9IHRoaXMudGlja3MuZGVsZXRlKHN5bWJvbCk7XG4gICAgICAgICAgICBuZWVkVG9VbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvaGxjTGlzdGVuZXIgPSB0aGlzLm9obGNMaXN0ZW5lcnMuZ2V0SW4oW3N5bWJvbCwgTnVtYmVyKGdyYW51bGFyaXR5KV0pO1xuXG4gICAgICAgIGlmIChvaGxjTGlzdGVuZXIgJiYgIW9obGNMaXN0ZW5lci5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLm9obGNMaXN0ZW5lcnMgPSB0aGlzLm9obGNMaXN0ZW5lcnMuZGVsZXRlSW4oW3N5bWJvbCwgTnVtYmVyKGdyYW51bGFyaXR5KV0pO1xuICAgICAgICAgICAgdGhpcy5jYW5kbGVzID0gdGhpcy5jYW5kbGVzLmRlbGV0ZUluKFtzeW1ib2wsIE51bWJlcihncmFudWxhcml0eSldKTtcbiAgICAgICAgICAgIG5lZWRUb1Vuc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZWVkVG9VbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy51bnN1YnNjcmliZUFsbEFuZFN1YnNjcmliZUxpc3RlbmVycyhzeW1ib2wpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5zdWJzY3JpYmVBbGxBbmRTdWJzY3JpYmVMaXN0ZW5lcnMoc3ltYm9sKSB7XG4gICAgICAgIGNvbnN0IG9obGNTdWJzY3JpcHRpb25zID0gdGhpcy5zdWJzY3JpcHRpb25zLmdldEluKFsnb2hsYycsIHN5bWJvbF0pO1xuXG4gICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IFsuLi4ob2hsY1N1YnNjcmlwdGlvbnMgPyBBcnJheS5mcm9tKG9obGNTdWJzY3JpcHRpb25zLnZhbHVlcygpKSA6IFtdKV07XG5cbiAgICAgICAgUHJvbWlzZS5hbGwoc3Vic2NyaXB0aW9uLm1hcChpZCA9PiBkb1VudGlsRG9uZSgoKSA9PiBhcGlfYmFzZS5hcGkuZm9yZ2V0KGlkKSkpKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlVGlja3NBbmRDYWxsTGlzdGVuZXJzKHN5bWJvbCwgdGlja3MpIHtcbiAgICAgICAgaWYgKHRoaXMudGlja3MuZ2V0KHN5bWJvbCkgPT09IHRpY2tzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNrcyA9IHRoaXMudGlja3Muc2V0KHN5bWJvbCwgdGlja3MpO1xuXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMudGlja0xpc3RlbmVycy5nZXQoc3ltYm9sKTtcblxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzLnRpY2tzLmdldChzeW1ib2wpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDYW5kbGVzQW5kQ2FsbExpc3RlbmVycyhhZGRyZXNzLCBjYW5kbGVzKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tzLmdldEluKGFkZHJlc3MpID09PSBjYW5kbGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW5kbGVzID0gdGhpcy5jYW5kbGVzLnNldEluKGFkZHJlc3MsIGNhbmRsZXMpO1xuXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMub2hsY0xpc3RlbmVycy5nZXRJbihhZGRyZXNzKTtcblxuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzLmNhbmRsZXMuZ2V0SW4oYWRkcmVzcykpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9ic2VydmUoKSB7XG4gICAgICAgIGlmIChhcGlfYmFzZS5hcGkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGFwaV9iYXNlLmFwaS5vbk1lc3NhZ2UoKS5zdWJzY3JpYmUoKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubXNnX3R5cGUgPT09ICd0aWNrJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRpY2sgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3ltYm9sLCBpZCB9ID0gdGljaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGlja3MuaGFzKHN5bWJvbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IHRoaXMuc3Vic2NyaXB0aW9ucy5zZXRJbihbJ3RpY2snLCBzeW1ib2xdLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRpY2tzQW5kQ2FsbExpc3RlbmVycyhzeW1ib2wsIHVwZGF0ZVRpY2tzKHRoaXMudGlja3MuZ2V0KHN5bWJvbCksIHBhcnNlVGljayh0aWNrKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubXNnX3R5cGUgPT09ICdvaGxjJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG9obGMgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3ltYm9sLCBncmFudWxhcml0eSwgaWQgfSA9IG9obGM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbmRsZXMuaGFzSW4oW3N5bWJvbCwgTnVtYmVyKGdyYW51bGFyaXR5KV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMuc2V0SW4oWydvaGxjJywgc3ltYm9sLCBOdW1iZXIoZ3JhbnVsYXJpdHkpXSwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IFtzeW1ib2wsIE51bWJlcihncmFudWxhcml0eSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYW5kbGVzQW5kQ2FsbExpc3RlbmVycyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhbmRsZXModGhpcy5jYW5kbGVzLmdldEluKGFkZHJlc3MpLCBwYXJzZU9obGMob2hsYykpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcGlfYmFzZS5wdXNoU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0U3RyZWFtKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBzdHlsZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3RyaW5naWZpZWRfb3B0aW9ucyA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gJ3RpY2tzJykge1xuICAgICAgICAgICAgaWYgKHRoaXMudGlja3NfaGlzdG9yeV9wcm9taXNlPy5zdHJpbmdpZmllZF9vcHRpb25zICE9PSBzdHJpbmdpZmllZF9vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrc19oaXN0b3J5X3Byb21pc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2U6IHRoaXMucmVxdWVzdFBpcFNpemVzKCkudGhlbigoKSA9PiB0aGlzLnJlcXVlc3RUaWNrcyhvcHRpb25zKSksXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ2lmaWVkX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlja3NfaGlzdG9yeV9wcm9taXNlLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGUgPT09ICdjYW5kbGVzJykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbmRsZXNfcHJvbWlzZSB8fCB0aGlzLmNhbmRsZXNfcHJvbWlzZS5zdHJpbmdpZmllZF9vcHRpb25zICE9PSBzdHJpbmdpZmllZF9vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5kbGVzX3Byb21pc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2U6IHRoaXMucmVxdWVzdFBpcFNpemVzKCkudGhlbigoKSA9PiB0aGlzLnJlcXVlc3RUaWNrcyhvcHRpb25zKSksXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ2lmaWVkX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuZGxlc19wcm9taXNlLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmVxdWVzdFRpY2tzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBzeW1ib2wsIGdyYW51bGFyaXR5LCBzdHlsZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgcmVxdWVzdF9vYmplY3QgPSB7XG4gICAgICAgICAgICB0aWNrc19oaXN0b3J5OiBzeW1ib2wsXG4gICAgICAgICAgICBzdWJzY3JpYmU6IDEsXG4gICAgICAgICAgICBlbmQ6ICdsYXRlc3QnLFxuICAgICAgICAgICAgY291bnQ6IDEwMDAsXG4gICAgICAgICAgICBncmFudWxhcml0eTogZ3JhbnVsYXJpdHkgPyBOdW1iZXIoZ3JhbnVsYXJpdHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWFwaV9iYXNlLmFwaSkgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICBkb1VudGlsRG9uZSgoKSA9PiBhcGlfYmFzZS5hcGkuc2VuZChyZXF1ZXN0X29iamVjdCksIFtdLCBhcGlfYmFzZSlcbiAgICAgICAgICAgICAgICAudGhlbihyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlID09PSAndGlja3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWNrcyA9IGhpc3RvcnlUb1RpY2tzKHIuaGlzdG9yeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGlja3NBbmRDYWxsTGlzdGVuZXJzKHN5bWJvbCwgdGlja3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aWNrcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kbGVzID0gcGFyc2VDYW5kbGVzKHIuY2FuZGxlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FuZGxlc0FuZENhbGxMaXN0ZW5lcnMoW3N5bWJvbCwgTnVtYmVyKGdyYW51bGFyaXR5KV0sIGNhbmRsZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNhbmRsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yZ2V0ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFwaV9iYXNlPy5hcGkpIHtcbiAgICAgICAgICAgICAgICBhcGlfYmFzZS5hcGlcbiAgICAgICAgICAgICAgICAgICAgLmZvcmdldEFsbCgndGlja3MnKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3JnZXRDYW5kbGVTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoYXBpX2Jhc2U/LmFwaSkge1xuICAgICAgICAgICAgICAgIGFwaV9iYXNlLmFwaVxuICAgICAgICAgICAgICAgICAgICAuZm9yZ2V0QWxsKCdjYW5kbGVzJylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdW5zdWJzY3JpYmVGcm9tVGlja3NTZXJ2aWNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JnZXQoKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JnZXRDYW5kbGVTdWJzY3JpcHRpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgdGhpcy50aWNrc19oaXN0b3J5X3Byb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./api/ticks_service.js\n");

/***/ }),

/***/ "./constants/config.js":
/*!*****************************!*\
  !*** ./constants/config.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": () => (/* binding */ config)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CRYPTO_CURRENCIES = ['BTC', 'ETH', 'LTC', 'BCH', 'UST'];\nvar config = {\n  lists: {\n    PAYOUTTYPE: [\n    // [localize('Payout'), 'payout'],\n    [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Stake'), 'stake']],\n    CRYPTO_CURRENCIES: CRYPTO_CURRENCIES,\n    DETAILS: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('deal reference id'), '1'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('purchase price'), '2'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('payout'), '3'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('profit'), '4'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('contract type'), '5'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('entry spot time'), '6'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('entry spot price'), '7'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('exit spot time'), '8'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('exit spot price'), '9'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('barrier'), '10'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('result'), '11']],\n    CHECK_RESULT: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Win'), 'win'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Loss'), 'loss']],\n    CHECK_DIRECTION: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Rise'), 'rise'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Fall'), 'fall'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('No Change'), '']],\n    BALANCE_TYPE: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('string'), 'STR'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('number'), 'NUM']],\n    NOTIFICATION_TYPE: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('green'), 'success'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('blue'), 'info'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('yellow'), 'warn'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('red'), 'error']],\n    NOTIFICATION_SOUND: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Silent'), 'silent'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Announcement'), 'announcement'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Earned money'), 'earned-money'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Job done'), 'job-done'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Error'), 'error'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Severe error'), 'severe-error']],\n    CURRENCY: ['USD', 'EUR', 'GBP', 'AUD'].concat(CRYPTO_CURRENCIES)\n  },\n  opposites: {\n    MULTIPLIER: [{\n      MULTUP: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Up')\n    }, {\n      MULTDOWN: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Down')\n    }],\n    CALLPUT: [{\n      CALL: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Rise')\n    }, {\n      PUT: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Fall')\n    }],\n    CALLPUTEQUAL: [{\n      CALLE: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Rise Equals')\n    }, {\n      PUTE: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Fall Equals')\n    }],\n    HIGHERLOWER: [{\n      CALL: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Higher')\n    }, {\n      PUT: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Lower')\n    }],\n    TOUCHNOTOUCH: [{\n      ONETOUCH: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Touch')\n    }, {\n      NOTOUCH: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('No Touch')\n    }],\n    ENDSINOUT: [{\n      EXPIRYRANGE: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Ends Between')\n    }, {\n      EXPIRYMISS: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Ends Outside')\n    }],\n    STAYSINOUT: [{\n      RANGE: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Stays Between')\n    }, {\n      UPORDOWN: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Goes Outside')\n    }],\n    ASIANS: [{\n      ASIANU: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Asian Up')\n    }, {\n      ASIAND: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Asian Down')\n    }],\n    MATCHESDIFFERS: [{\n      DIGITMATCH: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Matches')\n    }, {\n      DIGITDIFF: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Differs')\n    }],\n    EVENODD: [{\n      DIGITEVEN: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Even')\n    }, {\n      DIGITODD: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Odd')\n    }],\n    OVERUNDER: [{\n      DIGITOVER: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Over')\n    }, {\n      DIGITUNDER: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Under')\n    }],\n    HIGHLOWTICKS: [{\n      TICKHIGH: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('High Tick')\n    }, {\n      TICKLOW: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Low Tick')\n    }],\n    RESET: [{\n      RESETCALL: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Reset Call')\n    }, {\n      RESETPUT: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Reset Put')\n    }],\n    RUNS: [{\n      RUNHIGH: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Only Ups')\n    }, {\n      RUNLOW: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Only Downs')\n    }],\n    CALLPUTSPREAD: [{\n      CALLSPREAD: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Call Spread')\n    }, {\n      PUTSPREAD: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Put Spread')\n    }]\n  },\n  BARRIER_TYPES: [['Offset +', '+'], ['Offset -', '-']],\n  ohlcFields: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Open'), 'open'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('High'), 'high'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Low'), 'low'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Close'), 'close'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Open Time'), 'epoch']],\n  candleIntervals: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Default'), 'default'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('1 minute'), '60'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('2 minutes'), '120'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('3 minutes'), '180'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('5 minutes'), '300'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('10 minutes'), '600'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('15 minutes'), '900'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('30 minutes'), '1800'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('1 hour'), '3600'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('2 hours'), '7200'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('4 hours'), '14400'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('8 hours'), '28800'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('1 day'), '86400']],\n  mainBlocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n  mandatoryMainBlocks: ['trade_definition', 'purchase', 'before_purchase'],\n  procedureDefinitionBlocks: ['procedures_defnoreturn', 'procedures_defreturn'],\n  single_instance_blocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n  TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING: {\n    callput: ['callput', 'higherlower'],\n    asian: ['asians'],\n    digits: ['matchesdiffers', 'evenodd', 'overunder']\n  },\n  TRADE_TYPE_CATEGORIES: {\n    multiplier: ['multiplier'],\n    callput: ['callput', 'callputequal', 'higherlower'],\n    touchnotouch: ['touchnotouch'],\n    inout: ['endsinout', 'staysinout'],\n    asian: ['asians'],\n    digits: ['matchesdiffers', 'evenodd', 'overunder'],\n    reset: ['reset'],\n    callputspread: ['callputspread'],\n    highlowticks: ['highlowticks'],\n    runs: ['runs']\n  },\n  TRADE_TYPE_CATEGORY_NAMES: {\n    callput: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Up/Down'),\n    touchnotouch: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Touch/No Touch'),\n    inout: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('In/Out'),\n    asian: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Asians'),\n    digits: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Digits'),\n    reset: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Reset Call/Reset Put'),\n    callputspread: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Call Spread/Put Spread'),\n    highlowticks: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('High/Low Ticks'),\n    runs: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Only Ups/Only Downs'),\n    multiplier: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Multipliers')\n  },\n  BARRIER_CATEGORIES: {\n    euro_atm: ['callput', 'callputequal'],\n    euro_non_atm: ['endsinout', 'higherlower', 'callputspread'],\n    american: ['staysinout', 'touchnotouch', 'highlowticks', 'runs', 'multiplier'],\n    non_financial: ['digits', 'overunder', 'evenodd', 'matchesdiffers'],\n    asian: ['asians'],\n    reset: ['reset'],\n    lookback: ['lookback']\n  },\n  DEFAULT_DURATION_DROPDOWN_OPTIONS: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Ticks'), 't'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Seconds'), 's'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Minutes'), 'm'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Hours'), 'h'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Days'), 'd']],\n  BARRIER_LABELS: [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('High barrier'), (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Low barrier')],\n  ABSOLUTE_BARRIER_DROPDOWN_OPTION: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Absolute'), 'absolute']],\n  NOT_AVAILABLE_DROPDOWN_OPTIONS: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Not available'), 'na']],\n  NOT_AVAILABLE_DURATIONS: [{\n    display: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Not available'),\n    unit: 'na',\n    min: 0\n  }],\n  BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n  PREDICTION_TRADE_TYPES: ['matchesdiffers', 'overunder', 'highlowticks'],\n  DIGIT_CATEGORIES: ['digits', 'highlowticks'],\n  INDEPEDENT_BLOCKS: ['block_holder', 'tick_analysis', 'loader', 'procedures_defreturn', 'procedures_defnoreturn'],\n  bbResult: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('upper'), '1'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('middle'), '0'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('lower'), '2']],\n  macdFields: [[(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Histogram'), '0'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('MACD'), '1'], [(0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Signal'), '2']],\n  gd: {\n    scope: 'https://www.googleapis.com/auth/drive.file',\n    discovery_docs: 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'\n  },\n  workspaces: {\n    flyoutWorkspacesStartScale: 0.7,\n    mainWorkspaceStartScale: 0.9,\n    previewWorkspaceStartScale: 0.6\n  },\n  strategies: {\n    martingale: {\n      index: 0,\n      label: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Martingale'),\n      description: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('The Martingale Strategy is a classic trading technique that has been used for more than a hundred years, popularised by the French mathematician Paul Pierre Levy in the 18th century.')\n    },\n    dalembert: {\n      index: 1,\n      label: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)(\"D'Alembert\"),\n      description: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('The concept of the D’Alembert Strategy is said to be similar to the Martingale Strategy where you will increase your contract size after a loss. With the D’Alembert Strategy, you will also decrease your contract size after a successful trade.')\n    },\n    oscars_grind: {\n      index: 2,\n      label: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)(\"Oscar's Grind\"),\n      description: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)(\"The Oscar's Grind Strategy is a low-risk positive progression strategy that first appeared in 1965. By using this strategy, the size of your contract will increase after successful trades, but remains unchanged after unsuccessful trades.\")\n    }\n  },\n  default_file_name: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Untitled Bot'),\n  DISABLED_SYMBOLS: ['frxGBPNOK', 'frxUSDNOK', 'frxUSDNEK', 'frxUSDSEK'],\n  DISABLED_SUBMARKETS: ['energy'],\n  QUICK_STRATEGY: {\n    DISABLED: {\n      SYMBOLS: ['1HZ150V', '1HZ250V'],\n      SUBMARKETS: ['crash_index', 'non_stable_coin', 'step_index'],\n      BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n      PREDICTION_TRADE_TYPES: ['highlowticks']\n    },\n    DEFAULT: {\n      symbol: '1HZ100V',\n      tradetype: 'callput',\n      durationtype: 't',\n      size: 1,\n      unit: 1,\n      prediction: 0\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25zdGFudHMvY29uZmlnLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWFBO0FBSUE7QUFLQTtBQUlBO0FBTUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFPQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi9jb25zdGFudHMvY29uZmlnLmpzPzRjMTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcblxuY29uc3QgQ1JZUFRPX0NVUlJFTkNJRVMgPSBbJ0JUQycsICdFVEgnLCAnTFRDJywgJ0JDSCcsICdVU1QnXTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBsaXN0czoge1xuICAgICAgICBQQVlPVVRUWVBFOiBbXG4gICAgICAgICAgICAvLyBbbG9jYWxpemUoJ1BheW91dCcpLCAncGF5b3V0J10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ1N0YWtlJyksICdzdGFrZSddLFxuICAgICAgICBdLFxuICAgICAgICBDUllQVE9fQ1VSUkVOQ0lFUyxcbiAgICAgICAgREVUQUlMUzogW1xuICAgICAgICAgICAgW2xvY2FsaXplKCdkZWFsIHJlZmVyZW5jZSBpZCcpLCAnMSddLFxuICAgICAgICAgICAgW2xvY2FsaXplKCdwdXJjaGFzZSBwcmljZScpLCAnMiddLFxuICAgICAgICAgICAgW2xvY2FsaXplKCdwYXlvdXQnKSwgJzMnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgncHJvZml0JyksICc0J10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ2NvbnRyYWN0IHR5cGUnKSwgJzUnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnZW50cnkgc3BvdCB0aW1lJyksICc2J10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ2VudHJ5IHNwb3QgcHJpY2UnKSwgJzcnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnZXhpdCBzcG90IHRpbWUnKSwgJzgnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnZXhpdCBzcG90IHByaWNlJyksICc5J10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ2JhcnJpZXInKSwgJzEwJ10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ3Jlc3VsdCcpLCAnMTEnXSxcbiAgICAgICAgXSxcbiAgICAgICAgQ0hFQ0tfUkVTVUxUOiBbXG4gICAgICAgICAgICBbbG9jYWxpemUoJ1dpbicpLCAnd2luJ10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ0xvc3MnKSwgJ2xvc3MnXSxcbiAgICAgICAgXSxcbiAgICAgICAgQ0hFQ0tfRElSRUNUSU9OOiBbXG4gICAgICAgICAgICBbbG9jYWxpemUoJ1Jpc2UnKSwgJ3Jpc2UnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnRmFsbCcpLCAnZmFsbCddLFxuICAgICAgICAgICAgW2xvY2FsaXplKCdObyBDaGFuZ2UnKSwgJyddLFxuICAgICAgICBdLFxuICAgICAgICBCQUxBTkNFX1RZUEU6IFtcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnc3RyaW5nJyksICdTVFInXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnbnVtYmVyJyksICdOVU0nXSxcbiAgICAgICAgXSxcbiAgICAgICAgTk9USUZJQ0FUSU9OX1RZUEU6IFtcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnZ3JlZW4nKSwgJ3N1Y2Nlc3MnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnYmx1ZScpLCAnaW5mbyddLFxuICAgICAgICAgICAgW2xvY2FsaXplKCd5ZWxsb3cnKSwgJ3dhcm4nXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgncmVkJyksICdlcnJvciddLFxuICAgICAgICBdLFxuICAgICAgICBOT1RJRklDQVRJT05fU09VTkQ6IFtcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnU2lsZW50JyksICdzaWxlbnQnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnQW5ub3VuY2VtZW50JyksICdhbm5vdW5jZW1lbnQnXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnRWFybmVkIG1vbmV5JyksICdlYXJuZWQtbW9uZXknXSxcbiAgICAgICAgICAgIFtsb2NhbGl6ZSgnSm9iIGRvbmUnKSwgJ2pvYi1kb25lJ10sXG4gICAgICAgICAgICBbbG9jYWxpemUoJ0Vycm9yJyksICdlcnJvciddLFxuICAgICAgICAgICAgW2xvY2FsaXplKCdTZXZlcmUgZXJyb3InKSwgJ3NldmVyZS1lcnJvciddLFxuICAgICAgICBdLFxuICAgICAgICBDVVJSRU5DWTogWydVU0QnLCAnRVVSJywgJ0dCUCcsICdBVUQnLCAuLi5DUllQVE9fQ1VSUkVOQ0lFU10sXG4gICAgfSxcbiAgICBvcHBvc2l0ZXM6IHtcbiAgICAgICAgTVVMVElQTElFUjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1VTFRVUDogbG9jYWxpemUoJ1VwJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1VTFRET1dOOiBsb2NhbGl6ZSgnRG93bicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgQ0FMTFBVVDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENBTEw6IGxvY2FsaXplKCdSaXNlJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBVVDogbG9jYWxpemUoJ0ZhbGwnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIENBTExQVVRFUVVBTDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENBTExFOiBsb2NhbGl6ZSgnUmlzZSBFcXVhbHMnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUFVURTogbG9jYWxpemUoJ0ZhbGwgRXF1YWxzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBISUdIRVJMT1dFUjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENBTEw6IGxvY2FsaXplKCdIaWdoZXInKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUFVUOiBsb2NhbGl6ZSgnTG93ZXInKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIFRPVUNITk9UT1VDSDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE9ORVRPVUNIOiBsb2NhbGl6ZSgnVG91Y2gnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTk9UT1VDSDogbG9jYWxpemUoJ05vIFRvdWNoJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBFTkRTSU5PVVQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFWFBJUllSQU5HRTogbG9jYWxpemUoJ0VuZHMgQmV0d2VlbicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFWFBJUllNSVNTOiBsb2NhbGl6ZSgnRW5kcyBPdXRzaWRlJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBTVEFZU0lOT1VUOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUkFOR0U6IGxvY2FsaXplKCdTdGF5cyBCZXR3ZWVuJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVQT1JET1dOOiBsb2NhbGl6ZSgnR29lcyBPdXRzaWRlJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBBU0lBTlM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBBU0lBTlU6IGxvY2FsaXplKCdBc2lhbiBVcCcpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBBU0lBTkQ6IGxvY2FsaXplKCdBc2lhbiBEb3duJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBNQVRDSEVTRElGRkVSUzogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERJR0lUTUFUQ0g6IGxvY2FsaXplKCdNYXRjaGVzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERJR0lURElGRjogbG9jYWxpemUoJ0RpZmZlcnMnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIEVWRU5PREQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBESUdJVEVWRU46IGxvY2FsaXplKCdFdmVuJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERJR0lUT0REOiBsb2NhbGl6ZSgnT2RkJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBPVkVSVU5ERVI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBESUdJVE9WRVI6IGxvY2FsaXplKCdPdmVyJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERJR0lUVU5ERVI6IGxvY2FsaXplKCdVbmRlcicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgSElHSExPV1RJQ0tTOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVElDS0hJR0g6IGxvY2FsaXplKCdIaWdoIFRpY2snKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVElDS0xPVzogbG9jYWxpemUoJ0xvdyBUaWNrJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBSRVNFVDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFJFU0VUQ0FMTDogbG9jYWxpemUoJ1Jlc2V0IENhbGwnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUkVTRVRQVVQ6IGxvY2FsaXplKCdSZXNldCBQdXQnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIFJVTlM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBSVU5ISUdIOiBsb2NhbGl6ZSgnT25seSBVcHMnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUlVOTE9XOiBsb2NhbGl6ZSgnT25seSBEb3ducycpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgQ0FMTFBVVFNQUkVBRDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENBTExTUFJFQUQ6IGxvY2FsaXplKCdDYWxsIFNwcmVhZCcpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQVVRTUFJFQUQ6IGxvY2FsaXplKCdQdXQgU3ByZWFkJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAgQkFSUklFUl9UWVBFUzogW1xuICAgICAgICBbJ09mZnNldCArJywgJysnXSxcbiAgICAgICAgWydPZmZzZXQgLScsICctJ10sXG4gICAgXSxcbiAgICBvaGxjRmllbGRzOiBbXG4gICAgICAgIFtsb2NhbGl6ZSgnT3BlbicpLCAnb3BlbiddLFxuICAgICAgICBbbG9jYWxpemUoJ0hpZ2gnKSwgJ2hpZ2gnXSxcbiAgICAgICAgW2xvY2FsaXplKCdMb3cnKSwgJ2xvdyddLFxuICAgICAgICBbbG9jYWxpemUoJ0Nsb3NlJyksICdjbG9zZSddLFxuICAgICAgICBbbG9jYWxpemUoJ09wZW4gVGltZScpLCAnZXBvY2gnXSxcbiAgICBdLFxuICAgIGNhbmRsZUludGVydmFsczogW1xuICAgICAgICBbbG9jYWxpemUoJ0RlZmF1bHQnKSwgJ2RlZmF1bHQnXSxcbiAgICAgICAgW2xvY2FsaXplKCcxIG1pbnV0ZScpLCAnNjAnXSxcbiAgICAgICAgW2xvY2FsaXplKCcyIG1pbnV0ZXMnKSwgJzEyMCddLFxuICAgICAgICBbbG9jYWxpemUoJzMgbWludXRlcycpLCAnMTgwJ10sXG4gICAgICAgIFtsb2NhbGl6ZSgnNSBtaW51dGVzJyksICczMDAnXSxcbiAgICAgICAgW2xvY2FsaXplKCcxMCBtaW51dGVzJyksICc2MDAnXSxcbiAgICAgICAgW2xvY2FsaXplKCcxNSBtaW51dGVzJyksICc5MDAnXSxcbiAgICAgICAgW2xvY2FsaXplKCczMCBtaW51dGVzJyksICcxODAwJ10sXG4gICAgICAgIFtsb2NhbGl6ZSgnMSBob3VyJyksICczNjAwJ10sXG4gICAgICAgIFtsb2NhbGl6ZSgnMiBob3VycycpLCAnNzIwMCddLFxuICAgICAgICBbbG9jYWxpemUoJzQgaG91cnMnKSwgJzE0NDAwJ10sXG4gICAgICAgIFtsb2NhbGl6ZSgnOCBob3VycycpLCAnMjg4MDAnXSxcbiAgICAgICAgW2xvY2FsaXplKCcxIGRheScpLCAnODY0MDAnXSxcbiAgICBdLFxuICAgIG1haW5CbG9ja3M6IFsndHJhZGVfZGVmaW5pdGlvbicsICdiZWZvcmVfcHVyY2hhc2UnLCAnZHVyaW5nX3B1cmNoYXNlJywgJ2FmdGVyX3B1cmNoYXNlJ10sXG4gICAgbWFuZGF0b3J5TWFpbkJsb2NrczogWyd0cmFkZV9kZWZpbml0aW9uJywgJ3B1cmNoYXNlJywgJ2JlZm9yZV9wdXJjaGFzZSddLFxuICAgIHByb2NlZHVyZURlZmluaXRpb25CbG9ja3M6IFsncHJvY2VkdXJlc19kZWZub3JldHVybicsICdwcm9jZWR1cmVzX2RlZnJldHVybiddLFxuICAgIHNpbmdsZV9pbnN0YW5jZV9ibG9ja3M6IFsndHJhZGVfZGVmaW5pdGlvbicsICdiZWZvcmVfcHVyY2hhc2UnLCAnZHVyaW5nX3B1cmNoYXNlJywgJ2FmdGVyX3B1cmNoYXNlJ10sXG4gICAgVFJBREVfVFlQRV9UT19DT05UUkFDVF9DQVRFR09SWV9NQVBQSU5HOiB7XG4gICAgICAgIGNhbGxwdXQ6IFsnY2FsbHB1dCcsICdoaWdoZXJsb3dlciddLFxuICAgICAgICBhc2lhbjogWydhc2lhbnMnXSxcbiAgICAgICAgZGlnaXRzOiBbJ21hdGNoZXNkaWZmZXJzJywgJ2V2ZW5vZGQnLCAnb3ZlcnVuZGVyJ10sXG4gICAgfSxcbiAgICBUUkFERV9UWVBFX0NBVEVHT1JJRVM6IHtcbiAgICAgICAgbXVsdGlwbGllcjogWydtdWx0aXBsaWVyJ10sXG4gICAgICAgIGNhbGxwdXQ6IFsnY2FsbHB1dCcsICdjYWxscHV0ZXF1YWwnLCAnaGlnaGVybG93ZXInXSxcbiAgICAgICAgdG91Y2hub3RvdWNoOiBbJ3RvdWNobm90b3VjaCddLFxuICAgICAgICBpbm91dDogWydlbmRzaW5vdXQnLCAnc3RheXNpbm91dCddLFxuICAgICAgICBhc2lhbjogWydhc2lhbnMnXSxcbiAgICAgICAgZGlnaXRzOiBbJ21hdGNoZXNkaWZmZXJzJywgJ2V2ZW5vZGQnLCAnb3ZlcnVuZGVyJ10sXG4gICAgICAgIHJlc2V0OiBbJ3Jlc2V0J10sXG4gICAgICAgIGNhbGxwdXRzcHJlYWQ6IFsnY2FsbHB1dHNwcmVhZCddLFxuICAgICAgICBoaWdobG93dGlja3M6IFsnaGlnaGxvd3RpY2tzJ10sXG4gICAgICAgIHJ1bnM6IFsncnVucyddLFxuICAgIH0sXG4gICAgVFJBREVfVFlQRV9DQVRFR09SWV9OQU1FUzoge1xuICAgICAgICBjYWxscHV0OiBsb2NhbGl6ZSgnVXAvRG93bicpLFxuICAgICAgICB0b3VjaG5vdG91Y2g6IGxvY2FsaXplKCdUb3VjaC9ObyBUb3VjaCcpLFxuICAgICAgICBpbm91dDogbG9jYWxpemUoJ0luL091dCcpLFxuICAgICAgICBhc2lhbjogbG9jYWxpemUoJ0FzaWFucycpLFxuICAgICAgICBkaWdpdHM6IGxvY2FsaXplKCdEaWdpdHMnKSxcbiAgICAgICAgcmVzZXQ6IGxvY2FsaXplKCdSZXNldCBDYWxsL1Jlc2V0IFB1dCcpLFxuICAgICAgICBjYWxscHV0c3ByZWFkOiBsb2NhbGl6ZSgnQ2FsbCBTcHJlYWQvUHV0IFNwcmVhZCcpLFxuICAgICAgICBoaWdobG93dGlja3M6IGxvY2FsaXplKCdIaWdoL0xvdyBUaWNrcycpLFxuICAgICAgICBydW5zOiBsb2NhbGl6ZSgnT25seSBVcHMvT25seSBEb3ducycpLFxuICAgICAgICBtdWx0aXBsaWVyOiBsb2NhbGl6ZSgnTXVsdGlwbGllcnMnKSxcbiAgICB9LFxuICAgIEJBUlJJRVJfQ0FURUdPUklFUzoge1xuICAgICAgICBldXJvX2F0bTogWydjYWxscHV0JywgJ2NhbGxwdXRlcXVhbCddLFxuICAgICAgICBldXJvX25vbl9hdG06IFsnZW5kc2lub3V0JywgJ2hpZ2hlcmxvd2VyJywgJ2NhbGxwdXRzcHJlYWQnXSxcbiAgICAgICAgYW1lcmljYW46IFsnc3RheXNpbm91dCcsICd0b3VjaG5vdG91Y2gnLCAnaGlnaGxvd3RpY2tzJywgJ3J1bnMnLCAnbXVsdGlwbGllciddLFxuICAgICAgICBub25fZmluYW5jaWFsOiBbJ2RpZ2l0cycsICdvdmVydW5kZXInLCAnZXZlbm9kZCcsICdtYXRjaGVzZGlmZmVycyddLFxuICAgICAgICBhc2lhbjogWydhc2lhbnMnXSxcbiAgICAgICAgcmVzZXQ6IFsncmVzZXQnXSxcbiAgICAgICAgbG9va2JhY2s6IFsnbG9va2JhY2snXSxcbiAgICB9LFxuICAgIERFRkFVTFRfRFVSQVRJT05fRFJPUERPV05fT1BUSU9OUzogW1xuICAgICAgICBbbG9jYWxpemUoJ1RpY2tzJyksICd0J10sXG4gICAgICAgIFtsb2NhbGl6ZSgnU2Vjb25kcycpLCAncyddLFxuICAgICAgICBbbG9jYWxpemUoJ01pbnV0ZXMnKSwgJ20nXSxcbiAgICAgICAgW2xvY2FsaXplKCdIb3VycycpLCAnaCddLFxuICAgICAgICBbbG9jYWxpemUoJ0RheXMnKSwgJ2QnXSxcbiAgICBdLFxuICAgIEJBUlJJRVJfTEFCRUxTOiBbbG9jYWxpemUoJ0hpZ2ggYmFycmllcicpLCBsb2NhbGl6ZSgnTG93IGJhcnJpZXInKV0sXG4gICAgQUJTT0xVVEVfQkFSUklFUl9EUk9QRE9XTl9PUFRJT046IFtbbG9jYWxpemUoJ0Fic29sdXRlJyksICdhYnNvbHV0ZSddXSxcbiAgICBOT1RfQVZBSUxBQkxFX0RST1BET1dOX09QVElPTlM6IFtbbG9jYWxpemUoJ05vdCBhdmFpbGFibGUnKSwgJ25hJ11dLFxuICAgIE5PVF9BVkFJTEFCTEVfRFVSQVRJT05TOiBbeyBkaXNwbGF5OiBsb2NhbGl6ZSgnTm90IGF2YWlsYWJsZScpLCB1bml0OiAnbmEnLCBtaW46IDAgfV0sXG4gICAgQkFSUklFUl9UUkFERV9UWVBFUzogWydoaWdoZXJsb3dlcicsICd0b3VjaG5vdG91Y2gnLCAnZW5kc2lub3V0JywgJ3N0YXlzaW5vdXQnLCAnY2FsbHB1dHNwcmVhZCddLFxuICAgIFBSRURJQ1RJT05fVFJBREVfVFlQRVM6IFsnbWF0Y2hlc2RpZmZlcnMnLCAnb3ZlcnVuZGVyJywgJ2hpZ2hsb3d0aWNrcyddLFxuICAgIERJR0lUX0NBVEVHT1JJRVM6IFsnZGlnaXRzJywgJ2hpZ2hsb3d0aWNrcyddLFxuICAgIElOREVQRURFTlRfQkxPQ0tTOiBbJ2Jsb2NrX2hvbGRlcicsICd0aWNrX2FuYWx5c2lzJywgJ2xvYWRlcicsICdwcm9jZWR1cmVzX2RlZnJldHVybicsICdwcm9jZWR1cmVzX2RlZm5vcmV0dXJuJ10sXG4gICAgYmJSZXN1bHQ6IFtcbiAgICAgICAgW2xvY2FsaXplKCd1cHBlcicpLCAnMSddLFxuICAgICAgICBbbG9jYWxpemUoJ21pZGRsZScpLCAnMCddLFxuICAgICAgICBbbG9jYWxpemUoJ2xvd2VyJyksICcyJ10sXG4gICAgXSxcbiAgICBtYWNkRmllbGRzOiBbXG4gICAgICAgIFtsb2NhbGl6ZSgnSGlzdG9ncmFtJyksICcwJ10sXG4gICAgICAgIFtsb2NhbGl6ZSgnTUFDRCcpLCAnMSddLFxuICAgICAgICBbbG9jYWxpemUoJ1NpZ25hbCcpLCAnMiddLFxuICAgIF0sXG4gICAgZ2Q6IHtcbiAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlLmZpbGUnLFxuICAgICAgICBkaXNjb3ZlcnlfZG9jczogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2Rpc2NvdmVyeS92MS9hcGlzL2RyaXZlL3YzL3Jlc3QnLFxuICAgIH0sXG4gICAgd29ya3NwYWNlczoge1xuICAgICAgICBmbHlvdXRXb3Jrc3BhY2VzU3RhcnRTY2FsZTogMC43LFxuICAgICAgICBtYWluV29ya3NwYWNlU3RhcnRTY2FsZTogMC45LFxuICAgICAgICBwcmV2aWV3V29ya3NwYWNlU3RhcnRTY2FsZTogMC42LFxuICAgIH0sXG4gICAgc3RyYXRlZ2llczoge1xuICAgICAgICBtYXJ0aW5nYWxlOiB7XG4gICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgIGxhYmVsOiBsb2NhbGl6ZSgnTWFydGluZ2FsZScpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdUaGUgTWFydGluZ2FsZSBTdHJhdGVneSBpcyBhIGNsYXNzaWMgdHJhZGluZyB0ZWNobmlxdWUgdGhhdCBoYXMgYmVlbiB1c2VkIGZvciBtb3JlIHRoYW4gYSBodW5kcmVkIHllYXJzLCBwb3B1bGFyaXNlZCBieSB0aGUgRnJlbmNoIG1hdGhlbWF0aWNpYW4gUGF1bCBQaWVycmUgTGV2eSBpbiB0aGUgMTh0aCBjZW50dXJ5LidcbiAgICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgICAgIGRhbGVtYmVydDoge1xuICAgICAgICAgICAgaW5kZXg6IDEsXG4gICAgICAgICAgICBsYWJlbDogbG9jYWxpemUoXCJEJ0FsZW1iZXJ0XCIpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdUaGUgY29uY2VwdCBvZiB0aGUgROKAmUFsZW1iZXJ0IFN0cmF0ZWd5IGlzIHNhaWQgdG8gYmUgc2ltaWxhciB0byB0aGUgTWFydGluZ2FsZSBTdHJhdGVneSB3aGVyZSB5b3Ugd2lsbCBpbmNyZWFzZSB5b3VyIGNvbnRyYWN0IHNpemUgYWZ0ZXIgYSBsb3NzLiBXaXRoIHRoZSBE4oCZQWxlbWJlcnQgU3RyYXRlZ3ksIHlvdSB3aWxsIGFsc28gZGVjcmVhc2UgeW91ciBjb250cmFjdCBzaXplIGFmdGVyIGEgc3VjY2Vzc2Z1bCB0cmFkZS4nXG4gICAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgICBvc2NhcnNfZ3JpbmQ6IHtcbiAgICAgICAgICAgIGluZGV4OiAyLFxuICAgICAgICAgICAgbGFiZWw6IGxvY2FsaXplKFwiT3NjYXIncyBHcmluZFwiKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcIlRoZSBPc2NhcidzIEdyaW5kIFN0cmF0ZWd5IGlzIGEgbG93LXJpc2sgcG9zaXRpdmUgcHJvZ3Jlc3Npb24gc3RyYXRlZ3kgdGhhdCBmaXJzdCBhcHBlYXJlZCBpbiAxOTY1LiBCeSB1c2luZyB0aGlzIHN0cmF0ZWd5LCB0aGUgc2l6ZSBvZiB5b3VyIGNvbnRyYWN0IHdpbGwgaW5jcmVhc2UgYWZ0ZXIgc3VjY2Vzc2Z1bCB0cmFkZXMsIGJ1dCByZW1haW5zIHVuY2hhbmdlZCBhZnRlciB1bnN1Y2Nlc3NmdWwgdHJhZGVzLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgZGVmYXVsdF9maWxlX25hbWU6IGxvY2FsaXplKCdVbnRpdGxlZCBCb3QnKSxcbiAgICBESVNBQkxFRF9TWU1CT0xTOiBbJ2ZyeEdCUE5PSycsICdmcnhVU0ROT0snLCAnZnJ4VVNETkVLJywgJ2ZyeFVTRFNFSyddLFxuICAgIERJU0FCTEVEX1NVQk1BUktFVFM6IFsnZW5lcmd5J10sXG4gICAgUVVJQ0tfU1RSQVRFR1k6IHtcbiAgICAgICAgRElTQUJMRUQ6IHtcbiAgICAgICAgICAgIFNZTUJPTFM6IFsnMUhaMTUwVicsICcxSFoyNTBWJ10sXG4gICAgICAgICAgICBTVUJNQVJLRVRTOiBbJ2NyYXNoX2luZGV4JywgJ25vbl9zdGFibGVfY29pbicsICdzdGVwX2luZGV4J10sXG4gICAgICAgICAgICBCQVJSSUVSX1RSQURFX1RZUEVTOiBbJ2hpZ2hlcmxvd2VyJywgJ3RvdWNobm90b3VjaCcsICdlbmRzaW5vdXQnLCAnc3RheXNpbm91dCcsICdjYWxscHV0c3ByZWFkJ10sXG4gICAgICAgICAgICBQUkVESUNUSU9OX1RSQURFX1RZUEVTOiBbJ2hpZ2hsb3d0aWNrcyddLFxuICAgICAgICB9LFxuICAgICAgICBERUZBVUxUOiB7XG4gICAgICAgICAgICBzeW1ib2w6ICcxSFoxMDBWJyxcbiAgICAgICAgICAgIHRyYWRldHlwZTogJ2NhbGxwdXQnLFxuICAgICAgICAgICAgZHVyYXRpb250eXBlOiAndCcsXG4gICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgdW5pdDogMSxcbiAgICAgICAgICAgIHByZWRpY3Rpb246IDAsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./constants/config.js\n");

/***/ }),

/***/ "./constants/messages.js":
/*!*******************************!*\
  !*** ./constants/messages.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"error_types\": () => (/* binding */ error_types),\n/* harmony export */   \"log_types\": () => (/* binding */ log_types),\n/* harmony export */   \"message_types\": () => (/* binding */ message_types),\n/* harmony export */   \"unrecoverable_errors\": () => (/* binding */ unrecoverable_errors)\n/* harmony export */ });\nvar unrecoverable_errors = ['InsufficientBalance', 'CustomLimitsReached', 'OfferingsValidationError', 'InvalidCurrency', 'ContractBuyValidationError', 'NotDefaultCurrency', 'PleaseAuthenticate', 'FinancialAssessmentRequired', 'PositiveIntegerExpected', 'OptionError', 'IncorrectPayoutDecimals', 'IncorrectStakeDecimals', 'NoMFProfessionalClient', 'AuthorizationRequired', 'InvalidToken', 'DailyLossLimitExceeded', 'InputValidationFailed', 'ClientUnwelcome', 'PriceMoved'];\nvar message_types = Object.freeze({\n  ERROR: 'error',\n  NOTIFY: 'notify',\n  SUCCESS: 'success'\n});\nvar error_types = Object.freeze({\n  RECOVERABLE_ERRORS: 'recoverable_errors',\n  UNRECOVERABLE_ERRORS: 'unrecoverable_errors'\n});\nvar log_types = Object.freeze({\n  LOAD_BLOCK: 'load_block',\n  PURCHASE: 'purchase',\n  SELL: 'sell',\n  NOT_OFFERED: 'not_offered',\n  PROFIT: 'profit',\n  LOST: 'lost',\n  WELCOME_BACK: 'welcome_back',\n  WELCOME: 'welcome'\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25zdGFudHMvbWVzc2FnZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi9jb25zdGFudHMvbWVzc2FnZXMuanM/ODg3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdW5yZWNvdmVyYWJsZV9lcnJvcnMgPSBbXG4gICAgJ0luc3VmZmljaWVudEJhbGFuY2UnLFxuICAgICdDdXN0b21MaW1pdHNSZWFjaGVkJyxcbiAgICAnT2ZmZXJpbmdzVmFsaWRhdGlvbkVycm9yJyxcbiAgICAnSW52YWxpZEN1cnJlbmN5JyxcbiAgICAnQ29udHJhY3RCdXlWYWxpZGF0aW9uRXJyb3InLFxuICAgICdOb3REZWZhdWx0Q3VycmVuY3knLFxuICAgICdQbGVhc2VBdXRoZW50aWNhdGUnLFxuICAgICdGaW5hbmNpYWxBc3Nlc3NtZW50UmVxdWlyZWQnLFxuICAgICdQb3NpdGl2ZUludGVnZXJFeHBlY3RlZCcsXG4gICAgJ09wdGlvbkVycm9yJyxcbiAgICAnSW5jb3JyZWN0UGF5b3V0RGVjaW1hbHMnLFxuICAgICdJbmNvcnJlY3RTdGFrZURlY2ltYWxzJyxcbiAgICAnTm9NRlByb2Zlc3Npb25hbENsaWVudCcsXG4gICAgJ0F1dGhvcml6YXRpb25SZXF1aXJlZCcsXG4gICAgJ0ludmFsaWRUb2tlbicsXG4gICAgJ0RhaWx5TG9zc0xpbWl0RXhjZWVkZWQnLFxuICAgICdJbnB1dFZhbGlkYXRpb25GYWlsZWQnLFxuICAgICdDbGllbnRVbndlbGNvbWUnLFxuICAgICdQcmljZU1vdmVkJyxcbl07XG5cbmV4cG9ydCBjb25zdCBtZXNzYWdlX3R5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgTk9USUZZOiAnbm90aWZ5JyxcbiAgICBTVUNDRVNTOiAnc3VjY2VzcycsXG59KTtcblxuZXhwb3J0IGNvbnN0IGVycm9yX3R5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUkVDT1ZFUkFCTEVfRVJST1JTOiAncmVjb3ZlcmFibGVfZXJyb3JzJyxcbiAgICBVTlJFQ09WRVJBQkxFX0VSUk9SUzogJ3VucmVjb3ZlcmFibGVfZXJyb3JzJyxcbn0pO1xuXG5leHBvcnQgY29uc3QgbG9nX3R5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTE9BRF9CTE9DSzogJ2xvYWRfYmxvY2snLFxuICAgIFBVUkNIQVNFOiAncHVyY2hhc2UnLFxuICAgIFNFTEw6ICdzZWxsJyxcbiAgICBOT1RfT0ZGRVJFRDogJ25vdF9vZmZlcmVkJyxcbiAgICBQUk9GSVQ6ICdwcm9maXQnLFxuICAgIExPU1Q6ICdsb3N0JyxcbiAgICBXRUxDT01FX0JBQ0s6ICd3ZWxjb21lX2JhY2snLFxuICAgIFdFTENPTUU6ICd3ZWxjb21lJyxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./constants/messages.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/BotInterface.js":
/*!***********************************************!*\
  !*** ./tradeEngine/Interface/BotInterface.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n\n\nvar getBotInterface = function getBotInterface(tradeEngine) {\n  var getDetail = function getDetail(i) {\n    return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_1__.createDetails)(tradeEngine.data.contract)[i];\n  };\n  return {\n    init: function init() {\n      return tradeEngine.init.apply(tradeEngine, arguments);\n    },\n    start: function start() {\n      return tradeEngine.start.apply(tradeEngine, arguments);\n    },\n    stop: function stop() {\n      return tradeEngine.stop.apply(tradeEngine, arguments);\n    },\n    purchase: function purchase(contract_type) {\n      return tradeEngine.purchase(contract_type);\n    },\n    getAskPrice: function getAskPrice(contract_type) {\n      return Number(getProposal(contract_type, tradeEngine).ask_price);\n    },\n    getPayout: function getPayout(contract_type) {\n      return Number(getProposal(contract_type, tradeEngine).payout);\n    },\n    getPurchaseReference: function getPurchaseReference() {\n      return tradeEngine.getPurchaseReference();\n    },\n    isSellAvailable: function isSellAvailable() {\n      return tradeEngine.isSellAtMarketAvailable();\n    },\n    sellAtMarket: function sellAtMarket() {\n      return tradeEngine.sellAtMarket();\n    },\n    getSellPrice: function getSellPrice() {\n      return _getSellPrice(tradeEngine);\n    },\n    isResult: function isResult(result) {\n      return getDetail(10) === result;\n    },\n    isTradeAgain: function isTradeAgain(result) {\n      return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('bot.trade_again', result);\n    },\n    readDetails: function readDetails(i) {\n      return getDetail(i - 1);\n    }\n  };\n};\nvar getProposal = function getProposal(contract_type, tradeEngine) {\n  return tradeEngine.data.proposals.find(function (proposal) {\n    return proposal.contract_type === contract_type && proposal.purchase_reference === tradeEngine.getPurchaseReference();\n  });\n};\nvar _getSellPrice = function _getSellPrice(tradeEngine) {\n  return tradeEngine.getSellPrice();\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getBotInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvQm90SW50ZXJmYWNlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvSW50ZXJmYWNlL0JvdEludGVyZmFjZS5qcz9mMGUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi8uLi91dGlscy9vYnNlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVEZXRhaWxzIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycyc7XG5cbmNvbnN0IGdldEJvdEludGVyZmFjZSA9IHRyYWRlRW5naW5lID0+IHtcbiAgICBjb25zdCBnZXREZXRhaWwgPSBpID0+IGNyZWF0ZURldGFpbHModHJhZGVFbmdpbmUuZGF0YS5jb250cmFjdClbaV07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiAoLi4uYXJncykgPT4gdHJhZGVFbmdpbmUuaW5pdCguLi5hcmdzKSxcbiAgICAgICAgc3RhcnQ6ICguLi5hcmdzKSA9PiB0cmFkZUVuZ2luZS5zdGFydCguLi5hcmdzKSxcbiAgICAgICAgc3RvcDogKC4uLmFyZ3MpID0+IHRyYWRlRW5naW5lLnN0b3AoLi4uYXJncyksXG4gICAgICAgIHB1cmNoYXNlOiBjb250cmFjdF90eXBlID0+IHRyYWRlRW5naW5lLnB1cmNoYXNlKGNvbnRyYWN0X3R5cGUpLFxuICAgICAgICBnZXRBc2tQcmljZTogY29udHJhY3RfdHlwZSA9PiBOdW1iZXIoZ2V0UHJvcG9zYWwoY29udHJhY3RfdHlwZSwgdHJhZGVFbmdpbmUpLmFza19wcmljZSksXG4gICAgICAgIGdldFBheW91dDogY29udHJhY3RfdHlwZSA9PiBOdW1iZXIoZ2V0UHJvcG9zYWwoY29udHJhY3RfdHlwZSwgdHJhZGVFbmdpbmUpLnBheW91dCksXG4gICAgICAgIGdldFB1cmNoYXNlUmVmZXJlbmNlOiAoKSA9PiB0cmFkZUVuZ2luZS5nZXRQdXJjaGFzZVJlZmVyZW5jZSgpLFxuICAgICAgICBpc1NlbGxBdmFpbGFibGU6ICgpID0+IHRyYWRlRW5naW5lLmlzU2VsbEF0TWFya2V0QXZhaWxhYmxlKCksXG4gICAgICAgIHNlbGxBdE1hcmtldDogKCkgPT4gdHJhZGVFbmdpbmUuc2VsbEF0TWFya2V0KCksXG4gICAgICAgIGdldFNlbGxQcmljZTogKCkgPT4gZ2V0U2VsbFByaWNlKHRyYWRlRW5naW5lKSxcbiAgICAgICAgaXNSZXN1bHQ6IHJlc3VsdCA9PiBnZXREZXRhaWwoMTApID09PSByZXN1bHQsXG4gICAgICAgIGlzVHJhZGVBZ2FpbjogcmVzdWx0ID0+IGdsb2JhbE9ic2VydmVyLmVtaXQoJ2JvdC50cmFkZV9hZ2FpbicsIHJlc3VsdCksXG4gICAgICAgIHJlYWREZXRhaWxzOiBpID0+IGdldERldGFpbChpIC0gMSksXG4gICAgfTtcbn07XG5cbmNvbnN0IGdldFByb3Bvc2FsID0gKGNvbnRyYWN0X3R5cGUsIHRyYWRlRW5naW5lKSA9PiB7XG4gICAgcmV0dXJuIHRyYWRlRW5naW5lLmRhdGEucHJvcG9zYWxzLmZpbmQoXG4gICAgICAgIHByb3Bvc2FsID0+XG4gICAgICAgICAgICBwcm9wb3NhbC5jb250cmFjdF90eXBlID09PSBjb250cmFjdF90eXBlICYmXG4gICAgICAgICAgICBwcm9wb3NhbC5wdXJjaGFzZV9yZWZlcmVuY2UgPT09IHRyYWRlRW5naW5lLmdldFB1cmNoYXNlUmVmZXJlbmNlKClcbiAgICApO1xufTtcblxuY29uc3QgZ2V0U2VsbFByaWNlID0gdHJhZGVFbmdpbmUgPT4ge1xuICAgIHJldHVybiB0cmFkZUVuZ2luZS5nZXRTZWxsUHJpY2UoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdldEJvdEludGVyZmFjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/BotInterface.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/CandleInterface.js":
/*!**************************************************!*\
  !*** ./tradeEngine/Interface/CandleInterface.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_sanitize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/sanitize */ \"./tradeEngine/utils/sanitize.js\");\n\nvar getCandleInterface = function getCandleInterface() {\n  return {\n    isCandleBlack: function isCandleBlack(candle) {\n      return (0,_utils_sanitize__WEBPACK_IMPORTED_MODULE_0__.expectCandle)(candle) && candle.close < candle.open;\n    },\n    candleValues: function candleValues(ohlc, field) {\n      return (0,_utils_sanitize__WEBPACK_IMPORTED_MODULE_0__.expectCandles)(ohlc).map(function (o) {\n        return o[field];\n      });\n    },\n    candleField: function candleField(candle, field) {\n      return (0,_utils_sanitize__WEBPACK_IMPORTED_MODULE_0__.expectCandle)(candle)[field];\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getCandleInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvQ2FuZGxlSW50ZXJmYWNlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvSW50ZXJmYWNlL0NhbmRsZUludGVyZmFjZS5qcz9hZTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4cGVjdENhbmRsZSwgZXhwZWN0Q2FuZGxlcyB9IGZyb20gJy4uL3V0aWxzL3Nhbml0aXplJztcblxuY29uc3QgZ2V0Q2FuZGxlSW50ZXJmYWNlID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlzQ2FuZGxlQmxhY2s6IGNhbmRsZSA9PiBleHBlY3RDYW5kbGUoY2FuZGxlKSAmJiBjYW5kbGUuY2xvc2UgPCBjYW5kbGUub3BlbixcbiAgICAgICAgY2FuZGxlVmFsdWVzOiAob2hsYywgZmllbGQpID0+IGV4cGVjdENhbmRsZXMob2hsYykubWFwKG8gPT4gb1tmaWVsZF0pLFxuICAgICAgICBjYW5kbGVGaWVsZDogKGNhbmRsZSwgZmllbGQpID0+IGV4cGVjdENhbmRsZShjYW5kbGUpW2ZpZWxkXSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0Q2FuZGxlSW50ZXJmYWNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/CandleInterface.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/IndicatorsInterface.js":
/*!******************************************************!*\
  !*** ./tradeEngine/Interface/IndicatorsInterface.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_indicators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/indicators */ \"../indicators/src/index.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nvar decorate = function decorate(f, input, tradeEngine, config) {\n  var pipSize = tradeEngine.getPipSize();\n  for (var _len = arguments.length, args = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n    args[_key - 4] = arguments[_key];\n  }\n  return f.apply(void 0, [input, _objectSpread({\n    pipSize: pipSize\n  }, config)].concat(args));\n};\nvar getIndicatorsInterface = function getIndicatorsInterface(tradeEngine) {\n  return {\n    sma: function sma(input, periods) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.simpleMovingAverage, input, tradeEngine, {\n        periods: periods\n      });\n    },\n    smaa: function smaa(input, periods) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.simpleMovingAverageArray, input, tradeEngine, {\n        periods: periods\n      });\n    },\n    ema: function ema(input, periods) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.exponentialMovingAverage, input, tradeEngine, {\n        periods: periods\n      });\n    },\n    emaa: function emaa(input, periods) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.exponentialMovingAverageArray, input, tradeEngine, {\n        periods: periods\n      });\n    },\n    rsi: function rsi(input, periods) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.relativeStrengthIndex, input, tradeEngine, {\n        periods: periods\n      });\n    },\n    rsia: function rsia(input, periods) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.relativeStrengthIndexArray, input, tradeEngine, {\n        periods: periods\n      });\n    },\n    bb: function bb(input, config, field) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.bollingerBands, input, tradeEngine, config)[field];\n    },\n    bba: function bba(input, config, field) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.bollingerBandsArray, input, tradeEngine, config).map(function (r) {\n        return r[field];\n      });\n    },\n    macda: function macda(input, config, field) {\n      return decorate(_deriv_indicators__WEBPACK_IMPORTED_MODULE_0__.macdArray, input, tradeEngine, config).map(function (r) {\n        return r[field];\n      });\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getIndicatorsInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvSW5kaWNhdG9yc0ludGVyZmFjZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBWUE7QUFDQTtBQUFBO0FBREE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvSW5kaWNhdG9yc0ludGVyZmFjZS5qcz9lMmU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgc2ltcGxlTW92aW5nQXZlcmFnZSBhcyBzbWEsXG4gICAgc2ltcGxlTW92aW5nQXZlcmFnZUFycmF5IGFzIHNtYWEsXG4gICAgYm9sbGluZ2VyQmFuZHMgYXMgYmIsXG4gICAgYm9sbGluZ2VyQmFuZHNBcnJheSBhcyBiYmEsXG4gICAgZXhwb25lbnRpYWxNb3ZpbmdBdmVyYWdlIGFzIGVtYSxcbiAgICBleHBvbmVudGlhbE1vdmluZ0F2ZXJhZ2VBcnJheSBhcyBlbWFhLFxuICAgIHJlbGF0aXZlU3RyZW5ndGhJbmRleCBhcyByc2ksXG4gICAgcmVsYXRpdmVTdHJlbmd0aEluZGV4QXJyYXkgYXMgcnNpYSxcbiAgICBtYWNkQXJyYXkgYXMgbWFjZGEsXG59IGZyb20gJ0BkZXJpdi9pbmRpY2F0b3JzJztcblxuY29uc3QgZGVjb3JhdGUgPSAoZiwgaW5wdXQsIHRyYWRlRW5naW5lLCBjb25maWcsIC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBwaXBTaXplID0gdHJhZGVFbmdpbmUuZ2V0UGlwU2l6ZSgpO1xuICAgIHJldHVybiBmKGlucHV0LCB7IHBpcFNpemUsIC4uLmNvbmZpZyB9LCAuLi5hcmdzKTtcbn07XG5cbmNvbnN0IGdldEluZGljYXRvcnNJbnRlcmZhY2UgPSB0cmFkZUVuZ2luZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc21hOiAoaW5wdXQsIHBlcmlvZHMpID0+IGRlY29yYXRlKHNtYSwgaW5wdXQsIHRyYWRlRW5naW5lLCB7IHBlcmlvZHMgfSksXG4gICAgICAgIHNtYWE6IChpbnB1dCwgcGVyaW9kcykgPT4gZGVjb3JhdGUoc21hYSwgaW5wdXQsIHRyYWRlRW5naW5lLCB7IHBlcmlvZHMgfSksXG4gICAgICAgIGVtYTogKGlucHV0LCBwZXJpb2RzKSA9PiBkZWNvcmF0ZShlbWEsIGlucHV0LCB0cmFkZUVuZ2luZSwgeyBwZXJpb2RzIH0pLFxuICAgICAgICBlbWFhOiAoaW5wdXQsIHBlcmlvZHMpID0+IGRlY29yYXRlKGVtYWEsIGlucHV0LCB0cmFkZUVuZ2luZSwgeyBwZXJpb2RzIH0pLFxuICAgICAgICByc2k6IChpbnB1dCwgcGVyaW9kcykgPT4gZGVjb3JhdGUocnNpLCBpbnB1dCwgdHJhZGVFbmdpbmUsIHsgcGVyaW9kcyB9KSxcbiAgICAgICAgcnNpYTogKGlucHV0LCBwZXJpb2RzKSA9PiBkZWNvcmF0ZShyc2lhLCBpbnB1dCwgdHJhZGVFbmdpbmUsIHsgcGVyaW9kcyB9KSxcbiAgICAgICAgYmI6IChpbnB1dCwgY29uZmlnLCBmaWVsZCkgPT4gZGVjb3JhdGUoYmIsIGlucHV0LCB0cmFkZUVuZ2luZSwgY29uZmlnKVtmaWVsZF0sXG4gICAgICAgIGJiYTogKGlucHV0LCBjb25maWcsIGZpZWxkKSA9PiBkZWNvcmF0ZShiYmEsIGlucHV0LCB0cmFkZUVuZ2luZSwgY29uZmlnKS5tYXAociA9PiByW2ZpZWxkXSksXG4gICAgICAgIG1hY2RhOiAoaW5wdXQsIGNvbmZpZywgZmllbGQpID0+IGRlY29yYXRlKG1hY2RhLCBpbnB1dCwgdHJhZGVFbmdpbmUsIGNvbmZpZykubWFwKHIgPT4gcltmaWVsZF0pLFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRJbmRpY2F0b3JzSW50ZXJmYWNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/IndicatorsInterface.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/MiscInterface.js":
/*!************************************************!*\
  !*** ./tradeEngine/Interface/MiscInterface.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_broadcast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\n\n\n\nvar getMiscInterface = function getMiscInterface(tradeEngine) {\n  return {\n    notify: function notify(args) {\n      return _utils_observer__WEBPACK_IMPORTED_MODULE_2__.observer.emit('ui.log.notify', args);\n    },\n    console: function (_console) {\n      function console(_x) {\n        return _console.apply(this, arguments);\n      }\n      console.toString = function () {\n        return _console.toString();\n      };\n      return console;\n    }(function (_ref) {\n      var type = _ref.type,\n        message = _ref.message;\n      return console[type](message);\n    }),\n    // eslint-disable-line no-console\n    notifyTelegram: function notifyTelegram(access_token, chat_id, text) {\n      var url = \"https://api.telegram.org/bot\".concat(access_token, \"/sendMessage\");\n      var onError = function onError() {\n        return (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_1__.notify)('warn', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('The Telegram notification could not be sent'));\n      };\n      fetch(url, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          chat_id: chat_id,\n          text: text\n        })\n      }).then(function (response) {\n        if (!response.ok) {\n          onError();\n        }\n      })[\"catch\"](onError);\n    },\n    getTotalRuns: function getTotalRuns() {\n      return tradeEngine.getTotalRuns();\n    },\n    getBalance: function getBalance(type) {\n      return tradeEngine.getBalance(type);\n    },\n    getTotalProfit: function getTotalProfit(toString) {\n      return tradeEngine.getTotalProfit(toString, tradeEngine.tradeOptions.currency);\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getMiscInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvTWlzY0ludGVyZmFjZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvTWlzY0ludGVyZmFjZS5qcz8xNmE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgeyBub3RpZnkgfSBmcm9tICcuLi91dGlscy9icm9hZGNhc3QnO1xuaW1wb3J0IHsgb2JzZXJ2ZXIgYXMgZ2xvYmFsT2JzZXJ2ZXIgfSBmcm9tICcuLy4uL3V0aWxzL29ic2VydmVyJztcblxuY29uc3QgZ2V0TWlzY0ludGVyZmFjZSA9IHRyYWRlRW5naW5lID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3RpZnk6IGFyZ3MgPT4gZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgndWkubG9nLm5vdGlmeScsIGFyZ3MpLFxuICAgICAgICBjb25zb2xlOiAoeyB0eXBlLCBtZXNzYWdlIH0pID0+IGNvbnNvbGVbdHlwZV0obWVzc2FnZSksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBub3RpZnlUZWxlZ3JhbTogKGFjY2Vzc190b2tlbiwgY2hhdF9pZCwgdGV4dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLnRlbGVncmFtLm9yZy9ib3Qke2FjY2Vzc190b2tlbn0vc2VuZE1lc3NhZ2VgO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9ICgpID0+IG5vdGlmeSgnd2FybicsIGxvY2FsaXplKCdUaGUgVGVsZWdyYW0gbm90aWZpY2F0aW9uIGNvdWxkIG5vdCBiZSBzZW50JykpO1xuXG4gICAgICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjaGF0X2lkLCB0ZXh0IH0pLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKG9uRXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRUb3RhbFJ1bnM6ICgpID0+IHRyYWRlRW5naW5lLmdldFRvdGFsUnVucygpLFxuICAgICAgICBnZXRCYWxhbmNlOiB0eXBlID0+IHRyYWRlRW5naW5lLmdldEJhbGFuY2UodHlwZSksXG4gICAgICAgIGdldFRvdGFsUHJvZml0OiB0b1N0cmluZyA9PiB0cmFkZUVuZ2luZS5nZXRUb3RhbFByb2ZpdCh0b1N0cmluZywgdHJhZGVFbmdpbmUudHJhZGVPcHRpb25zLmN1cnJlbmN5KSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0TWlzY0ludGVyZmFjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/MiscInterface.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/TicksInterface.js":
/*!*************************************************!*\
  !*** ./tradeEngine/Interface/TicksInterface.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar getTicksInterface = function getTicksInterface(tradeEngine) {\n  return {\n    getLastTick: function getLastTick() {\n      return tradeEngine.getLastTick.apply(tradeEngine, arguments);\n    },\n    getLastDigit: function getLastDigit() {\n      return tradeEngine.getLastDigit.apply(tradeEngine, arguments);\n    },\n    getTicks: function getTicks() {\n      return tradeEngine.getTicks.apply(tradeEngine, arguments);\n    },\n    checkDirection: function checkDirection() {\n      return tradeEngine.checkDirection.apply(tradeEngine, arguments);\n    },\n    getOhlcFromEnd: function getOhlcFromEnd() {\n      return tradeEngine.getOhlcFromEnd.apply(tradeEngine, arguments);\n    },\n    getOhlc: function getOhlc() {\n      return tradeEngine.getOhlc.apply(tradeEngine, arguments);\n    },\n    getLastDigitList: function getLastDigitList() {\n      return tradeEngine.getLastDigitList.apply(tradeEngine, arguments);\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getTicksInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvVGlja3NJbnRlcmZhY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL0ludGVyZmFjZS9UaWNrc0ludGVyZmFjZS5qcz81NzY4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdldFRpY2tzSW50ZXJmYWNlID0gdHJhZGVFbmdpbmUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldExhc3RUaWNrOiAoLi4uYXJncykgPT4gdHJhZGVFbmdpbmUuZ2V0TGFzdFRpY2soLi4uYXJncyksXG4gICAgICAgIGdldExhc3REaWdpdDogKC4uLmFyZ3MpID0+IHRyYWRlRW5naW5lLmdldExhc3REaWdpdCguLi5hcmdzKSxcbiAgICAgICAgZ2V0VGlja3M6ICguLi5hcmdzKSA9PiB0cmFkZUVuZ2luZS5nZXRUaWNrcyguLi5hcmdzKSxcbiAgICAgICAgY2hlY2tEaXJlY3Rpb246ICguLi5hcmdzKSA9PiB0cmFkZUVuZ2luZS5jaGVja0RpcmVjdGlvbiguLi5hcmdzKSxcbiAgICAgICAgZ2V0T2hsY0Zyb21FbmQ6ICguLi5hcmdzKSA9PiB0cmFkZUVuZ2luZS5nZXRPaGxjRnJvbUVuZCguLi5hcmdzKSxcbiAgICAgICAgZ2V0T2hsYzogKC4uLmFyZ3MpID0+IHRyYWRlRW5naW5lLmdldE9obGMoLi4uYXJncyksXG4gICAgICAgIGdldExhc3REaWdpdExpc3Q6ICguLi5hcmdzKSA9PiB0cmFkZUVuZ2luZS5nZXRMYXN0RGlnaXRMaXN0KC4uLmFyZ3MpLFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRUaWNrc0ludGVyZmFjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/TicksInterface.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/ToolsInterface.js":
/*!*************************************************!*\
  !*** ./tradeEngine/Interface/ToolsInterface.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CandleInterface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CandleInterface */ \"./tradeEngine/Interface/CandleInterface.js\");\n/* harmony import */ var _IndicatorsInterface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IndicatorsInterface */ \"./tradeEngine/Interface/IndicatorsInterface.js\");\n/* harmony import */ var _MiscInterface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MiscInterface */ \"./tradeEngine/Interface/MiscInterface.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\nvar getToolsInterface = function getToolsInterface(tradeEngine) {\n  return _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n    dateTimeStringToTimestamp: function dateTimeStringToTimestamp(datetime_string) {\n      var invalid_msg = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Invalid date/time: {{ datetime_string }}', {\n        datetime_string: datetime_string\n      });\n      if (typeof datetime_string !== 'string') {\n        return invalid_msg;\n      }\n      var date_time = datetime_string.replace(/[^0-9.:-\\s]/g, '').replace(/\\s+/g, ' ').trim().split(' ');\n      var d = /^[12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\n      var t = /^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9])?)?$/;\n      var validated_datetime;\n      if (date_time.length >= 2) {\n        validated_datetime = d.test(date_time[0]) && t.test(date_time[1]) ? \"\".concat(date_time[0], \"T\").concat(date_time[1]) : null;\n      } else if (date_time.length === 1) {\n        validated_datetime = d.test(date_time[0]) ? date_time[0] : null;\n      } else {\n        validated_datetime = null;\n      }\n      if (validated_datetime) {\n        var date_obj = new Date(validated_datetime);\n        // eslint-disable-next-line no-restricted-globals\n        if (date_obj instanceof Date && !isNaN(date_obj)) {\n          return date_obj.getTime() / 1000;\n        }\n      }\n      return invalid_msg;\n    },\n    getTime: function getTime() {\n      return parseInt(new Date().getTime() / 1000);\n    }\n  }, (0,_CandleInterface__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()), (0,_MiscInterface__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(tradeEngine)), (0,_IndicatorsInterface__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(tradeEngine)), {}, {\n    // Highlight the block that is being executed\n    highlightBlock: function highlightBlock(block_id) {\n      var block = Blockly.derivWorkspace.getBlockById(block_id);\n      if (block) {\n        block.highlightExecutedBlock(block);\n      }\n    }\n  });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getToolsInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvVG9vbHNJbnRlcmZhY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvSW50ZXJmYWNlL1Rvb2xzSW50ZXJmYWNlLmpzP2EwN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcbmltcG9ydCBnZXRDYW5kbGVJbnRlcmZhY2UgZnJvbSAnLi9DYW5kbGVJbnRlcmZhY2UnO1xuaW1wb3J0IGdldEluZGljYXRvcnNJbnRlcmZhY2UgZnJvbSAnLi9JbmRpY2F0b3JzSW50ZXJmYWNlJztcbmltcG9ydCBnZXRNaXNjSW50ZXJmYWNlIGZyb20gJy4vTWlzY0ludGVyZmFjZSc7XG5cbmNvbnN0IGdldFRvb2xzSW50ZXJmYWNlID0gdHJhZGVFbmdpbmUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGVUaW1lU3RyaW5nVG9UaW1lc3RhbXA6IGRhdGV0aW1lX3N0cmluZyA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkX21zZyA9IGxvY2FsaXplKCdJbnZhbGlkIGRhdGUvdGltZToge3sgZGF0ZXRpbWVfc3RyaW5nIH19JywgeyBkYXRldGltZV9zdHJpbmcgfSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0ZXRpbWVfc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnZhbGlkX21zZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGF0ZV90aW1lID0gZGF0ZXRpbWVfc3RyaW5nXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1teMC05LjotXFxzXS9nLCAnJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICBjb25zdCBkID0gL15bMTJdXFxkezN9LSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxMl1cXGR8M1swMV0pJC87XG4gICAgICAgICAgICBjb25zdCB0ID0gL14oMFswLTldfDFbMC05XXwyWzAtM10pOihbMC01XVswLTldKSg6KFswLTVdWzAtOV0pPyk/JC87XG5cbiAgICAgICAgICAgIGxldCB2YWxpZGF0ZWRfZGF0ZXRpbWU7XG5cbiAgICAgICAgICAgIGlmIChkYXRlX3RpbWUubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZWRfZGF0ZXRpbWUgPVxuICAgICAgICAgICAgICAgICAgICBkLnRlc3QoZGF0ZV90aW1lWzBdKSAmJiB0LnRlc3QoZGF0ZV90aW1lWzFdKSA/IGAke2RhdGVfdGltZVswXX1UJHtkYXRlX3RpbWVbMV19YCA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGVfdGltZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZWRfZGF0ZXRpbWUgPSBkLnRlc3QoZGF0ZV90aW1lWzBdKSA/IGRhdGVfdGltZVswXSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlZF9kYXRldGltZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZWRfZGF0ZXRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlX29iaiA9IG5ldyBEYXRlKHZhbGlkYXRlZF9kYXRldGltZSk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgICAgICAgICAgICAgIGlmIChkYXRlX29iaiBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKGRhdGVfb2JqKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZV9vYmouZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbnZhbGlkX21zZztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VGltZTogKCkgPT4gcGFyc2VJbnQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgLi4uZ2V0Q2FuZGxlSW50ZXJmYWNlKCksXG4gICAgICAgIC4uLmdldE1pc2NJbnRlcmZhY2UodHJhZGVFbmdpbmUpLFxuICAgICAgICAuLi5nZXRJbmRpY2F0b3JzSW50ZXJmYWNlKHRyYWRlRW5naW5lKSxcblxuICAgICAgICAvLyBIaWdobGlnaHQgdGhlIGJsb2NrIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWRcbiAgICAgICAgaGlnaGxpZ2h0QmxvY2s6IGJsb2NrX2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gQmxvY2tseS5kZXJpdldvcmtzcGFjZS5nZXRCbG9ja0J5SWQoYmxvY2tfaWQpO1xuXG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgICBibG9jay5oaWdobGlnaHRFeGVjdXRlZEJsb2NrKGJsb2NrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0VG9vbHNJbnRlcmZhY2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/ToolsInterface.js\n");

/***/ }),

/***/ "./tradeEngine/Interface/index.js":
/*!****************************************!*\
  !*** ./tradeEngine/Interface/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ToolsInterface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ToolsInterface */ \"./tradeEngine/Interface/ToolsInterface.js\");\n/* harmony import */ var _TicksInterface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TicksInterface */ \"./tradeEngine/Interface/TicksInterface.js\");\n/* harmony import */ var _BotInterface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BotInterface */ \"./tradeEngine/Interface/BotInterface.js\");\n/* harmony import */ var _trade__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../trade */ \"./tradeEngine/trade/index.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\n\nvar _sleep = function sleep(observer) {\n  var arg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return new Promise(function (r) {\n    return setTimeout(function () {\n      r();\n      setTimeout(function () {\n        return observer.emit('CONTINUE');\n      }, 0);\n    }, arg * 1000);\n  }, function () {});\n};\nvar Interface = function Interface($scope) {\n  var tradeEngine = new _trade__WEBPACK_IMPORTED_MODULE_3__[\"default\"]($scope);\n  var observer = $scope.observer;\n  var getInterface = function getInterface() {\n    return _objectSpread(_objectSpread(_objectSpread({}, (0,_BotInterface__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(tradeEngine)), (0,_ToolsInterface__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tradeEngine)), {}, {\n      getTicksInterface: (0,_TicksInterface__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(tradeEngine),\n      watch: function watch() {\n        return tradeEngine.watch.apply(tradeEngine, arguments);\n      },\n      sleep: function sleep() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return _sleep.apply(void 0, [observer].concat(args));\n      },\n      alert: function (_alert) {\n        function alert() {\n          return _alert.apply(this, arguments);\n        }\n        alert.toString = function () {\n          return _alert.toString();\n        };\n        return alert;\n      }(function () {\n        return alert.apply(void 0, arguments);\n      }),\n      // eslint-disable-line no-alert\n      prompt: function (_prompt) {\n        function prompt() {\n          return _prompt.apply(this, arguments);\n        }\n        prompt.toString = function () {\n          return _prompt.toString();\n        };\n        return prompt;\n      }(function () {\n        return prompt.apply(void 0, arguments);\n      }),\n      // eslint-disable-line no-alert\n      console: {\n        log: function log() {\n          var _console;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          // eslint-disable-next-line no-console\n          (_console = console).log.apply(_console, [new Date().toLocaleTimeString()].concat(args));\n        }\n      }\n    });\n  };\n  return {\n    tradeEngine: tradeEngine,\n    observer: observer,\n    getInterface: getInterface\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Interface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS9JbnRlcmZhY2UvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvSW50ZXJmYWNlL2luZGV4LmpzP2QwZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFRvb2xzSW50ZXJmYWNlIGZyb20gJy4vVG9vbHNJbnRlcmZhY2UnO1xuaW1wb3J0IGdldFRpY2tzSW50ZXJmYWNlIGZyb20gJy4vVGlja3NJbnRlcmZhY2UnO1xuaW1wb3J0IGdldEJvdEludGVyZmFjZSBmcm9tICcuL0JvdEludGVyZmFjZSc7XG5pbXBvcnQgVHJhZGVFbmdpbmUgZnJvbSAnLi4vdHJhZGUnO1xuXG5jb25zdCBzbGVlcCA9IChvYnNlcnZlciwgYXJnID0gMSkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgciA9PlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcigpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gb2JzZXJ2ZXIuZW1pdCgnQ09OVElOVUUnKSwgMCk7XG4gICAgICAgICAgICB9LCBhcmcgKiAxMDAwKSxcbiAgICAgICAgKCkgPT4ge31cbiAgICApO1xufTtcblxuY29uc3QgSW50ZXJmYWNlID0gJHNjb3BlID0+IHtcbiAgICBjb25zdCB0cmFkZUVuZ2luZSA9IG5ldyBUcmFkZUVuZ2luZSgkc2NvcGUpO1xuICAgIGNvbnN0IHsgb2JzZXJ2ZXIgfSA9ICRzY29wZTtcbiAgICBjb25zdCBnZXRJbnRlcmZhY2UgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5nZXRCb3RJbnRlcmZhY2UodHJhZGVFbmdpbmUpLFxuICAgICAgICAgICAgLi4uZ2V0VG9vbHNJbnRlcmZhY2UodHJhZGVFbmdpbmUpLFxuICAgICAgICAgICAgZ2V0VGlja3NJbnRlcmZhY2U6IGdldFRpY2tzSW50ZXJmYWNlKHRyYWRlRW5naW5lKSxcbiAgICAgICAgICAgIHdhdGNoOiAoLi4uYXJncykgPT4gdHJhZGVFbmdpbmUud2F0Y2goLi4uYXJncyksXG4gICAgICAgICAgICBzbGVlcDogKC4uLmFyZ3MpID0+IHNsZWVwKG9ic2VydmVyLCAuLi5hcmdzKSxcbiAgICAgICAgICAgIGFsZXJ0OiAoLi4uYXJncykgPT4gYWxlcnQoLi4uYXJncyksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcbiAgICAgICAgICAgIHByb21wdDogKC4uLmFyZ3MpID0+IHByb21wdCguLi5hcmdzKSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuICAgICAgICAgICAgY29uc29sZToge1xuICAgICAgICAgICAgICAgIGxvZyguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgdHJhZGVFbmdpbmUsIG9ic2VydmVyLCBnZXRJbnRlcmZhY2UgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyZmFjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/Interface/index.js\n");

/***/ }),

/***/ "./tradeEngine/trade/Balance.js":
/*!**************************************!*\
  !*** ./tradeEngine/trade/Balance.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_broadcast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n// import DBotStore from '../../../scratch/dbot-store';\n\nvar balance_string = '';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(Balance, _Engine);\n    var _super = _createSuper(Balance);\n    function Balance() {\n      _classCallCheck(this, Balance);\n      return _super.apply(this, arguments);\n    }\n    _createClass(Balance, [{\n      key: \"observeBalance\",\n      value: function observeBalance() {\n        var _this = this;\n        if (!_api_api_base__WEBPACK_IMPORTED_MODULE_2__.api_base.api) return;\n        var subscription = _api_api_base__WEBPACK_IMPORTED_MODULE_2__.api_base.api.onMessage().subscribe(function (_ref) {\n          var data = _ref.data;\n          if (data.msg_type === 'balance') {\n            var _data$balance = data.balance,\n              b = _data$balance.balance,\n              currency = _data$balance.currency;\n            balance_string = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getFormattedText)(b, currency);\n            if (_this.accountInfo) (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_1__.info)({\n              accountID: _this.accountInfo.loginid,\n              balance: balance_string\n            });\n          }\n        });\n        _api_api_base__WEBPACK_IMPORTED_MODULE_2__.api_base.pushSubscription(subscription);\n      }\n\n      // eslint-disable-next-line class-methods-use-this\n    }, {\n      key: \"getBalance\",\n      value: function getBalance(type) {\n        // const { client } = DBotStore.instance;\n        var balance = 0;\n        balance_string = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getFormattedText)(balance, 'USD', false);\n        return type === 'STR' ? balance_string : balance;\n      }\n    }]);\n    return Balance;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9CYWxhbmNlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF4QkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3RyYWRlL0JhbGFuY2UuanM/NWQ5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRGb3JtYXR0ZWRUZXh0IH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBpbmZvIH0gZnJvbSAnLi4vdXRpbHMvYnJvYWRjYXN0Jztcbi8vIGltcG9ydCBEQm90U3RvcmUgZnJvbSAnLi4vLi4vLi4vc2NyYXRjaC9kYm90LXN0b3JlJztcbmltcG9ydCB7IGFwaV9iYXNlIH0gZnJvbSAnLi4vLi4vYXBpL2FwaS1iYXNlJztcblxubGV0IGJhbGFuY2Vfc3RyaW5nID0gJyc7XG5cbmV4cG9ydCBkZWZhdWx0IEVuZ2luZSA9PlxuICAgIGNsYXNzIEJhbGFuY2UgZXh0ZW5kcyBFbmdpbmUge1xuICAgICAgICBvYnNlcnZlQmFsYW5jZSgpIHtcbiAgICAgICAgICAgIGlmICghYXBpX2Jhc2UuYXBpKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBhcGlfYmFzZS5hcGkub25NZXNzYWdlKCkuc3Vic2NyaWJlKCh7IGRhdGEgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1zZ190eXBlID09PSAnYmFsYW5jZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZTogeyBiYWxhbmNlOiBiLCBjdXJyZW5jeSB9LFxuICAgICAgICAgICAgICAgICAgICB9ID0gZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICBiYWxhbmNlX3N0cmluZyA9IGdldEZvcm1hdHRlZFRleHQoYiwgY3VycmVuY3kpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjY291bnRJbmZvKSBpbmZvKHsgYWNjb3VudElEOiB0aGlzLmFjY291bnRJbmZvLmxvZ2luaWQsIGJhbGFuY2U6IGJhbGFuY2Vfc3RyaW5nIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXBpX2Jhc2UucHVzaFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICAgICAgZ2V0QmFsYW5jZSh0eXBlKSB7XG4gICAgICAgICAgICAvLyBjb25zdCB7IGNsaWVudCB9ID0gREJvdFN0b3JlLmluc3RhbmNlO1xuICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9ICAwO1xuXG4gICAgICAgICAgICBiYWxhbmNlX3N0cmluZyA9IGdldEZvcm1hdHRlZFRleHQoYmFsYW5jZSwgJ1VTRCcsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlID09PSAnU1RSJyA/IGJhbGFuY2Vfc3RyaW5nIDogYmFsYW5jZTtcbiAgICAgICAgfVxuICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/Balance.js\n");

/***/ }),

/***/ "./tradeEngine/trade/OpenContract.js":
/*!*******************************************!*\
  !*** ./tradeEngine/trade/OpenContract.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state/actions */ \"./tradeEngine/trade/state/actions/index.js\");\n/* harmony import */ var _utils_broadcast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(OpenContract, _Engine);\n    var _super = _createSuper(OpenContract);\n    function OpenContract() {\n      _classCallCheck(this, OpenContract);\n      return _super.apply(this, arguments);\n    }\n    _createClass(OpenContract, [{\n      key: \"observeOpenContract\",\n      value: function observeOpenContract() {\n        var _this = this;\n        if (!_api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.api) return;\n        var subscription = _api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.api.onMessage().subscribe(function (_ref) {\n          var data = _ref.data;\n          if (data.msg_type === 'proposal_open_contract') {\n            var contract = data.proposal_open_contract;\n            if (!contract || !_this.expectedContractId(contract === null || contract === void 0 ? void 0 : contract.contract_id)) {\n              return;\n            }\n            _this.setContractFlags(contract);\n            _this.data.contract = contract;\n            (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.contract)(_objectSpread({\n              accountID: _api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.account_info.loginid\n            }, contract));\n            if (_this.isSold) {\n              _this.contractId = '';\n              clearTimeout(_this.transaction_recovery_timeout);\n              _this.updateTotals(contract);\n              (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.contractStatus)({\n                id: 'contract.sold',\n                data: contract.transaction_ids.sell,\n                contract: contract\n              });\n              if (_this.afterPromise) {\n                _this.afterPromise();\n              }\n              _this.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_1__.sell)());\n            } else {\n              _this.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_1__.openContractReceived)());\n            }\n          }\n        });\n        _api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.pushSubscription(subscription);\n      }\n    }, {\n      key: \"waitForAfter\",\n      value: function waitForAfter() {\n        var _this2 = this;\n        return new Promise(function (resolve) {\n          _this2.afterPromise = resolve;\n        });\n      }\n    }, {\n      key: \"setContractFlags\",\n      value: function setContractFlags(contract) {\n        var is_expired = contract.is_expired,\n          is_valid_to_sell = contract.is_valid_to_sell,\n          is_sold = contract.is_sold,\n          entry_tick = contract.entry_tick;\n        this.isSold = Boolean(is_sold);\n        this.isSellAvailable = !this.isSold && Boolean(is_valid_to_sell);\n        this.isExpired = Boolean(is_expired);\n        this.hasEntryTick = Boolean(entry_tick);\n      }\n    }, {\n      key: \"expectedContractId\",\n      value: function expectedContractId(contractId) {\n        return this.contractId && contractId === this.contractId;\n      }\n    }, {\n      key: \"getSellPrice\",\n      value: function getSellPrice() {\n        var _this$data$contract = this.data.contract,\n          bidPrice = _this$data$contract.bid_price,\n          buyPrice = _this$data$contract.buy_price,\n          currency = _this$data$contract.currency;\n        return (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(Number(bidPrice) - Number(buyPrice), currency);\n      }\n    }]);\n    return OpenContract;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9PcGVuQ29udHJhY3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUE5REEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3RyYWRlL09wZW5Db250cmFjdC5qcz9jMDI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFJvdW5kZWROdW1iZXIgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IHNlbGwsIG9wZW5Db250cmFjdFJlY2VpdmVkIH0gZnJvbSAnLi9zdGF0ZS9hY3Rpb25zJztcbmltcG9ydCB7IGNvbnRyYWN0U3RhdHVzLCBjb250cmFjdCBhcyBicm9hZGNhc3RDb250cmFjdCB9IGZyb20gJy4uL3V0aWxzL2Jyb2FkY2FzdCc7XG5pbXBvcnQgeyBhcGlfYmFzZSB9IGZyb20gJy4uLy4uL2FwaS9hcGktYmFzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEVuZ2luZSA9PlxuICAgIGNsYXNzIE9wZW5Db250cmFjdCBleHRlbmRzIEVuZ2luZSB7XG4gICAgICAgIG9ic2VydmVPcGVuQ29udHJhY3QoKSB7XG4gICAgICAgICAgICBpZiAoIWFwaV9iYXNlLmFwaSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXBpX2Jhc2UuYXBpLm9uTWVzc2FnZSgpLnN1YnNjcmliZSgoeyBkYXRhIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tc2dfdHlwZSA9PT0gJ3Byb3Bvc2FsX29wZW5fY29udHJhY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gZGF0YS5wcm9wb3NhbF9vcGVuX2NvbnRyYWN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udHJhY3QgfHwgIXRoaXMuZXhwZWN0ZWRDb250cmFjdElkKGNvbnRyYWN0Py5jb250cmFjdF9pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udHJhY3RGbGFncyhjb250cmFjdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNvbnRyYWN0ID0gY29udHJhY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0Q29udHJhY3QoeyBhY2NvdW50SUQ6IGFwaV9iYXNlLmFjY291bnRfaW5mby5sb2dpbmlkLCAuLi5jb250cmFjdCB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1NvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJhY3RJZCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudHJhbnNhY3Rpb25fcmVjb3ZlcnlfdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRvdGFscyhjb250cmFjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjb250cmFjdC5zb2xkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjb250cmFjdC50cmFuc2FjdGlvbl9pZHMuc2VsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hZnRlclByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFmdGVyUHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKG9wZW5Db250cmFjdFJlY2VpdmVkKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcGlfYmFzZS5wdXNoU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB3YWl0Rm9yQWZ0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlclByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRDb250cmFjdEZsYWdzKGNvbnRyYWN0KSB7XG4gICAgICAgICAgICBjb25zdCB7IGlzX2V4cGlyZWQsIGlzX3ZhbGlkX3RvX3NlbGwsIGlzX3NvbGQsIGVudHJ5X3RpY2sgfSA9IGNvbnRyYWN0O1xuXG4gICAgICAgICAgICB0aGlzLmlzU29sZCA9IEJvb2xlYW4oaXNfc29sZCk7XG4gICAgICAgICAgICB0aGlzLmlzU2VsbEF2YWlsYWJsZSA9ICF0aGlzLmlzU29sZCAmJiBCb29sZWFuKGlzX3ZhbGlkX3RvX3NlbGwpO1xuICAgICAgICAgICAgdGhpcy5pc0V4cGlyZWQgPSBCb29sZWFuKGlzX2V4cGlyZWQpO1xuICAgICAgICAgICAgdGhpcy5oYXNFbnRyeVRpY2sgPSBCb29sZWFuKGVudHJ5X3RpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwZWN0ZWRDb250cmFjdElkKGNvbnRyYWN0SWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyYWN0SWQgJiYgY29udHJhY3RJZCA9PT0gdGhpcy5jb250cmFjdElkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0U2VsbFByaWNlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBiaWRfcHJpY2U6IGJpZFByaWNlLCBidXlfcHJpY2U6IGJ1eVByaWNlLCBjdXJyZW5jeSB9ID0gdGhpcy5kYXRhLmNvbnRyYWN0O1xuICAgICAgICAgICAgcmV0dXJuIGdldFJvdW5kZWROdW1iZXIoTnVtYmVyKGJpZFByaWNlKSAtIE51bWJlcihidXlQcmljZSksIGN1cnJlbmN5KTtcbiAgICAgICAgfVxuICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/OpenContract.js\n");

/***/ }),

/***/ "./tradeEngine/trade/Proposal.js":
/*!***************************************!*\
  !*** ./tradeEngine/trade/Proposal.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state/actions */ \"./tradeEngine/trade/state/actions/index.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(Proposal, _Engine);\n    var _super = _createSuper(Proposal);\n    function Proposal() {\n      _classCallCheck(this, Proposal);\n      return _super.apply(this, arguments);\n    }\n    _createClass(Proposal, [{\n      key: \"makeProposals\",\n      value: function makeProposals(trade_option) {\n        if (!this.isNewTradeOption(trade_option)) {\n          return;\n        }\n\n        // Generate a purchase reference when trade options are different from previous trade options.\n        // This will ensure the bot doesn't mistakenly purchase the wrong proposal.\n        this.regeneratePurchaseReference();\n        this.trade_option = trade_option;\n        this.proposal_templates = (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.tradeOptionToProposal)(trade_option, this.getPurchaseReference());\n        this.renewProposalsOnPurchase();\n      }\n    }, {\n      key: \"selectProposal\",\n      value: function selectProposal(contract_type) {\n        var _this = this;\n        var proposals = this.data.proposals;\n        if (proposals.length === 0) {\n          throw Error((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Proposals are not ready'));\n        }\n        var to_buy = proposals.find(function (proposal) {\n          if (proposal.contract_type === contract_type && proposal.purchase_reference === _this.getPurchaseReference()) {\n            // Below happens when a user has had one of the proposals return\n            // with a ContractBuyValidationError. We allow the logic to continue\n            // to here cause the opposite proposal may still be valid. Only once\n            // they attempt to purchase the errored proposal we will intervene.\n            if (proposal.error) {\n              throw proposal.error;\n            }\n            return proposal;\n          }\n          return false;\n        });\n        if (!to_buy) {\n          throw new Error((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Selected proposal does not exist'));\n        }\n        return {\n          id: to_buy.id,\n          askPrice: to_buy.ask_price\n        };\n      }\n    }, {\n      key: \"renewProposalsOnPurchase\",\n      value: function renewProposalsOnPurchase() {\n        this.data.proposals = [];\n        this.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_1__.clearProposals)());\n        this.requestProposals();\n      }\n    }, {\n      key: \"requestProposals\",\n      value: function requestProposals() {\n        var _this2 = this;\n        // Since there are two proposals (in most cases), an error may be logged twice, to avoid this\n        // flip this boolean on error.\n        var has_informed_error = false;\n        Promise.all(this.proposal_templates.map(function (proposal) {\n          (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(function () {\n            return _api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.api.send(proposal);\n          })[\"catch\"](function (error) {\n            // We intercept ContractBuyValidationError as user may have specified\n            // e.g. a DIGITUNDER 0 or DIGITOVER 9, while one proposal may be invalid\n            // the other is valid. We will error on Purchase rather than here.\n\n            if (error.error.code === 'ContractBuyValidationError') {\n              _this2.data.proposals.push(_objectSpread(_objectSpread(_objectSpread({}, error.error.echo_req), error.echo_req.passthrough), {}, {\n                error: error\n              }));\n              return null;\n            }\n            if (!has_informed_error) {\n              has_informed_error = true;\n              _this2.$scope.observer.emit('Error', error.error);\n            }\n            return null;\n          });\n        }));\n      }\n    }, {\n      key: \"observeProposals\",\n      value: function observeProposals() {\n        var _this3 = this;\n        if (!_api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.api) return;\n        var subscription = _api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.api.onMessage().subscribe(function (response) {\n          if (response.data.msg_type === 'proposal') {\n            var _response$data = response.data,\n              passthrough = _response$data.passthrough,\n              proposal = _response$data.proposal;\n            if (proposal && _this3.data.proposals.findIndex(function (p) {\n              return p.id === proposal.id;\n            }) === -1) {\n              // Add proposals based on the ID returned by the API.\n              _this3.data.proposals.push(_objectSpread(_objectSpread({}, proposal), passthrough));\n              _this3.checkProposalReady();\n            }\n          }\n        });\n        _api_api_base__WEBPACK_IMPORTED_MODULE_3__.api_base.pushSubscription(subscription);\n      }\n    }, {\n      key: \"checkProposalReady\",\n      value: function checkProposalReady() {\n        var _this4 = this;\n        // Proposals are considered ready when the proposals in our memory match the ones\n        // we've requested from the API, we determine this by checking the passthrough of the response.\n        var proposals = this.data.proposals;\n        if (proposals.length > 0 && this.proposal_templates) {\n          var has_equal_proposals = this.proposal_templates.every(function (template) {\n            return proposals.findIndex(function (proposal) {\n              return proposal.purchase_reference === template.passthrough.purchase_reference && proposal.contract_type === template.contract_type;\n            }) !== -1;\n          });\n          if (has_equal_proposals) {\n            this.startPromise.then(function () {\n              return _this4.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_1__.proposalsReady)());\n            });\n          }\n        }\n      }\n    }, {\n      key: \"isNewTradeOption\",\n      value: function isNewTradeOption(trade_option) {\n        var _this5 = this;\n        if (!this.trade_option) {\n          this.trade_option = trade_option;\n          return true;\n        }\n\n        // Compare incoming \"trade_option\" argument with \"this.trade_option\", if any\n        // of the values is different, this is a new tradeOption and new proposals\n        // should be generated.\n        return ['amount', 'barrierOffset', 'basis', 'duration', 'duration_unit', 'prediction', 'secondBarrierOffset', 'symbol'].some(function (value) {\n          return _this5.trade_option[value] !== trade_option[value];\n        });\n      }\n    }]);\n    return Proposal;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9Qcm9wb3NhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFoSkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3RyYWRlL1Byb3Bvc2FsLmpzP2QzMWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcbmltcG9ydCB7IHByb3Bvc2Fsc1JlYWR5LCBjbGVhclByb3Bvc2FscyB9IGZyb20gJy4vc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgeyB0cmFkZU9wdGlvblRvUHJvcG9zYWwsIGRvVW50aWxEb25lIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBhcGlfYmFzZSB9IGZyb20gJy4uLy4uL2FwaS9hcGktYmFzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEVuZ2luZSA9PlxuICAgIGNsYXNzIFByb3Bvc2FsIGV4dGVuZHMgRW5naW5lIHtcbiAgICAgICAgbWFrZVByb3Bvc2Fscyh0cmFkZV9vcHRpb24pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc05ld1RyYWRlT3B0aW9uKHRyYWRlX29wdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgcHVyY2hhc2UgcmVmZXJlbmNlIHdoZW4gdHJhZGUgb3B0aW9ucyBhcmUgZGlmZmVyZW50IGZyb20gcHJldmlvdXMgdHJhZGUgb3B0aW9ucy5cbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBlbnN1cmUgdGhlIGJvdCBkb2Vzbid0IG1pc3Rha2VubHkgcHVyY2hhc2UgdGhlIHdyb25nIHByb3Bvc2FsLlxuICAgICAgICAgICAgdGhpcy5yZWdlbmVyYXRlUHVyY2hhc2VSZWZlcmVuY2UoKTtcbiAgICAgICAgICAgIHRoaXMudHJhZGVfb3B0aW9uID0gdHJhZGVfb3B0aW9uO1xuICAgICAgICAgICAgdGhpcy5wcm9wb3NhbF90ZW1wbGF0ZXMgPSB0cmFkZU9wdGlvblRvUHJvcG9zYWwodHJhZGVfb3B0aW9uLCB0aGlzLmdldFB1cmNoYXNlUmVmZXJlbmNlKCkpO1xuICAgICAgICAgICAgdGhpcy5yZW5ld1Byb3Bvc2Fsc09uUHVyY2hhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdFByb3Bvc2FsKGNvbnRyYWN0X3R5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvcG9zYWxzIH0gPSB0aGlzLmRhdGE7XG5cbiAgICAgICAgICAgIGlmIChwcm9wb3NhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IobG9jYWxpemUoJ1Byb3Bvc2FscyBhcmUgbm90IHJlYWR5JykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0b19idXkgPSBwcm9wb3NhbHMuZmluZChwcm9wb3NhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbC5jb250cmFjdF90eXBlID09PSBjb250cmFjdF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsLnB1cmNoYXNlX3JlZmVyZW5jZSA9PT0gdGhpcy5nZXRQdXJjaGFzZVJlZmVyZW5jZSgpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJlbG93IGhhcHBlbnMgd2hlbiBhIHVzZXIgaGFzIGhhZCBvbmUgb2YgdGhlIHByb3Bvc2FscyByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aCBhIENvbnRyYWN0QnV5VmFsaWRhdGlvbkVycm9yLiBXZSBhbGxvdyB0aGUgbG9naWMgdG8gY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gaGVyZSBjYXVzZSB0aGUgb3Bwb3NpdGUgcHJvcG9zYWwgbWF5IHN0aWxsIGJlIHZhbGlkLiBPbmx5IG9uY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhleSBhdHRlbXB0IHRvIHB1cmNoYXNlIHRoZSBlcnJvcmVkIHByb3Bvc2FsIHdlIHdpbGwgaW50ZXJ2ZW5lLlxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcG9zYWwuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHByb3Bvc2FsLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3Bvc2FsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXRvX2J1eSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihsb2NhbGl6ZSgnU2VsZWN0ZWQgcHJvcG9zYWwgZG9lcyBub3QgZXhpc3QnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRvX2J1eS5pZCxcbiAgICAgICAgICAgICAgICBhc2tQcmljZTogdG9fYnV5LmFza19wcmljZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZW5ld1Byb3Bvc2Fsc09uUHVyY2hhc2UoKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucHJvcG9zYWxzID0gW107XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGNsZWFyUHJvcG9zYWxzKCkpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0UHJvcG9zYWxzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0UHJvcG9zYWxzKCkge1xuICAgICAgICAgICAgLy8gU2luY2UgdGhlcmUgYXJlIHR3byBwcm9wb3NhbHMgKGluIG1vc3QgY2FzZXMpLCBhbiBlcnJvciBtYXkgYmUgbG9nZ2VkIHR3aWNlLCB0byBhdm9pZCB0aGlzXG4gICAgICAgICAgICAvLyBmbGlwIHRoaXMgYm9vbGVhbiBvbiBlcnJvci5cbiAgICAgICAgICAgIGxldCBoYXNfaW5mb3JtZWRfZXJyb3IgPSBmYWxzZTtcblxuICAgICAgICAgICAgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wb3NhbF90ZW1wbGF0ZXMubWFwKHByb3Bvc2FsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZG9VbnRpbERvbmUoKCkgPT4gYXBpX2Jhc2UuYXBpLnNlbmQocHJvcG9zYWwpKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBpbnRlcmNlcHQgQ29udHJhY3RCdXlWYWxpZGF0aW9uRXJyb3IgYXMgdXNlciBtYXkgaGF2ZSBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGUuZy4gYSBESUdJVFVOREVSIDAgb3IgRElHSVRPVkVSIDksIHdoaWxlIG9uZSBwcm9wb3NhbCBtYXkgYmUgaW52YWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG90aGVyIGlzIHZhbGlkLiBXZSB3aWxsIGVycm9yIG9uIFB1cmNoYXNlIHJhdGhlciB0aGFuIGhlcmUuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5lcnJvci5jb2RlID09PSAnQ29udHJhY3RCdXlWYWxpZGF0aW9uRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnByb3Bvc2Fscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXJyb3IuZXJyb3IuZWNob19yZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVycm9yLmVjaG9fcmVxLnBhc3N0aHJvdWdoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNfaW5mb3JtZWRfZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNfaW5mb3JtZWRfZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLm9ic2VydmVyLmVtaXQoJ0Vycm9yJywgZXJyb3IuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVByb3Bvc2FscygpIHtcbiAgICAgICAgICAgIGlmICghYXBpX2Jhc2UuYXBpKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBhcGlfYmFzZS5hcGkub25NZXNzYWdlKCkuc3Vic2NyaWJlKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tc2dfdHlwZSA9PT0gJ3Byb3Bvc2FsJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBhc3N0aHJvdWdoLCBwcm9wb3NhbCB9ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3Bvc2FsICYmIHRoaXMuZGF0YS5wcm9wb3NhbHMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJvcG9zYWwuaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHByb3Bvc2FscyBiYXNlZCBvbiB0aGUgSUQgcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5wcm9wb3NhbHMucHVzaCh7IC4uLnByb3Bvc2FsLCAuLi5wYXNzdGhyb3VnaCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQcm9wb3NhbFJlYWR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFwaV9iYXNlLnB1c2hTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoZWNrUHJvcG9zYWxSZWFkeSgpIHtcbiAgICAgICAgICAgIC8vIFByb3Bvc2FscyBhcmUgY29uc2lkZXJlZCByZWFkeSB3aGVuIHRoZSBwcm9wb3NhbHMgaW4gb3VyIG1lbW9yeSBtYXRjaCB0aGUgb25lc1xuICAgICAgICAgICAgLy8gd2UndmUgcmVxdWVzdGVkIGZyb20gdGhlIEFQSSwgd2UgZGV0ZXJtaW5lIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHBhc3N0aHJvdWdoIG9mIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgIGNvbnN0IHsgcHJvcG9zYWxzIH0gPSB0aGlzLmRhdGE7XG5cbiAgICAgICAgICAgIGlmIChwcm9wb3NhbHMubGVuZ3RoID4gMCAmJiB0aGlzLnByb3Bvc2FsX3RlbXBsYXRlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc19lcXVhbF9wcm9wb3NhbHMgPSB0aGlzLnByb3Bvc2FsX3RlbXBsYXRlcy5ldmVyeSh0ZW1wbGF0ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbHMuZmluZEluZGV4KHByb3Bvc2FsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbC5wdXJjaGFzZV9yZWZlcmVuY2UgPT09IHRlbXBsYXRlLnBhc3N0aHJvdWdoLnB1cmNoYXNlX3JlZmVyZW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbC5jb250cmFjdF90eXBlID09PSB0ZW1wbGF0ZS5jb250cmFjdF90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGhhc19lcXVhbF9wcm9wb3NhbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFByb21pc2UudGhlbigoKSA9PiB0aGlzLnN0b3JlLmRpc3BhdGNoKHByb3Bvc2Fsc1JlYWR5KCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpc05ld1RyYWRlT3B0aW9uKHRyYWRlX29wdGlvbikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyYWRlX29wdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhZGVfb3B0aW9uID0gdHJhZGVfb3B0aW9uO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb21wYXJlIGluY29taW5nIFwidHJhZGVfb3B0aW9uXCIgYXJndW1lbnQgd2l0aCBcInRoaXMudHJhZGVfb3B0aW9uXCIsIGlmIGFueVxuICAgICAgICAgICAgLy8gb2YgdGhlIHZhbHVlcyBpcyBkaWZmZXJlbnQsIHRoaXMgaXMgYSBuZXcgdHJhZGVPcHRpb24gYW5kIG5ldyBwcm9wb3NhbHNcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBnZW5lcmF0ZWQuXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICdhbW91bnQnLFxuICAgICAgICAgICAgICAgICdiYXJyaWVyT2Zmc2V0JyxcbiAgICAgICAgICAgICAgICAnYmFzaXMnLFxuICAgICAgICAgICAgICAgICdkdXJhdGlvbicsXG4gICAgICAgICAgICAgICAgJ2R1cmF0aW9uX3VuaXQnLFxuICAgICAgICAgICAgICAgICdwcmVkaWN0aW9uJyxcbiAgICAgICAgICAgICAgICAnc2Vjb25kQmFycmllck9mZnNldCcsXG4gICAgICAgICAgICAgICAgJ3N5bWJvbCcsXG4gICAgICAgICAgICBdLnNvbWUodmFsdWUgPT4gdGhpcy50cmFkZV9vcHRpb25bdmFsdWVdICE9PSB0cmFkZV9vcHRpb25bdmFsdWVdKTtcbiAgICAgICAgfVxuICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/Proposal.js\n");

/***/ }),

/***/ "./tradeEngine/trade/Purchase.js":
/*!***************************************!*\
  !*** ./tradeEngine/trade/Purchase.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state/actions */ \"./tradeEngine/trade/state/actions/index.js\");\n/* harmony import */ var _state_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state/constants */ \"./tradeEngine/trade/state/constants.js\");\n/* harmony import */ var _utils_broadcast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _constants_messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../constants/messages */ \"./constants/messages.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar delayIndex = 0;\nvar purchase_reference;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(Purchase, _Engine);\n    var _super = _createSuper(Purchase);\n    function Purchase() {\n      var _this;\n      _classCallCheck(this, Purchase);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.getPurchaseReference = function () {\n        return purchase_reference;\n      };\n      _this.regeneratePurchaseReference = function () {\n        purchase_reference = (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.getUUID)();\n      };\n      return _this;\n    }\n    _createClass(Purchase, [{\n      key: \"purchase\",\n      value: function purchase(contract_type) {\n        var _this2 = this;\n        // Prevent calling purchase twice\n        if (this.store.getState().scope !== _state_constants__WEBPACK_IMPORTED_MODULE_1__.BEFORE_PURCHASE) {\n          return Promise.resolve();\n        }\n        var onSuccess = function onSuccess(response) {\n          // Don't unnecessarily send a forget request for a purchased contract.\n          var buy = response.buy;\n          (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.contractStatus)({\n            id: 'contract.purchase_received',\n            data: buy.transaction_id,\n            buy: buy\n          });\n          _this2.contractId = buy.contract_id;\n          _this2.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_0__.purchaseSuccessful)());\n          if (_this2.is_proposal_subscription_required) {\n            _this2.renewProposalsOnPurchase();\n          }\n          delayIndex = 0;\n          (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.log)(_constants_messages__WEBPACK_IMPORTED_MODULE_4__.log_types.PURCHASE, {\n            longcode: buy.longcode,\n            transaction_id: buy.transaction_id\n          });\n          (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.info)({\n            accountID: _this2.accountInfo.loginid,\n            totalRuns: _this2.updateAndReturnTotalRuns(),\n            transaction_ids: {\n              buy: buy.transaction_id\n            },\n            contract_type: contract_type,\n            buy_price: buy.buy_price\n          });\n        };\n        if (this.is_proposal_subscription_required) {\n          var _this$selectProposal = this.selectProposal(contract_type),\n            id = _this$selectProposal.id,\n            askPrice = _this$selectProposal.askPrice;\n          var _action = function _action() {\n            return _api_api_base__WEBPACK_IMPORTED_MODULE_5__.api_base.api.send({\n              buy: id,\n              price: askPrice\n            });\n          };\n          this.isSold = false;\n          (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.contractStatus)({\n            id: 'contract.purchase_sent',\n            data: askPrice\n          });\n          if (!this.options.timeMachineEnabled) {\n            return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.doUntilDone)(_action).then(onSuccess);\n          }\n          return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.recoverFromError)(_action, function (errorCode, makeDelay) {\n            // if disconnected no need to resubscription (handled by live-api)\n            if (errorCode !== 'DisconnectError') {\n              _this2.renewProposalsOnPurchase();\n            } else {\n              _this2.clearProposals();\n            }\n            var unsubscribe = _this2.store.subscribe(function () {\n              var _this2$store$getState = _this2.store.getState(),\n                scope = _this2$store$getState.scope,\n                proposalsReady = _this2$store$getState.proposalsReady;\n              if (scope === _state_constants__WEBPACK_IMPORTED_MODULE_1__.BEFORE_PURCHASE && proposalsReady) {\n                makeDelay().then(function () {\n                  return _this2.observer.emit('REVERT', 'before');\n                });\n                unsubscribe();\n              }\n            });\n          }, ['PriceMoved', 'InvalidContractProposal'], delayIndex++).then(onSuccess);\n        }\n        var trade_option = (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.tradeOptionToBuy)(contract_type, this.tradeOptions);\n        var action = function action() {\n          return _api_api_base__WEBPACK_IMPORTED_MODULE_5__.api_base.api.send(trade_option);\n        };\n        this.isSold = false;\n        (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.contractStatus)({\n          id: 'contract.purchase_sent',\n          data: this.tradeOptions.amount\n        });\n        if (!this.options.timeMachineEnabled) {\n          return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.doUntilDone)(action).then(onSuccess);\n        }\n        return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.recoverFromError)(action, function (errorCode, makeDelay) {\n          if (errorCode === 'DisconnectError') {\n            _this2.clearProposals();\n          }\n          var unsubscribe = _this2.store.subscribe(function () {\n            var _this2$store$getState2 = _this2.store.getState(),\n              scope = _this2$store$getState2.scope;\n            if (scope === _state_constants__WEBPACK_IMPORTED_MODULE_1__.BEFORE_PURCHASE) {\n              makeDelay().then(function () {\n                return _this2.observer.emit('REVERT', 'before');\n              });\n              unsubscribe();\n            }\n          });\n        }, ['PriceMoved', 'InvalidContractProposal'], delayIndex++).then(onSuccess);\n      }\n    }]);\n    return Purchase;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9QdXJjaGFzZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEwR0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEzR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBeEdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS90cmFkZS9QdXJjaGFzZS5qcz9kNTRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHB1cmNoYXNlU3VjY2Vzc2Z1bCB9IGZyb20gJy4vc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgeyBCRUZPUkVfUFVSQ0hBU0UgfSBmcm9tICcuL3N0YXRlL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb250cmFjdFN0YXR1cywgaW5mbywgbG9nIH0gZnJvbSAnLi4vdXRpbHMvYnJvYWRjYXN0JztcbmltcG9ydCB7IGdldFVVSUQsIHJlY292ZXJGcm9tRXJyb3IsIGRvVW50aWxEb25lLCB0cmFkZU9wdGlvblRvQnV5IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBsb2dfdHlwZXMgfSBmcm9tICcuLy4uLy4uL2NvbnN0YW50cy9tZXNzYWdlcyc7XG5pbXBvcnQgeyBhcGlfYmFzZSB9IGZyb20gJy4uLy4uL2FwaS9hcGktYmFzZSc7XG5cbmxldCBkZWxheUluZGV4ID0gMDtcbmxldCBwdXJjaGFzZV9yZWZlcmVuY2U7XG5cbmV4cG9ydCBkZWZhdWx0IEVuZ2luZSA9PlxuICAgIGNsYXNzIFB1cmNoYXNlIGV4dGVuZHMgRW5naW5lIHtcbiAgICAgICAgcHVyY2hhc2UoY29udHJhY3RfdHlwZSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBjYWxsaW5nIHB1cmNoYXNlIHR3aWNlXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNjb3BlICE9PSBCRUZPUkVfUFVSQ0hBU0UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG9uU3VjY2VzcyA9IHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCB1bm5lY2Vzc2FyaWx5IHNlbmQgYSBmb3JnZXQgcmVxdWVzdCBmb3IgYSBwdXJjaGFzZWQgY29udHJhY3QuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBidXkgfSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgY29udHJhY3RTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2NvbnRyYWN0LnB1cmNoYXNlX3JlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYnV5LnRyYW5zYWN0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICBidXksXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyYWN0SWQgPSBidXkuY29udHJhY3RfaWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChwdXJjaGFzZVN1Y2Nlc3NmdWwoKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc19wcm9wb3NhbF9zdWJzY3JpcHRpb25fcmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5ld1Byb3Bvc2Fsc09uUHVyY2hhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxheUluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBsb2cobG9nX3R5cGVzLlBVUkNIQVNFLCB7IGxvbmdjb2RlOiBidXkubG9uZ2NvZGUsIHRyYW5zYWN0aW9uX2lkOiBidXkudHJhbnNhY3Rpb25faWQgfSk7XG4gICAgICAgICAgICAgICAgaW5mbyh7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRJRDogdGhpcy5hY2NvdW50SW5mby5sb2dpbmlkLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFJ1bnM6IHRoaXMudXBkYXRlQW5kUmV0dXJuVG90YWxSdW5zKCksXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkczogeyBidXk6IGJ1eS50cmFuc2FjdGlvbl9pZCB9LFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdF90eXBlLFxuICAgICAgICAgICAgICAgICAgICBidXlfcHJpY2U6IGJ1eS5idXlfcHJpY2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc19wcm9wb3NhbF9zdWJzY3JpcHRpb25fcmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGlkLCBhc2tQcmljZSB9ID0gdGhpcy5zZWxlY3RQcm9wb3NhbChjb250cmFjdF90eXBlKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9ICgpID0+IGFwaV9iYXNlLmFwaS5zZW5kKHsgYnV5OiBpZCwgcHJpY2U6IGFza1ByaWNlIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNvbnRyYWN0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdjb250cmFjdC5wdXJjaGFzZV9zZW50JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYXNrUHJpY2UsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy50aW1lTWFjaGluZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvVW50aWxEb25lKGFjdGlvbikudGhlbihvblN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByZWNvdmVyRnJvbUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIChlcnJvckNvZGUsIG1ha2VEZWxheSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgZGlzY29ubmVjdGVkIG5vIG5lZWQgdG8gcmVzdWJzY3JpcHRpb24gKGhhbmRsZWQgYnkgbGl2ZS1hcGkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDb2RlICE9PSAnRGlzY29ubmVjdEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZXdQcm9wb3NhbHNPblB1cmNoYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQcm9wb3NhbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzY29wZSwgcHJvcG9zYWxzUmVhZHkgfSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUgPT09IEJFRk9SRV9QVVJDSEFTRSAmJiBwcm9wb3NhbHNSZWFkeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlRGVsYXkoKS50aGVuKCgpID0+IHRoaXMub2JzZXJ2ZXIuZW1pdCgnUkVWRVJUJywgJ2JlZm9yZScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgWydQcmljZU1vdmVkJywgJ0ludmFsaWRDb250cmFjdFByb3Bvc2FsJ10sXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5SW5kZXgrK1xuICAgICAgICAgICAgICAgICkudGhlbihvblN1Y2Nlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHJhZGVfb3B0aW9uID0gdHJhZGVPcHRpb25Ub0J1eShjb250cmFjdF90eXBlLCB0aGlzLnRyYWRlT3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSAoKSA9PiBhcGlfYmFzZS5hcGkuc2VuZCh0cmFkZV9vcHRpb24pO1xuXG4gICAgICAgICAgICB0aGlzLmlzU29sZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb250cmFjdFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgaWQ6ICdjb250cmFjdC5wdXJjaGFzZV9zZW50JyxcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLnRyYWRlT3B0aW9ucy5hbW91bnQsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudGltZU1hY2hpbmVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvVW50aWxEb25lKGFjdGlvbikudGhlbihvblN1Y2Nlc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVjb3ZlckZyb21FcnJvcihcbiAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgKGVycm9yQ29kZSwgbWFrZURlbGF5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09ICdEaXNjb25uZWN0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUHJvcG9zYWxzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNjb3BlIH0gPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUgPT09IEJFRk9SRV9QVVJDSEFTRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VEZWxheSgpLnRoZW4oKCkgPT4gdGhpcy5vYnNlcnZlci5lbWl0KCdSRVZFUlQnLCAnYmVmb3JlJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgWydQcmljZU1vdmVkJywgJ0ludmFsaWRDb250cmFjdFByb3Bvc2FsJ10sXG4gICAgICAgICAgICAgICAgZGVsYXlJbmRleCsrXG4gICAgICAgICAgICApLnRoZW4ob25TdWNjZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRQdXJjaGFzZVJlZmVyZW5jZSA9ICgpID0+IHB1cmNoYXNlX3JlZmVyZW5jZTtcbiAgICAgICAgcmVnZW5lcmF0ZVB1cmNoYXNlUmVmZXJlbmNlID0gKCkgPT4ge1xuICAgICAgICAgICAgcHVyY2hhc2VfcmVmZXJlbmNlID0gZ2V0VVVJRCgpO1xuICAgICAgICB9O1xuICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/Purchase.js\n");

/***/ }),

/***/ "./tradeEngine/trade/Sell.js":
/*!***********************************!*\
  !*** ./tradeEngine/trade/Sell.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _state_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state/constants */ \"./tradeEngine/trade/state/constants.js\");\n/* harmony import */ var _utils_broadcast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _constants_messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../constants/messages */ \"./constants/messages.js\");\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(Sell, _Engine);\n    var _super = _createSuper(Sell);\n    function Sell() {\n      _classCallCheck(this, Sell);\n      return _super.apply(this, arguments);\n    }\n    _createClass(Sell, [{\n      key: \"isSellAtMarketAvailable\",\n      value: function isSellAtMarketAvailable() {\n        return this.contractId && !this.isSold && this.isSellAvailable && !this.isExpired;\n      }\n    }, {\n      key: \"sellAtMarket\",\n      value: function sellAtMarket() {\n        var _this = this;\n        _utils_observer__WEBPACK_IMPORTED_MODULE_4__.observer.emit('bot.sell');\n\n        // Prevent calling sell twice\n        if (this.store.getState().scope !== _state_constants__WEBPACK_IMPORTED_MODULE_0__.DURING_PURCHASE) {\n          return Promise.resolve();\n        }\n        if (!this.isSellAtMarketAvailable()) {\n          (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_1__.log)(_constants_messages__WEBPACK_IMPORTED_MODULE_3__.log_types.NOT_OFFERED);\n          return Promise.resolve();\n        }\n        var delay_index = 1;\n        return new Promise(function (resolve) {\n          var onContractSold = function onContractSold(sell_response) {\n            delay_index = 1;\n            if (sell_response) {\n              var sold_for = sell_response.sell.sold_for;\n              (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_1__.log)(_constants_messages__WEBPACK_IMPORTED_MODULE_3__.log_types.SELL, {\n                sold_for: sold_for\n              });\n            }\n            (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_1__.contractStatus)('purchase.sold');\n            _this.waitForAfter();\n            resolve();\n          };\n          var contract_id = _this.contractId;\n          var sellContractAndGetContractInfo = function sellContractAndGetContractInfo() {\n            return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(function () {\n              return _api_api_base__WEBPACK_IMPORTED_MODULE_5__.api_base.api.send({\n                sell: contract_id,\n                price: 0\n              });\n            }).then(function (sell_response) {\n              (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(function () {\n                return _api_api_base__WEBPACK_IMPORTED_MODULE_5__.api_base.api.send({\n                  proposal_open_contract: 1,\n                  contract_id: contract_id\n                });\n              }).then(function () {\n                return sell_response;\n              });\n            })[\"catch\"](function (e) {\n              var error = e.error;\n              if (error.code === 'InvalidOfferings') {\n                // \"InvalidOfferings\" may occur when user tries to sell the contract too close\n                // to the expiry time. We shouldn't interrupt the bot but instead let the contract\n                // finish.\n                return Promise.resolve();\n              }\n              var sell_error = {\n                name: error.code,\n                message: error.message,\n                msg_type: e.msg_type,\n                error: _objectSpread({}, error.error)\n              };\n              if (error.code === 'RateLimit') {\n                return Promise.reject(sell_error);\n              }\n\n              // For every other error, check whether the contract is not actually already sold.\n              return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(function () {\n                return _api_api_base__WEBPACK_IMPORTED_MODULE_5__.api_base.api.send({\n                  proposal_open_contract: 1,\n                  contract_id: contract_id\n                });\n              }).then(function (proposal_open_contract_response) {\n                var proposal_open_contract = proposal_open_contract_response.proposal_open_contract;\n                if (proposal_open_contract.status !== 'sold') {\n                  return Promise.reject(sell_error);\n                }\n\n                // If the contract is sold at this point it means there was a race condition.\n                // Pretend this sell request was successful and mislead the trade engine into\n                // moving onto the next scope.\n                return Promise.resolve({\n                  sell: {\n                    sold_for: proposal_open_contract.sell_price\n                  }\n                });\n              });\n            });\n          };\n          var errors_to_ignore = ['NoOpenPosition', 'InvalidSellContractProposal', 'UnrecognisedRequest'];\n\n          // Restart buy/sell on error is enabled, don't recover from sell error.\n          if (!_this.options.timeMachineEnabled) {\n            return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.doUntilDone)(sellContractAndGetContractInfo, errors_to_ignore).then(function (sell_response) {\n              return onContractSold(sell_response);\n            });\n          }\n\n          // If above checkbox not checked, try to recover from sell error.\n          var recoverFn = function recoverFn(error_code, makeDelay) {\n            return makeDelay().then(function () {\n              return _this.observer.emit('REVERT', 'during');\n            });\n          };\n          return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_2__.recoverFromError)(sellContractAndGetContractInfo, recoverFn, errors_to_ignore, delay_index++).then(function (sell_response) {\n            return onContractSold(sell_response);\n          });\n        });\n      }\n    }]);\n    return Sell;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9TZWxsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBNUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS90cmFkZS9TZWxsLmpzP2VkMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRFVSSU5HX1BVUkNIQVNFIH0gZnJvbSAnLi9zdGF0ZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29udHJhY3RTdGF0dXMsIGxvZyB9IGZyb20gJy4uL3V0aWxzL2Jyb2FkY2FzdCc7XG5pbXBvcnQgeyByZWNvdmVyRnJvbUVycm9yLCBkb1VudGlsRG9uZSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcnMnO1xuaW1wb3J0IHsgbG9nX3R5cGVzIH0gZnJvbSAnLi8uLi8uLi9jb25zdGFudHMvbWVzc2FnZXMnO1xuaW1wb3J0IHsgb2JzZXJ2ZXIgYXMgZ2xvYmFsT2JzZXJ2ZXIgfSBmcm9tICcuLy4uL3V0aWxzL29ic2VydmVyJztcbmltcG9ydCB7IGFwaV9iYXNlIH0gZnJvbSAnLi4vLi4vYXBpL2FwaS1iYXNlJztcblxuZXhwb3J0IGRlZmF1bHQgRW5naW5lID0+XG4gICAgY2xhc3MgU2VsbCBleHRlbmRzIEVuZ2luZSB7XG4gICAgICAgIGlzU2VsbEF0TWFya2V0QXZhaWxhYmxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJhY3RJZCAmJiAhdGhpcy5pc1NvbGQgJiYgdGhpcy5pc1NlbGxBdmFpbGFibGUgJiYgIXRoaXMuaXNFeHBpcmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsbEF0TWFya2V0KCkge1xuICAgICAgICAgICAgZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgnYm90LnNlbGwnKTtcblxuICAgICAgICAgICAgLy8gUHJldmVudCBjYWxsaW5nIHNlbGwgdHdpY2VcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlLmdldFN0YXRlKCkuc2NvcGUgIT09IERVUklOR19QVVJDSEFTRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzU2VsbEF0TWFya2V0QXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICBsb2cobG9nX3R5cGVzLk5PVF9PRkZFUkVEKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkZWxheV9pbmRleCA9IDE7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbkNvbnRyYWN0U29sZCA9IHNlbGxfcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWxheV9pbmRleCA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGxfcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc29sZF9mb3IgfSA9IHNlbGxfcmVzcG9uc2Uuc2VsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZyhsb2dfdHlwZXMuU0VMTCwgeyBzb2xkX2ZvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0U3RhdHVzKCdwdXJjaGFzZS5zb2xkJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FpdEZvckFmdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJhY3RfaWQgPSB0aGlzLmNvbnRyYWN0SWQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzZWxsQ29udHJhY3RBbmRHZXRDb250cmFjdEluZm8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb1VudGlsRG9uZSgoKSA9PiBhcGlfYmFzZS5hcGkuc2VuZCh7IHNlbGw6IGNvbnRyYWN0X2lkLCBwcmljZTogMCB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHNlbGxfcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvVW50aWxEb25lKCgpID0+IGFwaV9iYXNlLmFwaS5zZW5kKHsgcHJvcG9zYWxfb3Blbl9jb250cmFjdDogMSwgY29udHJhY3RfaWQgfSkpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHNlbGxfcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGUuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdJbnZhbGlkT2ZmZXJpbmdzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIkludmFsaWRPZmZlcmluZ3NcIiBtYXkgb2NjdXIgd2hlbiB1c2VyIHRyaWVzIHRvIHNlbGwgdGhlIGNvbnRyYWN0IHRvbyBjbG9zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byB0aGUgZXhwaXJ5IHRpbWUuIFdlIHNob3VsZG4ndCBpbnRlcnJ1cHQgdGhlIGJvdCBidXQgaW5zdGVhZCBsZXQgdGhlIGNvbnRyYWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGxfZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZ190eXBlOiBlLm1zZ190eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogeyAuLi5lcnJvci5lcnJvciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1JhdGVMaW1pdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHNlbGxfZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBldmVyeSBvdGhlciBlcnJvciwgY2hlY2sgd2hldGhlciB0aGUgY29udHJhY3QgaXMgbm90IGFjdHVhbGx5IGFscmVhZHkgc29sZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9VbnRpbERvbmUoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpX2Jhc2UuYXBpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWxfb3Blbl9jb250cmFjdDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudGhlbihwcm9wb3NhbF9vcGVuX2NvbnRyYWN0X3Jlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9wb3NhbF9vcGVuX2NvbnRyYWN0IH0gPSBwcm9wb3NhbF9vcGVuX2NvbnRyYWN0X3Jlc3BvbnNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NhbF9vcGVuX2NvbnRyYWN0LnN0YXR1cyAhPT0gJ3NvbGQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoc2VsbF9lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY29udHJhY3QgaXMgc29sZCBhdCB0aGlzIHBvaW50IGl0IG1lYW5zIHRoZXJlIHdhcyBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV0ZW5kIHRoaXMgc2VsbCByZXF1ZXN0IHdhcyBzdWNjZXNzZnVsIGFuZCBtaXNsZWFkIHRoZSB0cmFkZSBlbmdpbmUgaW50b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtb3Zpbmcgb250byB0aGUgbmV4dCBzY29wZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29sZF9mb3I6IHByb3Bvc2FsX29wZW5fY29udHJhY3Quc2VsbF9wcmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yc190b19pZ25vcmUgPSBbJ05vT3BlblBvc2l0aW9uJywgJ0ludmFsaWRTZWxsQ29udHJhY3RQcm9wb3NhbCcsICdVbnJlY29nbmlzZWRSZXF1ZXN0J107XG5cbiAgICAgICAgICAgICAgICAvLyBSZXN0YXJ0IGJ1eS9zZWxsIG9uIGVycm9yIGlzIGVuYWJsZWQsIGRvbid0IHJlY292ZXIgZnJvbSBzZWxsIGVycm9yLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRpbWVNYWNoaW5lRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9VbnRpbERvbmUoc2VsbENvbnRyYWN0QW5kR2V0Q29udHJhY3RJbmZvLCBlcnJvcnNfdG9faWdub3JlKS50aGVuKHNlbGxfcmVzcG9uc2UgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29udHJhY3RTb2xkKHNlbGxfcmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgYWJvdmUgY2hlY2tib3ggbm90IGNoZWNrZWQsIHRyeSB0byByZWNvdmVyIGZyb20gc2VsbCBlcnJvci5cbiAgICAgICAgICAgICAgICBjb25zdCByZWNvdmVyRm4gPSAoZXJyb3JfY29kZSwgbWFrZURlbGF5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWtlRGVsYXkoKS50aGVuKCgpID0+IHRoaXMub2JzZXJ2ZXIuZW1pdCgnUkVWRVJUJywgJ2R1cmluZycpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvdmVyRnJvbUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBzZWxsQ29udHJhY3RBbmRHZXRDb250cmFjdEluZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlY292ZXJGbixcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzX3RvX2lnbm9yZSxcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlfaW5kZXgrK1xuICAgICAgICAgICAgICAgICkudGhlbihzZWxsX3Jlc3BvbnNlID0+IG9uQ29udHJhY3RTb2xkKHNlbGxfcmVzcG9uc2UpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/trade/Sell.js\n");

/***/ }),

/***/ "./tradeEngine/trade/Ticks.js":
/*!************************************!*\
  !*** ./tradeEngine/trade/Ticks.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var binary_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! binary-utils */ \"../../node_modules/binary-utils/lib/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _state_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./state/constants */ \"./tradeEngine/trade/state/constants.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _utils_sanitize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/sanitize */ \"./tradeEngine/utils/sanitize.js\");\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar tickListenerKey;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(Ticks, _Engine);\n    var _super = _createSuper(Ticks);\n    function Ticks() {\n      _classCallCheck(this, Ticks);\n      return _super.apply(this, arguments);\n    }\n    _createClass(Ticks, [{\n      key: \"watchTicks\",\n      value: function () {\n        var _watchTicks = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(symbol) {\n          var _this = this;\n          var ticksService, callback, key;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(symbol && this.symbol !== symbol)) {\n                    _context.next = 10;\n                    break;\n                  }\n                  this.symbol = symbol;\n                  ticksService = this.$scope.ticksService;\n                  _context.next = 5;\n                  return ticksService.stopMonitor({\n                    symbol: symbol,\n                    key: tickListenerKey\n                  });\n                case 5:\n                  callback = function callback(ticks) {\n                    if (_this.is_proposal_subscription_required) {\n                      _this.checkProposalReady();\n                    }\n                    var lastTick = ticks.slice(-1)[0];\n                    var epoch = lastTick.epoch;\n                    _this.store.dispatch({\n                      type: _state_constants__WEBPACK_IMPORTED_MODULE_2__.NEW_TICK,\n                      payload: epoch\n                    });\n                  };\n                  _context.next = 8;\n                  return ticksService.monitor({\n                    symbol: symbol,\n                    callback: callback\n                  });\n                case 8:\n                  key = _context.sent;\n                  tickListenerKey = key;\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n        function watchTicks(_x) {\n          return _watchTicks.apply(this, arguments);\n        }\n        return watchTicks;\n      }()\n    }, {\n      key: \"checkTicksPromiseExists\",\n      value: function checkTicksPromiseExists() {\n        return this.$scope.ticksService.ticks_history_promise;\n      }\n    }, {\n      key: \"getTicks\",\n      value: function getTicks() {\n        var _this2 = this;\n        var toString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        return new Promise(function (resolve) {\n          _this2.$scope.ticksService.request({\n            symbol: _this2.symbol\n          }).then(function (ticks) {\n            var ticks_list = ticks.map(function (tick) {\n              if (toString) {\n                return tick.quote.toFixed(_this2.getPipSize());\n              }\n              return tick.quote;\n            });\n            resolve(ticks_list);\n          });\n        });\n      }\n    }, {\n      key: \"getLastTick\",\n      value: function getLastTick(raw) {\n        var _this3 = this;\n        var toString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return new Promise(function (resolve) {\n          return _this3.$scope.ticksService.request({\n            symbol: _this3.symbol\n          }).then(function (ticks) {\n            var last_tick = raw ? (0,binary_utils__WEBPACK_IMPORTED_MODULE_0__.getLast)(ticks) : (0,binary_utils__WEBPACK_IMPORTED_MODULE_0__.getLast)(ticks).quote;\n            if (!raw && toString) {\n              last_tick = last_tick.toFixed(_this3.getPipSize());\n            }\n            resolve(last_tick);\n          })[\"catch\"](function (e) {\n            if (e.code === 'MarketIsClosed') {\n              _utils_observer__WEBPACK_IMPORTED_MODULE_5__.observer.emit('Error', e);\n              resolve(e.code);\n            }\n          });\n        });\n      }\n    }, {\n      key: \"getLastDigit\",\n      value: function getLastDigit() {\n        var _this4 = this;\n        return new Promise(function (resolve) {\n          return _this4.getLastTick(false, true).then(function (tick) {\n            return resolve((0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.getLastDigit)(tick));\n          });\n        });\n      }\n    }, {\n      key: \"getLastDigitList\",\n      value: function getLastDigitList() {\n        var _this5 = this;\n        return new Promise(function (resolve) {\n          return _this5.getTicks().then(function (ticks) {\n            return resolve(_this5.getLastDigitsFromList(ticks));\n          });\n        });\n      }\n    }, {\n      key: \"getLastDigitsFromList\",\n      value: function getLastDigitsFromList(ticks) {\n        var _this6 = this;\n        var digits = ticks.map(function (tick) {\n          return (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.getLastDigit)(tick.toFixed(_this6.getPipSize()));\n        });\n        return digits;\n      }\n    }, {\n      key: \"checkDirection\",\n      value: function checkDirection(dir) {\n        var _this7 = this;\n        return new Promise(function (resolve) {\n          return _this7.$scope.ticksService.request({\n            symbol: _this7.symbol\n          }).then(function (ticks) {\n            return resolve((0,_utils_helpers__WEBPACK_IMPORTED_MODULE_3__.getDirection)(ticks) === dir);\n          });\n        });\n      }\n    }, {\n      key: \"getOhlc\",\n      value: function getOhlc(args) {\n        var _this8 = this;\n        var _ref = args || {},\n          _ref$granularity = _ref.granularity,\n          granularity = _ref$granularity === void 0 ? this.options.candleInterval || 60 : _ref$granularity,\n          field = _ref.field;\n        return new Promise(function (resolve) {\n          return _this8.$scope.ticksService.request({\n            symbol: _this8.symbol,\n            granularity: granularity\n          }).then(function (ohlc) {\n            return resolve(field ? ohlc.map(function (o) {\n              return o[field];\n            }) : ohlc);\n          });\n        });\n      }\n    }, {\n      key: \"getOhlcFromEnd\",\n      value: function getOhlcFromEnd(args) {\n        var _this9 = this;\n        var _ref2 = args || {},\n          _ref2$index = _ref2.index,\n          i = _ref2$index === void 0 ? 1 : _ref2$index;\n        var index = (0,_utils_sanitize__WEBPACK_IMPORTED_MODULE_4__.expectPositiveInteger)(Number(i), (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Index must be a positive integer'));\n        return new Promise(function (resolve) {\n          return _this9.getOhlc(args).then(function (ohlc) {\n            return resolve(ohlc.slice(-index)[0]);\n          });\n        });\n      }\n    }, {\n      key: \"getPipSize\",\n      value: function getPipSize() {\n        return this.$scope.ticksService.pipSizes[this.symbol];\n      }\n    }]);\n    return Ticks;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9UaWNrcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQXpHQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvdHJhZGUvVGlja3MuanM/YzZmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMYXN0IH0gZnJvbSAnYmluYXJ5LXV0aWxzJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi9zdGF0ZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0RGlyZWN0aW9uLCBnZXRMYXN0RGlnaXQgfSBmcm9tICcuLi91dGlscy9oZWxwZXJzJztcbmltcG9ydCB7IGV4cGVjdFBvc2l0aXZlSW50ZWdlciB9IGZyb20gJy4uL3V0aWxzL3Nhbml0aXplJztcbmltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi8uLi91dGlscy9vYnNlcnZlcic7XG5cbmxldCB0aWNrTGlzdGVuZXJLZXk7XG5cbmV4cG9ydCBkZWZhdWx0IEVuZ2luZSA9PlxuICAgIGNsYXNzIFRpY2tzIGV4dGVuZHMgRW5naW5lIHtcbiAgICAgICAgYXN5bmMgd2F0Y2hUaWNrcyhzeW1ib2wpIHtcbiAgICAgICAgICAgIGlmIChzeW1ib2wgJiYgdGhpcy5zeW1ib2wgIT09IHN5bWJvbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGlja3NTZXJ2aWNlIH0gPSB0aGlzLiRzY29wZTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRpY2tzU2VydmljZS5zdG9wTW9uaXRvcih7XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAga2V5OiB0aWNrTGlzdGVuZXJLZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aWNrcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzX3Byb3Bvc2FsX3N1YnNjcmlwdGlvbl9yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1Byb3Bvc2FsUmVhZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0VGljayA9IHRpY2tzLnNsaWNlKC0xKVswXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlcG9jaCB9ID0gbGFzdFRpY2s7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiBjb25zdGFudHMuTkVXX1RJQ0ssIHBheWxvYWQ6IGVwb2NoIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCB0aWNrc1NlcnZpY2UubW9uaXRvcih7IHN5bWJvbCwgY2FsbGJhY2sgfSk7XG4gICAgICAgICAgICAgICAgdGlja0xpc3RlbmVyS2V5ID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2hlY2tUaWNrc1Byb21pc2VFeGlzdHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGUudGlja3NTZXJ2aWNlLnRpY2tzX2hpc3RvcnlfcHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFRpY2tzKHRvU3RyaW5nID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS50aWNrc1NlcnZpY2UucmVxdWVzdCh7IHN5bWJvbDogdGhpcy5zeW1ib2wgfSkudGhlbih0aWNrcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tzX2xpc3QgPSB0aWNrcy5tYXAodGljayA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGljay5xdW90ZS50b0ZpeGVkKHRoaXMuZ2V0UGlwU2l6ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aWNrLnF1b3RlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRpY2tzX2xpc3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRMYXN0VGljayhyYXcsIHRvU3RyaW5nID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudGlja3NTZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgIC5yZXF1ZXN0KHsgc3ltYm9sOiB0aGlzLnN5bWJvbCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aWNrcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdF90aWNrID0gcmF3ID8gZ2V0TGFzdCh0aWNrcykgOiBnZXRMYXN0KHRpY2tzKS5xdW90ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmF3ICYmIHRvU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF90aWNrID0gbGFzdF90aWNrLnRvRml4ZWQodGhpcy5nZXRQaXBTaXplKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShsYXN0X3RpY2spO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5jb2RlID09PSAnTWFya2V0SXNDbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgnRXJyb3InLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUuY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0TGFzdERpZ2l0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5nZXRMYXN0VGljayhmYWxzZSwgdHJ1ZSkudGhlbih0aWNrID0+IHJlc29sdmUoZ2V0TGFzdERpZ2l0KHRpY2spKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0TGFzdERpZ2l0TGlzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHRoaXMuZ2V0VGlja3MoKS50aGVuKHRpY2tzID0+IHJlc29sdmUodGhpcy5nZXRMYXN0RGlnaXRzRnJvbUxpc3QodGlja3MpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGdldExhc3REaWdpdHNGcm9tTGlzdCh0aWNrcykge1xuICAgICAgICAgICAgY29uc3QgZGlnaXRzID0gdGlja3MubWFwKHRpY2sgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRMYXN0RGlnaXQodGljay50b0ZpeGVkKHRoaXMuZ2V0UGlwU2l6ZSgpKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkaWdpdHM7XG4gICAgICAgIH1cblxuICAgICAgICBjaGVja0RpcmVjdGlvbihkaXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUudGlja3NTZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgIC5yZXF1ZXN0KHsgc3ltYm9sOiB0aGlzLnN5bWJvbCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aWNrcyA9PiByZXNvbHZlKGdldERpcmVjdGlvbih0aWNrcykgPT09IGRpcikpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0T2hsYyhhcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGdyYW51bGFyaXR5ID0gdGhpcy5vcHRpb25zLmNhbmRsZUludGVydmFsIHx8IDYwLCBmaWVsZCB9ID0gYXJncyB8fCB7fTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT5cbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS50aWNrc1NlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgLnJlcXVlc3QoeyBzeW1ib2w6IHRoaXMuc3ltYm9sLCBncmFudWxhcml0eSB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihvaGxjID0+IHJlc29sdmUoZmllbGQgPyBvaGxjLm1hcChvID0+IG9bZmllbGRdKSA6IG9obGMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldE9obGNGcm9tRW5kKGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5kZXg6IGkgPSAxIH0gPSBhcmdzIHx8IHt9O1xuXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV4cGVjdFBvc2l0aXZlSW50ZWdlcihOdW1iZXIoaSksIGxvY2FsaXplKCdJbmRleCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlcicpKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5nZXRPaGxjKGFyZ3MpLnRoZW4ob2hsYyA9PiByZXNvbHZlKG9obGMuc2xpY2UoLWluZGV4KVswXSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFBpcFNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGUudGlja3NTZXJ2aWNlLnBpcFNpemVzW3RoaXMuc3ltYm9sXTtcbiAgICAgICAgfVxuICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/Ticks.js\n");

/***/ }),

/***/ "./tradeEngine/trade/Total.js":
/*!************************************!*\
  !*** ./tradeEngine/trade/Total.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_broadcast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../utils/error */ \"./tradeEngine/utils/error.js\");\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _constants_messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants/messages */ \"./constants/messages.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar skeleton = {\n  totalProfit: 0,\n  totalWins: 0,\n  totalLosses: 0,\n  totalStake: 0,\n  totalPayout: 0,\n  totalRuns: 0\n};\nvar globalStat = {};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (Engine) {\n  return /*#__PURE__*/function (_Engine) {\n    _inherits(Total, _Engine);\n    var _super = _createSuper(Total);\n    function Total() {\n      var _this;\n      _classCallCheck(this, Total);\n      _this = _super.call(this);\n      _this.sessionRuns = 0;\n      _this.sessionProfit = 0;\n      _utils_observer__WEBPACK_IMPORTED_MODULE_4__.observer.register('statistics.clear', _this.clearStatistics.bind(_assertThisInitialized(_this)));\n      return _this;\n    }\n    _createClass(Total, [{\n      key: \"clearStatistics\",\n      value: function clearStatistics() {\n        this.sessionRuns = 0;\n        this.sessionProfit = 0;\n        if (!this.accountInfo) return;\n        var accountID = this.accountInfo.loginid;\n        globalStat[accountID] = _objectSpread({}, skeleton);\n      }\n    }, {\n      key: \"updateTotals\",\n      value: function updateTotals(contract) {\n        var sellPrice = contract.sell_price,\n          buyPrice = contract.buy_price,\n          currency = contract.currency;\n        var profit = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(Number(sellPrice) - Number(buyPrice), currency);\n        var win = profit > 0;\n        var accountStat = this.getAccountStat();\n        accountStat.totalWins += win ? 1 : 0;\n        accountStat.totalLosses += !win ? 1 : 0;\n        this.sessionProfit = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(Number(this.sessionProfit) + Number(profit), currency);\n        accountStat.totalProfit = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(Number(accountStat.totalProfit) + Number(profit), currency);\n        accountStat.totalStake = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(Number(accountStat.totalStake) + Number(buyPrice), currency);\n        accountStat.totalPayout = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(Number(accountStat.totalPayout) + Number(sellPrice), currency);\n        (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.info)({\n          profit: profit,\n          contract: contract,\n          accountID: this.accountInfo.loginid,\n          totalProfit: accountStat.totalProfit,\n          totalWins: accountStat.totalWins,\n          totalLosses: accountStat.totalLosses,\n          totalStake: accountStat.totalStake,\n          totalPayout: accountStat.totalPayout\n        });\n        (0,_utils_broadcast__WEBPACK_IMPORTED_MODULE_2__.log)(win ? _constants_messages__WEBPACK_IMPORTED_MODULE_5__.log_types.PROFIT : _constants_messages__WEBPACK_IMPORTED_MODULE_5__.log_types.LOST, {\n          currency: currency,\n          profit: profit\n        });\n      }\n    }, {\n      key: \"updateAndReturnTotalRuns\",\n      value: function updateAndReturnTotalRuns() {\n        this.sessionRuns++;\n        var accountStat = this.getAccountStat();\n        return ++accountStat.totalRuns;\n      }\n\n      /* eslint-disable class-methods-use-this */\n    }, {\n      key: \"getTotalRuns\",\n      value: function getTotalRuns() {\n        var accountStat = this.getAccountStat();\n        return accountStat.totalRuns;\n      }\n    }, {\n      key: \"getTotalProfit\",\n      value: function getTotalProfit(toString, currency) {\n        var accountStat = this.getAccountStat();\n        return toString && accountStat.totalProfit !== 0 ? (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(+accountStat.totalProfit, currency) : +accountStat.totalProfit;\n      }\n\n      /* eslint-enable */\n    }, {\n      key: \"checkLimits\",\n      value: function checkLimits(tradeOption) {\n        if (!tradeOption.limitations) {\n          return;\n        }\n        var _tradeOption$limitati = tradeOption.limitations,\n          maxLoss = _tradeOption$limitati.maxLoss,\n          maxTrades = _tradeOption$limitati.maxTrades;\n        if (maxLoss && maxTrades) {\n          if (this.sessionRuns >= maxTrades) {\n            throw (0,_utils_error__WEBPACK_IMPORTED_MODULE_3__.createError)('CustomLimitsReached', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Maximum number of trades reached'));\n          }\n          if (this.sessionProfit <= -maxLoss) {\n            throw (0,_utils_error__WEBPACK_IMPORTED_MODULE_3__.createError)('CustomLimitsReached', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Maximum loss amount reached'));\n          }\n        }\n      }\n\n      /* eslint-disable class-methods-use-this */\n    }, {\n      key: \"validateTradeOptions\",\n      value: function validateTradeOptions(tradeOptions) {\n        var take_profit = tradeOptions.take_profit;\n        var stop_loss = tradeOptions.stop_loss;\n        if (take_profit) {\n          tradeOptions.limit_order.take_profit = take_profit;\n        }\n        if (stop_loss) {\n          tradeOptions.limit_order.stop_loss = stop_loss;\n        }\n        return tradeOptions;\n      }\n    }, {\n      key: \"getAccountStat\",\n      value: function getAccountStat() {\n        var accountID = this.accountInfo.loginid;\n        if (!(accountID in globalStat)) {\n          globalStat[accountID] = _objectSpread({}, skeleton);\n        }\n        return globalStat[accountID];\n      }\n    }]);\n    return Total;\n  }(Engine);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9Ub3RhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFHQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBcEhBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS90cmFkZS9Ub3RhbC5qcz8yZWQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFJvdW5kZWROdW1iZXIgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgeyBpbmZvLCBsb2cgfSBmcm9tICcuLi91dGlscy9icm9hZGNhc3QnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLy4uL3V0aWxzL2Vycm9yJztcbmltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi8uLi91dGlscy9vYnNlcnZlcic7XG5pbXBvcnQgeyBsb2dfdHlwZXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvbWVzc2FnZXMnO1xuXG5jb25zdCBza2VsZXRvbiA9IHtcbiAgICB0b3RhbFByb2ZpdDogMCxcbiAgICB0b3RhbFdpbnM6IDAsXG4gICAgdG90YWxMb3NzZXM6IDAsXG4gICAgdG90YWxTdGFrZTogMCxcbiAgICB0b3RhbFBheW91dDogMCxcbiAgICB0b3RhbFJ1bnM6IDAsXG59O1xuXG5jb25zdCBnbG9iYWxTdGF0ID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IEVuZ2luZSA9PlxuICAgIGNsYXNzIFRvdGFsIGV4dGVuZHMgRW5naW5lIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uUnVucyA9IDA7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25Qcm9maXQgPSAwO1xuXG4gICAgICAgICAgICBnbG9iYWxPYnNlcnZlci5yZWdpc3Rlcignc3RhdGlzdGljcy5jbGVhcicsIHRoaXMuY2xlYXJTdGF0aXN0aWNzLmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJTdGF0aXN0aWNzKCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uUnVucyA9IDA7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25Qcm9maXQgPSAwO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjY291bnRJbmZvKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IGxvZ2luaWQ6IGFjY291bnRJRCB9ID0gdGhpcy5hY2NvdW50SW5mbztcbiAgICAgICAgICAgIGdsb2JhbFN0YXRbYWNjb3VudElEXSA9IHsgLi4uc2tlbGV0b24gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVRvdGFscyhjb250cmFjdCkge1xuICAgICAgICAgICAgY29uc3QgeyBzZWxsX3ByaWNlOiBzZWxsUHJpY2UsIGJ1eV9wcmljZTogYnV5UHJpY2UsIGN1cnJlbmN5IH0gPSBjb250cmFjdDtcblxuICAgICAgICAgICAgY29uc3QgcHJvZml0ID0gZ2V0Um91bmRlZE51bWJlcihOdW1iZXIoc2VsbFByaWNlKSAtIE51bWJlcihidXlQcmljZSksIGN1cnJlbmN5KTtcblxuICAgICAgICAgICAgY29uc3Qgd2luID0gcHJvZml0ID4gMDtcblxuICAgICAgICAgICAgY29uc3QgYWNjb3VudFN0YXQgPSB0aGlzLmdldEFjY291bnRTdGF0KCk7XG5cbiAgICAgICAgICAgIGFjY291bnRTdGF0LnRvdGFsV2lucyArPSB3aW4gPyAxIDogMDtcblxuICAgICAgICAgICAgYWNjb3VudFN0YXQudG90YWxMb3NzZXMgKz0gIXdpbiA/IDEgOiAwO1xuXG4gICAgICAgICAgICB0aGlzLnNlc3Npb25Qcm9maXQgPSBnZXRSb3VuZGVkTnVtYmVyKE51bWJlcih0aGlzLnNlc3Npb25Qcm9maXQpICsgTnVtYmVyKHByb2ZpdCksIGN1cnJlbmN5KTtcblxuICAgICAgICAgICAgYWNjb3VudFN0YXQudG90YWxQcm9maXQgPSBnZXRSb3VuZGVkTnVtYmVyKE51bWJlcihhY2NvdW50U3RhdC50b3RhbFByb2ZpdCkgKyBOdW1iZXIocHJvZml0KSwgY3VycmVuY3kpO1xuXG4gICAgICAgICAgICBhY2NvdW50U3RhdC50b3RhbFN0YWtlID0gZ2V0Um91bmRlZE51bWJlcihOdW1iZXIoYWNjb3VudFN0YXQudG90YWxTdGFrZSkgKyBOdW1iZXIoYnV5UHJpY2UpLCBjdXJyZW5jeSk7XG5cbiAgICAgICAgICAgIGFjY291bnRTdGF0LnRvdGFsUGF5b3V0ID0gZ2V0Um91bmRlZE51bWJlcihOdW1iZXIoYWNjb3VudFN0YXQudG90YWxQYXlvdXQpICsgTnVtYmVyKHNlbGxQcmljZSksIGN1cnJlbmN5KTtcblxuICAgICAgICAgICAgaW5mbyh7XG4gICAgICAgICAgICAgICAgcHJvZml0LFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0LFxuICAgICAgICAgICAgICAgIGFjY291bnRJRDogdGhpcy5hY2NvdW50SW5mby5sb2dpbmlkLFxuICAgICAgICAgICAgICAgIHRvdGFsUHJvZml0OiBhY2NvdW50U3RhdC50b3RhbFByb2ZpdCxcbiAgICAgICAgICAgICAgICB0b3RhbFdpbnM6IGFjY291bnRTdGF0LnRvdGFsV2lucyxcbiAgICAgICAgICAgICAgICB0b3RhbExvc3NlczogYWNjb3VudFN0YXQudG90YWxMb3NzZXMsXG4gICAgICAgICAgICAgICAgdG90YWxTdGFrZTogYWNjb3VudFN0YXQudG90YWxTdGFrZSxcbiAgICAgICAgICAgICAgICB0b3RhbFBheW91dDogYWNjb3VudFN0YXQudG90YWxQYXlvdXQsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbG9nKHdpbiA/IGxvZ190eXBlcy5QUk9GSVQgOiBsb2dfdHlwZXMuTE9TVCwgeyBjdXJyZW5jeSwgcHJvZml0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlQW5kUmV0dXJuVG90YWxSdW5zKCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uUnVucysrO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudFN0YXQgPSB0aGlzLmdldEFjY291bnRTdGF0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiArK2FjY291bnRTdGF0LnRvdGFsUnVucztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXMgKi9cbiAgICAgICAgZ2V0VG90YWxSdW5zKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudFN0YXQgPSB0aGlzLmdldEFjY291bnRTdGF0KCk7XG4gICAgICAgICAgICByZXR1cm4gYWNjb3VudFN0YXQudG90YWxSdW5zO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0VG90YWxQcm9maXQodG9TdHJpbmcsIGN1cnJlbmN5KSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50U3RhdCA9IHRoaXMuZ2V0QWNjb3VudFN0YXQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRvU3RyaW5nICYmIGFjY291bnRTdGF0LnRvdGFsUHJvZml0ICE9PSAwXG4gICAgICAgICAgICAgICAgPyBnZXRSb3VuZGVkTnVtYmVyKCthY2NvdW50U3RhdC50b3RhbFByb2ZpdCwgY3VycmVuY3kpXG4gICAgICAgICAgICAgICAgOiArYWNjb3VudFN0YXQudG90YWxQcm9maXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgIGNoZWNrTGltaXRzKHRyYWRlT3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWRlT3B0aW9uLmxpbWl0YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgbGltaXRhdGlvbnM6IHsgbWF4TG9zcywgbWF4VHJhZGVzIH0sXG4gICAgICAgICAgICB9ID0gdHJhZGVPcHRpb247XG5cbiAgICAgICAgICAgIGlmIChtYXhMb3NzICYmIG1heFRyYWRlcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25SdW5zID49IG1heFRyYWRlcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ3VzdG9tTGltaXRzUmVhY2hlZCcsIGxvY2FsaXplKCdNYXhpbXVtIG51bWJlciBvZiB0cmFkZXMgcmVhY2hlZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblByb2ZpdCA8PSAtbWF4TG9zcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ3VzdG9tTGltaXRzUmVhY2hlZCcsIGxvY2FsaXplKCdNYXhpbXVtIGxvc3MgYW1vdW50IHJlYWNoZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuICAgICAgICB2YWxpZGF0ZVRyYWRlT3B0aW9ucyh0cmFkZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRha2VfcHJvZml0ID0gdHJhZGVPcHRpb25zLnRha2VfcHJvZml0O1xuICAgICAgICAgICAgY29uc3Qgc3RvcF9sb3NzID0gdHJhZGVPcHRpb25zLnN0b3BfbG9zcztcblxuICAgICAgICAgICAgaWYgKHRha2VfcHJvZml0KSB7XG4gICAgICAgICAgICAgICAgdHJhZGVPcHRpb25zLmxpbWl0X29yZGVyLnRha2VfcHJvZml0ID0gdGFrZV9wcm9maXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RvcF9sb3NzKSB7XG4gICAgICAgICAgICAgICAgdHJhZGVPcHRpb25zLmxpbWl0X29yZGVyLnN0b3BfbG9zcyA9IHN0b3BfbG9zcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRyYWRlT3B0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGdldEFjY291bnRTdGF0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBsb2dpbmlkOiBhY2NvdW50SUQgfSA9IHRoaXMuYWNjb3VudEluZm87XG5cbiAgICAgICAgICAgIGlmICghKGFjY291bnRJRCBpbiBnbG9iYWxTdGF0KSkge1xuICAgICAgICAgICAgICAgIGdsb2JhbFN0YXRbYWNjb3VudElEXSA9IHsgLi4uc2tlbGV0b24gfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFN0YXRbYWNjb3VudElEXTtcbiAgICAgICAgfVxuICAgIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/Total.js\n");

/***/ }),

/***/ "./tradeEngine/trade/index.js":
/*!************************************!*\
  !*** ./tradeEngine/trade/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TradeEngine)\n/* harmony export */ });\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! redux */ \"../../node_modules/redux/es/redux.js\");\n/* harmony import */ var redux_thunk__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! redux-thunk */ \"../../node_modules/redux-thunk/es/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Balance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Balance */ \"./tradeEngine/trade/Balance.js\");\n/* harmony import */ var _OpenContract__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OpenContract */ \"./tradeEngine/trade/OpenContract.js\");\n/* harmony import */ var _Proposal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Proposal */ \"./tradeEngine/trade/Proposal.js\");\n/* harmony import */ var _Purchase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Purchase */ \"./tradeEngine/trade/Purchase.js\");\n/* harmony import */ var _Sell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Sell */ \"./tradeEngine/trade/Sell.js\");\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./state/actions */ \"./tradeEngine/trade/state/actions/index.js\");\n/* harmony import */ var _state_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./state/constants */ \"./tradeEngine/trade/state/constants.js\");\n/* harmony import */ var _state_reducers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./state/reducers */ \"./tradeEngine/trade/state/reducers/index.js\");\n/* harmony import */ var _Ticks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Ticks */ \"./tradeEngine/trade/Ticks.js\");\n/* harmony import */ var _Total__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Total */ \"./tradeEngine/trade/Total.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _utils_sanitize__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/sanitize */ \"./tradeEngine/utils/sanitize.js\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./../utils/error */ \"./tradeEngine/utils/error.js\");\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar watchBefore = function watchBefore(store) {\n  return watchScope({\n    store: store,\n    stopScope: _state_constants__WEBPACK_IMPORTED_MODULE_7__.DURING_PURCHASE,\n    passScope: _state_constants__WEBPACK_IMPORTED_MODULE_7__.BEFORE_PURCHASE,\n    passFlag: 'proposalsReady'\n  });\n};\nvar watchDuring = function watchDuring(store) {\n  return watchScope({\n    store: store,\n    stopScope: _state_constants__WEBPACK_IMPORTED_MODULE_7__.STOP,\n    passScope: _state_constants__WEBPACK_IMPORTED_MODULE_7__.DURING_PURCHASE,\n    passFlag: 'openContract'\n  });\n};\n\n/* The watchScope function is called randomly and resets the prevTick\n * which leads to the same problem we try to solve. So prevTick is isolated\n */\nvar prevTick;\nvar watchScope = function watchScope(_ref) {\n  var store = _ref.store,\n    stopScope = _ref.stopScope,\n    passScope = _ref.passScope,\n    passFlag = _ref.passFlag;\n  // in case watch is called after stop is fired\n  if (store.getState().scope === stopScope) {\n    return Promise.resolve(false);\n  }\n  return new Promise(function (resolve) {\n    var unsubscribe = store.subscribe(function () {\n      var newState = store.getState();\n      if (newState.newTick === prevTick) return;\n      prevTick = newState.newTick;\n      if (newState.scope === passScope && newState[passFlag]) {\n        unsubscribe();\n        resolve(true);\n      }\n      if (newState.scope === stopScope) {\n        unsubscribe();\n        resolve(false);\n      }\n    });\n  });\n};\nvar TradeEngine = /*#__PURE__*/function (_Balance) {\n  _inherits(TradeEngine, _Balance);\n  var _super = _createSuper(TradeEngine);\n  function TradeEngine($scope) {\n    var _this;\n    _classCallCheck(this, TradeEngine);\n    _this = _super.call(this);\n    _this.observer = $scope.observer;\n    _this.$scope = $scope;\n    _this.observe();\n    _this.data = {\n      contract: {},\n      proposals: []\n    };\n    _this.store = (0,redux__WEBPACK_IMPORTED_MODULE_16__.createStore)(_state_reducers__WEBPACK_IMPORTED_MODULE_8__[\"default\"], (0,redux__WEBPACK_IMPORTED_MODULE_16__.applyMiddleware)(redux_thunk__WEBPACK_IMPORTED_MODULE_17__[\"default\"]));\n    return _this;\n  }\n  _createClass(TradeEngine, [{\n    key: \"init\",\n    value: function init() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var _expectInitArg = (0,_utils_sanitize__WEBPACK_IMPORTED_MODULE_12__.expectInitArg)(args),\n        _expectInitArg2 = _slicedToArray(_expectInitArg, 2),\n        token = _expectInitArg2[0],\n        options = _expectInitArg2[1];\n      var symbol = options.symbol;\n      this.initArgs = args;\n      this.options = options;\n      this.startPromise = this.loginAndGetBalance(token);\n      if (!this.checkTicksPromiseExists()) this.watchTicks(symbol);\n    }\n  }, {\n    key: \"start\",\n    value: function start(tradeOptions) {\n      if (!this.options) {\n        throw (0,_utils_error__WEBPACK_IMPORTED_MODULE_13__.createError)('NotInitialized', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Bot.init is not called'));\n      }\n      _utils_observer__WEBPACK_IMPORTED_MODULE_14__.observer.emit('bot.running');\n      var validated_trade_options = this.validateTradeOptions(tradeOptions);\n      this.tradeOptions = _objectSpread(_objectSpread({}, validated_trade_options), {}, {\n        symbol: this.options.symbol\n      });\n      this.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.start)());\n      this.checkLimits(validated_trade_options);\n      this.makeDirectPurchaseDecision();\n    }\n  }, {\n    key: \"loginAndGetBalance\",\n    value: function loginAndGetBalance(token) {\n      var _this2 = this;\n      if (this.token === token) {\n        return Promise.resolve();\n      }\n      // for strategies using total runs, GetTotalRuns function is trying to get loginid and it gets called before Proposals calls.\n      // the below required loginid to be set in Proposal calls where loginAndGetBalance gets resolved.\n      // Earlier this used to happen as soon as we get ticks_history response and by the time GetTotalRuns gets called we have required info.\n      this.accountInfo = _api_api_base__WEBPACK_IMPORTED_MODULE_15__.api_base.account_info;\n      this.token = _api_api_base__WEBPACK_IMPORTED_MODULE_15__.api_base.token;\n      return new Promise(function (resolve) {\n        // Try to recover from a situation where API doesn't give us a correct response on\n        // \"proposal_open_contract\" which would make the bot run forever. When there's a \"sell\"\n        // event, wait a couple seconds for the API to give us the correct \"proposal_open_contract\"\n        // response, if there's none after x seconds. Send an explicit request, which _should_\n        // solve the issue. This is a backup!\n        var subscription = _api_api_base__WEBPACK_IMPORTED_MODULE_15__.api_base.api.onMessage().subscribe(function (_ref2) {\n          var data = _ref2.data;\n          if (data.msg_type === 'transaction' && data.transaction.action === 'sell') {\n            _this2.transaction_recovery_timeout = setTimeout(function () {\n              var contract = _this2.data.contract;\n              var is_same_contract = contract.contract_id === data.transaction.contract_id;\n              var is_open_contract = contract.status === 'open';\n              if (is_same_contract && is_open_contract) {\n                (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_11__.doUntilDone)(function () {\n                  _api_api_base__WEBPACK_IMPORTED_MODULE_15__.api_base.api.send({\n                    proposal_open_contract: 1,\n                    contract_id: contract.contract_id\n                  });\n                }, ['PriceMoved']);\n              }\n            }, 1500);\n          }\n          resolve();\n        });\n        _api_api_base__WEBPACK_IMPORTED_MODULE_15__.api_base.pushSubscription(subscription);\n      });\n    }\n  }, {\n    key: \"observe\",\n    value: function observe() {\n      this.observeOpenContract();\n      this.observeBalance();\n      this.observeProposals();\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(watchName) {\n      if (watchName === 'before') {\n        return watchBefore(this.store);\n      }\n      return watchDuring(this.store);\n    }\n  }, {\n    key: \"makeDirectPurchaseDecision\",\n    value: function makeDirectPurchaseDecision() {\n      var _checkBlocksForPropos = (0,_utils_helpers__WEBPACK_IMPORTED_MODULE_11__.checkBlocksForProposalRequest)(),\n        has_payout_block = _checkBlocksForPropos.has_payout_block,\n        is_basis_payout = _checkBlocksForPropos.is_basis_payout;\n      this.is_proposal_subscription_required = has_payout_block || is_basis_payout;\n      if (this.is_proposal_subscription_required) {\n        this.makeProposals(_objectSpread(_objectSpread({}, this.options), this.tradeOptions));\n        this.checkProposalReady();\n      } else {\n        this.store.dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.proposalsReady)());\n      }\n    }\n  }]);\n  return TradeEngine;\n}((0,_Balance__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_Purchase__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_Sell__WEBPACK_IMPORTED_MODULE_5__[\"default\"])((0,_OpenContract__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_Proposal__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((0,_Ticks__WEBPACK_IMPORTED_MODULE_9__[\"default\"])((0,_Total__WEBPACK_IMPORTED_MODULE_10__[\"default\"])( /*#__PURE__*/function () {\n  function _class() {\n    _classCallCheck(this, _class);\n  }\n  return _createClass(_class);\n}()))))))));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBakdBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3RyYWRlL2luZGV4LmpzP2UzNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGFwcGx5TWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0aHVuayBmcm9tICdyZWR1eC10aHVuayc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IEJhbGFuY2UgZnJvbSAnLi9CYWxhbmNlJztcbmltcG9ydCBPcGVuQ29udHJhY3QgZnJvbSAnLi9PcGVuQ29udHJhY3QnO1xuaW1wb3J0IFByb3Bvc2FsIGZyb20gJy4vUHJvcG9zYWwnO1xuaW1wb3J0IFB1cmNoYXNlIGZyb20gJy4vUHVyY2hhc2UnO1xuaW1wb3J0IFNlbGwgZnJvbSAnLi9TZWxsJztcbmltcG9ydCB7IHN0YXJ0LCBwcm9wb3NhbHNSZWFkeSB9IGZyb20gJy4vc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi9zdGF0ZS9jb25zdGFudHMnO1xuaW1wb3J0IHJvb3RSZWR1Y2VyIGZyb20gJy4vc3RhdGUvcmVkdWNlcnMnO1xuaW1wb3J0IFRpY2tzIGZyb20gJy4vVGlja3MnO1xuaW1wb3J0IFRvdGFsIGZyb20gJy4vVG90YWwnO1xuaW1wb3J0IHsgZG9VbnRpbERvbmUsIGNoZWNrQmxvY2tzRm9yUHJvcG9zYWxSZXF1ZXN0IH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBleHBlY3RJbml0QXJnIH0gZnJvbSAnLi4vdXRpbHMvc2FuaXRpemUnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLy4uL3V0aWxzL2Vycm9yJztcbmltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi8uLi91dGlscy9vYnNlcnZlcic7XG5pbXBvcnQgeyBhcGlfYmFzZSB9IGZyb20gJy4uLy4uL2FwaS9hcGktYmFzZSc7XG5cbmNvbnN0IHdhdGNoQmVmb3JlID0gc3RvcmUgPT5cbiAgICB3YXRjaFNjb3BlKHtcbiAgICAgICAgc3RvcmUsXG4gICAgICAgIHN0b3BTY29wZTogY29uc3RhbnRzLkRVUklOR19QVVJDSEFTRSxcbiAgICAgICAgcGFzc1Njb3BlOiBjb25zdGFudHMuQkVGT1JFX1BVUkNIQVNFLFxuICAgICAgICBwYXNzRmxhZzogJ3Byb3Bvc2Fsc1JlYWR5JyxcbiAgICB9KTtcblxuY29uc3Qgd2F0Y2hEdXJpbmcgPSBzdG9yZSA9PlxuICAgIHdhdGNoU2NvcGUoe1xuICAgICAgICBzdG9yZSxcbiAgICAgICAgc3RvcFNjb3BlOiBjb25zdGFudHMuU1RPUCxcbiAgICAgICAgcGFzc1Njb3BlOiBjb25zdGFudHMuRFVSSU5HX1BVUkNIQVNFLFxuICAgICAgICBwYXNzRmxhZzogJ29wZW5Db250cmFjdCcsXG4gICAgfSk7XG5cbi8qIFRoZSB3YXRjaFNjb3BlIGZ1bmN0aW9uIGlzIGNhbGxlZCByYW5kb21seSBhbmQgcmVzZXRzIHRoZSBwcmV2VGlja1xuICogd2hpY2ggbGVhZHMgdG8gdGhlIHNhbWUgcHJvYmxlbSB3ZSB0cnkgdG8gc29sdmUuIFNvIHByZXZUaWNrIGlzIGlzb2xhdGVkXG4gKi9cbmxldCBwcmV2VGljaztcbmNvbnN0IHdhdGNoU2NvcGUgPSAoeyBzdG9yZSwgc3RvcFNjb3BlLCBwYXNzU2NvcGUsIHBhc3NGbGFnIH0pID0+IHtcbiAgICAvLyBpbiBjYXNlIHdhdGNoIGlzIGNhbGxlZCBhZnRlciBzdG9wIGlzIGZpcmVkXG4gICAgaWYgKHN0b3JlLmdldFN0YXRlKCkuc2NvcGUgPT09IHN0b3BTY29wZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZS5uZXdUaWNrID09PSBwcmV2VGljaykgcmV0dXJuO1xuICAgICAgICAgICAgcHJldlRpY2sgPSBuZXdTdGF0ZS5uZXdUaWNrO1xuXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUuc2NvcGUgPT09IHBhc3NTY29wZSAmJiBuZXdTdGF0ZVtwYXNzRmxhZ10pIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZS5zY29wZSA9PT0gc3RvcFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFkZUVuZ2luZSBleHRlbmRzIEJhbGFuY2UoUHVyY2hhc2UoU2VsbChPcGVuQ29udHJhY3QoUHJvcG9zYWwoVGlja3MoVG90YWwoY2xhc3Mge30pKSkpKSkpIHtcbiAgICBjb25zdHJ1Y3Rvcigkc2NvcGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9ICRzY29wZS5vYnNlcnZlcjtcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICB0aGlzLmRhdGEgPSB7XG4gICAgICAgICAgICBjb250cmFjdDoge30sXG4gICAgICAgICAgICBwcm9wb3NhbHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3JlID0gY3JlYXRlU3RvcmUocm9vdFJlZHVjZXIsIGFwcGx5TWlkZGxld2FyZSh0aHVuaykpO1xuICAgIH1cblxuICAgIGluaXQoLi4uYXJncykge1xuICAgICAgICBjb25zdCBbdG9rZW4sIG9wdGlvbnNdID0gZXhwZWN0SW5pdEFyZyhhcmdzKTtcbiAgICAgICAgY29uc3QgeyBzeW1ib2wgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5pbml0QXJncyA9IGFyZ3M7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuc3RhcnRQcm9taXNlID0gdGhpcy5sb2dpbkFuZEdldEJhbGFuY2UodG9rZW4pO1xuXG4gICAgICAgIGlmICghdGhpcy5jaGVja1RpY2tzUHJvbWlzZUV4aXN0cygpKSB0aGlzLndhdGNoVGlja3Moc3ltYm9sKTtcbiAgICB9XG5cbiAgICBzdGFydCh0cmFkZU9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdOb3RJbml0aWFsaXplZCcsIGxvY2FsaXplKCdCb3QuaW5pdCBpcyBub3QgY2FsbGVkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgnYm90LnJ1bm5pbmcnKTtcblxuICAgICAgICBjb25zdCB2YWxpZGF0ZWRfdHJhZGVfb3B0aW9ucyA9IHRoaXMudmFsaWRhdGVUcmFkZU9wdGlvbnModHJhZGVPcHRpb25zKTtcblxuICAgICAgICB0aGlzLnRyYWRlT3B0aW9ucyA9IHsgLi4udmFsaWRhdGVkX3RyYWRlX29wdGlvbnMsIHN5bWJvbDogdGhpcy5vcHRpb25zLnN5bWJvbCB9O1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHN0YXJ0KCkpO1xuICAgICAgICB0aGlzLmNoZWNrTGltaXRzKHZhbGlkYXRlZF90cmFkZV9vcHRpb25zKTtcblxuICAgICAgICB0aGlzLm1ha2VEaXJlY3RQdXJjaGFzZURlY2lzaW9uKCk7XG4gICAgfVxuXG4gICAgbG9naW5BbmRHZXRCYWxhbmNlKHRva2VuKSB7XG4gICAgICAgIGlmICh0aGlzLnRva2VuID09PSB0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZvciBzdHJhdGVnaWVzIHVzaW5nIHRvdGFsIHJ1bnMsIEdldFRvdGFsUnVucyBmdW5jdGlvbiBpcyB0cnlpbmcgdG8gZ2V0IGxvZ2luaWQgYW5kIGl0IGdldHMgY2FsbGVkIGJlZm9yZSBQcm9wb3NhbHMgY2FsbHMuXG4gICAgICAgIC8vIHRoZSBiZWxvdyByZXF1aXJlZCBsb2dpbmlkIHRvIGJlIHNldCBpbiBQcm9wb3NhbCBjYWxscyB3aGVyZSBsb2dpbkFuZEdldEJhbGFuY2UgZ2V0cyByZXNvbHZlZC5cbiAgICAgICAgLy8gRWFybGllciB0aGlzIHVzZWQgdG8gaGFwcGVuIGFzIHNvb24gYXMgd2UgZ2V0IHRpY2tzX2hpc3RvcnkgcmVzcG9uc2UgYW5kIGJ5IHRoZSB0aW1lIEdldFRvdGFsUnVucyBnZXRzIGNhbGxlZCB3ZSBoYXZlIHJlcXVpcmVkIGluZm8uXG4gICAgICAgIHRoaXMuYWNjb3VudEluZm8gPSBhcGlfYmFzZS5hY2NvdW50X2luZm87XG4gICAgICAgIHRoaXMudG9rZW4gPSBhcGlfYmFzZS50b2tlbjtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIHJlY292ZXIgZnJvbSBhIHNpdHVhdGlvbiB3aGVyZSBBUEkgZG9lc24ndCBnaXZlIHVzIGEgY29ycmVjdCByZXNwb25zZSBvblxuICAgICAgICAgICAgLy8gXCJwcm9wb3NhbF9vcGVuX2NvbnRyYWN0XCIgd2hpY2ggd291bGQgbWFrZSB0aGUgYm90IHJ1biBmb3JldmVyLiBXaGVuIHRoZXJlJ3MgYSBcInNlbGxcIlxuICAgICAgICAgICAgLy8gZXZlbnQsIHdhaXQgYSBjb3VwbGUgc2Vjb25kcyBmb3IgdGhlIEFQSSB0byBnaXZlIHVzIHRoZSBjb3JyZWN0IFwicHJvcG9zYWxfb3Blbl9jb250cmFjdFwiXG4gICAgICAgICAgICAvLyByZXNwb25zZSwgaWYgdGhlcmUncyBub25lIGFmdGVyIHggc2Vjb25kcy4gU2VuZCBhbiBleHBsaWNpdCByZXF1ZXN0LCB3aGljaCBfc2hvdWxkX1xuICAgICAgICAgICAgLy8gc29sdmUgdGhlIGlzc3VlLiBUaGlzIGlzIGEgYmFja3VwIVxuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXBpX2Jhc2UuYXBpLm9uTWVzc2FnZSgpLnN1YnNjcmliZSgoeyBkYXRhIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tc2dfdHlwZSA9PT0gJ3RyYW5zYWN0aW9uJyAmJiBkYXRhLnRyYW5zYWN0aW9uLmFjdGlvbiA9PT0gJ3NlbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25fcmVjb3ZlcnlfdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb250cmFjdCB9ID0gdGhpcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNfc2FtZV9jb250cmFjdCA9IGNvbnRyYWN0LmNvbnRyYWN0X2lkID09PSBkYXRhLnRyYW5zYWN0aW9uLmNvbnRyYWN0X2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNfb3Blbl9jb250cmFjdCA9IGNvbnRyYWN0LnN0YXR1cyA9PT0gJ29wZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX3NhbWVfY29udHJhY3QgJiYgaXNfb3Blbl9jb250cmFjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvVW50aWxEb25lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpX2Jhc2UuYXBpLnNlbmQoeyBwcm9wb3NhbF9vcGVuX2NvbnRyYWN0OiAxLCBjb250cmFjdF9pZDogY29udHJhY3QuY29udHJhY3RfaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgWydQcmljZU1vdmVkJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcGlfYmFzZS5wdXNoU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9ic2VydmUoKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZU9wZW5Db250cmFjdCgpO1xuICAgICAgICB0aGlzLm9ic2VydmVCYWxhbmNlKCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZVByb3Bvc2FscygpO1xuICAgIH1cblxuICAgIHdhdGNoKHdhdGNoTmFtZSkge1xuICAgICAgICBpZiAod2F0Y2hOYW1lID09PSAnYmVmb3JlJykge1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoQmVmb3JlKHRoaXMuc3RvcmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YXRjaER1cmluZyh0aGlzLnN0b3JlKTtcbiAgICB9XG5cbiAgICBtYWtlRGlyZWN0UHVyY2hhc2VEZWNpc2lvbigpIHtcbiAgICAgICAgY29uc3QgeyBoYXNfcGF5b3V0X2Jsb2NrLCBpc19iYXNpc19wYXlvdXQgfSA9IGNoZWNrQmxvY2tzRm9yUHJvcG9zYWxSZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMuaXNfcHJvcG9zYWxfc3Vic2NyaXB0aW9uX3JlcXVpcmVkID0gaGFzX3BheW91dF9ibG9jayB8fCBpc19iYXNpc19wYXlvdXQ7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNfcHJvcG9zYWxfc3Vic2NyaXB0aW9uX3JlcXVpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1ha2VQcm9wb3NhbHMoeyAuLi50aGlzLm9wdGlvbnMsIC4uLnRoaXMudHJhZGVPcHRpb25zIH0pO1xuICAgICAgICAgICAgdGhpcy5jaGVja1Byb3Bvc2FsUmVhZHkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocHJvcG9zYWxzUmVhZHkoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/index.js\n");

/***/ }),

/***/ "./tradeEngine/trade/state/actions/index.js":
/*!**************************************************!*\
  !*** ./tradeEngine/trade/state/actions/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearProposals\": () => (/* binding */ clearProposals),\n/* harmony export */   \"openContractReceived\": () => (/* binding */ openContractReceived),\n/* harmony export */   \"proposalsReady\": () => (/* binding */ proposalsReady),\n/* harmony export */   \"purchaseSuccessful\": () => (/* binding */ purchaseSuccessful),\n/* harmony export */   \"sell\": () => (/* binding */ sell),\n/* harmony export */   \"start\": () => (/* binding */ start)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./tradeEngine/trade/state/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nvar dispatchIfScopeIs = function dispatchIfScopeIs(_ref) {\n  var dispatch = _ref.dispatch,\n    getState = _ref.getState,\n    data = _ref.data,\n    scope = _ref.scope;\n  var _getState = getState(),\n    currentScope = _getState.scope;\n  if (currentScope === scope) {\n    dispatch(data);\n  }\n};\nvar start = function start() {\n  return function (dispatch, getState) {\n    return dispatchIfScopeIs({\n      dispatch: dispatch,\n      getState: getState,\n      data: {\n        type: _constants__WEBPACK_IMPORTED_MODULE_0__.START\n      },\n      scope: _constants__WEBPACK_IMPORTED_MODULE_0__.STOP\n    });\n  };\n};\nvar proposalsReady = function proposalsReady() {\n  return {\n    type: _constants__WEBPACK_IMPORTED_MODULE_0__.PROPOSALS_READY\n  };\n};\nvar clearProposals = function clearProposals() {\n  return {\n    type: _constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_PROPOSALS\n  };\n};\nvar dispatchIfScopeIsBeforePurchase = function dispatchIfScopeIsBeforePurchase(args) {\n  return dispatchIfScopeIs(_objectSpread(_objectSpread({}, args), {}, {\n    scope: _constants__WEBPACK_IMPORTED_MODULE_0__.BEFORE_PURCHASE\n  }));\n};\nvar dispatchIfBeforePurchaseReady = function dispatchIfBeforePurchaseReady(args) {\n  var getState = args.getState;\n  var _getState2 = getState(),\n    beforePurchaseReady = _getState2.proposalsReady;\n  if (beforePurchaseReady) {\n    dispatchIfScopeIsBeforePurchase(args);\n  }\n  dispatchIfScopeIs(_objectSpread(_objectSpread({}, args), {}, {\n    scope: _constants__WEBPACK_IMPORTED_MODULE_0__.BEFORE_PURCHASE\n  }));\n};\nvar purchaseSuccessful = function purchaseSuccessful() {\n  return function (dispatch, getState) {\n    return dispatchIfBeforePurchaseReady({\n      dispatch: dispatch,\n      getState: getState,\n      data: {\n        type: _constants__WEBPACK_IMPORTED_MODULE_0__.PURCHASE_SUCCESSFUL\n      }\n    });\n  };\n};\nvar openContractReceived = function openContractReceived() {\n  return function (dispatch, getState) {\n    var _getState3 = getState(),\n      currentScope = _getState3.scope;\n    if (currentScope === _constants__WEBPACK_IMPORTED_MODULE_0__.DURING_PURCHASE) {\n      dispatch({\n        type: _constants__WEBPACK_IMPORTED_MODULE_0__.OPEN_CONTRACT\n      });\n    }\n    dispatchIfBeforePurchaseReady({\n      dispatch: dispatch,\n      getState: getState,\n      data: {\n        type: _constants__WEBPACK_IMPORTED_MODULE_0__.OPEN_CONTRACT\n      }\n    });\n  };\n};\nvar sell = function sell() {\n  return function (dispatch, getState) {\n    return dispatchIfScopeIs({\n      dispatch: dispatch,\n      getState: getState,\n      data: {\n        type: _constants__WEBPACK_IMPORTED_MODULE_0__.SELL\n      },\n      scope: _constants__WEBPACK_IMPORTED_MODULE_0__.DURING_PURCHASE\n    });\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9zdGF0ZS9hY3Rpb25zL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvdHJhZGUvc3RhdGUvYWN0aW9ucy9pbmRleC5qcz9mMmRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBkaXNwYXRjaElmU2NvcGVJcyA9ICh7IGRpc3BhdGNoLCBnZXRTdGF0ZSwgZGF0YSwgc2NvcGUgfSkgPT4ge1xuICAgIGNvbnN0IHsgc2NvcGU6IGN1cnJlbnRTY29wZSB9ID0gZ2V0U3RhdGUoKTtcbiAgICBpZiAoY3VycmVudFNjb3BlID09PSBzY29wZSkge1xuICAgICAgICBkaXNwYXRjaChkYXRhKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc3RhcnQgPSAoKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PlxuICAgIGRpc3BhdGNoSWZTY29wZUlzKHsgZGlzcGF0Y2gsIGdldFN0YXRlLCBkYXRhOiB7IHR5cGU6IGNvbnN0YW50cy5TVEFSVCB9LCBzY29wZTogY29uc3RhbnRzLlNUT1AgfSk7XG5cbmV4cG9ydCBjb25zdCBwcm9wb3NhbHNSZWFkeSA9ICgpID0+ICh7IHR5cGU6IGNvbnN0YW50cy5QUk9QT1NBTFNfUkVBRFkgfSk7XG5cbmV4cG9ydCBjb25zdCBjbGVhclByb3Bvc2FscyA9ICgpID0+ICh7IHR5cGU6IGNvbnN0YW50cy5DTEVBUl9QUk9QT1NBTFMgfSk7XG5cbmNvbnN0IGRpc3BhdGNoSWZTY29wZUlzQmVmb3JlUHVyY2hhc2UgPSBhcmdzID0+IGRpc3BhdGNoSWZTY29wZUlzKHsgLi4uYXJncywgc2NvcGU6IGNvbnN0YW50cy5CRUZPUkVfUFVSQ0hBU0UgfSk7XG5cbmNvbnN0IGRpc3BhdGNoSWZCZWZvcmVQdXJjaGFzZVJlYWR5ID0gYXJncyA9PiB7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSB9ID0gYXJncztcbiAgICBjb25zdCB7IHByb3Bvc2Fsc1JlYWR5OiBiZWZvcmVQdXJjaGFzZVJlYWR5IH0gPSBnZXRTdGF0ZSgpO1xuXG4gICAgaWYgKGJlZm9yZVB1cmNoYXNlUmVhZHkpIHtcbiAgICAgICAgZGlzcGF0Y2hJZlNjb3BlSXNCZWZvcmVQdXJjaGFzZShhcmdzKTtcbiAgICB9XG5cbiAgICBkaXNwYXRjaElmU2NvcGVJcyh7IC4uLmFyZ3MsIHNjb3BlOiBjb25zdGFudHMuQkVGT1JFX1BVUkNIQVNFIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHB1cmNoYXNlU3VjY2Vzc2Z1bCA9ICgpID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+XG4gICAgZGlzcGF0Y2hJZkJlZm9yZVB1cmNoYXNlUmVhZHkoeyBkaXNwYXRjaCwgZ2V0U3RhdGUsIGRhdGE6IHsgdHlwZTogY29uc3RhbnRzLlBVUkNIQVNFX1NVQ0NFU1NGVUwgfSB9KTtcblxuZXhwb3J0IGNvbnN0IG9wZW5Db250cmFjdFJlY2VpdmVkID0gKCkgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHsgc2NvcGU6IGN1cnJlbnRTY29wZSB9ID0gZ2V0U3RhdGUoKTtcbiAgICBpZiAoY3VycmVudFNjb3BlID09PSBjb25zdGFudHMuRFVSSU5HX1BVUkNIQVNFKSB7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogY29uc3RhbnRzLk9QRU5fQ09OVFJBQ1QgfSk7XG4gICAgfVxuICAgIGRpc3BhdGNoSWZCZWZvcmVQdXJjaGFzZVJlYWR5KHsgZGlzcGF0Y2gsIGdldFN0YXRlLCBkYXRhOiB7IHR5cGU6IGNvbnN0YW50cy5PUEVOX0NPTlRSQUNUIH0gfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VsbCA9ICgpID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+XG4gICAgZGlzcGF0Y2hJZlNjb3BlSXMoeyBkaXNwYXRjaCwgZ2V0U3RhdGUsIGRhdGE6IHsgdHlwZTogY29uc3RhbnRzLlNFTEwgfSwgc2NvcGU6IGNvbnN0YW50cy5EVVJJTkdfUFVSQ0hBU0UgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/trade/state/actions/index.js\n");

/***/ }),

/***/ "./tradeEngine/trade/state/constants.js":
/*!**********************************************!*\
  !*** ./tradeEngine/trade/state/constants.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BEFORE_PURCHASE\": () => (/* binding */ BEFORE_PURCHASE),\n/* harmony export */   \"CLEAR_PROPOSALS\": () => (/* binding */ CLEAR_PROPOSALS),\n/* harmony export */   \"DURING_PURCHASE\": () => (/* binding */ DURING_PURCHASE),\n/* harmony export */   \"INVALID_ACTION\": () => (/* binding */ INVALID_ACTION),\n/* harmony export */   \"NEW_TICK\": () => (/* binding */ NEW_TICK),\n/* harmony export */   \"OPEN_CONTRACT\": () => (/* binding */ OPEN_CONTRACT),\n/* harmony export */   \"PROPOSALS_READY\": () => (/* binding */ PROPOSALS_READY),\n/* harmony export */   \"PURCHASE_SUCCESSFUL\": () => (/* binding */ PURCHASE_SUCCESSFUL),\n/* harmony export */   \"SELL\": () => (/* binding */ SELL),\n/* harmony export */   \"START\": () => (/* binding */ START),\n/* harmony export */   \"STOP\": () => (/* binding */ STOP)\n/* harmony export */ });\nvar BEFORE_PURCHASE = 'BEFORE_PURCHASE';\nvar DURING_PURCHASE = 'DURING_PURCHASE';\nvar PROPOSALS_READY = 'PROPOSALS_READY';\nvar CLEAR_PROPOSALS = 'CLEAR_PROPOSALS';\nvar PURCHASE_SUCCESSFUL = 'PURCHASE_SUCCESSFUL';\nvar OPEN_CONTRACT = 'OPEN_CONTRACT';\nvar INVALID_ACTION = 'INVALID_ACTION';\nvar SELL = 'SELL';\nvar START = 'START';\nvar STOP = 'STOP';\nvar NEW_TICK = 'NEW_TICK';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9zdGF0ZS9jb25zdGFudHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS90cmFkZS9zdGF0ZS9jb25zdGFudHMuanM/ZWVjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQkVGT1JFX1BVUkNIQVNFID0gJ0JFRk9SRV9QVVJDSEFTRSc7XG5leHBvcnQgY29uc3QgRFVSSU5HX1BVUkNIQVNFID0gJ0RVUklOR19QVVJDSEFTRSc7XG5leHBvcnQgY29uc3QgUFJPUE9TQUxTX1JFQURZID0gJ1BST1BPU0FMU19SRUFEWSc7XG5leHBvcnQgY29uc3QgQ0xFQVJfUFJPUE9TQUxTID0gJ0NMRUFSX1BST1BPU0FMUyc7XG5leHBvcnQgY29uc3QgUFVSQ0hBU0VfU1VDQ0VTU0ZVTCA9ICdQVVJDSEFTRV9TVUNDRVNTRlVMJztcbmV4cG9ydCBjb25zdCBPUEVOX0NPTlRSQUNUID0gJ09QRU5fQ09OVFJBQ1QnO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfQUNUSU9OID0gJ0lOVkFMSURfQUNUSU9OJztcbmV4cG9ydCBjb25zdCBTRUxMID0gJ1NFTEwnO1xuZXhwb3J0IGNvbnN0IFNUQVJUID0gJ1NUQVJUJztcbmV4cG9ydCBjb25zdCBTVE9QID0gJ1NUT1AnO1xuZXhwb3J0IGNvbnN0IE5FV19USUNLID0gJ05FV19USUNLJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/trade/state/constants.js\n");

/***/ }),

/***/ "./tradeEngine/trade/state/reducers/index.js":
/*!***************************************************!*\
  !*** ./tradeEngine/trade/state/reducers/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./tradeEngine/trade/state/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nvar initialState = {\n  scope: _constants__WEBPACK_IMPORTED_MODULE_0__.STOP,\n  proposalsReady: false\n};\nvar signal = function signal() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.START:\n      return {\n        scope: _constants__WEBPACK_IMPORTED_MODULE_0__.BEFORE_PURCHASE,\n        proposalsReady: state.proposalsReady\n      };\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PROPOSALS_READY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        proposalsReady: true\n      });\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_PROPOSALS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        proposalsReady: false\n      });\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PURCHASE_SUCCESSFUL:\n      return {\n        scope: _constants__WEBPACK_IMPORTED_MODULE_0__.DURING_PURCHASE,\n        openContract: false,\n        proposalsReady: state.proposalsReady\n      };\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.OPEN_CONTRACT:\n      return {\n        scope: _constants__WEBPACK_IMPORTED_MODULE_0__.DURING_PURCHASE,\n        openContract: true,\n        proposalsReady: state.proposalsReady\n      };\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.SELL:\n      return {\n        scope: _constants__WEBPACK_IMPORTED_MODULE_0__.STOP,\n        proposalsReady: state.proposalsReady\n      };\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.NEW_TICK:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        newTick: action.payload\n      });\n    default:\n      return state;\n  }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (signal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS90cmFkZS9zdGF0ZS9yZWR1Y2Vycy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvdHJhZGUvc3RhdGUvcmVkdWNlcnMvaW5kZXguanM/N2M3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgIHNjb3BlOiBjb25zdGFudHMuU1RPUCxcbiAgICBwcm9wb3NhbHNSZWFkeTogZmFsc2UsXG59O1xuXG5jb25zdCBzaWduYWwgPSAoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudHMuU1RBUlQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjb3BlOiBjb25zdGFudHMuQkVGT1JFX1BVUkNIQVNFLFxuICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1JlYWR5OiBzdGF0ZS5wcm9wb3NhbHNSZWFkeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29uc3RhbnRzLlBST1BPU0FMU19SRUFEWTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgcHJvcG9zYWxzUmVhZHk6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbnN0YW50cy5DTEVBUl9QUk9QT1NBTFM6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1JlYWR5OiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29uc3RhbnRzLlBVUkNIQVNFX1NVQ0NFU1NGVUw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjb3BlOiBjb25zdGFudHMuRFVSSU5HX1BVUkNIQVNFLFxuICAgICAgICAgICAgICAgIG9wZW5Db250cmFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJvcG9zYWxzUmVhZHk6IHN0YXRlLnByb3Bvc2Fsc1JlYWR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBjb25zdGFudHMuT1BFTl9DT05UUkFDVDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NvcGU6IGNvbnN0YW50cy5EVVJJTkdfUFVSQ0hBU0UsXG4gICAgICAgICAgICAgICAgb3BlbkNvbnRyYWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1JlYWR5OiBzdGF0ZS5wcm9wb3NhbHNSZWFkeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29uc3RhbnRzLlNFTEw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjb3BlOiBjb25zdGFudHMuU1RPUCxcbiAgICAgICAgICAgICAgICBwcm9wb3NhbHNSZWFkeTogc3RhdGUucHJvcG9zYWxzUmVhZHksXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbnN0YW50cy5ORVdfVElDSzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgbmV3VGljazogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNpZ25hbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/trade/state/reducers/index.js\n");

/***/ }),

/***/ "./tradeEngine/utils/broadcast.js":
/*!****************************************!*\
  !*** ./tradeEngine/utils/broadcast.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"contract\": () => (/* binding */ contract),\n/* harmony export */   \"contractStatus\": () => (/* binding */ contractStatus),\n/* harmony export */   \"error\": () => (/* binding */ error),\n/* harmony export */   \"info\": () => (/* binding */ info),\n/* harmony export */   \"log\": () => (/* binding */ log),\n/* harmony export */   \"notify\": () => (/* binding */ notify)\n/* harmony export */ });\n/* harmony import */ var _utils_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _constants_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../constants/config */ \"./constants/config.js\");\n\n\nvar contract = function contract(c) {\n  return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('bot.contract', c);\n};\nvar contractStatus = function contractStatus(c) {\n  return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('contract.status', c);\n};\nvar info = function info(i) {\n  return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('bot.info', i);\n};\nvar notify = function notify(className, message) {\n  return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('ui.log.notify', {\n    className: className,\n    message: message,\n    sound: _constants_config__WEBPACK_IMPORTED_MODULE_1__.config.lists.NOTIFICATION_SOUND[0][1]\n  });\n};\nvar log = function log(log_type, extra) {\n  return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('ui.log.success', {\n    log_type: log_type,\n    extra: extra\n  });\n};\nvar error = function error(message) {\n  return _utils_observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('ui.log.error', message);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9icm9hZGNhc3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3V0aWxzL2Jyb2FkY2FzdC5qcz84MjE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi8uLi91dGlscy9vYnNlcnZlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLy4uLy4uL2NvbnN0YW50cy9jb25maWcnO1xuXG5leHBvcnQgY29uc3QgY29udHJhY3QgPSBjID0+IGdsb2JhbE9ic2VydmVyLmVtaXQoJ2JvdC5jb250cmFjdCcsIGMpO1xuXG5leHBvcnQgY29uc3QgY29udHJhY3RTdGF0dXMgPSBjID0+IGdsb2JhbE9ic2VydmVyLmVtaXQoJ2NvbnRyYWN0LnN0YXR1cycsIGMpO1xuXG5leHBvcnQgY29uc3QgaW5mbyA9IGkgPT4gZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgnYm90LmluZm8nLCBpKTtcblxuZXhwb3J0IGNvbnN0IG5vdGlmeSA9IChjbGFzc05hbWUsIG1lc3NhZ2UpID0+XG4gICAgZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgndWkubG9nLm5vdGlmeScsIHsgY2xhc3NOYW1lLCBtZXNzYWdlLCBzb3VuZDogY29uZmlnLmxpc3RzLk5PVElGSUNBVElPTl9TT1VORFswXVsxXSB9KTtcblxuZXhwb3J0IGNvbnN0IGxvZyA9IChsb2dfdHlwZSwgZXh0cmEpID0+IGdsb2JhbE9ic2VydmVyLmVtaXQoJ3VpLmxvZy5zdWNjZXNzJywgeyBsb2dfdHlwZSwgZXh0cmEgfSk7XG5cbmV4cG9ydCBjb25zdCBlcnJvciA9IG1lc3NhZ2UgPT4gZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgndWkubG9nLmVycm9yJywgbWVzc2FnZSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/utils/broadcast.js\n");

/***/ }),

/***/ "./tradeEngine/utils/cliTools.js":
/*!***************************************!*\
  !*** ./tradeEngine/utils/cliTools.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createScope\": () => (/* binding */ createScope)\n/* harmony export */ });\n/* harmony import */ var _api_ticks_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../api/ticks_service */ \"./api/ticks_service.js\");\n/* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observer */ \"./tradeEngine/utils/observer.js\");\n\n\nvar createScope = function createScope() {\n  var observer = new _observer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  var ticksService = new _api_ticks_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  var stopped = false;\n  return {\n    observer: observer,\n    ticksService: ticksService,\n    stopped: stopped\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9jbGlUb29scy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3V0aWxzL2NsaVRvb2xzLmpzP2E5MzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRpY2tzU2VydmljZSBmcm9tICcuLi8uLi9hcGkvdGlja3Nfc2VydmljZSc7XG5pbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnLi9vYnNlcnZlcic7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTY29wZSA9ICgpID0+IHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlcigpO1xuICAgIGNvbnN0IHRpY2tzU2VydmljZSA9IG5ldyBUaWNrc1NlcnZpY2UoKTtcbiAgICBjb25zdCBzdG9wcGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHsgb2JzZXJ2ZXIsIHRpY2tzU2VydmljZSwgc3RvcHBlZCB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/utils/cliTools.js\n");

/***/ }),

/***/ "./tradeEngine/utils/error.js":
/*!************************************!*\
  !*** ./tradeEngine/utils/error.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createError\": () => (/* binding */ createError),\n/* harmony export */   \"trackAndEmitError\": () => (/* binding */ trackAndEmitError)\n/* harmony export */ });\n/* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./observer */ \"./tradeEngine/utils/observer.js\");\n\nvar createError = function createError(name, message) {\n  var e = new Error(message);\n  e.name = name;\n  e.code = name;\n  return e;\n};\nvar trackAndEmitError = function trackAndEmitError(message) {\n  var object = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  _observer__WEBPACK_IMPORTED_MODULE_0__.observer.emit('ui.log.error', message);\n  if (window.trackJs) {\n    trackJs.track(\"\".concat(message, \" - Error: \").concat(JSON.stringify(object)));\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9lcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS91dGlscy9lcnJvci5qcz83MWU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi9vYnNlcnZlcic7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFcnJvciA9IChuYW1lLCBtZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBlLm5hbWUgPSBuYW1lO1xuICAgIGUuY29kZSA9IG5hbWU7XG4gICAgcmV0dXJuIGU7XG59O1xuXG5leHBvcnQgY29uc3QgdHJhY2tBbmRFbWl0RXJyb3IgPSAobWVzc2FnZSwgb2JqZWN0ID0ge30pID0+IHtcbiAgICBnbG9iYWxPYnNlcnZlci5lbWl0KCd1aS5sb2cuZXJyb3InLCBtZXNzYWdlKTtcbiAgICBpZiAod2luZG93LnRyYWNrSnMpIHtcbiAgICAgICAgdHJhY2tKcy50cmFjayhgJHttZXNzYWdlfSAtIEVycm9yOiAke0pTT04uc3RyaW5naWZ5KG9iamVjdCl9YCk7XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/utils/error.js\n");

/***/ }),

/***/ "./tradeEngine/utils/helpers.js":
/*!**************************************!*\
  !*** ./tradeEngine/utils/helpers.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkBlocksForProposalRequest\": () => (/* binding */ checkBlocksForProposalRequest),\n/* harmony export */   \"createDetails\": () => (/* binding */ createDetails),\n/* harmony export */   \"doUntilDone\": () => (/* binding */ doUntilDone),\n/* harmony export */   \"getDirection\": () => (/* binding */ getDirection),\n/* harmony export */   \"getLastDigit\": () => (/* binding */ getLastDigit),\n/* harmony export */   \"getLastDigitForList\": () => (/* binding */ getLastDigitForList),\n/* harmony export */   \"getUUID\": () => (/* binding */ getUUID),\n/* harmony export */   \"recoverFromError\": () => (/* binding */ recoverFromError),\n/* harmony export */   \"shouldThrowError\": () => (/* binding */ shouldThrowError),\n/* harmony export */   \"socket_state\": () => (/* binding */ socket_state),\n/* harmony export */   \"tradeOptionToBuy\": () => (/* binding */ tradeOptionToBuy),\n/* harmony export */   \"tradeOptionToProposal\": () => (/* binding */ tradeOptionToProposal),\n/* harmony export */   \"updateErrorMessage\": () => (/* binding */ updateErrorMessage)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _broadcast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./observer */ \"./tradeEngine/utils/observer.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _socket_state;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\nvar tradeOptionToProposal = function tradeOptionToProposal(trade_option, purchase_reference) {\n  return trade_option.contractTypes.map(function (type) {\n    var proposal = {\n      amount: trade_option.amount,\n      basis: trade_option.basis,\n      contract_type: type,\n      currency: trade_option.currency,\n      duration: trade_option.duration,\n      duration_unit: trade_option.duration_unit,\n      multiplier: trade_option.multiplier,\n      passthrough: {\n        contract_type: type,\n        purchase_reference: purchase_reference\n      },\n      proposal: 1,\n      symbol: trade_option.symbol\n    };\n    if (trade_option.prediction !== undefined) {\n      proposal.selected_tick = trade_option.prediction;\n    }\n    if (!['TICKLOW', 'TICKHIGH'].includes(type) && trade_option.prediction !== undefined) {\n      proposal.barrier = trade_option.prediction;\n    } else if (trade_option.barrierOffset !== undefined) {\n      proposal.barrier = trade_option.barrierOffset;\n    }\n    if (trade_option.secondBarrierOffset !== undefined) {\n      proposal.barrier2 = trade_option.secondBarrierOffset;\n    }\n    if (['MULTUP', 'MULTDOWN'].includes(type)) {\n      proposal.duration = undefined;\n      proposal.duration_unit = undefined;\n    }\n    if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.limit_order)) {\n      proposal.limit_order = trade_option.limit_order;\n    }\n    return proposal;\n  });\n};\nvar tradeOptionToBuy = function tradeOptionToBuy(contract_type, trade_option) {\n  var buy = {\n    buy: '1',\n    price: trade_option.amount,\n    parameters: {\n      amount: trade_option.amount,\n      basis: trade_option.basis,\n      contract_type: contract_type,\n      currency: trade_option.currency,\n      duration: trade_option.duration,\n      duration_unit: trade_option.duration_unit,\n      multiplier: trade_option.multiplier,\n      symbol: trade_option.symbol\n    }\n  };\n  if (trade_option.prediction !== undefined) {\n    buy.parameters.selected_tick = trade_option.prediction;\n  }\n  if (!['TICKLOW', 'TICKHIGH'].includes(contract_type) && trade_option.prediction !== undefined) {\n    buy.parameters.barrier = trade_option.prediction;\n  } else if (trade_option.barrierOffset !== undefined) {\n    buy.parameters.barrier = trade_option.barrierOffset;\n  }\n  if (trade_option.secondBarrierOffset !== undefined) {\n    buy.parameters.barrier2 = trade_option.secondBarrierOffset;\n  }\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.app_markup_percentage)) {\n    buy.parameters.app_markup_percentage = trade_option.app_markup_percentage;\n  }\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.barrier_range)) {\n    buy.parameters.barrier_range = trade_option.barrier_range;\n  }\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.date_expiry)) {\n    buy.parameters.date_expiry = trade_option.date_expiry;\n  }\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.date_start)) {\n    buy.parameters.date_start = trade_option.date_start;\n  }\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.product_type)) {\n    buy.parameters.product_type = trade_option.product_type;\n  }\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.trading_period_start)) {\n    buy.parameters.trading_period_start = trade_option.trading_period_start;\n  }\n  // This will be required only in the case of multiplier & accumulator contracts\n  if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(trade_option.limit_order)) {\n    buy.parameters.limit_order = trade_option.limit_order;\n  }\n  // This will be required only in the case of multiplier contracts\n  if (['MULTUP', 'MULTDOWN'].includes(contract_type)) {\n    buy.parameters.duration = undefined;\n    buy.parameters.duration_unit = undefined;\n    buy.parameters.multiplier = trade_option.multiplier;\n  }\n  // This will be required only in the case of accumulator contracts\n  if (['ACCU'].includes(contract_type)) {\n    buy.parameters.growth_rate = trade_option.growth_rate;\n  }\n  return buy;\n};\nvar getDirection = function getDirection(ticks) {\n  var length = ticks.length;\n  var _ticks$slice = ticks.slice(-2),\n    _ticks$slice2 = _slicedToArray(_ticks$slice, 2),\n    tickOld = _ticks$slice2[0],\n    tickNew = _ticks$slice2[1];\n  var direction = '';\n  if (length >= 2) {\n    direction = tickOld.quote < tickNew.quote ? 'rise' : direction;\n    direction = tickOld.quote > tickNew.quote ? 'fall' : direction;\n  }\n  return direction;\n};\nvar getLastDigit = function getLastDigit(tick) {\n  var number_string = tick;\n  if (typeof number_string === 'number') {\n    number_string = String(number_string);\n  }\n  return Number(number_string[number_string.length - 1]);\n};\nvar getLastDigitForList = function getLastDigitForList(tick) {\n  var pip_size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var value = Number(tick).toFixed(pip_size);\n  return value[value.length - 1];\n};\nvar getBackoffDelayInMs = function getBackoffDelayInMs(error, delay_index) {\n  var base_delay = 2.5;\n  var max_delay = 15;\n  var next_delay_in_seconds = Math.min(base_delay * delay_index, max_delay);\n  if (error.error.code === 'RateLimit') {\n    (0,_broadcast__WEBPACK_IMPORTED_MODULE_2__.error)((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('You are rate limited for: {{ message_type }}, retrying in {{ delay }}s (ID: {{ request }})', {\n      message_type: error.msg_type,\n      delay: next_delay_in_seconds,\n      request: error.echo_req.req_id\n    }));\n  } else if (error.error.code === 'DisconnectError') {\n    (0,_broadcast__WEBPACK_IMPORTED_MODULE_2__.error)((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('You are disconnected, retrying in {{ delay }}s', {\n      delay: next_delay_in_seconds\n    }));\n  } else if (error.error.code === 'MarketIsClosed') {\n    (0,_broadcast__WEBPACK_IMPORTED_MODULE_2__.error)((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('This market is presently closed.'));\n  } else {\n    (0,_broadcast__WEBPACK_IMPORTED_MODULE_2__.error)((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Request failed for: {{ message_type }}, retrying in {{ delay }}s', {\n      message_type: error.msg_type || (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('unknown'),\n      delay: next_delay_in_seconds\n    }));\n  }\n  return next_delay_in_seconds * 1000;\n};\nvar updateErrorMessage = function updateErrorMessage(error) {\n  var _error$error;\n  if (((_error$error = error.error) === null || _error$error === void 0 ? void 0 : _error$error.code) === 'InputValidationFailed') {\n    var _error$error$details, _error$error$details2;\n    if ((_error$error$details = error.error.details) !== null && _error$error$details !== void 0 && _error$error$details.duration) {\n      error.error.message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Duration must be a positive integer');\n    }\n    if ((_error$error$details2 = error.error.details) !== null && _error$error$details2 !== void 0 && _error$error$details2.amount) {\n      error.error.message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Amount must be a positive number.');\n    }\n  }\n};\nvar shouldThrowError = function shouldThrowError(error) {\n  var errors_to_ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (!error.error) {\n    return false;\n  }\n  var default_errors_to_ignore = ['CallError', 'WrongResponse', 'GetProposalFailure', 'RateLimit', 'DisconnectError', 'MarketIsClosed'];\n  updateErrorMessage(error);\n  var is_ignorable_error = errors_to_ignore.concat(default_errors_to_ignore).includes(error.error.code);\n  return !is_ignorable_error;\n};\nvar recoverFromError = function recoverFromError(promiseFn, recoverFn, errors_to_ignore, delay_index, api_base) {\n  return new Promise(function (resolve, reject) {\n    var promise = promiseFn();\n    if (promise) {\n      promise.then(resolve)[\"catch\"](function (error) {\n        /**\n         * if bot is not running there is no point of recovering from error\n         * `!api_base.is_running` will check the bot status if it is not running it will kick out the control from loop\n         */\n        if (shouldThrowError(error, errors_to_ignore) || api_base && !api_base.is_running) {\n          reject(error);\n          return;\n        }\n        recoverFn(error.error.code, function () {\n          return new Promise(function (recoverResolve) {\n            var getGlobalTimeouts = function getGlobalTimeouts() {\n              var _globalObserver$getSt;\n              return (_globalObserver$getSt = _observer__WEBPACK_IMPORTED_MODULE_3__.observer.getState('global_timeouts')) !== null && _globalObserver$getSt !== void 0 ? _globalObserver$getSt : [];\n            };\n            var timeout = setTimeout(function () {\n              var global_timeouts = getGlobalTimeouts();\n              delete global_timeouts[timeout];\n              _observer__WEBPACK_IMPORTED_MODULE_3__.observer.setState(global_timeouts);\n              recoverResolve();\n            }, getBackoffDelayInMs(error, delay_index));\n            var global_timeouts = getGlobalTimeouts();\n            var cancellable_timeouts = ['buy'];\n            var msg_type = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.findValueByKeyRecursively)(error, 'msg_type');\n            global_timeouts[timeout] = {\n              is_cancellable: cancellable_timeouts.includes(msg_type),\n              msg_type: msg_type\n            };\n            _observer__WEBPACK_IMPORTED_MODULE_3__.observer.setState({\n              global_timeouts: global_timeouts\n            });\n          });\n        });\n      });\n    } else {\n      resolve();\n    }\n  });\n};\n\n/**\n * @param {*} promiseFn api call - it could be api call or subscription\n * @param {*} errors_to_ignore list of errors to ignore\n * @param {*} api_base instance of APIBase class to check if the bot is running or not\n * @returns a new promise\n */\nvar doUntilDone = function doUntilDone(promiseFn, errors_to_ignore, api_base) {\n  var delay_index = 1;\n  return new Promise(function (resolve, reject) {\n    var recoverFn = function recoverFn(error_code, makeDelay) {\n      delay_index++;\n      makeDelay().then(repeatFn);\n    };\n    var repeatFn = function repeatFn() {\n      recoverFromError(promiseFn, recoverFn, errors_to_ignore, delay_index, api_base).then(resolve)[\"catch\"](reject);\n    };\n    repeatFn();\n  });\n};\nvar createDetails = function createDetails(contract) {\n  var sellPrice = contract.sell_price,\n    buyPrice = contract.buy_price,\n    currency = contract.currency;\n  var profit = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getRoundedNumber)(sellPrice - buyPrice, currency);\n  var result = profit < 0 ? 'loss' : 'win';\n  return [contract.transaction_ids.buy, +contract.buy_price, +contract.sell_price, profit, contract.contract_type, (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.formatTime)(parseInt(\"\".concat(contract.entry_tick_time, \"000\")), 'HH:mm:ss'), +contract.entry_tick, (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.formatTime)(parseInt(\"\".concat(contract.exit_tick_time, \"000\")), 'HH:mm:ss'), +contract.exit_tick, +(contract.barrier ? contract.barrier : 0), result];\n};\nvar getUUID = function getUUID() {\n  return \"\".concat(new Date().getTime() * Math.random());\n};\nvar hasBlockOfType = function hasBlockOfType(targetType, workspace) {\n  var allBlocks = workspace.getAllBlocks();\n  return allBlocks.some(function (block) {\n    return block.type === targetType && !!block.parentBlock_;\n  });\n};\nvar checkBlocksForProposalRequest = function checkBlocksForProposalRequest() {\n  var workspace = Blockly.derivWorkspace;\n  var has_payout_block = hasBlockOfType('payout', workspace);\n\n  // Code for the future for case when basis: 'payout':\n  // * Since basis : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}'\n  // * basis: 'payout' when contract_type: \"MULTUP\"\n  // Uncomment next line later:\n  // const is_basis_payout = !hasBlockOfType('trade_definition_tradeoptions', workspace);\n\n  return {\n    has_payout_block: has_payout_block,\n    is_basis_payout: false\n  };\n};\nvar socket_state = (_socket_state = {}, _defineProperty(_socket_state, WebSocket.CONNECTING, 'Connecting'), _defineProperty(_socket_state, WebSocket.OPEN, 'Connected'), _defineProperty(_socket_state, WebSocket.CLOSING, 'Closing'), _defineProperty(_socket_state, WebSocket.CLOSED, 'Closed'), _socket_state);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9oZWxwZXJzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBYUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3V0aWxzL2hlbHBlcnMuanM/M2MyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXRUaW1lLCBmaW5kVmFsdWVCeUtleVJlY3Vyc2l2ZWx5LCBnZXRSb3VuZGVkTnVtYmVyLCBpc0VtcHR5T2JqZWN0IH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgZXJyb3IgYXMgbG9nRXJyb3IgfSBmcm9tICcuL2Jyb2FkY2FzdCc7XG5pbXBvcnQgeyBvYnNlcnZlciBhcyBnbG9iYWxPYnNlcnZlciB9IGZyb20gJy4vb2JzZXJ2ZXInO1xuXG5leHBvcnQgY29uc3QgdHJhZGVPcHRpb25Ub1Byb3Bvc2FsID0gKHRyYWRlX29wdGlvbiwgcHVyY2hhc2VfcmVmZXJlbmNlKSA9PlxuICAgIHRyYWRlX29wdGlvbi5jb250cmFjdFR5cGVzLm1hcCh0eXBlID0+IHtcbiAgICAgICAgY29uc3QgcHJvcG9zYWwgPSB7XG4gICAgICAgICAgICBhbW91bnQ6IHRyYWRlX29wdGlvbi5hbW91bnQsXG4gICAgICAgICAgICBiYXNpczogdHJhZGVfb3B0aW9uLmJhc2lzLFxuICAgICAgICAgICAgY29udHJhY3RfdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGN1cnJlbmN5OiB0cmFkZV9vcHRpb24uY3VycmVuY3ksXG4gICAgICAgICAgICBkdXJhdGlvbjogdHJhZGVfb3B0aW9uLmR1cmF0aW9uLFxuICAgICAgICAgICAgZHVyYXRpb25fdW5pdDogdHJhZGVfb3B0aW9uLmR1cmF0aW9uX3VuaXQsXG4gICAgICAgICAgICBtdWx0aXBsaWVyOiB0cmFkZV9vcHRpb24ubXVsdGlwbGllcixcbiAgICAgICAgICAgIHBhc3N0aHJvdWdoOiB7XG4gICAgICAgICAgICAgICAgY29udHJhY3RfdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBwdXJjaGFzZV9yZWZlcmVuY2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcG9zYWw6IDEsXG4gICAgICAgICAgICBzeW1ib2w6IHRyYWRlX29wdGlvbi5zeW1ib2wsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0cmFkZV9vcHRpb24ucHJlZGljdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9wb3NhbC5zZWxlY3RlZF90aWNrID0gdHJhZGVfb3B0aW9uLnByZWRpY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFbJ1RJQ0tMT1cnLCAnVElDS0hJR0gnXS5pbmNsdWRlcyh0eXBlKSAmJiB0cmFkZV9vcHRpb24ucHJlZGljdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9wb3NhbC5iYXJyaWVyID0gdHJhZGVfb3B0aW9uLnByZWRpY3Rpb247XG4gICAgICAgIH0gZWxzZSBpZiAodHJhZGVfb3B0aW9uLmJhcnJpZXJPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcG9zYWwuYmFycmllciA9IHRyYWRlX29wdGlvbi5iYXJyaWVyT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFkZV9vcHRpb24uc2Vjb25kQmFycmllck9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9wb3NhbC5iYXJyaWVyMiA9IHRyYWRlX29wdGlvbi5zZWNvbmRCYXJyaWVyT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChbJ01VTFRVUCcsICdNVUxURE9XTiddLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICBwcm9wb3NhbC5kdXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHByb3Bvc2FsLmR1cmF0aW9uX3VuaXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VtcHR5T2JqZWN0KHRyYWRlX29wdGlvbi5saW1pdF9vcmRlcikpIHtcbiAgICAgICAgICAgIHByb3Bvc2FsLmxpbWl0X29yZGVyID0gdHJhZGVfb3B0aW9uLmxpbWl0X29yZGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wb3NhbDtcbiAgICB9KTtcblxuZXhwb3J0IGNvbnN0IHRyYWRlT3B0aW9uVG9CdXkgPSAoY29udHJhY3RfdHlwZSwgdHJhZGVfb3B0aW9uKSA9PiB7XG4gICAgY29uc3QgYnV5ID0ge1xuICAgICAgICBidXk6ICcxJyxcbiAgICAgICAgcHJpY2U6IHRyYWRlX29wdGlvbi5hbW91bnQsXG4gICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGFtb3VudDogdHJhZGVfb3B0aW9uLmFtb3VudCxcbiAgICAgICAgICAgIGJhc2lzOiB0cmFkZV9vcHRpb24uYmFzaXMsXG4gICAgICAgICAgICBjb250cmFjdF90eXBlLFxuICAgICAgICAgICAgY3VycmVuY3k6IHRyYWRlX29wdGlvbi5jdXJyZW5jeSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0cmFkZV9vcHRpb24uZHVyYXRpb24sXG4gICAgICAgICAgICBkdXJhdGlvbl91bml0OiB0cmFkZV9vcHRpb24uZHVyYXRpb25fdW5pdCxcbiAgICAgICAgICAgIG11bHRpcGxpZXI6IHRyYWRlX29wdGlvbi5tdWx0aXBsaWVyLFxuICAgICAgICAgICAgc3ltYm9sOiB0cmFkZV9vcHRpb24uc3ltYm9sLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgaWYgKHRyYWRlX29wdGlvbi5wcmVkaWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMuc2VsZWN0ZWRfdGljayA9IHRyYWRlX29wdGlvbi5wcmVkaWN0aW9uO1xuICAgIH1cbiAgICBpZiAoIVsnVElDS0xPVycsICdUSUNLSElHSCddLmluY2x1ZGVzKGNvbnRyYWN0X3R5cGUpICYmIHRyYWRlX29wdGlvbi5wcmVkaWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMuYmFycmllciA9IHRyYWRlX29wdGlvbi5wcmVkaWN0aW9uO1xuICAgIH0gZWxzZSBpZiAodHJhZGVfb3B0aW9uLmJhcnJpZXJPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBidXkucGFyYW1ldGVycy5iYXJyaWVyID0gdHJhZGVfb3B0aW9uLmJhcnJpZXJPZmZzZXQ7XG4gICAgfVxuICAgIGlmICh0cmFkZV9vcHRpb24uc2Vjb25kQmFycmllck9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJ1eS5wYXJhbWV0ZXJzLmJhcnJpZXIyID0gdHJhZGVfb3B0aW9uLnNlY29uZEJhcnJpZXJPZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNFbXB0eU9iamVjdCh0cmFkZV9vcHRpb24uYXBwX21hcmt1cF9wZXJjZW50YWdlKSkge1xuICAgICAgICBidXkucGFyYW1ldGVycy5hcHBfbWFya3VwX3BlcmNlbnRhZ2UgPSB0cmFkZV9vcHRpb24uYXBwX21hcmt1cF9wZXJjZW50YWdlO1xuICAgIH1cbiAgICBpZiAoIWlzRW1wdHlPYmplY3QodHJhZGVfb3B0aW9uLmJhcnJpZXJfcmFuZ2UpKSB7XG4gICAgICAgIGJ1eS5wYXJhbWV0ZXJzLmJhcnJpZXJfcmFuZ2UgPSB0cmFkZV9vcHRpb24uYmFycmllcl9yYW5nZTtcbiAgICB9XG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KHRyYWRlX29wdGlvbi5kYXRlX2V4cGlyeSkpIHtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMuZGF0ZV9leHBpcnkgPSB0cmFkZV9vcHRpb24uZGF0ZV9leHBpcnk7XG4gICAgfVxuICAgIGlmICghaXNFbXB0eU9iamVjdCh0cmFkZV9vcHRpb24uZGF0ZV9zdGFydCkpIHtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMuZGF0ZV9zdGFydCA9IHRyYWRlX29wdGlvbi5kYXRlX3N0YXJ0O1xuICAgIH1cbiAgICBpZiAoIWlzRW1wdHlPYmplY3QodHJhZGVfb3B0aW9uLnByb2R1Y3RfdHlwZSkpIHtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMucHJvZHVjdF90eXBlID0gdHJhZGVfb3B0aW9uLnByb2R1Y3RfdHlwZTtcbiAgICB9XG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KHRyYWRlX29wdGlvbi50cmFkaW5nX3BlcmlvZF9zdGFydCkpIHtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMudHJhZGluZ19wZXJpb2Rfc3RhcnQgPSB0cmFkZV9vcHRpb24udHJhZGluZ19wZXJpb2Rfc3RhcnQ7XG4gICAgfVxuICAgIC8vIFRoaXMgd2lsbCBiZSByZXF1aXJlZCBvbmx5IGluIHRoZSBjYXNlIG9mIG11bHRpcGxpZXIgJiBhY2N1bXVsYXRvciBjb250cmFjdHNcbiAgICBpZiAoIWlzRW1wdHlPYmplY3QodHJhZGVfb3B0aW9uLmxpbWl0X29yZGVyKSkge1xuICAgICAgICBidXkucGFyYW1ldGVycy5saW1pdF9vcmRlciA9IHRyYWRlX29wdGlvbi5saW1pdF9vcmRlcjtcbiAgICB9XG4gICAgLy8gVGhpcyB3aWxsIGJlIHJlcXVpcmVkIG9ubHkgaW4gdGhlIGNhc2Ugb2YgbXVsdGlwbGllciBjb250cmFjdHNcbiAgICBpZiAoWydNVUxUVVAnLCAnTVVMVERPV04nXS5pbmNsdWRlcyhjb250cmFjdF90eXBlKSkge1xuICAgICAgICBidXkucGFyYW1ldGVycy5kdXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnV5LnBhcmFtZXRlcnMuZHVyYXRpb25fdW5pdCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBidXkucGFyYW1ldGVycy5tdWx0aXBsaWVyID0gdHJhZGVfb3B0aW9uLm11bHRpcGxpZXI7XG4gICAgfVxuICAgIC8vIFRoaXMgd2lsbCBiZSByZXF1aXJlZCBvbmx5IGluIHRoZSBjYXNlIG9mIGFjY3VtdWxhdG9yIGNvbnRyYWN0c1xuICAgIGlmIChbJ0FDQ1UnXS5pbmNsdWRlcyhjb250cmFjdF90eXBlKSkge1xuICAgICAgICBidXkucGFyYW1ldGVycy5ncm93dGhfcmF0ZSA9IHRyYWRlX29wdGlvbi5ncm93dGhfcmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1eTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREaXJlY3Rpb24gPSB0aWNrcyA9PiB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHRpY2tzO1xuICAgIGNvbnN0IFt0aWNrT2xkLCB0aWNrTmV3XSA9IHRpY2tzLnNsaWNlKC0yKTtcblxuICAgIGxldCBkaXJlY3Rpb24gPSAnJztcbiAgICBpZiAobGVuZ3RoID49IDIpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gdGlja09sZC5xdW90ZSA8IHRpY2tOZXcucXVvdGUgPyAncmlzZScgOiBkaXJlY3Rpb247XG4gICAgICAgIGRpcmVjdGlvbiA9IHRpY2tPbGQucXVvdGUgPiB0aWNrTmV3LnF1b3RlID8gJ2ZhbGwnIDogZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBkaXJlY3Rpb247XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGFzdERpZ2l0ID0gdGljayA9PiB7XG4gICAgbGV0IG51bWJlcl9zdHJpbmcgPSB0aWNrO1xuICAgIGlmICh0eXBlb2YgbnVtYmVyX3N0cmluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbnVtYmVyX3N0cmluZyA9IFN0cmluZyhudW1iZXJfc3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIE51bWJlcihudW1iZXJfc3RyaW5nW251bWJlcl9zdHJpbmcubGVuZ3RoIC0gMV0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExhc3REaWdpdEZvckxpc3QgPSAodGljaywgcGlwX3NpemUgPSAwKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBOdW1iZXIodGljaykudG9GaXhlZChwaXBfc2l6ZSk7XG4gICAgcmV0dXJuIHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xufTtcblxuY29uc3QgZ2V0QmFja29mZkRlbGF5SW5NcyA9IChlcnJvciwgZGVsYXlfaW5kZXgpID0+IHtcbiAgICBjb25zdCBiYXNlX2RlbGF5ID0gMi41O1xuICAgIGNvbnN0IG1heF9kZWxheSA9IDE1O1xuICAgIGNvbnN0IG5leHRfZGVsYXlfaW5fc2Vjb25kcyA9IE1hdGgubWluKGJhc2VfZGVsYXkgKiBkZWxheV9pbmRleCwgbWF4X2RlbGF5KTtcblxuICAgIGlmIChlcnJvci5lcnJvci5jb2RlID09PSAnUmF0ZUxpbWl0Jykge1xuICAgICAgICBsb2dFcnJvcihcbiAgICAgICAgICAgIGxvY2FsaXplKCdZb3UgYXJlIHJhdGUgbGltaXRlZCBmb3I6IHt7IG1lc3NhZ2VfdHlwZSB9fSwgcmV0cnlpbmcgaW4ge3sgZGVsYXkgfX1zIChJRDoge3sgcmVxdWVzdCB9fSknLCB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV90eXBlOiBlcnJvci5tc2dfdHlwZSxcbiAgICAgICAgICAgICAgICBkZWxheTogbmV4dF9kZWxheV9pbl9zZWNvbmRzLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGVycm9yLmVjaG9fcmVxLnJlcV9pZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChlcnJvci5lcnJvci5jb2RlID09PSAnRGlzY29ubmVjdEVycm9yJykge1xuICAgICAgICBsb2dFcnJvcihcbiAgICAgICAgICAgIGxvY2FsaXplKCdZb3UgYXJlIGRpc2Nvbm5lY3RlZCwgcmV0cnlpbmcgaW4ge3sgZGVsYXkgfX1zJywge1xuICAgICAgICAgICAgICAgIGRlbGF5OiBuZXh0X2RlbGF5X2luX3NlY29uZHMsXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAoZXJyb3IuZXJyb3IuY29kZSA9PT0gJ01hcmtldElzQ2xvc2VkJykge1xuICAgICAgICBsb2dFcnJvcihsb2NhbGl6ZSgnVGhpcyBtYXJrZXQgaXMgcHJlc2VudGx5IGNsb3NlZC4nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9nRXJyb3IoXG4gICAgICAgICAgICBsb2NhbGl6ZSgnUmVxdWVzdCBmYWlsZWQgZm9yOiB7eyBtZXNzYWdlX3R5cGUgfX0sIHJldHJ5aW5nIGluIHt7IGRlbGF5IH19cycsIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3R5cGU6IGVycm9yLm1zZ190eXBlIHx8IGxvY2FsaXplKCd1bmtub3duJyksXG4gICAgICAgICAgICAgICAgZGVsYXk6IG5leHRfZGVsYXlfaW5fc2Vjb25kcyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHRfZGVsYXlfaW5fc2Vjb25kcyAqIDEwMDA7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRXJyb3JNZXNzYWdlID0gZXJyb3IgPT4ge1xuICAgIGlmIChlcnJvci5lcnJvcj8uY29kZSA9PT0gJ0lucHV0VmFsaWRhdGlvbkZhaWxlZCcpIHtcbiAgICAgICAgaWYgKGVycm9yLmVycm9yLmRldGFpbHM/LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICBlcnJvci5lcnJvci5tZXNzYWdlID0gbG9jYWxpemUoJ0R1cmF0aW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yLmVycm9yLmRldGFpbHM/LmFtb3VudCkge1xuICAgICAgICAgICAgZXJyb3IuZXJyb3IubWVzc2FnZSA9IGxvY2FsaXplKCdBbW91bnQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4nKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzaG91bGRUaHJvd0Vycm9yID0gKGVycm9yLCBlcnJvcnNfdG9faWdub3JlID0gW10pID0+IHtcbiAgICBpZiAoIWVycm9yLmVycm9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0X2Vycm9yc190b19pZ25vcmUgPSBbXG4gICAgICAgICdDYWxsRXJyb3InLFxuICAgICAgICAnV3JvbmdSZXNwb25zZScsXG4gICAgICAgICdHZXRQcm9wb3NhbEZhaWx1cmUnLFxuICAgICAgICAnUmF0ZUxpbWl0JyxcbiAgICAgICAgJ0Rpc2Nvbm5lY3RFcnJvcicsXG4gICAgICAgICdNYXJrZXRJc0Nsb3NlZCcsXG4gICAgXTtcbiAgICB1cGRhdGVFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgIGNvbnN0IGlzX2lnbm9yYWJsZV9lcnJvciA9IGVycm9yc190b19pZ25vcmUuY29uY2F0KGRlZmF1bHRfZXJyb3JzX3RvX2lnbm9yZSkuaW5jbHVkZXMoZXJyb3IuZXJyb3IuY29kZSk7XG5cbiAgICByZXR1cm4gIWlzX2lnbm9yYWJsZV9lcnJvcjtcbn07XG5cbmV4cG9ydCBjb25zdCByZWNvdmVyRnJvbUVycm9yID0gKHByb21pc2VGbiwgcmVjb3ZlckZuLCBlcnJvcnNfdG9faWdub3JlLCBkZWxheV9pbmRleCwgYXBpX2Jhc2UpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gcHJvbWlzZUZuKCk7XG5cbiAgICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogaWYgYm90IGlzIG5vdCBydW5uaW5nIHRoZXJlIGlzIG5vIHBvaW50IG9mIHJlY292ZXJpbmcgZnJvbSBlcnJvclxuICAgICAgICAgICAgICAgICAqIGAhYXBpX2Jhc2UuaXNfcnVubmluZ2Agd2lsbCBjaGVjayB0aGUgYm90IHN0YXR1cyBpZiBpdCBpcyBub3QgcnVubmluZyBpdCB3aWxsIGtpY2sgb3V0IHRoZSBjb250cm9sIGZyb20gbG9vcFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRUaHJvd0Vycm9yKGVycm9yLCBlcnJvcnNfdG9faWdub3JlKSB8fCAoYXBpX2Jhc2UgJiYgIWFwaV9iYXNlLmlzX3J1bm5pbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3ZlckZuKFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5lcnJvci5jb2RlLFxuICAgICAgICAgICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVjb3ZlclJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldEdsb2JhbFRpbWVvdXRzID0gKCkgPT4gZ2xvYmFsT2JzZXJ2ZXIuZ2V0U3RhdGUoJ2dsb2JhbF90aW1lb3V0cycpID8/IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxfdGltZW91dHMgPSBnZXRHbG9iYWxUaW1lb3V0cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2xvYmFsX3RpbWVvdXRzW3RpbWVvdXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYnNlcnZlci5zZXRTdGF0ZShnbG9iYWxfdGltZW91dHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvdmVyUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGdldEJhY2tvZmZEZWxheUluTXMoZXJyb3IsIGRlbGF5X2luZGV4KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxfdGltZW91dHMgPSBnZXRHbG9iYWxUaW1lb3V0cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbGxhYmxlX3RpbWVvdXRzID0gWydidXknXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2dfdHlwZSA9IGZpbmRWYWx1ZUJ5S2V5UmVjdXJzaXZlbHkoZXJyb3IsICdtc2dfdHlwZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsX3RpbWVvdXRzW3RpbWVvdXRdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19jYW5jZWxsYWJsZTogY2FuY2VsbGFibGVfdGltZW91dHMuaW5jbHVkZXMobXNnX3R5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2dfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsT2JzZXJ2ZXIuc2V0U3RhdGUoeyBnbG9iYWxfdGltZW91dHMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0geyp9IHByb21pc2VGbiBhcGkgY2FsbCAtIGl0IGNvdWxkIGJlIGFwaSBjYWxsIG9yIHN1YnNjcmlwdGlvblxuICogQHBhcmFtIHsqfSBlcnJvcnNfdG9faWdub3JlIGxpc3Qgb2YgZXJyb3JzIHRvIGlnbm9yZVxuICogQHBhcmFtIHsqfSBhcGlfYmFzZSBpbnN0YW5jZSBvZiBBUElCYXNlIGNsYXNzIHRvIGNoZWNrIGlmIHRoZSBib3QgaXMgcnVubmluZyBvciBub3RcbiAqIEByZXR1cm5zIGEgbmV3IHByb21pc2VcbiAqL1xuZXhwb3J0IGNvbnN0IGRvVW50aWxEb25lID0gKHByb21pc2VGbiwgZXJyb3JzX3RvX2lnbm9yZSwgYXBpX2Jhc2UpID0+IHtcbiAgICBsZXQgZGVsYXlfaW5kZXggPSAxO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVjb3ZlckZuID0gKGVycm9yX2NvZGUsIG1ha2VEZWxheSkgPT4ge1xuICAgICAgICAgICAgZGVsYXlfaW5kZXgrKztcbiAgICAgICAgICAgIG1ha2VEZWxheSgpLnRoZW4ocmVwZWF0Rm4pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcGVhdEZuID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVjb3ZlckZyb21FcnJvcihwcm9taXNlRm4sIHJlY292ZXJGbiwgZXJyb3JzX3RvX2lnbm9yZSwgZGVsYXlfaW5kZXgsIGFwaV9iYXNlKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVwZWF0Rm4oKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVEZXRhaWxzID0gY29udHJhY3QgPT4ge1xuICAgIGNvbnN0IHsgc2VsbF9wcmljZTogc2VsbFByaWNlLCBidXlfcHJpY2U6IGJ1eVByaWNlLCBjdXJyZW5jeSB9ID0gY29udHJhY3Q7XG4gICAgY29uc3QgcHJvZml0ID0gZ2V0Um91bmRlZE51bWJlcihzZWxsUHJpY2UgLSBidXlQcmljZSwgY3VycmVuY3kpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHByb2ZpdCA8IDAgPyAnbG9zcycgOiAnd2luJztcblxuICAgIHJldHVybiBbXG4gICAgICAgIGNvbnRyYWN0LnRyYW5zYWN0aW9uX2lkcy5idXksXG4gICAgICAgICtjb250cmFjdC5idXlfcHJpY2UsXG4gICAgICAgICtjb250cmFjdC5zZWxsX3ByaWNlLFxuICAgICAgICBwcm9maXQsXG4gICAgICAgIGNvbnRyYWN0LmNvbnRyYWN0X3R5cGUsXG4gICAgICAgIGZvcm1hdFRpbWUocGFyc2VJbnQoYCR7Y29udHJhY3QuZW50cnlfdGlja190aW1lfTAwMGApLCAnSEg6bW06c3MnKSxcbiAgICAgICAgK2NvbnRyYWN0LmVudHJ5X3RpY2ssXG4gICAgICAgIGZvcm1hdFRpbWUocGFyc2VJbnQoYCR7Y29udHJhY3QuZXhpdF90aWNrX3RpbWV9MDAwYCksICdISDptbTpzcycpLFxuICAgICAgICArY29udHJhY3QuZXhpdF90aWNrLFxuICAgICAgICArKGNvbnRyYWN0LmJhcnJpZXIgPyBjb250cmFjdC5iYXJyaWVyIDogMCksXG4gICAgICAgIHJlc3VsdCxcbiAgICBdO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFVVSUQgPSAoKSA9PiBgJHtuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIE1hdGgucmFuZG9tKCl9YDtcblxuY29uc3QgaGFzQmxvY2tPZlR5cGUgPSAodGFyZ2V0VHlwZSwgd29ya3NwYWNlKSA9PiB7XG4gICAgY29uc3QgYWxsQmxvY2tzID0gd29ya3NwYWNlLmdldEFsbEJsb2NrcygpO1xuICAgIHJldHVybiBhbGxCbG9ja3Muc29tZShibG9jayA9PiBibG9jay50eXBlID09PSB0YXJnZXRUeXBlICYmICEhYmxvY2sucGFyZW50QmxvY2tfKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjaGVja0Jsb2Nrc0ZvclByb3Bvc2FsUmVxdWVzdCA9ICgpID0+IHtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBCbG9ja2x5LmRlcml2V29ya3NwYWNlO1xuICAgIGNvbnN0IGhhc19wYXlvdXRfYmxvY2sgPSBoYXNCbG9ja09mVHlwZSgncGF5b3V0Jywgd29ya3NwYWNlKTtcblxuICAgIC8vIENvZGUgZm9yIHRoZSBmdXR1cmUgZm9yIGNhc2Ugd2hlbiBiYXNpczogJ3BheW91dCc6XG4gICAgLy8gKiBTaW5jZSBiYXNpcyA6ICcke2Jsb2NrLnR5cGUgPT09ICd0cmFkZV9kZWZpbml0aW9uX3RyYWRlb3B0aW9ucycgPyAnc3Rha2UnIDogJ3BheW91dCd9J1xuICAgIC8vICogYmFzaXM6ICdwYXlvdXQnIHdoZW4gY29udHJhY3RfdHlwZTogXCJNVUxUVVBcIlxuICAgIC8vIFVuY29tbWVudCBuZXh0IGxpbmUgbGF0ZXI6XG4gICAgLy8gY29uc3QgaXNfYmFzaXNfcGF5b3V0ID0gIWhhc0Jsb2NrT2ZUeXBlKCd0cmFkZV9kZWZpbml0aW9uX3RyYWRlb3B0aW9ucycsIHdvcmtzcGFjZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNfcGF5b3V0X2Jsb2NrLFxuICAgICAgICBpc19iYXNpc19wYXlvdXQ6IGZhbHNlLFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3Qgc29ja2V0X3N0YXRlID0ge1xuICAgIFtXZWJTb2NrZXQuQ09OTkVDVElOR106ICdDb25uZWN0aW5nJyxcbiAgICBbV2ViU29ja2V0Lk9QRU5dOiAnQ29ubmVjdGVkJyxcbiAgICBbV2ViU29ja2V0LkNMT1NJTkddOiAnQ2xvc2luZycsXG4gICAgW1dlYlNvY2tldC5DTE9TRURdOiAnQ2xvc2VkJyxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/utils/helpers.js\n");

/***/ }),

/***/ "./tradeEngine/utils/index.js":
/*!************************************!*\
  !*** ./tradeEngine/utils/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkBlocksForProposalRequest\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.checkBlocksForProposalRequest),\n/* harmony export */   \"contract\": () => (/* reexport safe */ _broadcast__WEBPACK_IMPORTED_MODULE_2__.contract),\n/* harmony export */   \"contractStatus\": () => (/* reexport safe */ _broadcast__WEBPACK_IMPORTED_MODULE_2__.contractStatus),\n/* harmony export */   \"createDetails\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.createDetails),\n/* harmony export */   \"createError\": () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_3__.createError),\n/* harmony export */   \"createInterpreter\": () => (/* reexport safe */ _interpreter__WEBPACK_IMPORTED_MODULE_5__.createInterpreter),\n/* harmony export */   \"createScope\": () => (/* reexport safe */ _cliTools__WEBPACK_IMPORTED_MODULE_0__.createScope),\n/* harmony export */   \"doUntilDone\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.doUntilDone),\n/* harmony export */   \"error\": () => (/* reexport safe */ _broadcast__WEBPACK_IMPORTED_MODULE_2__.error),\n/* harmony export */   \"expectCandle\": () => (/* reexport safe */ _sanitize__WEBPACK_IMPORTED_MODULE_7__.expectCandle),\n/* harmony export */   \"expectCandles\": () => (/* reexport safe */ _sanitize__WEBPACK_IMPORTED_MODULE_7__.expectCandles),\n/* harmony export */   \"expectInitArg\": () => (/* reexport safe */ _sanitize__WEBPACK_IMPORTED_MODULE_7__.expectInitArg),\n/* harmony export */   \"expectPositiveInteger\": () => (/* reexport safe */ _sanitize__WEBPACK_IMPORTED_MODULE_7__.expectPositiveInteger),\n/* harmony export */   \"getDirection\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.getDirection),\n/* harmony export */   \"getLastDigit\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.getLastDigit),\n/* harmony export */   \"getLastDigitForList\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.getLastDigitForList),\n/* harmony export */   \"getUUID\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.getUUID),\n/* harmony export */   \"info\": () => (/* reexport safe */ _broadcast__WEBPACK_IMPORTED_MODULE_2__.info),\n/* harmony export */   \"log\": () => (/* reexport safe */ _broadcast__WEBPACK_IMPORTED_MODULE_2__.log),\n/* harmony export */   \"notify\": () => (/* reexport safe */ _broadcast__WEBPACK_IMPORTED_MODULE_2__.notify),\n/* harmony export */   \"observer\": () => (/* reexport safe */ _observer__WEBPACK_IMPORTED_MODULE_1__.observer),\n/* harmony export */   \"recoverFromError\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.recoverFromError),\n/* harmony export */   \"shouldThrowError\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.shouldThrowError),\n/* harmony export */   \"socket_state\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.socket_state),\n/* harmony export */   \"trackAndEmitError\": () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_3__.trackAndEmitError),\n/* harmony export */   \"tradeOptionToBuy\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.tradeOptionToBuy),\n/* harmony export */   \"tradeOptionToProposal\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.tradeOptionToProposal),\n/* harmony export */   \"updateErrorMessage\": () => (/* reexport safe */ _helpers__WEBPACK_IMPORTED_MODULE_4__.updateErrorMessage)\n/* harmony export */ });\n/* harmony import */ var _cliTools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cliTools */ \"./tradeEngine/utils/cliTools.js\");\n/* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _broadcast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./broadcast */ \"./tradeEngine/utils/broadcast.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error */ \"./tradeEngine/utils/error.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers */ \"./tradeEngine/utils/helpers.js\");\n/* harmony import */ var _interpreter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interpreter */ \"./tradeEngine/utils/interpreter.js\");\n/* harmony import */ var _pending_promise__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pending-promise */ \"./tradeEngine/utils/pending-promise.js\");\n/* harmony import */ var _sanitize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sanitize */ \"./tradeEngine/utils/sanitize.js\");\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvdXRpbHMvaW5kZXguanM/ZWIzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2NsaVRvb2xzJztcbmV4cG9ydCAqIGZyb20gJy4vb2JzZXJ2ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9icm9hZGNhc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9lcnJvcic7XG5leHBvcnQgKiBmcm9tICcuL2hlbHBlcnMnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcnByZXRlcic7XG5leHBvcnQgKiBmcm9tICcuL3BlbmRpbmctcHJvbWlzZSc7XG5leHBvcnQgKiBmcm9tICcuL3Nhbml0aXplJzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/utils/index.js\n");

/***/ }),

/***/ "./tradeEngine/utils/interpreter.js":
/*!******************************************!*\
  !*** ./tradeEngine/utils/interpreter.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createInterpreter\": () => (/* binding */ createInterpreter),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_js_interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/js-interpreter */ \"../../node_modules/@deriv/js-interpreter/lib/js-interpreter.js\");\n/* harmony import */ var _deriv_js_interpreter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_js_interpreter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _cliTools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cliTools */ \"./tradeEngine/utils/cliTools.js\");\n/* harmony import */ var _Interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Interface */ \"./tradeEngine/Interface/index.js\");\n/* harmony import */ var _constants_messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../constants/messages */ \"./constants/messages.js\");\n/* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./observer */ \"./tradeEngine/utils/observer.js\");\n/* harmony import */ var _api_api_base__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../api/api-base */ \"./api/api-base.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\n\n(_deriv_js_interpreter__WEBPACK_IMPORTED_MODULE_1___default().prototype.takeStateSnapshot) = function () {\n  var newStateStack = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.cloneThorough)(this.stateStack, undefined, undefined, undefined, true);\n  return newStateStack;\n};\n(_deriv_js_interpreter__WEBPACK_IMPORTED_MODULE_1___default().prototype.restoreStateSnapshot) = function (snapshot) {\n  this.stateStack = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.cloneThorough)(snapshot, undefined, undefined, undefined, true);\n  this.global = this.stateStack[0].scope.object || this.stateStack[0].scope;\n  this.initFunc_(this, this.global);\n};\nvar botInitialized = function botInitialized(bot) {\n  return bot && bot.tradeEngine.options;\n};\nvar botStarted = function botStarted(bot) {\n  return botInitialized(bot) && bot.tradeEngine.tradeOptions;\n};\nvar shouldRestartOnError = function shouldRestartOnError(bot) {\n  var errorName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return !_constants_messages__WEBPACK_IMPORTED_MODULE_4__.unrecoverable_errors.includes(errorName) && botInitialized(bot) && bot.tradeEngine.options.shouldRestartOnError;\n};\nvar shouldStopOnError = function shouldStopOnError(bot) {\n  var errorName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var stopErrors = ['SellNotAvailableCustom', 'ContractCreationFailure', 'InvalidtoBuy'];\n  if (stopErrors.includes(errorName) && botInitialized(bot)) {\n    return true;\n  }\n  return false;\n};\nvar timeMachineEnabled = function timeMachineEnabled(bot) {\n  return botInitialized(bot) && bot.tradeEngine.options.timeMachineEnabled;\n};\n\n// TODO chek beforState & duringState & startState\nvar Interpreter = function Interpreter() {\n  var $scope = (0,_cliTools__WEBPACK_IMPORTED_MODULE_2__.createScope)();\n  var bot = (0,_Interface__WEBPACK_IMPORTED_MODULE_3__[\"default\"])($scope);\n  var interpreter = {};\n  var onFinish;\n  $scope.observer.register('REVERT', function (watchName) {\n    return revert(watchName === 'before' ? $scope.beforeState : $scope.duringState);\n  });\n  function init() {\n    $scope = (0,_cliTools__WEBPACK_IMPORTED_MODULE_2__.createScope)();\n    bot = (0,_Interface__WEBPACK_IMPORTED_MODULE_3__[\"default\"])($scope);\n    interpreter = {};\n    onFinish = function onFinish() {};\n  }\n  function revert(state) {\n    interpreter.restoreStateSnapshot(state);\n    interpreter.paused_ = false;\n    loop();\n  }\n  function loop() {\n    if ($scope.stopped || !interpreter.run()) {\n      onFinish(interpreter.pseudoToNative(interpreter.value));\n    }\n  }\n  function createAsync(js_interpreter, func) {\n    var asyncFunc = function asyncFunc() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var callback = args.pop();\n\n      // Workaround for unknown number of args\n      var reversed_args = args.slice().reverse();\n      var first_defined_arg_idx = reversed_args.findIndex(function (arg) {\n        return arg !== undefined;\n      });\n\n      // Remove extra undefined args from end of the args\n      var function_args = first_defined_arg_idx < 0 ? [] : reversed_args.slice(first_defined_arg_idx).reverse();\n      // End of workaround\n\n      func.apply(void 0, _toConsumableArray(function_args.map(function (arg) {\n        return js_interpreter.pseudoToNative(arg);\n      }))).then(function (rv) {\n        callback(js_interpreter.nativeToPseudo(rv));\n        loop();\n      })[\"catch\"](function (e) {\n        // e.error for errors get from API, e for code errors\n        $scope.observer.emit('Error', e.error || e);\n      });\n    };\n\n    // TODO: This is a workaround, create issue on original repo, once fixed\n    // remove this. We don't know how many args are going to be passed, so we\n    // assume a max of 100.\n    var MAX_ACCEPTABLE_FUNC_ARGS = 100;\n    Object.defineProperty(asyncFunc, 'length', {\n      value: MAX_ACCEPTABLE_FUNC_ARGS + 1\n    });\n    return js_interpreter.createAsyncFunction(asyncFunc);\n  }\n  function initFunc(js_interpreter, scope) {\n    var bot_interface = bot.getInterface();\n    var getTicksInterface = bot_interface.getTicksInterface,\n      alert = bot_interface.alert,\n      prompt = bot_interface.prompt,\n      sleep = bot_interface.sleep,\n      custom_console = bot_interface.console;\n    var ticks_interface = getTicksInterface;\n    js_interpreter.setProperty(scope, 'console', js_interpreter.nativeToPseudo(custom_console));\n    js_interpreter.setProperty(scope, 'alert', js_interpreter.nativeToPseudo(alert));\n    js_interpreter.setProperty(scope, 'prompt', js_interpreter.nativeToPseudo(prompt));\n    js_interpreter.setProperty(scope, 'getPurchaseReference', js_interpreter.nativeToPseudo(bot_interface.getPurchaseReference));\n    var pseudo_bot_interface = js_interpreter.nativeToPseudo(bot_interface);\n    Object.entries(ticks_interface).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        f = _ref2[1];\n      return js_interpreter.setProperty(pseudo_bot_interface, name, createAsync(js_interpreter, f));\n    });\n    js_interpreter.setProperty(pseudo_bot_interface, 'start', js_interpreter.nativeToPseudo(function () {\n      var start = bot_interface.start;\n      if (shouldRestartOnError(bot)) {\n        $scope.startState = js_interpreter.takeStateSnapshot();\n      }\n      start.apply(void 0, arguments);\n    }));\n    js_interpreter.setProperty(pseudo_bot_interface, 'purchase', createAsync(js_interpreter, bot_interface.purchase));\n    js_interpreter.setProperty(pseudo_bot_interface, 'sellAtMarket', createAsync(js_interpreter, bot_interface.sellAtMarket));\n    js_interpreter.setProperty(scope, 'Bot', pseudo_bot_interface);\n    js_interpreter.setProperty(scope, 'watch', createAsync(js_interpreter, function (watchName) {\n      var _bot$getInterface = bot.getInterface(),\n        watch = _bot$getInterface.watch;\n      if (timeMachineEnabled(bot)) {\n        var snapshot = interpreter.takeStateSnapshot();\n        if (watchName === 'before') {\n          $scope.beforeState = snapshot;\n        } else {\n          $scope.duringState = snapshot;\n        }\n      }\n      return watch(watchName);\n    }));\n    js_interpreter.setProperty(scope, 'sleep', createAsync(js_interpreter, sleep));\n  }\n  function stop() {\n    return _stop.apply(this, arguments);\n  }\n  function _stop() {\n    _stop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                try {\n                  var _globalObserver$getSt, _bot$tradeEngine$data, _bot, _bot$tradeEngine3, _bot$tradeEngine3$dat, _bot$tradeEngine3$dat2;\n                  var global_timeouts = (_globalObserver$getSt = _observer__WEBPACK_IMPORTED_MODULE_5__.observer.getState('global_timeouts')) !== null && _globalObserver$getSt !== void 0 ? _globalObserver$getSt : [];\n                  var is_timeouts_cancellable = Object.keys(global_timeouts).every(function (timeout) {\n                    return global_timeouts[timeout].is_cancellable;\n                  });\n                  if (!bot.tradeEngine.contractId && is_timeouts_cancellable) {\n                    _api_api_base__WEBPACK_IMPORTED_MODULE_6__.api_base.is_stopping = true;\n                    // When user is rate limited, allow them to stop the bot immediately\n                    // granted there is no active contract.\n                    global_timeouts.forEach(function (timeout) {\n                      return clearTimeout(global_timeouts[timeout]);\n                    });\n                    terminateSession().then(function () {\n                      _api_api_base__WEBPACK_IMPORTED_MODULE_6__.api_base.is_stopping = false;\n                      resolve();\n                    });\n                  } else if (bot.tradeEngine.isSold === false && !$scope.is_error_triggered && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isMultiplierContract)((_bot$tradeEngine$data = (_bot = bot) === null || _bot === void 0 ? void 0 : (_bot$tradeEngine3 = _bot.tradeEngine) === null || _bot$tradeEngine3 === void 0 ? void 0 : (_bot$tradeEngine3$dat = _bot$tradeEngine3.data) === null || _bot$tradeEngine3$dat === void 0 ? void 0 : (_bot$tradeEngine3$dat2 = _bot$tradeEngine3$dat.contract) === null || _bot$tradeEngine3$dat2 === void 0 ? void 0 : _bot$tradeEngine3$dat2.contract_type) !== null && _bot$tradeEngine$data !== void 0 ? _bot$tradeEngine$data : '')) {\n                    _observer__WEBPACK_IMPORTED_MODULE_5__.observer.register('contract.status', /*#__PURE__*/function () {\n                      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(contractStatus) {\n                        return _regeneratorRuntime().wrap(function _callee$(_context) {\n                          while (1) {\n                            switch (_context.prev = _context.next) {\n                              case 0:\n                                if (contractStatus.id === 'contract.sold') {\n                                  terminateSession().then(function () {\n                                    return resolve();\n                                  });\n                                }\n                              case 1:\n                              case \"end\":\n                                return _context.stop();\n                            }\n                          }\n                        }, _callee);\n                      }));\n                      return function (_x2) {\n                        return _ref3.apply(this, arguments);\n                      };\n                    }());\n                  } else {\n                    _api_api_base__WEBPACK_IMPORTED_MODULE_6__.api_base.is_stopping = true;\n                    terminateSession().then(function () {\n                      _api_api_base__WEBPACK_IMPORTED_MODULE_6__.api_base.is_stopping = false;\n                      resolve();\n                    });\n                  }\n                } catch (e) {\n                  reject(e);\n                }\n              }));\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _stop.apply(this, arguments);\n  }\n  function terminateSession() {\n    return _terminateSession.apply(this, arguments);\n  }\n  function _terminateSession() {\n    _terminateSession = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n                try {\n                  $scope.stopped = true;\n                  $scope.is_error_triggered = false;\n                  _observer__WEBPACK_IMPORTED_MODULE_5__.observer.emit('bot.stop');\n                  var _$scope = $scope,\n                    ticksService = _$scope.ticksService;\n                  // Unsubscribe previous ticks_history subscription\n                  // Unsubscribe the subscriptions from Proposal, Balance and OpenContract\n                  _api_api_base__WEBPACK_IMPORTED_MODULE_6__.api_base.clearSubscriptions();\n                  ticksService.unsubscribeFromTicksService().then(function () {\n                    resolve();\n                  });\n                } catch (error) {\n                  reject(error);\n                }\n              }));\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _terminateSession.apply(this, arguments);\n  }\n  function unsubscribeFromTicksService() {\n    return _unsubscribeFromTicksService.apply(this, arguments);\n  }\n  function _unsubscribeFromTicksService() {\n    _unsubscribeFromTicksService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      var _$scope2, ticksService;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _$scope2 = $scope, ticksService = _$scope2.ticksService;\n              return _context4.abrupt(\"return\", new Promise(function (resolve, reject) {\n                try {\n                  ticksService.unsubscribeFromTicksService().then(function () {\n                    resolve();\n                  });\n                } catch (e) {\n                  reject(e);\n                }\n              }));\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _unsubscribeFromTicksService.apply(this, arguments);\n  }\n  function run(code) {\n    return new Promise(function (resolve, reject) {\n      var onError = function onError(e) {\n        var _bot$tradeEngine2;\n        if ($scope.stopped) {\n          return;\n        }\n        // DBot handles 'InvalidToken' internally\n        if (e.code === 'InvalidToken') {\n          _observer__WEBPACK_IMPORTED_MODULE_5__.observer.emit('client.invalid_token');\n          return;\n        }\n        if (shouldStopOnError(bot, e === null || e === void 0 ? void 0 : e.code)) {\n          _observer__WEBPACK_IMPORTED_MODULE_5__.observer.emit('ui.log.error', e.message);\n          _observer__WEBPACK_IMPORTED_MODULE_5__.observer.emit('bot.click_stop');\n          return;\n        }\n        $scope.is_error_triggered = true;\n        if (!shouldRestartOnError(bot, e.code) || !botStarted(bot)) {\n          reject(e);\n          return;\n        }\n        _observer__WEBPACK_IMPORTED_MODULE_5__.observer.emit('Error', e);\n        var _bot$tradeEngine = bot.tradeEngine,\n          initArgs = _bot$tradeEngine.initArgs,\n          tradeOptions = _bot$tradeEngine.tradeOptions;\n        terminateSession();\n        init();\n        $scope.observer.register('Error', onError);\n        (_bot$tradeEngine2 = bot.tradeEngine).init.apply(_bot$tradeEngine2, _toConsumableArray(initArgs));\n        bot.tradeEngine.start(tradeOptions);\n        revert($scope.startState);\n      };\n      $scope.observer.register('Error', onError);\n      interpreter = new (_deriv_js_interpreter__WEBPACK_IMPORTED_MODULE_1___default())(code, initFunc);\n      onFinish = resolve;\n      loop();\n    });\n  }\n  return {\n    stop: stop,\n    run: run,\n    terminateSession: terminateSession,\n    bot: bot,\n    unsubscribeFromTicksService: unsubscribeFromTicksService\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Interpreter);\nvar createInterpreter = function createInterpreter() {\n  return new Interpreter();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9pbnRlcnByZXRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUtBO0FBS0E7QUFDQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS91dGlscy9pbnRlcnByZXRlci5qcz80ZTY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb25lVGhvcm91Z2gsIGlzTXVsdGlwbGllckNvbnRyYWN0IH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgSlNJbnRlcnByZXRlciBmcm9tICdAZGVyaXYvanMtaW50ZXJwcmV0ZXInO1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUgfSBmcm9tICcuL2NsaVRvb2xzJztcbmltcG9ydCBJbnRlcmZhY2UgZnJvbSAnLi4vSW50ZXJmYWNlJztcbmltcG9ydCB7IHVucmVjb3ZlcmFibGVfZXJyb3JzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL21lc3NhZ2VzJztcbmltcG9ydCB7IG9ic2VydmVyIGFzIGdsb2JhbE9ic2VydmVyIH0gZnJvbSAnLi9vYnNlcnZlcic7XG5pbXBvcnQgeyBhcGlfYmFzZSB9IGZyb20gJy4uLy4uL2FwaS9hcGktYmFzZSc7XG5cbkpTSW50ZXJwcmV0ZXIucHJvdG90eXBlLnRha2VTdGF0ZVNuYXBzaG90ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1N0YXRlU3RhY2sgPSBjbG9uZVRob3JvdWdoKHRoaXMuc3RhdGVTdGFjaywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIG5ld1N0YXRlU3RhY2s7XG59O1xuXG5KU0ludGVycHJldGVyLnByb3RvdHlwZS5yZXN0b3JlU3RhdGVTbmFwc2hvdCA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuICAgIHRoaXMuc3RhdGVTdGFjayA9IGNsb25lVGhvcm91Z2goc25hcHNob3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpO1xuICAgIHRoaXMuZ2xvYmFsID0gdGhpcy5zdGF0ZVN0YWNrWzBdLnNjb3BlLm9iamVjdCB8fCB0aGlzLnN0YXRlU3RhY2tbMF0uc2NvcGU7XG4gICAgdGhpcy5pbml0RnVuY18odGhpcywgdGhpcy5nbG9iYWwpO1xufTtcblxuY29uc3QgYm90SW5pdGlhbGl6ZWQgPSBib3QgPT4gYm90ICYmIGJvdC50cmFkZUVuZ2luZS5vcHRpb25zO1xuY29uc3QgYm90U3RhcnRlZCA9IGJvdCA9PiBib3RJbml0aWFsaXplZChib3QpICYmIGJvdC50cmFkZUVuZ2luZS50cmFkZU9wdGlvbnM7XG5jb25zdCBzaG91bGRSZXN0YXJ0T25FcnJvciA9IChib3QsIGVycm9yTmFtZSA9ICcnKSA9PlxuICAgICF1bnJlY292ZXJhYmxlX2Vycm9ycy5pbmNsdWRlcyhlcnJvck5hbWUpICYmIGJvdEluaXRpYWxpemVkKGJvdCkgJiYgYm90LnRyYWRlRW5naW5lLm9wdGlvbnMuc2hvdWxkUmVzdGFydE9uRXJyb3I7XG5cbmNvbnN0IHNob3VsZFN0b3BPbkVycm9yID0gKGJvdCwgZXJyb3JOYW1lID0gJycpID0+IHtcbiAgICBjb25zdCBzdG9wRXJyb3JzID0gWydTZWxsTm90QXZhaWxhYmxlQ3VzdG9tJywgJ0NvbnRyYWN0Q3JlYXRpb25GYWlsdXJlJywgJ0ludmFsaWR0b0J1eSddO1xuICAgIGlmIChzdG9wRXJyb3JzLmluY2x1ZGVzKGVycm9yTmFtZSkgJiYgYm90SW5pdGlhbGl6ZWQoYm90KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgdGltZU1hY2hpbmVFbmFibGVkID0gYm90ID0+IGJvdEluaXRpYWxpemVkKGJvdCkgJiYgYm90LnRyYWRlRW5naW5lLm9wdGlvbnMudGltZU1hY2hpbmVFbmFibGVkO1xuXG4vLyBUT0RPIGNoZWsgYmVmb3JTdGF0ZSAmIGR1cmluZ1N0YXRlICYgc3RhcnRTdGF0ZVxuY29uc3QgSW50ZXJwcmV0ZXIgPSAoKSA9PiB7XG4gICAgbGV0ICRzY29wZSA9IGNyZWF0ZVNjb3BlKCk7XG4gICAgbGV0IGJvdCA9IEludGVyZmFjZSgkc2NvcGUpO1xuICAgIGxldCBpbnRlcnByZXRlciA9IHt9O1xuICAgIGxldCBvbkZpbmlzaDtcblxuICAgICRzY29wZS5vYnNlcnZlci5yZWdpc3RlcignUkVWRVJUJywgd2F0Y2hOYW1lID0+XG4gICAgICAgIHJldmVydCh3YXRjaE5hbWUgPT09ICdiZWZvcmUnID8gJHNjb3BlLmJlZm9yZVN0YXRlIDogJHNjb3BlLmR1cmluZ1N0YXRlKVxuICAgICk7XG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAkc2NvcGUgPSBjcmVhdGVTY29wZSgpO1xuICAgICAgICBib3QgPSBJbnRlcmZhY2UoJHNjb3BlKTtcbiAgICAgICAgaW50ZXJwcmV0ZXIgPSB7fTtcbiAgICAgICAgb25GaW5pc2ggPSAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXZlcnQoc3RhdGUpIHtcbiAgICAgICAgaW50ZXJwcmV0ZXIucmVzdG9yZVN0YXRlU25hcHNob3Qoc3RhdGUpO1xuICAgICAgICBpbnRlcnByZXRlci5wYXVzZWRfID0gZmFsc2U7XG4gICAgICAgIGxvb3AoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb29wKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnN0b3BwZWQgfHwgIWludGVycHJldGVyLnJ1bigpKSB7XG4gICAgICAgICAgICBvbkZpbmlzaChpbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShpbnRlcnByZXRlci52YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQXN5bmMoanNfaW50ZXJwcmV0ZXIsIGZ1bmMpIHtcbiAgICAgICAgY29uc3QgYXN5bmNGdW5jID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gYXJncy5wb3AoKTtcblxuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgdW5rbm93biBudW1iZXIgb2YgYXJnc1xuICAgICAgICAgICAgY29uc3QgcmV2ZXJzZWRfYXJncyA9IGFyZ3Muc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdF9kZWZpbmVkX2FyZ19pZHggPSByZXZlcnNlZF9hcmdzLmZpbmRJbmRleChhcmcgPT4gYXJnICE9PSB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgZXh0cmEgdW5kZWZpbmVkIGFyZ3MgZnJvbSBlbmQgb2YgdGhlIGFyZ3NcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uX2FyZ3MgPSBmaXJzdF9kZWZpbmVkX2FyZ19pZHggPCAwID8gW10gOiByZXZlcnNlZF9hcmdzLnNsaWNlKGZpcnN0X2RlZmluZWRfYXJnX2lkeCkucmV2ZXJzZSgpO1xuICAgICAgICAgICAgLy8gRW5kIG9mIHdvcmthcm91bmRcblxuICAgICAgICAgICAgZnVuYyguLi5mdW5jdGlvbl9hcmdzLm1hcChhcmcgPT4ganNfaW50ZXJwcmV0ZXIucHNldWRvVG9OYXRpdmUoYXJnKSkpXG4gICAgICAgICAgICAgICAgLnRoZW4ocnYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhqc19pbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbyhydikpO1xuICAgICAgICAgICAgICAgICAgICBsb29wKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGUuZXJyb3IgZm9yIGVycm9ycyBnZXQgZnJvbSBBUEksIGUgZm9yIGNvZGUgZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vYnNlcnZlci5lbWl0KCdFcnJvcicsIGUuZXJyb3IgfHwgZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhIHdvcmthcm91bmQsIGNyZWF0ZSBpc3N1ZSBvbiBvcmlnaW5hbCByZXBvLCBvbmNlIGZpeGVkXG4gICAgICAgIC8vIHJlbW92ZSB0aGlzLiBXZSBkb24ndCBrbm93IGhvdyBtYW55IGFyZ3MgYXJlIGdvaW5nIHRvIGJlIHBhc3NlZCwgc28gd2VcbiAgICAgICAgLy8gYXNzdW1lIGEgbWF4IG9mIDEwMC5cbiAgICAgICAgY29uc3QgTUFYX0FDQ0VQVEFCTEVfRlVOQ19BUkdTID0gMTAwO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXN5bmNGdW5jLCAnbGVuZ3RoJywgeyB2YWx1ZTogTUFYX0FDQ0VQVEFCTEVfRlVOQ19BUkdTICsgMSB9KTtcbiAgICAgICAgcmV0dXJuIGpzX2ludGVycHJldGVyLmNyZWF0ZUFzeW5jRnVuY3Rpb24oYXN5bmNGdW5jKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0RnVuYyhqc19pbnRlcnByZXRlciwgc2NvcGUpIHtcbiAgICAgICAgY29uc3QgYm90X2ludGVyZmFjZSA9IGJvdC5nZXRJbnRlcmZhY2UoKTtcbiAgICAgICAgY29uc3QgeyBnZXRUaWNrc0ludGVyZmFjZSwgYWxlcnQsIHByb21wdCwgc2xlZXAsIGNvbnNvbGU6IGN1c3RvbV9jb25zb2xlIH0gPSBib3RfaW50ZXJmYWNlO1xuICAgICAgICBjb25zdCB0aWNrc19pbnRlcmZhY2UgPSBnZXRUaWNrc0ludGVyZmFjZTtcblxuICAgICAgICBqc19pbnRlcnByZXRlci5zZXRQcm9wZXJ0eShzY29wZSwgJ2NvbnNvbGUnLCBqc19pbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbyhjdXN0b21fY29uc29sZSkpO1xuICAgICAgICBqc19pbnRlcnByZXRlci5zZXRQcm9wZXJ0eShzY29wZSwgJ2FsZXJ0JywganNfaW50ZXJwcmV0ZXIubmF0aXZlVG9Qc2V1ZG8oYWxlcnQpKTtcbiAgICAgICAganNfaW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoc2NvcGUsICdwcm9tcHQnLCBqc19pbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbyhwcm9tcHQpKTtcbiAgICAgICAganNfaW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICdnZXRQdXJjaGFzZVJlZmVyZW5jZScsXG4gICAgICAgICAgICBqc19pbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbyhib3RfaW50ZXJmYWNlLmdldFB1cmNoYXNlUmVmZXJlbmNlKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHBzZXVkb19ib3RfaW50ZXJmYWNlID0ganNfaW50ZXJwcmV0ZXIubmF0aXZlVG9Qc2V1ZG8oYm90X2ludGVyZmFjZSk7XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXModGlja3NfaW50ZXJmYWNlKS5mb3JFYWNoKChbbmFtZSwgZl0pID0+XG4gICAgICAgICAgICBqc19pbnRlcnByZXRlci5zZXRQcm9wZXJ0eShwc2V1ZG9fYm90X2ludGVyZmFjZSwgbmFtZSwgY3JlYXRlQXN5bmMoanNfaW50ZXJwcmV0ZXIsIGYpKVxuICAgICAgICApO1xuXG4gICAgICAgIGpzX2ludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgcHNldWRvX2JvdF9pbnRlcmZhY2UsXG4gICAgICAgICAgICAnc3RhcnQnLFxuICAgICAgICAgICAganNfaW50ZXJwcmV0ZXIubmF0aXZlVG9Qc2V1ZG8oKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXJ0IH0gPSBib3RfaW50ZXJmYWNlO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZXN0YXJ0T25FcnJvcihib3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFydFN0YXRlID0ganNfaW50ZXJwcmV0ZXIudGFrZVN0YXRlU25hcHNob3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnQoLi4uYXJncyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGpzX2ludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgcHNldWRvX2JvdF9pbnRlcmZhY2UsXG4gICAgICAgICAgICAncHVyY2hhc2UnLFxuICAgICAgICAgICAgY3JlYXRlQXN5bmMoanNfaW50ZXJwcmV0ZXIsIGJvdF9pbnRlcmZhY2UucHVyY2hhc2UpXG4gICAgICAgICk7XG4gICAgICAgIGpzX2ludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgcHNldWRvX2JvdF9pbnRlcmZhY2UsXG4gICAgICAgICAgICAnc2VsbEF0TWFya2V0JyxcbiAgICAgICAgICAgIGNyZWF0ZUFzeW5jKGpzX2ludGVycHJldGVyLCBib3RfaW50ZXJmYWNlLnNlbGxBdE1hcmtldClcbiAgICAgICAgKTtcbiAgICAgICAganNfaW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoc2NvcGUsICdCb3QnLCBwc2V1ZG9fYm90X2ludGVyZmFjZSk7XG4gICAgICAgIGpzX2ludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAnd2F0Y2gnLFxuICAgICAgICAgICAgY3JlYXRlQXN5bmMoanNfaW50ZXJwcmV0ZXIsIHdhdGNoTmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB3YXRjaCB9ID0gYm90LmdldEludGVyZmFjZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVNYWNoaW5lRW5hYmxlZChib3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gaW50ZXJwcmV0ZXIudGFrZVN0YXRlU25hcHNob3QoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhdGNoTmFtZSA9PT0gJ2JlZm9yZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5iZWZvcmVTdGF0ZSA9IHNuYXBzaG90O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmR1cmluZ1N0YXRlID0gc25hcHNob3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gd2F0Y2god2F0Y2hOYW1lKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAganNfaW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoc2NvcGUsICdzbGVlcCcsIGNyZWF0ZUFzeW5jKGpzX2ludGVycHJldGVyLCBzbGVlcCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbF90aW1lb3V0cyA9IGdsb2JhbE9ic2VydmVyLmdldFN0YXRlKCdnbG9iYWxfdGltZW91dHMnKSA/PyBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc190aW1lb3V0c19jYW5jZWxsYWJsZSA9IE9iamVjdC5rZXlzKGdsb2JhbF90aW1lb3V0cykuZXZlcnkoXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPT4gZ2xvYmFsX3RpbWVvdXRzW3RpbWVvdXRdLmlzX2NhbmNlbGxhYmxlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmICghYm90LnRyYWRlRW5naW5lLmNvbnRyYWN0SWQgJiYgaXNfdGltZW91dHNfY2FuY2VsbGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpX2Jhc2UuaXNfc3RvcHBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHVzZXIgaXMgcmF0ZSBsaW1pdGVkLCBhbGxvdyB0aGVtIHRvIHN0b3AgdGhlIGJvdCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAvLyBncmFudGVkIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb250cmFjdC5cbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsX3RpbWVvdXRzLmZvckVhY2godGltZW91dCA9PiBjbGVhclRpbWVvdXQoZ2xvYmFsX3RpbWVvdXRzW3RpbWVvdXRdKSk7XG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmF0ZVNlc3Npb24oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9iYXNlLmlzX3N0b3BwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGJvdC50cmFkZUVuZ2luZS5pc1NvbGQgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICEkc2NvcGUuaXNfZXJyb3JfdHJpZ2dlcmVkICYmXG4gICAgICAgICAgICAgICAgICAgIGlzTXVsdGlwbGllckNvbnRyYWN0KGJvdD8udHJhZGVFbmdpbmU/LmRhdGE/LmNvbnRyYWN0Py5jb250cmFjdF90eXBlID8/ICcnKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYnNlcnZlci5yZWdpc3RlcignY29udHJhY3Quc3RhdHVzJywgYXN5bmMgY29udHJhY3RTdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyYWN0U3RhdHVzLmlkID09PSAnY29udHJhY3Quc29sZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hdGVTZXNzaW9uKCkudGhlbigoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcGlfYmFzZS5pc19zdG9wcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmF0ZVNlc3Npb24oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9iYXNlLmlzX3N0b3BwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIHRlcm1pbmF0ZVNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNfZXJyb3JfdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2xvYmFsT2JzZXJ2ZXIuZW1pdCgnYm90LnN0b3AnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRpY2tzU2VydmljZSB9ID0gJHNjb3BlO1xuICAgICAgICAgICAgICAgIC8vIFVuc3Vic2NyaWJlIHByZXZpb3VzIHRpY2tzX2hpc3Rvcnkgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgLy8gVW5zdWJzY3JpYmUgdGhlIHN1YnNjcmlwdGlvbnMgZnJvbSBQcm9wb3NhbCwgQmFsYW5jZSBhbmQgT3BlbkNvbnRyYWN0XG4gICAgICAgICAgICAgICAgYXBpX2Jhc2UuY2xlYXJTdWJzY3JpcHRpb25zKCk7XG5cbiAgICAgICAgICAgICAgICB0aWNrc1NlcnZpY2UudW5zdWJzY3JpYmVGcm9tVGlja3NTZXJ2aWNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gdW5zdWJzY3JpYmVGcm9tVGlja3NTZXJ2aWNlKCkge1xuICAgICAgICBjb25zdCB7IHRpY2tzU2VydmljZSB9ID0gJHNjb3BlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aWNrc1NlcnZpY2UudW5zdWJzY3JpYmVGcm9tVGlja3NTZXJ2aWNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bihjb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gREJvdCBoYW5kbGVzICdJbnZhbGlkVG9rZW4nIGludGVybmFsbHlcbiAgICAgICAgICAgICAgICBpZiAoZS5jb2RlID09PSAnSW52YWxpZFRva2VuJykge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYnNlcnZlci5lbWl0KCdjbGllbnQuaW52YWxpZF90b2tlbicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTdG9wT25FcnJvcihib3QsIGU/LmNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbE9ic2VydmVyLmVtaXQoJ3VpLmxvZy5lcnJvcicsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbE9ic2VydmVyLmVtaXQoJ2JvdC5jbGlja19zdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNfZXJyb3JfdHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJlc3RhcnRPbkVycm9yKGJvdCwgZS5jb2RlKSB8fCAhYm90U3RhcnRlZChib3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsb2JhbE9ic2VydmVyLmVtaXQoJ0Vycm9yJywgZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpbml0QXJncywgdHJhZGVPcHRpb25zIH0gPSBib3QudHJhZGVFbmdpbmU7XG4gICAgICAgICAgICAgICAgdGVybWluYXRlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUub2JzZXJ2ZXIucmVnaXN0ZXIoJ0Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgYm90LnRyYWRlRW5naW5lLmluaXQoLi4uaW5pdEFyZ3MpO1xuICAgICAgICAgICAgICAgIGJvdC50cmFkZUVuZ2luZS5zdGFydCh0cmFkZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldmVydCgkc2NvcGUuc3RhcnRTdGF0ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUub2JzZXJ2ZXIucmVnaXN0ZXIoJ0Vycm9yJywgb25FcnJvcik7XG5cbiAgICAgICAgICAgIGludGVycHJldGVyID0gbmV3IEpTSW50ZXJwcmV0ZXIoY29kZSwgaW5pdEZ1bmMpO1xuICAgICAgICAgICAgb25GaW5pc2ggPSByZXNvbHZlO1xuXG4gICAgICAgICAgICBsb29wKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7IHN0b3AsIHJ1biwgdGVybWluYXRlU2Vzc2lvbiwgYm90LCB1bnN1YnNjcmliZUZyb21UaWNrc1NlcnZpY2UgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBJbnRlcnByZXRlcjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUludGVycHJldGVyID0gKCkgPT4gbmV3IEludGVycHJldGVyKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./tradeEngine/utils/interpreter.js\n");

/***/ }),

/***/ "./tradeEngine/utils/observer.js":
/*!***************************************!*\
  !*** ./tradeEngine/utils/observer.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Observer),\n/* harmony export */   \"observer\": () => (/* binding */ observer)\n/* harmony export */ });\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! immutable */ \"../../node_modules/immutable/dist/immutable.js\");\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n/**\nBelow are the list of events we can register to listen to :\n \n-bot.running : Emitted in trade/index.js, in old Binary Bot this is only used\nto set the label to is running.\n\n-bot.stop: Bot was stopped by the user\n\n-bot.contract: Called in OpenContract.js, object consisting of\naccountID and a proposal_open_contract response, this will\nbe emitted on each POC message from the server.\n\n-bot.info: Emitted in trade/Balance.js, it announces account ID and balance,\nwe don't need this in DerivBot. Can also be emitted during running\ncontract, it then announces an object consisting of accountID,\ntotal_runs, transaction_ids, contract_type, and buy_price.\n\n-contract.status:  First emitted in trade/Purchase.js with an idea that's more\nof a flag e.g. contract_purchase_sent (when buy was sent to\nAPI, or contract_purchase_recieved (when buy was acknowledged\nby API), or contract.sold (when a contract was sold/expired).\n\n-contract.settled: this event was emitted to initiate a\nsettlement of a contract, i.e. it would call proposal_open_contract to retrieve\nlatest values for contract, not required atm by DerivBot\n\n-googledrive.authorise : event to start auturize google flow\n\n-ui.log.success: UI Notifications\n\n-ui.log.error: UI errors\n\n-ui.log.warn: UI warning\n\n-Notify: Server Notifications\n\n-Error : Server errors\n\n */\nvar Observer = /*#__PURE__*/function () {\n  function Observer() {\n    _classCallCheck(this, Observer);\n    this.eam = new immutable__WEBPACK_IMPORTED_MODULE_0__.Map(); // event action map\n  }\n  _createClass(Observer, [{\n    key: \"register\",\n    value: function register(event, _action, once, unregisterIfError, unregisterAllBefore) {\n      var _this = this;\n      if (unregisterAllBefore) {\n        this.unregisterAll(event);\n      }\n      var apiError = function apiError(error) {\n        if (error.type === unregisterIfError.type) {\n          _this.unregister('api.error', apiError);\n          unregisterIfError.unregister.forEach(function (unreg) {\n            if (unreg instanceof Array) {\n              _this.unregister.apply(_this, _toConsumableArray(unreg));\n            } else {\n              _this.unregisterAll(unreg);\n            }\n          });\n        }\n      };\n      if (unregisterIfError) {\n        this.register('api.error', apiError);\n      }\n      var action = function action() {\n        if (once) {\n          _this.unregister(event, _action);\n        }\n        if (unregisterIfError) {\n          _this.unregister('api.error', apiError);\n        }\n        _action.apply(void 0, arguments);\n      };\n      var actionList = this.eam.get(event);\n      this.eam = actionList ? this.eam.set(event, actionList.push({\n        action: action,\n        searchBy: _action\n      })) : this.eam.set(event, new immutable__WEBPACK_IMPORTED_MODULE_0__.List().push({\n        action: action,\n        searchBy: _action\n      }));\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(event, f) {\n      this.eam = this.eam.set(event, this.eam.get(event).filter(function (r) {\n        return r.searchBy !== f;\n      }));\n    }\n  }, {\n    key: \"isRegistered\",\n    value: function isRegistered(event) {\n      return this.eam.has(event);\n    }\n  }, {\n    key: \"unregisterAll\",\n    value: function unregisterAll(event) {\n      this.eam = this.eam[\"delete\"](event);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      if (this.eam.has(event)) {\n        this.eam.get(event).forEach(function (action) {\n          return action.action(data);\n        });\n      }\n    }\n  }, {\n    key: \"setState\",\n    value: function setState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.state = _objectSpread(_objectSpread({}, this.state), state);\n    }\n  }, {\n    key: \"getState\",\n    value: function getState(key) {\n      var _this$state;\n      return (_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state[key];\n    }\n  }]);\n  return Observer;\n}();\n\nvar observer = new Observer();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9vYnNlcnZlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0Q0E7QUF5Q0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi90cmFkZUVuZ2luZS91dGlscy9vYnNlcnZlci5qcz8yNDcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hcCwgTGlzdCB9IGZyb20gJ2ltbXV0YWJsZSc7XG4vKipcbkJlbG93IGFyZSB0aGUgbGlzdCBvZiBldmVudHMgd2UgY2FuIHJlZ2lzdGVyIHRvIGxpc3RlbiB0byA6XG4gXG4tYm90LnJ1bm5pbmcgOiBFbWl0dGVkIGluIHRyYWRlL2luZGV4LmpzLCBpbiBvbGQgQmluYXJ5IEJvdCB0aGlzIGlzIG9ubHkgdXNlZFxudG8gc2V0IHRoZSBsYWJlbCB0byBpcyBydW5uaW5nLlxuXG4tYm90LnN0b3A6IEJvdCB3YXMgc3RvcHBlZCBieSB0aGUgdXNlclxuXG4tYm90LmNvbnRyYWN0OiBDYWxsZWQgaW4gT3BlbkNvbnRyYWN0LmpzLCBvYmplY3QgY29uc2lzdGluZyBvZlxuYWNjb3VudElEIGFuZCBhIHByb3Bvc2FsX29wZW5fY29udHJhY3QgcmVzcG9uc2UsIHRoaXMgd2lsbFxuYmUgZW1pdHRlZCBvbiBlYWNoIFBPQyBtZXNzYWdlIGZyb20gdGhlIHNlcnZlci5cblxuLWJvdC5pbmZvOiBFbWl0dGVkIGluIHRyYWRlL0JhbGFuY2UuanMsIGl0IGFubm91bmNlcyBhY2NvdW50IElEIGFuZCBiYWxhbmNlLFxud2UgZG9uJ3QgbmVlZCB0aGlzIGluIERlcml2Qm90LiBDYW4gYWxzbyBiZSBlbWl0dGVkIGR1cmluZyBydW5uaW5nXG5jb250cmFjdCwgaXQgdGhlbiBhbm5vdW5jZXMgYW4gb2JqZWN0IGNvbnNpc3Rpbmcgb2YgYWNjb3VudElELFxudG90YWxfcnVucywgdHJhbnNhY3Rpb25faWRzLCBjb250cmFjdF90eXBlLCBhbmQgYnV5X3ByaWNlLlxuXG4tY29udHJhY3Quc3RhdHVzOiAgRmlyc3QgZW1pdHRlZCBpbiB0cmFkZS9QdXJjaGFzZS5qcyB3aXRoIGFuIGlkZWEgdGhhdCdzIG1vcmVcbm9mIGEgZmxhZyBlLmcuIGNvbnRyYWN0X3B1cmNoYXNlX3NlbnQgKHdoZW4gYnV5IHdhcyBzZW50IHRvXG5BUEksIG9yIGNvbnRyYWN0X3B1cmNoYXNlX3JlY2lldmVkICh3aGVuIGJ1eSB3YXMgYWNrbm93bGVkZ2VkXG5ieSBBUEkpLCBvciBjb250cmFjdC5zb2xkICh3aGVuIGEgY29udHJhY3Qgd2FzIHNvbGQvZXhwaXJlZCkuXG5cbi1jb250cmFjdC5zZXR0bGVkOiB0aGlzIGV2ZW50IHdhcyBlbWl0dGVkIHRvIGluaXRpYXRlIGFcbnNldHRsZW1lbnQgb2YgYSBjb250cmFjdCwgaS5lLiBpdCB3b3VsZCBjYWxsIHByb3Bvc2FsX29wZW5fY29udHJhY3QgdG8gcmV0cmlldmVcbmxhdGVzdCB2YWx1ZXMgZm9yIGNvbnRyYWN0LCBub3QgcmVxdWlyZWQgYXRtIGJ5IERlcml2Qm90XG5cbi1nb29nbGVkcml2ZS5hdXRob3Jpc2UgOiBldmVudCB0byBzdGFydCBhdXR1cml6ZSBnb29nbGUgZmxvd1xuXG4tdWkubG9nLnN1Y2Nlc3M6IFVJIE5vdGlmaWNhdGlvbnNcblxuLXVpLmxvZy5lcnJvcjogVUkgZXJyb3JzXG5cbi11aS5sb2cud2FybjogVUkgd2FybmluZ1xuXG4tTm90aWZ5OiBTZXJ2ZXIgTm90aWZpY2F0aW9uc1xuXG4tRXJyb3IgOiBTZXJ2ZXIgZXJyb3JzXG5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZWFtID0gbmV3IE1hcCgpOyAvLyBldmVudCBhY3Rpb24gbWFwXG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoZXZlbnQsIF9hY3Rpb24sIG9uY2UsIHVucmVnaXN0ZXJJZkVycm9yLCB1bnJlZ2lzdGVyQWxsQmVmb3JlKSB7XG4gICAgICAgIGlmICh1bnJlZ2lzdGVyQWxsQmVmb3JlKSB7XG4gICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJBbGwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwaUVycm9yID0gZXJyb3IgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09IHVucmVnaXN0ZXJJZkVycm9yLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXIoJ2FwaS5lcnJvcicsIGFwaUVycm9yKTtcbiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVySWZFcnJvci51bnJlZ2lzdGVyLmZvckVhY2godW5yZWcgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5yZWcgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKC4uLnVucmVnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlckFsbCh1bnJlZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHVucmVnaXN0ZXJJZkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCdhcGkuZXJyb3InLCBhcGlFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aW9uID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKGV2ZW50LCBfYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bnJlZ2lzdGVySWZFcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlcignYXBpLmVycm9yJywgYXBpRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2FjdGlvbiguLi5hcmdzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhY3Rpb25MaXN0ID0gdGhpcy5lYW0uZ2V0KGV2ZW50KTtcblxuICAgICAgICB0aGlzLmVhbSA9IGFjdGlvbkxpc3RcbiAgICAgICAgICAgID8gdGhpcy5lYW0uc2V0KGV2ZW50LCBhY3Rpb25MaXN0LnB1c2goeyBhY3Rpb24sIHNlYXJjaEJ5OiBfYWN0aW9uIH0pKVxuICAgICAgICAgICAgOiB0aGlzLmVhbS5zZXQoZXZlbnQsIG5ldyBMaXN0KCkucHVzaCh7IGFjdGlvbiwgc2VhcmNoQnk6IF9hY3Rpb24gfSkpO1xuICAgIH1cblxuICAgIHVucmVnaXN0ZXIoZXZlbnQsIGYpIHtcbiAgICAgICAgdGhpcy5lYW0gPSB0aGlzLmVhbS5zZXQoXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIHRoaXMuZWFtLmdldChldmVudCkuZmlsdGVyKHIgPT4gci5zZWFyY2hCeSAhPT0gZilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpc1JlZ2lzdGVyZWQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFtLmhhcyhldmVudCk7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlckFsbChldmVudCkge1xuICAgICAgICB0aGlzLmVhbSA9IHRoaXMuZWFtLmRlbGV0ZShldmVudCk7XG4gICAgfVxuXG4gICAgZW1pdChldmVudCwgZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5lYW0uaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5lYW0uZ2V0KGV2ZW50KS5mb3JFYWNoKGFjdGlvbiA9PiBhY3Rpb24uYWN0aW9uKGRhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRTdGF0ZShzdGF0ZSA9IHt9KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IC4uLnRoaXMuc3RhdGUsIC4uLnN0YXRlIH07XG4gICAgfVxuICAgIGdldFN0YXRlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZT8uW2tleV07XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXIoKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./tradeEngine/utils/observer.js\n");

/***/ }),

/***/ "./tradeEngine/utils/pending-promise.js":
/*!**********************************************!*\
  !*** ./tradeEngine/utils/pending-promise.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PendingPromise)\n/* harmony export */ });\nfunction PendingPromise() {\n  var resolve, reject;\n  var promise = new Promise(function (_resolve, _reject) {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  promise.isPending = true;\n  promise.resolve = function (res) {\n    promise.isPending = false;\n    resolve(res);\n  };\n  promise.reject = function (error) {\n    promise.isPending = false;\n    reject(error);\n  };\n  return promise;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9wZW5kaW5nLXByb21pc2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uL3RyYWRlRW5naW5lL3V0aWxzL3BlbmRpbmctcHJvbWlzZS5qcz9lMDc5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBlbmRpbmdQcm9taXNlKCkge1xuICAgIGxldCByZXNvbHZlLCByZWplY3Q7XG5cbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmUgPSBfcmVzb2x2ZTtcbiAgICAgICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgICB9KTtcblxuICAgIHByb21pc2UuaXNQZW5kaW5nID0gdHJ1ZTtcblxuICAgIHByb21pc2UucmVzb2x2ZSA9IHJlcyA9PiB7XG4gICAgICAgIHByb21pc2UuaXNQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICB9O1xuXG4gICAgcHJvbWlzZS5yZWplY3QgPSBlcnJvciA9PiB7XG4gICAgICAgIHByb21pc2UuaXNQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfTtcblxuICAgIHJldHVybiBwcm9taXNlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./tradeEngine/utils/pending-promise.js\n");

/***/ }),

/***/ "./tradeEngine/utils/sanitize.js":
/*!***************************************!*\
  !*** ./tradeEngine/utils/sanitize.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"expectCandle\": () => (/* binding */ expectCandle),\n/* harmony export */   \"expectCandles\": () => (/* binding */ expectCandles),\n/* harmony export */   \"expectInitArg\": () => (/* binding */ expectInitArg),\n/* harmony export */   \"expectPositiveInteger\": () => (/* binding */ expectPositiveInteger)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"./tradeEngine/utils/error.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nvar isPositiveNumber = function isPositiveNumber(num) {\n  return Number.isFinite(num) && num > 0;\n};\nvar isPositiveInteger = function isPositiveInteger(num) {\n  return isPositiveNumber(num) && Number.isInteger(num);\n};\nvar expectPositiveInteger = function expectPositiveInteger(num, msg) {\n  if (!isPositiveInteger(num)) {\n    throw (0,_error__WEBPACK_IMPORTED_MODULE_1__.createError)('PositiveIntegerExpected', msg);\n  }\n  return num;\n};\nvar expectOptions = function expectOptions(options) {\n  var symbol = options.symbol,\n    contractTypes = options.contractTypes;\n  if (!symbol) {\n    throw (0,_error__WEBPACK_IMPORTED_MODULE_1__.createError)('OptionError', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Underlying market is not selected'));\n  }\n  if (!contractTypes[0]) {\n    throw (0,_error__WEBPACK_IMPORTED_MODULE_1__.createError)('OptionError', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Contract type is not selected'));\n  }\n};\nvar expectInitArg = function expectInitArg(args) {\n  var _args = _slicedToArray(args, 2),\n    token = _args[0],\n    options = _args[1];\n  if (!token) {\n    throw (0,_error__WEBPACK_IMPORTED_MODULE_1__.createError)('LoginError', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Please login'));\n  }\n  expectOptions(options);\n  return args;\n};\nvar isCandle = function isCandle(candle) {\n  return candle instanceof Object && ['open', 'high', 'low', 'close'].every(function (key) {\n    return isPositiveNumber(candle[key]);\n  }) && isPositiveInteger(candle.epoch);\n};\nvar expectCandle = function expectCandle(candle) {\n  if (!isCandle(candle)) {\n    throw (0,_error__WEBPACK_IMPORTED_MODULE_1__.createError)('CandleExpected', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Given candle is not valid'));\n  }\n  return candle;\n};\nvar expectCandles = function expectCandles(candles) {\n  if (!(candles instanceof Array) || !candles.every(function (c) {\n    return isCandle(c);\n  })) {\n    throw (0,_error__WEBPACK_IMPORTED_MODULE_1__.createError)('CandleListExpected', (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Given candle list is not valid'));\n  }\n  return candles;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90cmFkZUVuZ2luZS91dGlscy9zYW5pdGl6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4vdHJhZGVFbmdpbmUvdXRpbHMvc2FuaXRpemUuanM/YzM3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuL2Vycm9yJztcblxuY29uc3QgaXNQb3NpdGl2ZU51bWJlciA9IG51bSA9PiBOdW1iZXIuaXNGaW5pdGUobnVtKSAmJiBudW0gPiAwO1xuXG5jb25zdCBpc1Bvc2l0aXZlSW50ZWdlciA9IG51bSA9PiBpc1Bvc2l0aXZlTnVtYmVyKG51bSkgJiYgTnVtYmVyLmlzSW50ZWdlcihudW0pO1xuXG5leHBvcnQgY29uc3QgZXhwZWN0UG9zaXRpdmVJbnRlZ2VyID0gKG51bSwgbXNnKSA9PiB7XG4gICAgaWYgKCFpc1Bvc2l0aXZlSW50ZWdlcihudW0pKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdQb3NpdGl2ZUludGVnZXJFeHBlY3RlZCcsIG1zZyk7XG4gICAgfVxuICAgIHJldHVybiBudW07XG59O1xuXG5jb25zdCBleHBlY3RPcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gICAgY29uc3QgeyBzeW1ib2wsIGNvbnRyYWN0VHlwZXMgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAoIXN5bWJvbCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignT3B0aW9uRXJyb3InLCBsb2NhbGl6ZSgnVW5kZXJseWluZyBtYXJrZXQgaXMgbm90IHNlbGVjdGVkJykpO1xuICAgIH1cblxuICAgIGlmICghY29udHJhY3RUeXBlc1swXSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignT3B0aW9uRXJyb3InLCBsb2NhbGl6ZSgnQ29udHJhY3QgdHlwZSBpcyBub3Qgc2VsZWN0ZWQnKSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGV4cGVjdEluaXRBcmcgPSBhcmdzID0+IHtcbiAgICBjb25zdCBbdG9rZW4sIG9wdGlvbnNdID0gYXJncztcblxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0xvZ2luRXJyb3InLCBsb2NhbGl6ZSgnUGxlYXNlIGxvZ2luJykpO1xuICAgIH1cblxuICAgIGV4cGVjdE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICByZXR1cm4gYXJncztcbn07XG5cbmNvbnN0IGlzQ2FuZGxlID0gY2FuZGxlID0+XG4gICAgY2FuZGxlIGluc3RhbmNlb2YgT2JqZWN0ICYmXG4gICAgWydvcGVuJywgJ2hpZ2gnLCAnbG93JywgJ2Nsb3NlJ10uZXZlcnkoa2V5ID0+IGlzUG9zaXRpdmVOdW1iZXIoY2FuZGxlW2tleV0pKSAmJlxuICAgIGlzUG9zaXRpdmVJbnRlZ2VyKGNhbmRsZS5lcG9jaCk7XG5cbmV4cG9ydCBjb25zdCBleHBlY3RDYW5kbGUgPSBjYW5kbGUgPT4ge1xuICAgIGlmICghaXNDYW5kbGUoY2FuZGxlKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ2FuZGxlRXhwZWN0ZWQnLCBsb2NhbGl6ZSgnR2l2ZW4gY2FuZGxlIGlzIG5vdCB2YWxpZCcpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbmRsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHBlY3RDYW5kbGVzID0gY2FuZGxlcyA9PiB7XG4gICAgaWYgKCEoY2FuZGxlcyBpbnN0YW5jZW9mIEFycmF5KSB8fCAhY2FuZGxlcy5ldmVyeShjID0+IGlzQ2FuZGxlKGMpKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ2FuZGxlTGlzdEV4cGVjdGVkJywgbG9jYWxpemUoJ0dpdmVuIGNhbmRsZSBsaXN0IGlzIG5vdCB2YWxpZCcpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbmRsZXM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./tradeEngine/utils/sanitize.js\n");

/***/ }),

/***/ "../indicators/src/index.js":
/*!**********************************!*\
  !*** ../indicators/src/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bollingerBands\": () => (/* reexport safe */ _indicators_bollinger_bands__WEBPACK_IMPORTED_MODULE_0__.bollingerBands),\n/* harmony export */   \"bollingerBandsArray\": () => (/* reexport safe */ _indicators_bollinger_bands__WEBPACK_IMPORTED_MODULE_0__.bollingerBandsArray),\n/* harmony export */   \"exponentialMovingAverage\": () => (/* reexport safe */ _indicators_exponential_moving_average__WEBPACK_IMPORTED_MODULE_1__.exponentialMovingAverage),\n/* harmony export */   \"exponentialMovingAverageArray\": () => (/* reexport safe */ _indicators_exponential_moving_average__WEBPACK_IMPORTED_MODULE_1__.exponentialMovingAverageArray),\n/* harmony export */   \"macdArray\": () => (/* reexport safe */ _indicators_macd__WEBPACK_IMPORTED_MODULE_2__.macdArray),\n/* harmony export */   \"relativeStrengthIndex\": () => (/* reexport safe */ _indicators_relative_strength_index__WEBPACK_IMPORTED_MODULE_3__.relativeStrengthIndex),\n/* harmony export */   \"relativeStrengthIndexArray\": () => (/* reexport safe */ _indicators_relative_strength_index__WEBPACK_IMPORTED_MODULE_3__.relativeStrengthIndexArray),\n/* harmony export */   \"simpleMovingAverage\": () => (/* reexport safe */ _indicators_simple_moving_average__WEBPACK_IMPORTED_MODULE_4__.simpleMovingAverage),\n/* harmony export */   \"simpleMovingAverageArray\": () => (/* reexport safe */ _indicators_simple_moving_average__WEBPACK_IMPORTED_MODULE_4__.simpleMovingAverageArray)\n/* harmony export */ });\n/* harmony import */ var _indicators_bollinger_bands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./indicators/bollinger-bands */ \"../indicators/src/indicators/bollinger-bands.js\");\n/* harmony import */ var _indicators_exponential_moving_average__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./indicators/exponential-moving-average */ \"../indicators/src/indicators/exponential-moving-average.js\");\n/* harmony import */ var _indicators_macd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./indicators/macd */ \"../indicators/src/indicators/macd.js\");\n/* harmony import */ var _indicators_relative_strength_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./indicators/relative-strength-index */ \"../indicators/src/indicators/relative-strength-index.js\");\n/* harmony import */ var _indicators_simple_moving_average__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./indicators/simple-moving-average */ \"../indicators/src/indicators/simple-moving-average.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uL2luZGljYXRvcnMvc3JjL2luZGV4LmpzPzc0NDAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9pbmRpY2F0b3JzL2JvbGxpbmdlci1iYW5kcyc7XG5leHBvcnQgKiBmcm9tICcuL2luZGljYXRvcnMvZXhwb25lbnRpYWwtbW92aW5nLWF2ZXJhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9pbmRpY2F0b3JzL21hY2QnO1xuZXhwb3J0ICogZnJvbSAnLi9pbmRpY2F0b3JzL3JlbGF0aXZlLXN0cmVuZ3RoLWluZGV4JztcbmV4cG9ydCAqIGZyb20gJy4vaW5kaWNhdG9ycy9zaW1wbGUtbW92aW5nLWF2ZXJhZ2UnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../indicators/src/index.js\n");

/***/ }),

/***/ "../indicators/src/indicators/bollinger-bands.js":
/*!*******************************************************!*\
  !*** ../indicators/src/indicators/bollinger-bands.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bollingerBands\": () => (/* binding */ bollingerBands),\n/* harmony export */   \"bollingerBandsArray\": () => (/* binding */ bollingerBandsArray)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _simple_moving_average__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simple-moving-average */ \"../indicators/src/indicators/simple-moving-average.js\");\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/math */ \"../indicators/src/utils/math.js\");\n\n\n\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nvar bollingerBands = function bollingerBands(data, config) {\n  var _config$periods = config.periods,\n    periods = _config$periods === void 0 ? 20 : _config$periods,\n    field = config.field,\n    _config$stdDevUp = config.stdDevUp,\n    stdDevUp = _config$stdDevUp === void 0 ? 2 : _config$stdDevUp,\n    _config$stdDevDown = config.stdDevDown,\n    stdDevDown = _config$stdDevDown === void 0 ? 2 : _config$stdDevDown,\n    _config$pipSize = config.pipSize,\n    pipSize = _config$pipSize === void 0 ? 2 : _config$pipSize;\n  var vals = (0,_utils_math__WEBPACK_IMPORTED_MODULE_2__.takeLast)(data, periods, field);\n  var middle = (0,_simple_moving_average__WEBPACK_IMPORTED_MODULE_1__.simpleMovingAverage)(vals, {\n    periods: periods\n  });\n  var std_dev = (0,_utils_math__WEBPACK_IMPORTED_MODULE_2__.stddev)(vals);\n  var upper = middle + std_dev * stdDevUp;\n  var lower = middle - std_dev * stdDevDown;\n  return [+middle.toFixed(pipSize), +upper.toFixed(pipSize), +lower.toFixed(pipSize)];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nvar bollingerBandsArray = function bollingerBandsArray(data, config) {\n  var periods = config.periods;\n  return (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.sequence)(data.length - periods + 1).map(function (x, i) {\n    return bollingerBands(data.slice(i, i + periods), config);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvaW5kaWNhdG9ycy9ib2xsaW5nZXItYmFuZHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uL2luZGljYXRvcnMvc3JjL2luZGljYXRvcnMvYm9sbGluZ2VyLWJhbmRzLmpzPzVmNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VxdWVuY2UgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IHNpbXBsZU1vdmluZ0F2ZXJhZ2UgfSBmcm9tICcuL3NpbXBsZS1tb3ZpbmctYXZlcmFnZSc7XG5pbXBvcnQgeyBzdGRkZXYsIHRha2VMYXN0IH0gZnJvbSAnLi4vdXRpbHMvbWF0aCc7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBvZiB0eXBlXG4gKiB7XG4gKiAgcGVyaW9kczogbnVtYmVyLFxuICogIGZpZWxkPzogJ29wZW4nIHwgJ2hpZ2gnIHwgJ2xvdycgfCAnY2xvc2UnLFxuICogIHR5cGU6ICdTTUEnIHwgJ1dNQScgfCAnRU1BJyB8ICdURU1BJyB8ICdUUklNQScsXG4gKiAgc3RkRGV2VXA6IG51bWJlcixcbiAqICBzdGREZXZEb3duOiBudW1iZXIsXG4gKiAgcGlwU2l6ZTogbnVtYmVyLFxuICogfVxuICovXG5leHBvcnQgY29uc3QgYm9sbGluZ2VyQmFuZHMgPSAoZGF0YSwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgeyBwZXJpb2RzID0gMjAsIGZpZWxkLCBzdGREZXZVcCA9IDIsIHN0ZERldkRvd24gPSAyLCBwaXBTaXplID0gMiB9ID0gY29uZmlnO1xuICAgIGNvbnN0IHZhbHMgPSB0YWtlTGFzdChkYXRhLCBwZXJpb2RzLCBmaWVsZCk7XG4gICAgY29uc3QgbWlkZGxlID0gc2ltcGxlTW92aW5nQXZlcmFnZSh2YWxzLCB7IHBlcmlvZHMgfSk7XG4gICAgY29uc3Qgc3RkX2RldiA9IHN0ZGRldih2YWxzKTtcbiAgICBjb25zdCB1cHBlciA9IG1pZGRsZSArIHN0ZF9kZXYgKiBzdGREZXZVcDtcbiAgICBjb25zdCBsb3dlciA9IG1pZGRsZSAtIHN0ZF9kZXYgKiBzdGREZXZEb3duO1xuXG4gICAgcmV0dXJuIFsrbWlkZGxlLnRvRml4ZWQocGlwU2l6ZSksICt1cHBlci50b0ZpeGVkKHBpcFNpemUpLCArbG93ZXIudG9GaXhlZChwaXBTaXplKV07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgb2YgdHlwZVxuICoge1xuICogIHBlcmlvZHM6IG51bWJlcixcbiAqICBmaWVsZD86ICdvcGVuJyB8ICdoaWdoJyB8ICdsb3cnIHwgJ2Nsb3NlJyxcbiAqICB0eXBlOiAnU01BJyB8ICdXTUEnIHwgJ0VNQScgfCAnVEVNQScgfCAnVFJJTUEnLFxuICogIHN0ZERldlVwOiBudW1iZXIsXG4gKiAgc3RkRGV2RG93bjogbnVtYmVyLFxuICogIHBpcFNpemU6IG51bWJlcixcbiAqIH1cbiAqL1xuZXhwb3J0IGNvbnN0IGJvbGxpbmdlckJhbmRzQXJyYXkgPSAoZGF0YSwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgeyBwZXJpb2RzIH0gPSBjb25maWc7XG4gICAgcmV0dXJuIHNlcXVlbmNlKGRhdGEubGVuZ3RoIC0gcGVyaW9kcyArIDEpLm1hcCgoeCwgaSkgPT4gYm9sbGluZ2VyQmFuZHMoZGF0YS5zbGljZShpLCBpICsgcGVyaW9kcyksIGNvbmZpZykpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../indicators/src/indicators/bollinger-bands.js\n");

/***/ }),

/***/ "../indicators/src/indicators/exponential-moving-average.js":
/*!******************************************************************!*\
  !*** ../indicators/src/indicators/exponential-moving-average.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"exponentialMovingAverage\": () => (/* binding */ exponentialMovingAverage),\n/* harmony export */   \"exponentialMovingAverageArray\": () => (/* binding */ exponentialMovingAverageArray)\n/* harmony export */ });\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/math */ \"../indicators/src/utils/math.js\");\n\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {Number} init_val\n */\nvar exponentialMovingAverage = function exponentialMovingAverage(data, config, init_val) {\n  var periods = config.periods,\n    field = config.field,\n    _config$pipSize = config.pipSize,\n    pipSize = _config$pipSize === void 0 ? 2 : _config$pipSize;\n  var weighting_multiplier = 2 / (periods + 1);\n  var vals = (0,_utils_math__WEBPACK_IMPORTED_MODULE_0__.takeField)(data, field);\n  if (init_val) {\n    return (vals[0] - init_val) * weighting_multiplier + init_val;\n  }\n  if (data.length < periods) {\n    throw new Error('Periods longer than data length');\n  }\n  var mean_val = (0,_utils_math__WEBPACK_IMPORTED_MODULE_0__.mean)((0,_utils_math__WEBPACK_IMPORTED_MODULE_0__.takeField)(data.slice(0, periods), field));\n  return +vals.slice(periods).reduce(function (prev, e) {\n    return (e - prev) * weighting_multiplier + prev;\n  }, mean_val).toFixed(pipSize);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nvar exponentialMovingAverageArray = function exponentialMovingAverageArray(data, config) {\n  var periods = config.periods;\n  var init_val = exponentialMovingAverage(data.slice(0, periods), config);\n  return data.slice(periods - 1).map(function (x, i) {\n    return !i ? init_val : init_val = exponentialMovingAverage([x], config, init_val);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvaW5kaWNhdG9ycy9leHBvbmVudGlhbC1tb3ZpbmctYXZlcmFnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uL2luZGljYXRvcnMvc3JjL2luZGljYXRvcnMvZXhwb25lbnRpYWwtbW92aW5nLWF2ZXJhZ2UuanM/NTM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0YWtlRmllbGQsIG1lYW4gfSBmcm9tICcuLi91dGlscy9tYXRoJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIG9mIHR5cGVcbiAqIHtcbiAqICBwZXJpb2RzOiBudW1iZXIsXG4gKiAgZmllbGQ/OiAnb3BlbicgfCAnaGlnaCcgfCAnbG93JyB8ICdjbG9zZScsXG4gKiAgcGlwU2l6ZTogbnVtYmVyLFxuICogfVxuICogQHBhcmFtIHtOdW1iZXJ9IGluaXRfdmFsXG4gKi9cbmV4cG9ydCBjb25zdCBleHBvbmVudGlhbE1vdmluZ0F2ZXJhZ2UgPSAoZGF0YSwgY29uZmlnLCBpbml0X3ZhbCkgPT4ge1xuICAgIGNvbnN0IHsgcGVyaW9kcywgZmllbGQsIHBpcFNpemUgPSAyIH0gPSBjb25maWc7XG5cbiAgICBjb25zdCB3ZWlnaHRpbmdfbXVsdGlwbGllciA9IDIgLyAocGVyaW9kcyArIDEpO1xuXG4gICAgY29uc3QgdmFscyA9IHRha2VGaWVsZChkYXRhLCBmaWVsZCk7XG5cbiAgICBpZiAoaW5pdF92YWwpIHtcbiAgICAgICAgcmV0dXJuICh2YWxzWzBdIC0gaW5pdF92YWwpICogd2VpZ2h0aW5nX211bHRpcGxpZXIgKyBpbml0X3ZhbDtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5sZW5ndGggPCBwZXJpb2RzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGVyaW9kcyBsb25nZXIgdGhhbiBkYXRhIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIGNvbnN0IG1lYW5fdmFsID0gbWVhbih0YWtlRmllbGQoZGF0YS5zbGljZSgwLCBwZXJpb2RzKSwgZmllbGQpKTtcblxuICAgIHJldHVybiArdmFsc1xuICAgICAgICAuc2xpY2UocGVyaW9kcylcbiAgICAgICAgLnJlZHVjZSgocHJldiwgZSkgPT4gKGUgLSBwcmV2KSAqIHdlaWdodGluZ19tdWx0aXBsaWVyICsgcHJldiwgbWVhbl92YWwpXG4gICAgICAgIC50b0ZpeGVkKHBpcFNpemUpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIG9mIHR5cGVcbiAqIHtcbiAqICBwZXJpb2RzOiBudW1iZXIsXG4gKiAgZmllbGQ/OiAnb3BlbicgfCAnaGlnaCcgfCAnbG93JyB8ICdjbG9zZScsXG4gKiAgcGlwU2l6ZTogbnVtYmVyLFxuICogfVxuICovXG5leHBvcnQgY29uc3QgZXhwb25lbnRpYWxNb3ZpbmdBdmVyYWdlQXJyYXkgPSAoZGF0YSwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgeyBwZXJpb2RzIH0gPSBjb25maWc7XG5cbiAgICBsZXQgaW5pdF92YWwgPSBleHBvbmVudGlhbE1vdmluZ0F2ZXJhZ2UoZGF0YS5zbGljZSgwLCBwZXJpb2RzKSwgY29uZmlnKTtcblxuICAgIHJldHVybiBkYXRhXG4gICAgICAgIC5zbGljZShwZXJpb2RzIC0gMSlcbiAgICAgICAgLm1hcCgoeCwgaSkgPT4gKCFpID8gaW5pdF92YWwgOiAoaW5pdF92YWwgPSBleHBvbmVudGlhbE1vdmluZ0F2ZXJhZ2UoW3hdLCBjb25maWcsIGluaXRfdmFsKSkpKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../indicators/src/indicators/exponential-moving-average.js\n");

/***/ }),

/***/ "../indicators/src/indicators/macd.js":
/*!********************************************!*\
  !*** ../indicators/src/indicators/macd.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"macdArray\": () => (/* binding */ macdArray)\n/* harmony export */ });\n/* harmony import */ var _exponential_moving_average__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./exponential-moving-average */ \"../indicators/src/indicators/exponential-moving-average.js\");\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/math */ \"../indicators/src/utils/math.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nvar paddingLeft = function paddingLeft(data, length) {\n  var arr = [];\n  arr.length = length - data.length;\n  arr.fill(0);\n  return [].concat(arr, _toConsumableArray(data));\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  fastEmaPeriod: number,\n *  slowEmaPeriod: number,\n *  signalEmaPeriod: number\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nvar macdArray = function macdArray(data, config) {\n  var field = config.field,\n    _config$fastEmaPeriod = config.fastEmaPeriod,\n    fastEmaPeriod = _config$fastEmaPeriod === void 0 ? 12 : _config$fastEmaPeriod,\n    _config$slowEmaPeriod = config.slowEmaPeriod,\n    slowEmaPeriod = _config$slowEmaPeriod === void 0 ? 26 : _config$slowEmaPeriod,\n    _config$signalEmaPeri = config.signalEmaPeriod,\n    signalEmaPeriod = _config$signalEmaPeri === void 0 ? 9 : _config$signalEmaPeri,\n    _config$pipSize = config.pipSize,\n    pipSize = _config$pipSize === void 0 ? 2 : _config$pipSize;\n  var vals = (0,_utils_math__WEBPACK_IMPORTED_MODULE_1__.takeField)(data, field);\n  var length = vals.length;\n  var fast_ema_array = paddingLeft((0,_exponential_moving_average__WEBPACK_IMPORTED_MODULE_0__.exponentialMovingAverageArray)(vals, {\n    periods: fastEmaPeriod,\n    pipSize: 20,\n    field: field\n  }\n  // -------------------------- ^ set pipSize to 20 to prevent rounding\n  ), length);\n  var slow_ema_array = paddingLeft((0,_exponential_moving_average__WEBPACK_IMPORTED_MODULE_0__.exponentialMovingAverageArray)(vals, {\n    periods: slowEmaPeriod,\n    pipSize: 20,\n    field: field\n  }), length);\n  var macd_calc_array = paddingLeft(slow_ema_array.map(function (x, i) {\n    return +(fast_ema_array[i] - x).toFixed(pipSize);\n  }), length);\n  var signal_ema_array = paddingLeft((0,_exponential_moving_average__WEBPACK_IMPORTED_MODULE_0__.exponentialMovingAverageArray)(macd_calc_array.slice(slowEmaPeriod - 1), {\n    periods: signalEmaPeriod,\n    pipSize: 20,\n    field: field\n  }), length);\n  return macd_calc_array.map(function (x, i) {\n    return [+(x - signal_ema_array[i]).toFixed(pipSize), x, +signal_ema_array[i].toFixed(pipSize)];\n  }).slice(slowEmaPeriod + signalEmaPeriod - 2);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvaW5kaWNhdG9ycy9tYWNkLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uL2luZGljYXRvcnMvc3JjL2luZGljYXRvcnMvbWFjZC5qcz9jM2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4cG9uZW50aWFsTW92aW5nQXZlcmFnZUFycmF5IH0gZnJvbSAnLi9leHBvbmVudGlhbC1tb3ZpbmctYXZlcmFnZSc7XG5pbXBvcnQgeyB0YWtlRmllbGQgfSBmcm9tICcuLi91dGlscy9tYXRoJztcblxuY29uc3QgcGFkZGluZ0xlZnQgPSAoZGF0YSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgYXJyLmxlbmd0aCA9IGxlbmd0aCAtIGRhdGEubGVuZ3RoO1xuICAgIGFyci5maWxsKDApO1xuICAgIHJldHVybiBbLi4uYXJyLCAuLi5kYXRhXTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBvZiB0eXBlXG4gKiB7XG4gKiAgZmFzdEVtYVBlcmlvZDogbnVtYmVyLFxuICogIHNsb3dFbWFQZXJpb2Q6IG51bWJlcixcbiAqICBzaWduYWxFbWFQZXJpb2Q6IG51bWJlclxuICogIGZpZWxkPzogJ29wZW4nIHwgJ2hpZ2gnIHwgJ2xvdycgfCAnY2xvc2UnLFxuICogIHBpcFNpemU6IG51bWJlcixcbiAqIH1cbiAqL1xuZXhwb3J0IGNvbnN0IG1hY2RBcnJheSA9IChkYXRhLCBjb25maWcpID0+IHtcbiAgICBjb25zdCB7IGZpZWxkLCBmYXN0RW1hUGVyaW9kID0gMTIsIHNsb3dFbWFQZXJpb2QgPSAyNiwgc2lnbmFsRW1hUGVyaW9kID0gOSwgcGlwU2l6ZSA9IDIgfSA9IGNvbmZpZztcblxuICAgIGNvbnN0IHZhbHMgPSB0YWtlRmllbGQoZGF0YSwgZmllbGQpO1xuXG4gICAgY29uc3QgbGVuZ3RoID0gdmFscy5sZW5ndGg7XG5cbiAgICBjb25zdCBmYXN0X2VtYV9hcnJheSA9IHBhZGRpbmdMZWZ0KFxuICAgICAgICBleHBvbmVudGlhbE1vdmluZ0F2ZXJhZ2VBcnJheShcbiAgICAgICAgICAgIHZhbHMsXG4gICAgICAgICAgICB7IHBlcmlvZHM6IGZhc3RFbWFQZXJpb2QsIHBpcFNpemU6IDIwLCBmaWVsZCB9XG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBeIHNldCBwaXBTaXplIHRvIDIwIHRvIHByZXZlbnQgcm91bmRpbmdcbiAgICAgICAgKSxcbiAgICAgICAgbGVuZ3RoXG4gICAgKTtcbiAgICBjb25zdCBzbG93X2VtYV9hcnJheSA9IHBhZGRpbmdMZWZ0KFxuICAgICAgICBleHBvbmVudGlhbE1vdmluZ0F2ZXJhZ2VBcnJheSh2YWxzLCB7IHBlcmlvZHM6IHNsb3dFbWFQZXJpb2QsIHBpcFNpemU6IDIwLCBmaWVsZCB9KSxcbiAgICAgICAgbGVuZ3RoXG4gICAgKTtcblxuICAgIGNvbnN0IG1hY2RfY2FsY19hcnJheSA9IHBhZGRpbmdMZWZ0KFxuICAgICAgICBzbG93X2VtYV9hcnJheS5tYXAoKHgsIGkpID0+ICsoZmFzdF9lbWFfYXJyYXlbaV0gLSB4KS50b0ZpeGVkKHBpcFNpemUpKSxcbiAgICAgICAgbGVuZ3RoXG4gICAgKTtcblxuICAgIGNvbnN0IHNpZ25hbF9lbWFfYXJyYXkgPSBwYWRkaW5nTGVmdChcbiAgICAgICAgZXhwb25lbnRpYWxNb3ZpbmdBdmVyYWdlQXJyYXkobWFjZF9jYWxjX2FycmF5LnNsaWNlKHNsb3dFbWFQZXJpb2QgLSAxKSwge1xuICAgICAgICAgICAgcGVyaW9kczogc2lnbmFsRW1hUGVyaW9kLFxuICAgICAgICAgICAgcGlwU2l6ZTogMjAsXG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgfSksXG4gICAgICAgIGxlbmd0aFxuICAgICk7XG5cbiAgICByZXR1cm4gbWFjZF9jYWxjX2FycmF5XG4gICAgICAgIC5tYXAoKHgsIGkpID0+IFsrKHggLSBzaWduYWxfZW1hX2FycmF5W2ldKS50b0ZpeGVkKHBpcFNpemUpLCB4LCArc2lnbmFsX2VtYV9hcnJheVtpXS50b0ZpeGVkKHBpcFNpemUpXSlcbiAgICAgICAgLnNsaWNlKHNsb3dFbWFQZXJpb2QgKyBzaWduYWxFbWFQZXJpb2QgLSAyKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../indicators/src/indicators/macd.js\n");

/***/ }),

/***/ "../indicators/src/indicators/relative-strength-index.js":
/*!***************************************************************!*\
  !*** ../indicators/src/indicators/relative-strength-index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"relativeStrengthIndex\": () => (/* binding */ relativeStrengthIndex),\n/* harmony export */   \"relativeStrengthIndexArray\": () => (/* binding */ relativeStrengthIndexArray)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/math */ \"../indicators/src/utils/math.js\");\n\n\nvar calcGain = function calcGain(q1, q2) {\n  return q2 > q1 ? q2 - q1 : 0;\n};\nvar calcLoss = function calcLoss(q1, q2) {\n  return q2 < q1 ? q1 - q2 : 0;\n};\nvar calcFirstAvgDiff = function calcFirstAvgDiff(vals, comp, periods) {\n  var prev;\n  return vals.reduce(function (r, q, i) {\n    if (i === 1) {\n      prev = r;\n    }\n    var diff = comp(prev, q);\n    prev = q;\n    return diff + (i === 1 ? 0 : r);\n  }) / periods;\n};\nvar calcSecondAvgDiff = function calcSecondAvgDiff(vals, comp, periods, init_avg) {\n  var prev;\n  if (vals.length === 1) {\n    // There is no data to calc avg\n    return init_avg;\n  }\n  return vals.reduce(function (r, q, i) {\n    if (i === 1) {\n      prev = r;\n    }\n    var diff = comp(prev, q);\n    prev = q;\n    var prev_avg = i === 1 ? init_avg : r;\n    return (prev_avg * (periods - 1) + diff) / periods;\n  });\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {any} memoized_diff\n */\nvar relativeStrengthIndex = function relativeStrengthIndex(data, config, memoized_diff) {\n  var periods = config.periods,\n    field = config.field;\n  if (data.length < periods) {\n    throw new Error('Periods longer than data length');\n  }\n  if (data.length === periods) {\n    return 0;\n  }\n  var vals = (0,_utils_math__WEBPACK_IMPORTED_MODULE_1__.takeField)(data.slice(0, periods + 1), field);\n  var rest_seq, init_avg_gain, init_avg_loss;\n  if (memoized_diff && 'gain' in memoized_diff) {\n    rest_seq = (0,_utils_math__WEBPACK_IMPORTED_MODULE_1__.takeField)(data.slice(-2), field);\n    init_avg_gain = memoized_diff.gain;\n    init_avg_loss = memoized_diff.loss;\n  } else {\n    // include last element from above to calc diff\n    rest_seq = (0,_utils_math__WEBPACK_IMPORTED_MODULE_1__.takeField)(data.slice(periods, data.length), field);\n    init_avg_gain = calcFirstAvgDiff(vals, calcGain, periods);\n    init_avg_loss = calcFirstAvgDiff(vals, calcLoss, periods);\n  }\n  var avg_gain = calcSecondAvgDiff(rest_seq, calcGain, periods, init_avg_gain);\n  var avg_loss = calcSecondAvgDiff(rest_seq, calcLoss, periods, init_avg_loss);\n  if (memoized_diff) {\n    memoized_diff.gain = avg_gain;\n    memoized_diff.loss = avg_loss;\n  }\n  if (avg_gain === 0) {\n    return 0;\n  } else if (avg_loss === 0) {\n    return 100;\n  }\n  var RS = avg_gain / avg_loss;\n  return 100 - 100 / (1 + RS);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nvar relativeStrengthIndexArray = function relativeStrengthIndexArray(data, config) {\n  var periods = config.periods,\n    _config$pipSize = config.pipSize,\n    pipSize = _config$pipSize === void 0 ? 2 : _config$pipSize;\n  var memoized_diff = {};\n  return (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.sequence)(data.length - periods).map(function (x, i) {\n    return +relativeStrengthIndex(data.slice(0, i + periods + 1), config, memoized_diff).toFixed(pipSize);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvaW5kaWNhdG9ycy9yZWxhdGl2ZS1zdHJlbmd0aC1pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uL2luZGljYXRvcnMvc3JjL2luZGljYXRvcnMvcmVsYXRpdmUtc3RyZW5ndGgtaW5kZXguanM/ZTIxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXF1ZW5jZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgdGFrZUZpZWxkIH0gZnJvbSAnLi4vdXRpbHMvbWF0aCc7XG5cbmNvbnN0IGNhbGNHYWluID0gKHExLCBxMikgPT4gKHEyID4gcTEgPyBxMiAtIHExIDogMCk7XG5jb25zdCBjYWxjTG9zcyA9IChxMSwgcTIpID0+IChxMiA8IHExID8gcTEgLSBxMiA6IDApO1xuXG5jb25zdCBjYWxjRmlyc3RBdmdEaWZmID0gKHZhbHMsIGNvbXAsIHBlcmlvZHMpID0+IHtcbiAgICBsZXQgcHJldjtcbiAgICByZXR1cm4gKFxuICAgICAgICB2YWxzLnJlZHVjZSgociwgcSwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBjb21wKHByZXYsIHEpO1xuICAgICAgICAgICAgcHJldiA9IHE7XG4gICAgICAgICAgICByZXR1cm4gZGlmZiArIChpID09PSAxID8gMCA6IHIpO1xuICAgICAgICB9KSAvIHBlcmlvZHNcbiAgICApO1xufTtcblxuY29uc3QgY2FsY1NlY29uZEF2Z0RpZmYgPSAodmFscywgY29tcCwgcGVyaW9kcywgaW5pdF9hdmcpID0+IHtcbiAgICBsZXQgcHJldjtcbiAgICBpZiAodmFscy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gZGF0YSB0byBjYWxjIGF2Z1xuICAgICAgICByZXR1cm4gaW5pdF9hdmc7XG4gICAgfVxuICAgIHJldHVybiB2YWxzLnJlZHVjZSgociwgcSwgaSkgPT4ge1xuICAgICAgICBpZiAoaSA9PT0gMSkge1xuICAgICAgICAgICAgcHJldiA9IHI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlmZiA9IGNvbXAocHJldiwgcSk7XG4gICAgICAgIHByZXYgPSBxO1xuICAgICAgICBjb25zdCBwcmV2X2F2ZyA9IGkgPT09IDEgPyBpbml0X2F2ZyA6IHI7XG4gICAgICAgIHJldHVybiAocHJldl9hdmcgKiAocGVyaW9kcyAtIDEpICsgZGlmZikgLyBwZXJpb2RzO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIG9mIHR5cGVcbiAqIHtcbiAqICBwZXJpb2RzOiBudW1iZXIsXG4gKiAgZmllbGQ/OiAnb3BlbicgfCAnaGlnaCcgfCAnbG93JyB8ICdjbG9zZScsXG4gKiAgcGlwU2l6ZTogbnVtYmVyLFxuICogfVxuICogQHBhcmFtIHthbnl9IG1lbW9pemVkX2RpZmZcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbGF0aXZlU3RyZW5ndGhJbmRleCA9IChkYXRhLCBjb25maWcsIG1lbW9pemVkX2RpZmYpID0+IHtcbiAgICBjb25zdCB7IHBlcmlvZHMsIGZpZWxkIH0gPSBjb25maWc7XG5cbiAgICBpZiAoZGF0YS5sZW5ndGggPCBwZXJpb2RzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGVyaW9kcyBsb25nZXIgdGhhbiBkYXRhIGxlbmd0aCcpO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gcGVyaW9kcykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBjb25zdCB2YWxzID0gdGFrZUZpZWxkKGRhdGEuc2xpY2UoMCwgcGVyaW9kcyArIDEpLCBmaWVsZCk7XG5cbiAgICBsZXQgcmVzdF9zZXEsIGluaXRfYXZnX2dhaW4sIGluaXRfYXZnX2xvc3M7XG5cbiAgICBpZiAobWVtb2l6ZWRfZGlmZiAmJiAnZ2FpbicgaW4gbWVtb2l6ZWRfZGlmZikge1xuICAgICAgICByZXN0X3NlcSA9IHRha2VGaWVsZChkYXRhLnNsaWNlKC0yKSwgZmllbGQpO1xuXG4gICAgICAgIGluaXRfYXZnX2dhaW4gPSBtZW1vaXplZF9kaWZmLmdhaW47XG4gICAgICAgIGluaXRfYXZnX2xvc3MgPSBtZW1vaXplZF9kaWZmLmxvc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5jbHVkZSBsYXN0IGVsZW1lbnQgZnJvbSBhYm92ZSB0byBjYWxjIGRpZmZcbiAgICAgICAgcmVzdF9zZXEgPSB0YWtlRmllbGQoZGF0YS5zbGljZShwZXJpb2RzLCBkYXRhLmxlbmd0aCksIGZpZWxkKTtcblxuICAgICAgICBpbml0X2F2Z19nYWluID0gY2FsY0ZpcnN0QXZnRGlmZih2YWxzLCBjYWxjR2FpbiwgcGVyaW9kcyk7XG4gICAgICAgIGluaXRfYXZnX2xvc3MgPSBjYWxjRmlyc3RBdmdEaWZmKHZhbHMsIGNhbGNMb3NzLCBwZXJpb2RzKTtcbiAgICB9XG5cbiAgICBjb25zdCBhdmdfZ2FpbiA9IGNhbGNTZWNvbmRBdmdEaWZmKHJlc3Rfc2VxLCBjYWxjR2FpbiwgcGVyaW9kcywgaW5pdF9hdmdfZ2Fpbik7XG4gICAgY29uc3QgYXZnX2xvc3MgPSBjYWxjU2Vjb25kQXZnRGlmZihyZXN0X3NlcSwgY2FsY0xvc3MsIHBlcmlvZHMsIGluaXRfYXZnX2xvc3MpO1xuXG4gICAgaWYgKG1lbW9pemVkX2RpZmYpIHtcbiAgICAgICAgbWVtb2l6ZWRfZGlmZi5nYWluID0gYXZnX2dhaW47XG4gICAgICAgIG1lbW9pemVkX2RpZmYubG9zcyA9IGF2Z19sb3NzO1xuICAgIH1cblxuICAgIGlmIChhdmdfZ2FpbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2UgaWYgKGF2Z19sb3NzID09PSAwKSB7XG4gICAgICAgIHJldHVybiAxMDA7XG4gICAgfVxuXG4gICAgY29uc3QgUlMgPSBhdmdfZ2FpbiAvIGF2Z19sb3NzO1xuXG4gICAgcmV0dXJuIDEwMCAtIDEwMCAvICgxICsgUlMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIG9mIHR5cGVcbiAqIHtcbiAqICBwZXJpb2RzOiBudW1iZXIsXG4gKiAgZmllbGQ/OiAnb3BlbicgfCAnaGlnaCcgfCAnbG93JyB8ICdjbG9zZScsXG4gKiAgcGlwU2l6ZTogbnVtYmVyLFxuICogfVxuICovXG5leHBvcnQgY29uc3QgcmVsYXRpdmVTdHJlbmd0aEluZGV4QXJyYXkgPSAoZGF0YSwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgeyBwZXJpb2RzLCBwaXBTaXplID0gMiB9ID0gY29uZmlnO1xuICAgIGNvbnN0IG1lbW9pemVkX2RpZmYgPSB7fTtcbiAgICByZXR1cm4gc2VxdWVuY2UoZGF0YS5sZW5ndGggLSBwZXJpb2RzKS5tYXAoXG4gICAgICAgICh4LCBpKSA9PiArcmVsYXRpdmVTdHJlbmd0aEluZGV4KGRhdGEuc2xpY2UoMCwgaSArIHBlcmlvZHMgKyAxKSwgY29uZmlnLCBtZW1vaXplZF9kaWZmKS50b0ZpeGVkKHBpcFNpemUpXG4gICAgKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../indicators/src/indicators/relative-strength-index.js\n");

/***/ }),

/***/ "../indicators/src/indicators/simple-moving-average.js":
/*!*************************************************************!*\
  !*** ../indicators/src/indicators/simple-moving-average.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"simpleMovingAverage\": () => (/* binding */ simpleMovingAverage),\n/* harmony export */   \"simpleMovingAverageArray\": () => (/* binding */ simpleMovingAverageArray)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/math */ \"../indicators/src/utils/math.js\");\n\n\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nvar simpleMovingAverage = function simpleMovingAverage(data, config) {\n  var periods = config.periods,\n    field = config.field;\n  if (data.length < periods) {\n    throw new Error('Periods longer than data length');\n  }\n  var vals = (0,_utils_math__WEBPACK_IMPORTED_MODULE_1__.takeLast)(data, periods, field);\n  return (0,_utils_math__WEBPACK_IMPORTED_MODULE_1__.sum)(vals) / periods;\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nvar simpleMovingAverageArray = function simpleMovingAverageArray(data, config) {\n  var periods = config.periods,\n    _config$pipSize = config.pipSize,\n    pipSize = _config$pipSize === void 0 ? 2 : _config$pipSize;\n  return (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.sequence)(data.length - periods + 1).map(function (x, i) {\n    return +simpleMovingAverage(data.slice(i, i + periods), config).toFixed(pipSize);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvaW5kaWNhdG9ycy9zaW1wbGUtbW92aW5nLWF2ZXJhZ2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vaW5kaWNhdG9ycy9zcmMvaW5kaWNhdG9ycy9zaW1wbGUtbW92aW5nLWF2ZXJhZ2UuanM/ZWZjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXF1ZW5jZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgc3VtLCB0YWtlTGFzdCB9IGZyb20gJy4uL3V0aWxzL21hdGgnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgb2YgdHlwZVxuICoge1xuICogIHBlcmlvZHM6IG51bWJlcixcbiAqICBmaWVsZD86ICdvcGVuJyB8ICdoaWdoJyB8ICdsb3cnIHwgJ2Nsb3NlJyxcbiAqICBwaXBTaXplOiBudW1iZXIsXG4gKiB9XG4gKi9cbmV4cG9ydCBjb25zdCBzaW1wbGVNb3ZpbmdBdmVyYWdlID0gKGRhdGEsIGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IHsgcGVyaW9kcywgZmllbGQgfSA9IGNvbmZpZztcblxuICAgIGlmIChkYXRhLmxlbmd0aCA8IHBlcmlvZHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQZXJpb2RzIGxvbmdlciB0aGFuIGRhdGEgbGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgY29uc3QgdmFscyA9IHRha2VMYXN0KGRhdGEsIHBlcmlvZHMsIGZpZWxkKTtcblxuICAgIHJldHVybiBzdW0odmFscykgLyBwZXJpb2RzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIG9mIHR5cGVcbiAqIHtcbiAqICBwZXJpb2RzOiBudW1iZXIsXG4gKiAgZmllbGQ/OiAnb3BlbicgfCAnaGlnaCcgfCAnbG93JyB8ICdjbG9zZScsXG4gKiAgcGlwU2l6ZTogbnVtYmVyLFxuICogfVxuICovXG5leHBvcnQgY29uc3Qgc2ltcGxlTW92aW5nQXZlcmFnZUFycmF5ID0gKGRhdGEsIGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IHsgcGVyaW9kcywgcGlwU2l6ZSA9IDIgfSA9IGNvbmZpZztcbiAgICByZXR1cm4gc2VxdWVuY2UoZGF0YS5sZW5ndGggLSBwZXJpb2RzICsgMSkubWFwKFxuICAgICAgICAoeCwgaSkgPT4gK3NpbXBsZU1vdmluZ0F2ZXJhZ2UoZGF0YS5zbGljZShpLCBpICsgcGVyaW9kcyksIGNvbmZpZykudG9GaXhlZChwaXBTaXplKVxuICAgICk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../indicators/src/indicators/simple-moving-average.js\n");

/***/ }),

/***/ "../indicators/src/utils/math.js":
/*!***************************************!*\
  !*** ../indicators/src/utils/math.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mean\": () => (/* binding */ mean),\n/* harmony export */   \"stddev\": () => (/* binding */ stddev),\n/* harmony export */   \"sum\": () => (/* binding */ sum),\n/* harmony export */   \"takeField\": () => (/* binding */ takeField),\n/* harmony export */   \"takeLast\": () => (/* binding */ takeLast)\n/* harmony export */ });\nvar takeField = function takeField(arr, field) {\n  return arr.map(function (x) {\n    return field ? x[field] : x;\n  });\n};\nvar takeLast = function takeLast(arr, n, field) {\n  return takeField(arr.slice(n > arr.length ? 0 : arr.length - n, arr.length), field);\n};\nvar sum = function sum(data) {\n  return data.reduce(function (acc, x) {\n    return acc + x;\n  }, 0);\n};\nvar mean = function mean(data) {\n  return data.reduce(function (a, b) {\n    return a + b;\n  }, 0) / data.length;\n};\nvar stddev = function stddev(data) {\n  var data_mean = mean(data);\n  var sq_diff = data.map(function (n) {\n    return Math.pow(n - data_mean, 2);\n  });\n  var avg_sq_diff = mean(sq_diff);\n  return Math.sqrt(avg_sq_diff);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vaW5kaWNhdG9ycy9zcmMvdXRpbHMvbWF0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi9pbmRpY2F0b3JzL3NyYy91dGlscy9tYXRoLmpzPzExYjgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHRha2VGaWVsZCA9IChhcnIsIGZpZWxkKSA9PiBhcnIubWFwKHggPT4gKGZpZWxkID8geFtmaWVsZF0gOiB4KSk7XG5cbmV4cG9ydCBjb25zdCB0YWtlTGFzdCA9IChhcnIsIG4sIGZpZWxkKSA9PiB0YWtlRmllbGQoYXJyLnNsaWNlKG4gPiBhcnIubGVuZ3RoID8gMCA6IGFyci5sZW5ndGggLSBuLCBhcnIubGVuZ3RoKSwgZmllbGQpO1xuXG5leHBvcnQgY29uc3Qgc3VtID0gZGF0YSA9PiBkYXRhLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKyB4LCAwKTtcblxuZXhwb3J0IGNvbnN0IG1lYW4gPSBkYXRhID0+IGRhdGEucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBkYXRhLmxlbmd0aDtcblxuZXhwb3J0IGNvbnN0IHN0ZGRldiA9IGRhdGEgPT4ge1xuICAgIGNvbnN0IGRhdGFfbWVhbiA9IG1lYW4oZGF0YSk7XG4gICAgY29uc3Qgc3FfZGlmZiA9IGRhdGEubWFwKG4gPT4gTWF0aC5wb3cobiAtIGRhdGFfbWVhbiwgMikpO1xuICAgIGNvbnN0IGF2Z19zcV9kaWZmID0gbWVhbihzcV9kaWZmKTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGF2Z19zcV9kaWZmKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../indicators/src/utils/math.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/arrayEqual.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/arrayEqual.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n\n    return !a.some(function (x, idx) {\n        return x !== b[idx];\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvYXJyYXlFcXVhbC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9hcnJheS9hcnJheUVxdWFsLmpzPzVkYWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWEuc29tZShmdW5jdGlvbiAoeCwgaWR4KSB7XG4gICAgICAgIHJldHVybiB4ICE9PSBiW2lkeF07XG4gICAgfSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/arrayEqual.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/arrayMax.js":
/*!*************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/arrayMax.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports[\"default\"] = function (arr) {\n    return Math.max.apply(Math, _toConsumableArray(arr));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvYXJyYXlNYXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2FycmF5L2FycmF5TWF4LmpzPzMzNDQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KGFycikpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/arrayMax.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/arrayMin.js":
/*!*************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/arrayMin.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports[\"default\"] = function (arr) {\n    return Math.min.apply(Math, _toConsumableArray(arr));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvYXJyYXlNaW4uanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2FycmF5L2FycmF5TWluLmpzP2FhOWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KGFycikpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/arrayMin.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/arrayToObject.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/arrayToObject.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr) {\n    return arr.reduce(function (obj, x) {\n        Object.keys(x).forEach(function (key) {\n            if (Array.isArray(obj[key])) {\n                obj[key].push(x[key]);\n            } else {\n                obj[key] = [x[key]];\n            }\n        });\n        return obj;\n    }, {});\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvYXJyYXlUb09iamVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9hcnJheS9hcnJheVRvT2JqZWN0LmpzPzViYjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICAgIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChvYmosIHgpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoeCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBvYmpba2V5XS5wdXNoKHhba2V5XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialtrZXldID0gW3hba2V5XV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/arrayToObject.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/getLast.js":
/*!************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/getLast.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr) {\n    return arr && (arr.length === 0 ? undefined : arr[arr.length - 1]);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvZ2V0TGFzdC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9hcnJheS9nZXRMYXN0LmpzP2NmNTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICAgIHJldHVybiBhcnIgJiYgKGFyci5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiBhcnJbYXJyLmxlbmd0aCAtIDFdKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/getLast.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/groupArrayToNestedArray.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/groupArrayToNestedArray.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr, key) {\n    return arr.reduce(function (a, b) {\n        var kv = b[key];\n        var idx = a.findIndex(function (g) {\n            return g.some(function (e) {\n                return e[key] === kv;\n            });\n        });\n\n        if (idx > -1) {\n            a[idx].push(b);\n        } else {\n            a.push([b]);\n        }\n        return a;\n    }, []);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvZ3JvdXBBcnJheVRvTmVzdGVkQXJyYXkuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2FycmF5L2dyb3VwQXJyYXlUb05lc3RlZEFycmF5LmpzPzBkMWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFyciwga2V5KSB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGt2ID0gYltrZXldO1xuICAgICAgICB2YXIgaWR4ID0gYS5maW5kSW5kZXgoZnVuY3Rpb24gKGcpIHtcbiAgICAgICAgICAgIHJldHVybiBnLnNvbWUoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZVtrZXldID09PSBrdjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIGFbaWR4XS5wdXNoKGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYS5wdXNoKFtiXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfSwgW10pO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/groupArrayToNestedArray.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/mergeSortedArrays.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/mergeSortedArrays.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr1, arr2) {\n    var getter1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (x) {\n        return x;\n    };\n    var getter2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (x) {\n        return x;\n    };\n    var deduplication = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n    /**\n     * compare element using getter\n     * @param a\n     * @param b\n     * @returns {number}\n     *   0  -> equal\n     *   1  -> `a` bigger than `b`\n     *   -1 -> `b` bigger than `a`\n     */\n    var compare = function compare(a, b) {\n        var valA = getter1(a);\n        var valB = getter2(b);\n\n        if (valA > valB) {\n            return 1;\n        }\n\n        if (valA < valB) {\n            return -1;\n        }\n\n        return 0;\n    };\n\n    // clone so that does not change arguments\n    var a1Clone = arr1.slice(0);\n    var a2Clone = arr2.slice(0);\n\n    var result = [];\n\n    // loop until both array is empty\n    while (a1Clone.length > 0 || a2Clone.length > 0) {\n        var a1Head = a1Clone[0];\n        var a2Head = a2Clone[0];\n\n        if (!a1Head) {\n            result = result.concat(a2Clone);\n            break; // break if one of the array is empty\n        }\n\n        if (!a2Head) {\n            result = result.concat(a1Clone);\n            break; // break if one of the array is empty\n        }\n\n        var last = result.length > 0 && result[result.length - 1];\n        var toAdd = void 0;\n        switch (compare(a1Head, a2Head)) {\n            case 0:\n                {\n                    if (deduplication) a2Clone.shift();\n                    toAdd = a1Clone.shift();\n                    break;\n                }\n            // a2Head is smaller\n            case 1:\n                {\n                    toAdd = a2Clone.shift();\n                    break;\n                }\n            // a1Head is smaller\n            case -1:\n                {\n                    toAdd = a1Clone.shift();\n                    break;\n                }\n            default: // impossible\n        }\n\n        // if dedup is true, do not append same element\n        if (deduplication && last && getter1(last) === getter2(toAdd)) {\n            break;\n        }\n        result.push(toAdd);\n    }\n\n    return result;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvbWVyZ2VTb3J0ZWRBcnJheXMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvbWVyZ2VTb3J0ZWRBcnJheXMuanM/NDlkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyMSwgYXJyMikge1xuICAgIHZhciBnZXR0ZXIxID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xuICAgIHZhciBnZXR0ZXIyID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9O1xuICAgIHZhciBkZWR1cGxpY2F0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogY29tcGFyZSBlbGVtZW50IHVzaW5nIGdldHRlclxuICAgICAqIEBwYXJhbSBhXG4gICAgICogQHBhcmFtIGJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqICAgMCAgLT4gZXF1YWxcbiAgICAgKiAgIDEgIC0+IGBhYCBiaWdnZXIgdGhhbiBgYmBcbiAgICAgKiAgIC0xIC0+IGBiYCBiaWdnZXIgdGhhbiBgYWBcbiAgICAgKi9cbiAgICB2YXIgY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICAgICAgICB2YXIgdmFsQSA9IGdldHRlcjEoYSk7XG4gICAgICAgIHZhciB2YWxCID0gZ2V0dGVyMihiKTtcblxuICAgICAgICBpZiAodmFsQSA+IHZhbEIpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbEEgPCB2YWxCKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgLy8gY2xvbmUgc28gdGhhdCBkb2VzIG5vdCBjaGFuZ2UgYXJndW1lbnRzXG4gICAgdmFyIGExQ2xvbmUgPSBhcnIxLnNsaWNlKDApO1xuICAgIHZhciBhMkNsb25lID0gYXJyMi5zbGljZSgwKTtcblxuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIC8vIGxvb3AgdW50aWwgYm90aCBhcnJheSBpcyBlbXB0eVxuICAgIHdoaWxlIChhMUNsb25lLmxlbmd0aCA+IDAgfHwgYTJDbG9uZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBhMUhlYWQgPSBhMUNsb25lWzBdO1xuICAgICAgICB2YXIgYTJIZWFkID0gYTJDbG9uZVswXTtcblxuICAgICAgICBpZiAoIWExSGVhZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChhMkNsb25lKTtcbiAgICAgICAgICAgIGJyZWFrOyAvLyBicmVhayBpZiBvbmUgb2YgdGhlIGFycmF5IGlzIGVtcHR5XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWEySGVhZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChhMUNsb25lKTtcbiAgICAgICAgICAgIGJyZWFrOyAvLyBicmVhayBpZiBvbmUgb2YgdGhlIGFycmF5IGlzIGVtcHR5XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdCA9IHJlc3VsdC5sZW5ndGggPiAwICYmIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciB0b0FkZCA9IHZvaWQgMDtcbiAgICAgICAgc3dpdGNoIChjb21wYXJlKGExSGVhZCwgYTJIZWFkKSkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZHVwbGljYXRpb24pIGEyQ2xvbmUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9BZGQgPSBhMUNsb25lLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGEySGVhZCBpcyBzbWFsbGVyXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b0FkZCA9IGEyQ2xvbmUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYTFIZWFkIGlzIHNtYWxsZXJcbiAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b0FkZCA9IGExQ2xvbmUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDogLy8gaW1wb3NzaWJsZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgZGVkdXAgaXMgdHJ1ZSwgZG8gbm90IGFwcGVuZCBzYW1lIGVsZW1lbnRcbiAgICAgICAgaWYgKGRlZHVwbGljYXRpb24gJiYgbGFzdCAmJiBnZXR0ZXIxKGxhc3QpID09PSBnZXR0ZXIyKHRvQWRkKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2godG9BZGQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/mergeSortedArrays.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/array/sequence.js":
/*!*************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/array/sequence.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (n) {\n    return Array.from(Array(n).keys());\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvc2VxdWVuY2UuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYXJyYXkvc2VxdWVuY2UuanM/NWIyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBBcnJheS5mcm9tKEFycmF5KG4pLmtleXMoKSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/array/sequence.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/barrier2FromContract.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/barrier2FromContract.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _getAbsoluteBarrierFromContract = __webpack_require__(/*! ./getAbsoluteBarrierFromContract */ \"../../node_modules/binary-utils/lib/barrier/getAbsoluteBarrierFromContract.js\");\n\nvar _getAbsoluteBarrierFromContract2 = _interopRequireDefault(_getAbsoluteBarrierFromContract);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contract, lastTickQuote) {\n    return (0, _getAbsoluteBarrierFromContract2.default)(contract, lastTickQuote, 'barrier2');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9iYXJyaWVyMkZyb21Db250cmFjdC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9iYXJyaWVyL2JhcnJpZXIyRnJvbUNvbnRyYWN0LmpzP2Q5ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ2V0QWJzb2x1dGVCYXJyaWVyRnJvbUNvbnRyYWN0ID0gcmVxdWlyZSgnLi9nZXRBYnNvbHV0ZUJhcnJpZXJGcm9tQ29udHJhY3QnKTtcblxudmFyIF9nZXRBYnNvbHV0ZUJhcnJpZXJGcm9tQ29udHJhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0QWJzb2x1dGVCYXJyaWVyRnJvbUNvbnRyYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbnRyYWN0LCBsYXN0VGlja1F1b3RlKSB7XG4gICAgcmV0dXJuICgwLCBfZ2V0QWJzb2x1dGVCYXJyaWVyRnJvbUNvbnRyYWN0Mi5kZWZhdWx0KShjb250cmFjdCwgbGFzdFRpY2tRdW90ZSwgJ2JhcnJpZXIyJyk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/barrier2FromContract.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/barrierFromContract.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/barrierFromContract.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _getAbsoluteBarrierFromContract = __webpack_require__(/*! ./getAbsoluteBarrierFromContract */ \"../../node_modules/binary-utils/lib/barrier/getAbsoluteBarrierFromContract.js\");\n\nvar _getAbsoluteBarrierFromContract2 = _interopRequireDefault(_getAbsoluteBarrierFromContract);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contract, lastTickQuote) {\n    return (0, _getAbsoluteBarrierFromContract2.default)(contract, lastTickQuote, 'barrier');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9iYXJyaWVyRnJvbUNvbnRyYWN0LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2JhcnJpZXIvYmFycmllckZyb21Db250cmFjdC5qcz9kNWU4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldEFic29sdXRlQmFycmllckZyb21Db250cmFjdCA9IHJlcXVpcmUoJy4vZ2V0QWJzb2x1dGVCYXJyaWVyRnJvbUNvbnRyYWN0Jyk7XG5cbnZhciBfZ2V0QWJzb2x1dGVCYXJyaWVyRnJvbUNvbnRyYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEFic29sdXRlQmFycmllckZyb21Db250cmFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb250cmFjdCwgbGFzdFRpY2tRdW90ZSkge1xuICAgIHJldHVybiAoMCwgX2dldEFic29sdXRlQmFycmllckZyb21Db250cmFjdDIuZGVmYXVsdCkoY29udHJhY3QsIGxhc3RUaWNrUXVvdGUsICdiYXJyaWVyJyk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/barrierFromContract.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/callPutBarrier.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/callPutBarrier.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _relativeBarrier = __webpack_require__(/*! ./relativeBarrier */ \"../../node_modules/binary-utils/lib/barrier/relativeBarrier.js\");\n\nvar _relativeBarrier2 = _interopRequireDefault(_relativeBarrier);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contract, lastTickQuote) {\n    return contract.barrier ? (0, _relativeBarrier2.default)(contract, lastTickQuote) : +contract.entry_spot || lastTickQuote;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9jYWxsUHV0QmFycmllci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9iYXJyaWVyL2NhbGxQdXRCYXJyaWVyLmpzPzMwYzUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVsYXRpdmVCYXJyaWVyID0gcmVxdWlyZSgnLi9yZWxhdGl2ZUJhcnJpZXInKTtcblxudmFyIF9yZWxhdGl2ZUJhcnJpZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVsYXRpdmVCYXJyaWVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbnRyYWN0LCBsYXN0VGlja1F1b3RlKSB7XG4gICAgcmV0dXJuIGNvbnRyYWN0LmJhcnJpZXIgPyAoMCwgX3JlbGF0aXZlQmFycmllcjIuZGVmYXVsdCkoY29udHJhY3QsIGxhc3RUaWNrUXVvdGUpIDogK2NvbnRyYWN0LmVudHJ5X3Nwb3QgfHwgbGFzdFRpY2tRdW90ZTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/callPutBarrier.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/commonRelativeBarrier.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/commonRelativeBarrier.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (barrier, entrySpot, lastTickQuote) {\n    return +barrier + (+entrySpot || lastTickQuote);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9jb21tb25SZWxhdGl2ZUJhcnJpZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9jb21tb25SZWxhdGl2ZUJhcnJpZXIuanM/ZDg4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYmFycmllciwgZW50cnlTcG90LCBsYXN0VGlja1F1b3RlKSB7XG4gICAgcmV0dXJuICtiYXJyaWVyICsgKCtlbnRyeVNwb3QgfHwgbGFzdFRpY2tRdW90ZSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/commonRelativeBarrier.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/extractBarrier.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/extractBarrier.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _groupByKey = __webpack_require__(/*! ../object/groupByKey */ \"../../node_modules/binary-utils/lib/object/groupByKey.js\");\n\nvar _groupByKey2 = _interopRequireDefault(_groupByKey);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar extractDigitBarrierHelper = function extractDigitBarrierHelper(contractsGroupedByExpiry) {\n    var expiryTypes = Object.keys(contractsGroupedByExpiry);\n    var result = {};\n    expiryTypes.forEach(function (et) {\n        var contractsByExpiry = contractsGroupedByExpiry[et];\n        result[et] = [{\n            name: 'Digit',\n            values: contractsByExpiry[0].last_digit_range,\n            defaultValue: contractsByExpiry[0].last_digit_range[0]\n        }];\n    });\n    return result;\n};\n\nvar extract2BarriersHelper = function extract2BarriersHelper(contractsGroupedByExpiry) {\n    var expiryTypes = Object.keys(contractsGroupedByExpiry);\n    var result = {};\n    expiryTypes.forEach(function (et) {\n        var contractsByExpiry = contractsGroupedByExpiry[et];\n        result[et] = [{ name: 'High barrier', defaultValue: contractsByExpiry[0].high_barrier }, { name: 'Low barrier', defaultValue: contractsByExpiry[0].low_barrier }];\n    });\n    return result;\n};\n\nvar extract1BarrierHelper = function extract1BarrierHelper(contractGroupedByExpiry, barrierName) {\n    var expiryTypes = Object.keys(contractGroupedByExpiry);\n    var result = {};\n    expiryTypes.forEach(function (et) {\n        var contractsByExpiry = contractGroupedByExpiry[et];\n        var contractWithBarrier = contractsByExpiry.find(function (c) {\n            return !!c.barrier;\n        });\n        if (!contractWithBarrier) {\n            return;\n        }\n        result[et] = [{ name: barrierName, defaultValue: contractWithBarrier.barrier }];\n    });\n    return result;\n};\n\nexports[\"default\"] = function (contracts, type) {\n    var groupByExpiryType = (0, _groupByKey2.default)(contracts, 'expiry_type');\n\n    switch (type) {\n        // types with 1 barrier\n        case 'CALL':\n            return extract1BarrierHelper(groupByExpiryType, 'Higher than');\n        case 'PUT':\n            return extract1BarrierHelper(groupByExpiryType, 'Lower than');\n        case 'ONETOUCH':\n        case 'NOTOUCH':\n            return extract1BarrierHelper(groupByExpiryType, 'Touch spot');\n\n        // types with 2 barriers\n        case 'EXPIRYMISS':\n        case 'EXPIRYRANGE':\n        case 'RANGE':\n        case 'UPORDOWN':\n            return extract2BarriersHelper(groupByExpiryType);\n\n        // special case: digit type\n        case 'DIGITMATCH':\n        case 'DIGITDIFF':\n        case 'DIGITOVER':\n        case 'DIGITUNDER':\n            return extractDigitBarrierHelper(groupByExpiryType);\n\n        // These types do not have barrier\n        case 'DIGITODD':\n        case 'DIGITEVEN':\n        case 'ASIANU':\n        case 'ASIAND':\n        case 'SPREADU':\n        case 'SPREADD':\n        default:\n            return undefined;\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9leHRyYWN0QmFycmllci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9iYXJyaWVyL2V4dHJhY3RCYXJyaWVyLmpzP2Q4YjMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZ3JvdXBCeUtleSA9IHJlcXVpcmUoJy4uL29iamVjdC9ncm91cEJ5S2V5Jyk7XG5cbnZhciBfZ3JvdXBCeUtleTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ncm91cEJ5S2V5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGV4dHJhY3REaWdpdEJhcnJpZXJIZWxwZXIgPSBmdW5jdGlvbiBleHRyYWN0RGlnaXRCYXJyaWVySGVscGVyKGNvbnRyYWN0c0dyb3VwZWRCeUV4cGlyeSkge1xuICAgIHZhciBleHBpcnlUeXBlcyA9IE9iamVjdC5rZXlzKGNvbnRyYWN0c0dyb3VwZWRCeUV4cGlyeSk7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGV4cGlyeVR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGV0KSB7XG4gICAgICAgIHZhciBjb250cmFjdHNCeUV4cGlyeSA9IGNvbnRyYWN0c0dyb3VwZWRCeUV4cGlyeVtldF07XG4gICAgICAgIHJlc3VsdFtldF0gPSBbe1xuICAgICAgICAgICAgbmFtZTogJ0RpZ2l0JyxcbiAgICAgICAgICAgIHZhbHVlczogY29udHJhY3RzQnlFeHBpcnlbMF0ubGFzdF9kaWdpdF9yYW5nZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogY29udHJhY3RzQnlFeHBpcnlbMF0ubGFzdF9kaWdpdF9yYW5nZVswXVxuICAgICAgICB9XTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGV4dHJhY3QyQmFycmllcnNIZWxwZXIgPSBmdW5jdGlvbiBleHRyYWN0MkJhcnJpZXJzSGVscGVyKGNvbnRyYWN0c0dyb3VwZWRCeUV4cGlyeSkge1xuICAgIHZhciBleHBpcnlUeXBlcyA9IE9iamVjdC5rZXlzKGNvbnRyYWN0c0dyb3VwZWRCeUV4cGlyeSk7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGV4cGlyeVR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGV0KSB7XG4gICAgICAgIHZhciBjb250cmFjdHNCeUV4cGlyeSA9IGNvbnRyYWN0c0dyb3VwZWRCeUV4cGlyeVtldF07XG4gICAgICAgIHJlc3VsdFtldF0gPSBbeyBuYW1lOiAnSGlnaCBiYXJyaWVyJywgZGVmYXVsdFZhbHVlOiBjb250cmFjdHNCeUV4cGlyeVswXS5oaWdoX2JhcnJpZXIgfSwgeyBuYW1lOiAnTG93IGJhcnJpZXInLCBkZWZhdWx0VmFsdWU6IGNvbnRyYWN0c0J5RXhwaXJ5WzBdLmxvd19iYXJyaWVyIH1dO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgZXh0cmFjdDFCYXJyaWVySGVscGVyID0gZnVuY3Rpb24gZXh0cmFjdDFCYXJyaWVySGVscGVyKGNvbnRyYWN0R3JvdXBlZEJ5RXhwaXJ5LCBiYXJyaWVyTmFtZSkge1xuICAgIHZhciBleHBpcnlUeXBlcyA9IE9iamVjdC5rZXlzKGNvbnRyYWN0R3JvdXBlZEJ5RXhwaXJ5KTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZXhwaXJ5VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoZXQpIHtcbiAgICAgICAgdmFyIGNvbnRyYWN0c0J5RXhwaXJ5ID0gY29udHJhY3RHcm91cGVkQnlFeHBpcnlbZXRdO1xuICAgICAgICB2YXIgY29udHJhY3RXaXRoQmFycmllciA9IGNvbnRyYWN0c0J5RXhwaXJ5LmZpbmQoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWMuYmFycmllcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY29udHJhY3RXaXRoQmFycmllcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtldF0gPSBbeyBuYW1lOiBiYXJyaWVyTmFtZSwgZGVmYXVsdFZhbHVlOiBjb250cmFjdFdpdGhCYXJyaWVyLmJhcnJpZXIgfV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb250cmFjdHMsIHR5cGUpIHtcbiAgICB2YXIgZ3JvdXBCeUV4cGlyeVR5cGUgPSAoMCwgX2dyb3VwQnlLZXkyLmRlZmF1bHQpKGNvbnRyYWN0cywgJ2V4cGlyeV90eXBlJyk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgLy8gdHlwZXMgd2l0aCAxIGJhcnJpZXJcbiAgICAgICAgY2FzZSAnQ0FMTCc6XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdDFCYXJyaWVySGVscGVyKGdyb3VwQnlFeHBpcnlUeXBlLCAnSGlnaGVyIHRoYW4nKTtcbiAgICAgICAgY2FzZSAnUFVUJzpcbiAgICAgICAgICAgIHJldHVybiBleHRyYWN0MUJhcnJpZXJIZWxwZXIoZ3JvdXBCeUV4cGlyeVR5cGUsICdMb3dlciB0aGFuJyk7XG4gICAgICAgIGNhc2UgJ09ORVRPVUNIJzpcbiAgICAgICAgY2FzZSAnTk9UT1VDSCc6XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdDFCYXJyaWVySGVscGVyKGdyb3VwQnlFeHBpcnlUeXBlLCAnVG91Y2ggc3BvdCcpO1xuXG4gICAgICAgIC8vIHR5cGVzIHdpdGggMiBiYXJyaWVyc1xuICAgICAgICBjYXNlICdFWFBJUllNSVNTJzpcbiAgICAgICAgY2FzZSAnRVhQSVJZUkFOR0UnOlxuICAgICAgICBjYXNlICdSQU5HRSc6XG4gICAgICAgIGNhc2UgJ1VQT1JET1dOJzpcbiAgICAgICAgICAgIHJldHVybiBleHRyYWN0MkJhcnJpZXJzSGVscGVyKGdyb3VwQnlFeHBpcnlUeXBlKTtcblxuICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IGRpZ2l0IHR5cGVcbiAgICAgICAgY2FzZSAnRElHSVRNQVRDSCc6XG4gICAgICAgIGNhc2UgJ0RJR0lURElGRic6XG4gICAgICAgIGNhc2UgJ0RJR0lUT1ZFUic6XG4gICAgICAgIGNhc2UgJ0RJR0lUVU5ERVInOlxuICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3REaWdpdEJhcnJpZXJIZWxwZXIoZ3JvdXBCeUV4cGlyeVR5cGUpO1xuXG4gICAgICAgIC8vIFRoZXNlIHR5cGVzIGRvIG5vdCBoYXZlIGJhcnJpZXJcbiAgICAgICAgY2FzZSAnRElHSVRPREQnOlxuICAgICAgICBjYXNlICdESUdJVEVWRU4nOlxuICAgICAgICBjYXNlICdBU0lBTlUnOlxuICAgICAgICBjYXNlICdBU0lBTkQnOlxuICAgICAgICBjYXNlICdTUFJFQURVJzpcbiAgICAgICAgY2FzZSAnU1BSRUFERCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/extractBarrier.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/getAbsoluteBarrierFromContract.js":
/*!*************************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/getAbsoluteBarrierFromContract.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (contract, lastTickQuote) {\n    var barrierEntryName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'barrier';\n\n    var barrierValue = +contract[barrierEntryName];\n    if (!barrierValue) {\n        return lastTickQuote;\n    }\n    if (contract.barrierType !== 'relative') {\n        return barrierValue;\n    }\n    if (typeof contract.entry_spot === 'undefined' && typeof lastTickQuote === 'undefined') {\n        throw new Error('Relative barrier can not be calculated');\n    }\n    return barrierValue + (+contract.entry_spot || lastTickQuote);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9nZXRBYnNvbHV0ZUJhcnJpZXJGcm9tQ29udHJhY3QuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9nZXRBYnNvbHV0ZUJhcnJpZXJGcm9tQ29udHJhY3QuanM/MTM4MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbnRyYWN0LCBsYXN0VGlja1F1b3RlKSB7XG4gICAgdmFyIGJhcnJpZXJFbnRyeU5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdiYXJyaWVyJztcblxuICAgIHZhciBiYXJyaWVyVmFsdWUgPSArY29udHJhY3RbYmFycmllckVudHJ5TmFtZV07XG4gICAgaWYgKCFiYXJyaWVyVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGxhc3RUaWNrUXVvdGU7XG4gICAgfVxuICAgIGlmIChjb250cmFjdC5iYXJyaWVyVHlwZSAhPT0gJ3JlbGF0aXZlJykge1xuICAgICAgICByZXR1cm4gYmFycmllclZhbHVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbnRyYWN0LmVudHJ5X3Nwb3QgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBsYXN0VGlja1F1b3RlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlbGF0aXZlIGJhcnJpZXIgY2FuIG5vdCBiZSBjYWxjdWxhdGVkJyk7XG4gICAgfVxuICAgIHJldHVybiBiYXJyaWVyVmFsdWUgKyAoK2NvbnRyYWN0LmVudHJ5X3Nwb3QgfHwgbGFzdFRpY2tRdW90ZSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/getAbsoluteBarrierFromContract.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/relativeBarrier.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/relativeBarrier.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _commonRelativeBarrier = __webpack_require__(/*! ./commonRelativeBarrier */ \"../../node_modules/binary-utils/lib/barrier/commonRelativeBarrier.js\");\n\nvar _commonRelativeBarrier2 = _interopRequireDefault(_commonRelativeBarrier);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contract, lastTickQuote) {\n    return (0, _commonRelativeBarrier2.default)(contract.barrier, contract.entry_spot, lastTickQuote);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9yZWxhdGl2ZUJhcnJpZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9yZWxhdGl2ZUJhcnJpZXIuanM/OWE3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jb21tb25SZWxhdGl2ZUJhcnJpZXIgPSByZXF1aXJlKCcuL2NvbW1vblJlbGF0aXZlQmFycmllcicpO1xuXG52YXIgX2NvbW1vblJlbGF0aXZlQmFycmllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb25SZWxhdGl2ZUJhcnJpZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoY29udHJhY3QsIGxhc3RUaWNrUXVvdGUpIHtcbiAgICByZXR1cm4gKDAsIF9jb21tb25SZWxhdGl2ZUJhcnJpZXIyLmRlZmF1bHQpKGNvbnRyYWN0LmJhcnJpZXIsIGNvbnRyYWN0LmVudHJ5X3Nwb3QsIGxhc3RUaWNrUXVvdGUpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/relativeBarrier.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/barrier/relativeBarrier2.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/barrier/relativeBarrier2.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _commonRelativeBarrier = __webpack_require__(/*! ./commonRelativeBarrier */ \"../../node_modules/binary-utils/lib/barrier/commonRelativeBarrier.js\");\n\nvar _commonRelativeBarrier2 = _interopRequireDefault(_commonRelativeBarrier);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contract, lastTickQuote) {\n    return (0, _commonRelativeBarrier2.default)(contract.barrier2, contract.entry_spot, lastTickQuote);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvYmFycmllci9yZWxhdGl2ZUJhcnJpZXIyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2JhcnJpZXIvcmVsYXRpdmVCYXJyaWVyMi5qcz9iYzNjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NvbW1vblJlbGF0aXZlQmFycmllciA9IHJlcXVpcmUoJy4vY29tbW9uUmVsYXRpdmVCYXJyaWVyJyk7XG5cbnZhciBfY29tbW9uUmVsYXRpdmVCYXJyaWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vblJlbGF0aXZlQmFycmllcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb250cmFjdCwgbGFzdFRpY2tRdW90ZSkge1xuICAgIHJldHVybiAoMCwgX2NvbW1vblJlbGF0aXZlQmFycmllcjIuZGVmYXVsdCkoY29udHJhY3QuYmFycmllcjIsIGNvbnRyYWN0LmVudHJ5X3Nwb3QsIGxhc3RUaWNrUXVvdGUpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/barrier/relativeBarrier2.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/dateAsLocalISOString.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/dateAsLocalISOString.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (date) {\n    return new Date(date - date.getTimezoneOffset() * 60 * 1000).toISOString();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlQXNMb2NhbElTT1N0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2RhdGVBc0xvY2FsSVNPU3RyaW5nLmpzPzgxY2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSAtIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/dateAsLocalISOString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/dateToDateString.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/dateToDateString.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _dateAsLocalISOString = __webpack_require__(/*! ./dateAsLocalISOString */ \"../../node_modules/binary-utils/lib/date/dateAsLocalISOString.js\");\n\nvar _dateAsLocalISOString2 = _interopRequireDefault(_dateAsLocalISOString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (date) {\n    return (0, _dateAsLocalISOString2.default)(date).slice(0, 10);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlVG9EYXRlU3RyaW5nLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvZGF0ZVRvRGF0ZVN0cmluZy5qcz8wNmMyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdGVBc0xvY2FsSVNPU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlQXNMb2NhbElTT1N0cmluZycpO1xuXG52YXIgX2RhdGVBc0xvY2FsSVNPU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVBc0xvY2FsSVNPU3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICByZXR1cm4gKDAsIF9kYXRlQXNMb2NhbElTT1N0cmluZzIuZGVmYXVsdCkoZGF0ZSkuc2xpY2UoMCwgMTApO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/dateToDateString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/dateToEpoch.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/dateToEpoch.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (date) {\n    return Math.floor(date.getTime() / 1000);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlVG9FcG9jaC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2RhdGVUb0Vwb2NoLmpzP2ZiOWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihkYXRlLmdldFRpbWUoKSAvIDEwMDApO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/dateToEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/dateToGMTString.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/dateToGMTString.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (date) {\n    return date.toISOString().replace(/T/, ' ').replace(/\\..+/, '');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlVG9HTVRTdHJpbmcuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlVG9HTVRTdHJpbmcuanM/MjU1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1QvLCAnICcpLnJlcGxhY2UoL1xcLi4rLywgJycpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/dateToGMTString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/dateToTimeString.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/dateToTimeString.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _dateAsLocalISOString = __webpack_require__(/*! ./dateAsLocalISOString */ \"../../node_modules/binary-utils/lib/date/dateAsLocalISOString.js\");\n\nvar _dateAsLocalISOString2 = _interopRequireDefault(_dateAsLocalISOString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (date) {\n    return (0, _dateAsLocalISOString2.default)(date).slice(11, 19);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlVG9UaW1lU3RyaW5nLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvZGF0ZVRvVGltZVN0cmluZy5qcz9iMGE3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdGVBc0xvY2FsSVNPU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlQXNMb2NhbElTT1N0cmluZycpO1xuXG52YXIgX2RhdGVBc0xvY2FsSVNPU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVBc0xvY2FsSVNPU3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICByZXR1cm4gKDAsIF9kYXRlQXNMb2NhbElTT1N0cmluZzIuZGVmYXVsdCkoZGF0ZSkuc2xpY2UoMTEsIDE5KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/dateToTimeString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/dateToUTCTimeString.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/dateToUTCTimeString.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (date) {\n    return date.toISOString().slice(11, 19);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9kYXRlVG9VVENUaW1lU3RyaW5nLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvZGF0ZVRvVVRDVGltZVN0cmluZy5qcz9jOWYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgMTkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/dateToUTCTimeString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/epochToDate.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/epochToDate.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (epoch) {\n    return new Date(epoch * 1000);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvRGF0ZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2Vwb2NoVG9EYXRlLmpzP2QyZWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGVwb2NoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGVwb2NoICogMTAwMCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/epochToDate.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/epochToDateString.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/epochToDateString.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _epochToDate = __webpack_require__(/*! ./epochToDate */ \"../../node_modules/binary-utils/lib/date/epochToDate.js\");\n\nvar _epochToDate2 = _interopRequireDefault(_epochToDate);\n\nvar _dateToDateString = __webpack_require__(/*! ./dateToDateString */ \"../../node_modules/binary-utils/lib/date/dateToDateString.js\");\n\nvar _dateToDateString2 = _interopRequireDefault(_dateToDateString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n    var epoch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return (0, _dateToDateString2.default)((0, _epochToDate2.default)(epoch));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvRGF0ZVN0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvRGF0ZVN0cmluZy5qcz9jMGZhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Vwb2NoVG9EYXRlID0gcmVxdWlyZSgnLi9lcG9jaFRvRGF0ZScpO1xuXG52YXIgX2Vwb2NoVG9EYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vwb2NoVG9EYXRlKTtcblxudmFyIF9kYXRlVG9EYXRlU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlVG9EYXRlU3RyaW5nJyk7XG5cbnZhciBfZGF0ZVRvRGF0ZVN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlVG9EYXRlU3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlcG9jaCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICByZXR1cm4gKDAsIF9kYXRlVG9EYXRlU3RyaW5nMi5kZWZhdWx0KSgoMCwgX2Vwb2NoVG9EYXRlMi5kZWZhdWx0KShlcG9jaCkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/epochToDateString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/epochToDateTimeString.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/epochToDateTimeString.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _epochToDate = __webpack_require__(/*! ./epochToDate */ \"../../node_modules/binary-utils/lib/date/epochToDate.js\");\n\nvar _epochToDate2 = _interopRequireDefault(_epochToDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (epoch) {\n    return (0, _epochToDate2.default)(epoch).toUTCString();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvRGF0ZVRpbWVTdHJpbmcuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvRGF0ZVRpbWVTdHJpbmcuanM/NzM0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9lcG9jaFRvRGF0ZSA9IHJlcXVpcmUoJy4vZXBvY2hUb0RhdGUnKTtcblxudmFyIF9lcG9jaFRvRGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcG9jaFRvRGF0ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChlcG9jaCkge1xuICAgIHJldHVybiAoMCwgX2Vwb2NoVG9EYXRlMi5kZWZhdWx0KShlcG9jaCkudG9VVENTdHJpbmcoKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/epochToDateTimeString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/epochToTimeString.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/epochToTimeString.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _dateToTimeString = __webpack_require__(/*! ./dateToTimeString */ \"../../node_modules/binary-utils/lib/date/dateToTimeString.js\");\n\nvar _dateToTimeString2 = _interopRequireDefault(_dateToTimeString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (epoch) {\n    return (0, _dateToTimeString2.default)(new Date(epoch * 1000));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvVGltZVN0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2Vwb2NoVG9UaW1lU3RyaW5nLmpzPzlmYTgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0ZVRvVGltZVN0cmluZyA9IHJlcXVpcmUoJy4vZGF0ZVRvVGltZVN0cmluZycpO1xuXG52YXIgX2RhdGVUb1RpbWVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZVRvVGltZVN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChlcG9jaCkge1xuICAgIHJldHVybiAoMCwgX2RhdGVUb1RpbWVTdHJpbmcyLmRlZmF1bHQpKG5ldyBEYXRlKGVwb2NoICogMTAwMCkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/epochToTimeString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/epochToUTCDateString.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/epochToUTCDateString.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _epochToDate = __webpack_require__(/*! ./epochToDate */ \"../../node_modules/binary-utils/lib/date/epochToDate.js\");\n\nvar _epochToDate2 = _interopRequireDefault(_epochToDate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n    var epoch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return (0, _epochToDate2.default)(epoch).toISOString().slice(0, 10);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvVVRDRGF0ZVN0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvZXBvY2hUb1VUQ0RhdGVTdHJpbmcuanM/YTkwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9lcG9jaFRvRGF0ZSA9IHJlcXVpcmUoJy4vZXBvY2hUb0RhdGUnKTtcblxudmFyIF9lcG9jaFRvRGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcG9jaFRvRGF0ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXBvY2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgcmV0dXJuICgwLCBfZXBvY2hUb0RhdGUyLmRlZmF1bHQpKGVwb2NoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/epochToUTCDateString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/epochToUTCTimeString.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/epochToUTCTimeString.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (epoch) {\n    return new Date(epoch * 1000).toISOString().slice(11, 19);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9lcG9jaFRvVVRDVGltZVN0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2Vwb2NoVG9VVENUaW1lU3RyaW5nLmpzPzZkOWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGVwb2NoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGVwb2NoICogMTAwMCkudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgMTkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/epochToUTCTimeString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/getLastXMonthEpoch.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/getLastXMonthEpoch.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n\tvalue: true\n}));\n\nexports[\"default\"] = function (x) {\n\tvar d = new Date();\n\td.setMonth(d.getMonth() - x);\n\treturn Math.floor(d.getTime() / 1000);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9nZXRMYXN0WE1vbnRoRXBvY2guanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvZ2V0TGFzdFhNb250aEVwb2NoLmpzP2ZjNjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh4KSB7XG5cdHZhciBkID0gbmV3IERhdGUoKTtcblx0ZC5zZXRNb250aChkLmdldE1vbnRoKCkgLSB4KTtcblx0cmV0dXJuIE1hdGguZmxvb3IoZC5nZXRUaW1lKCkgLyAxMDAwKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/getLastXMonthEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/isDateValid.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/isDateValid.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (date) {\n    return !isNaN(date.getTime());\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9pc0RhdGVWYWxpZC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2lzRGF0ZVZhbGlkLmpzPzM3Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICByZXR1cm4gIWlzTmFOKGRhdGUuZ2V0VGltZSgpKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/isDateValid.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/isValidTime.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/isValidTime.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (time) {\n    var tokens = time.split(':');\n    if (tokens.length < 2 || tokens.length > 3) {\n        return false;\n    }\n\n    return tokens.map(function (val, ind) {\n        switch (ind) {\n            case 0:\n                return parseInt(val, 0) < 24;\n            case 1:\n                return parseInt(val, 0) <= 59;\n            default:\n                return parseInt(val, 0) <= 59;\n        }\n    }).indexOf(false) === -1;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9pc1ZhbGlkVGltZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9pc1ZhbGlkVGltZS5qcz9jYjI1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodGltZSkge1xuICAgIHZhciB0b2tlbnMgPSB0aW1lLnNwbGl0KCc6Jyk7XG4gICAgaWYgKHRva2Vucy5sZW5ndGggPCAyIHx8IHRva2Vucy5sZW5ndGggPiAzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9rZW5zLm1hcChmdW5jdGlvbiAodmFsLCBpbmQpIHtcbiAgICAgICAgc3dpdGNoIChpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAwKSA8IDI0O1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWwsIDApIDw9IDU5O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAwKSA8PSA1OTtcbiAgICAgICAgfVxuICAgIH0pLmluZGV4T2YoZmFsc2UpID09PSAtMTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/isValidTime.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/last30DaysEpoch.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/last30DaysEpoch.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _xDayEpoch = __webpack_require__(/*! ./xDayEpoch */ \"../../node_modules/binary-utils/lib/date/xDayEpoch.js\");\n\nvar _xDayEpoch2 = _interopRequireDefault(_xDayEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n  return (0, _xDayEpoch2.default)(-29);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9sYXN0MzBEYXlzRXBvY2guanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9sYXN0MzBEYXlzRXBvY2guanM/OTE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfeERheUVwb2NoID0gcmVxdWlyZSgnLi94RGF5RXBvY2gnKTtcblxudmFyIF94RGF5RXBvY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfeERheUVwb2NoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKDAsIF94RGF5RXBvY2gyLmRlZmF1bHQpKC0yOSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/last30DaysEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/last7DaysEpoch.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/last7DaysEpoch.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _xDayEpoch = __webpack_require__(/*! ./xDayEpoch */ \"../../node_modules/binary-utils/lib/date/xDayEpoch.js\");\n\nvar _xDayEpoch2 = _interopRequireDefault(_xDayEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n  return (0, _xDayEpoch2.default)(-6);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9sYXN0N0RheXNFcG9jaC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL2xhc3Q3RGF5c0Vwb2NoLmpzPzAwYjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3hEYXlFcG9jaCA9IHJlcXVpcmUoJy4veERheUVwb2NoJyk7XG5cbnZhciBfeERheUVwb2NoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3hEYXlFcG9jaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfeERheUVwb2NoMi5kZWZhdWx0KSgtNik7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/last7DaysEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/nextXDay.js":
/*!************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/nextXDay.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (x) {\n    var tmr = new Date();\n    tmr.setDate(tmr.getDate() + x);\n    return tmr;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9uZXh0WERheS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9uZXh0WERheS5qcz8yZjc5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdmFyIHRtciA9IG5ldyBEYXRlKCk7XG4gICAgdG1yLnNldERhdGUodG1yLmdldERhdGUoKSArIHgpO1xuICAgIHJldHVybiB0bXI7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/nextXDay.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/nowAsEpoch.js":
/*!**************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/nowAsEpoch.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function () {\n    return Math.floor(Date.now() / 1000);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9ub3dBc0Vwb2NoLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvbm93QXNFcG9jaC5qcz9iMTMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/nowAsEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/oneYearAfterStr.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/oneYearAfterStr.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n\tvalue: true\n}));\n\nvar _dateToDateString = __webpack_require__(/*! ./dateToDateString */ \"../../node_modules/binary-utils/lib/date/dateToDateString.js\");\n\nvar _dateToDateString2 = _interopRequireDefault(_dateToDateString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n\tvar d = new Date();\n\td.setFullYear(new Date().getFullYear() + 1);\n\treturn (0, _dateToDateString2.default)(d);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9vbmVZZWFyQWZ0ZXJTdHIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvb25lWWVhckFmdGVyU3RyLmpzPzRkZmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdGVUb0RhdGVTdHJpbmcgPSByZXF1aXJlKCcuL2RhdGVUb0RhdGVTdHJpbmcnKTtcblxudmFyIF9kYXRlVG9EYXRlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVUb0RhdGVTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBkID0gbmV3IERhdGUoKTtcblx0ZC5zZXRGdWxsWWVhcihuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgKyAxKTtcblx0cmV0dXJuICgwLCBfZGF0ZVRvRGF0ZVN0cmluZzIuZGVmYXVsdCkoZCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/oneYearAfterStr.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/returnValidDate.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/returnValidDate.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (inputValue, bridge) {\n    return inputValue.split(bridge).map(function (obj) {\n        switch (obj.length) {\n            case 0:\n                return '01';\n            case 1:\n                return '0' + (obj === '0' ? '1' : obj);\n            default:\n                return obj;\n        }\n    }).join(bridge);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9yZXR1cm5WYWxpZERhdGUuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9yZXR1cm5WYWxpZERhdGUuanM/MzJhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGlucHV0VmFsdWUsIGJyaWRnZSkge1xuICAgIHJldHVybiBpbnB1dFZhbHVlLnNwbGl0KGJyaWRnZSkubWFwKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgc3dpdGNoIChvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcwMSc7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcwJyArIChvYmogPT09ICcwJyA/ICcxJyA6IG9iaik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9KS5qb2luKGJyaWRnZSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/returnValidDate.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/returnValidTime.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/returnValidTime.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (inputValue, bridge) {\n    return inputValue.split(bridge).map(function (obj) {\n        switch (obj.length) {\n            case 0:\n                return '00';\n            case 1:\n                return '0' + obj;\n            default:\n                return obj;\n        }\n    }).join(bridge);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9yZXR1cm5WYWxpZFRpbWUuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9yZXR1cm5WYWxpZFRpbWUuanM/MTcyMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGlucHV0VmFsdWUsIGJyaWRnZSkge1xuICAgIHJldHVybiBpbnB1dFZhbHVlLnNwbGl0KGJyaWRnZSkubWFwKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgc3dpdGNoIChvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcwMCc7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcwJyArIG9iajtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pLmpvaW4oYnJpZGdlKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/returnValidTime.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/secondsToTimeString.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/secondsToTimeString.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (secs) {\n    var days = Math.floor(secs / 60 / 60 / 24);\n    var hours = Math.floor(secs % (60 * 60 * 24) / (60 * 60));\n    var minutes = Math.floor(secs % (60 * 60) / 60);\n    var seconds = Math.floor(secs % 60);\n    return (days > 0 ? days + ' day(s)' : '') + (hours > 0 ? hours + ' hour(s)' : '') + (minutes > 0 ? minutes + ' minute(s)' : '') + (seconds > 0 ? seconds + ' second(s)' : '');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9zZWNvbmRzVG9UaW1lU3RyaW5nLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9zZWNvbmRzVG9UaW1lU3RyaW5nLmpzP2NiNGIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWNzKSB7XG4gICAgdmFyIGRheXMgPSBNYXRoLmZsb29yKHNlY3MgLyA2MCAvIDYwIC8gMjQpO1xuICAgIHZhciBob3VycyA9IE1hdGguZmxvb3Ioc2VjcyAlICg2MCAqIDYwICogMjQpIC8gKDYwICogNjApKTtcbiAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3Ioc2VjcyAlICg2MCAqIDYwKSAvIDYwKTtcbiAgICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc2VjcyAlIDYwKTtcbiAgICByZXR1cm4gKGRheXMgPiAwID8gZGF5cyArICcgZGF5KHMpJyA6ICcnKSArIChob3VycyA+IDAgPyBob3VycyArICcgaG91cihzKScgOiAnJykgKyAobWludXRlcyA+IDAgPyBtaW51dGVzICsgJyBtaW51dGUocyknIDogJycpICsgKHNlY29uZHMgPiAwID8gc2Vjb25kcyArICcgc2Vjb25kKHMpJyA6ICcnKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/secondsToTimeString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/splitSecsToUnits.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/splitSecsToUnits.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (sec) {\n    var minute = Math.floor(sec / 60);\n    var hour = Math.floor(minute / 60);\n    var day = Math.floor(hour / 24);\n\n    return [sec, minute, hour, day];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9zcGxpdFNlY3NUb1VuaXRzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS9zcGxpdFNlY3NUb1VuaXRzLmpzPzg2MWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlYykge1xuICAgIHZhciBtaW51dGUgPSBNYXRoLmZsb29yKHNlYyAvIDYwKTtcbiAgICB2YXIgaG91ciA9IE1hdGguZmxvb3IobWludXRlIC8gNjApO1xuICAgIHZhciBkYXkgPSBNYXRoLmZsb29yKGhvdXIgLyAyNCk7XG5cbiAgICByZXR1cm4gW3NlYywgbWludXRlLCBob3VyLCBkYXldO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/splitSecsToUnits.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/timeLeftToNextRealityCheck.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/timeLeftToNextRealityCheck.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _nowAsEpoch = __webpack_require__(/*! ../date/nowAsEpoch */ \"../../node_modules/binary-utils/lib/date/nowAsEpoch.js\");\n\nvar _nowAsEpoch2 = _interopRequireDefault(_nowAsEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (loginTime, interval) {\n    return interval - ((0, _nowAsEpoch2.default)() - loginTime) % interval;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90aW1lTGVmdFRvTmV4dFJlYWxpdHlDaGVjay5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3RpbWVMZWZ0VG9OZXh0UmVhbGl0eUNoZWNrLmpzPzhmZmQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbm93QXNFcG9jaCA9IHJlcXVpcmUoJy4uL2RhdGUvbm93QXNFcG9jaCcpO1xuXG52YXIgX25vd0FzRXBvY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm93QXNFcG9jaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChsb2dpblRpbWUsIGludGVydmFsKSB7XG4gICAgcmV0dXJuIGludGVydmFsIC0gKCgwLCBfbm93QXNFcG9jaDIuZGVmYXVsdCkoKSAtIGxvZ2luVGltZSkgJSBpbnRlcnZhbDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/timeLeftToNextRealityCheck.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/timeStringBigger.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/timeStringBigger.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (a, b) {\n    var aH = +a.slice(0, 2);\n    var aM = +a.slice(3, 5);\n    var aS = +a.slice(6);\n\n    var bH = +b.slice(0, 2);\n    var bM = +b.slice(3, 5);\n    var bS = +b.slice(6);\n\n    if (aH !== bH) {\n        return aH > bH;\n    } else if (aM !== bM) {\n        return aM > bM;\n    }\n    return aS > bS;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90aW1lU3RyaW5nQmlnZ2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90aW1lU3RyaW5nQmlnZ2VyLmpzPzA3OTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYUggPSArYS5zbGljZSgwLCAyKTtcbiAgICB2YXIgYU0gPSArYS5zbGljZSgzLCA1KTtcbiAgICB2YXIgYVMgPSArYS5zbGljZSg2KTtcblxuICAgIHZhciBiSCA9ICtiLnNsaWNlKDAsIDIpO1xuICAgIHZhciBiTSA9ICtiLnNsaWNlKDMsIDUpO1xuICAgIHZhciBiUyA9ICtiLnNsaWNlKDYpO1xuXG4gICAgaWYgKGFIICE9PSBiSCkge1xuICAgICAgICByZXR1cm4gYUggPiBiSDtcbiAgICB9IGVsc2UgaWYgKGFNICE9PSBiTSkge1xuICAgICAgICByZXR1cm4gYU0gPiBiTTtcbiAgICB9XG4gICAgcmV0dXJuIGFTID4gYlM7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/timeStringBigger.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/timeStringIsBetween.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/timeStringIsBetween.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _timeStringBigger = __webpack_require__(/*! ./timeStringBigger */ \"../../node_modules/binary-utils/lib/date/timeStringBigger.js\");\n\nvar _timeStringBigger2 = _interopRequireDefault(_timeStringBigger);\n\nvar _timeStringSmaller = __webpack_require__(/*! ./timeStringSmaller */ \"../../node_modules/binary-utils/lib/date/timeStringSmaller.js\");\n\nvar _timeStringSmaller2 = _interopRequireDefault(_timeStringSmaller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (start, end, target) {\n    if ((0, _timeStringBigger2.default)(end, start)) {\n        return (0, _timeStringBigger2.default)(target, start) && (0, _timeStringSmaller2.default)(target, end);\n    }\n    /**\n     * if open time is bigger than close time\n     * target should not between close and open time\n     * eg. '09:00:00' is not between '23:00:00' (start) and '08:00:00'(close)\n     * because it is between '08:00:00' to '23:00:00'\n     * */\n\n    return !((0, _timeStringBigger2.default)(target, end) && (0, _timeStringSmaller2.default)(target, start));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90aW1lU3RyaW5nSXNCZXR3ZWVuLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3RpbWVTdHJpbmdJc0JldHdlZW4uanM/YmYxNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90aW1lU3RyaW5nQmlnZ2VyID0gcmVxdWlyZSgnLi90aW1lU3RyaW5nQmlnZ2VyJyk7XG5cbnZhciBfdGltZVN0cmluZ0JpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lU3RyaW5nQmlnZ2VyKTtcblxudmFyIF90aW1lU3RyaW5nU21hbGxlciA9IHJlcXVpcmUoJy4vdGltZVN0cmluZ1NtYWxsZXInKTtcblxudmFyIF90aW1lU3RyaW5nU21hbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lU3RyaW5nU21hbGxlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCB0YXJnZXQpIHtcbiAgICBpZiAoKDAsIF90aW1lU3RyaW5nQmlnZ2VyMi5kZWZhdWx0KShlbmQsIHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gKDAsIF90aW1lU3RyaW5nQmlnZ2VyMi5kZWZhdWx0KSh0YXJnZXQsIHN0YXJ0KSAmJiAoMCwgX3RpbWVTdHJpbmdTbWFsbGVyMi5kZWZhdWx0KSh0YXJnZXQsIGVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGlmIG9wZW4gdGltZSBpcyBiaWdnZXIgdGhhbiBjbG9zZSB0aW1lXG4gICAgICogdGFyZ2V0IHNob3VsZCBub3QgYmV0d2VlbiBjbG9zZSBhbmQgb3BlbiB0aW1lXG4gICAgICogZWcuICcwOTowMDowMCcgaXMgbm90IGJldHdlZW4gJzIzOjAwOjAwJyAoc3RhcnQpIGFuZCAnMDg6MDA6MDAnKGNsb3NlKVxuICAgICAqIGJlY2F1c2UgaXQgaXMgYmV0d2VlbiAnMDg6MDA6MDAnIHRvICcyMzowMDowMCdcbiAgICAgKiAqL1xuXG4gICAgcmV0dXJuICEoKDAsIF90aW1lU3RyaW5nQmlnZ2VyMi5kZWZhdWx0KSh0YXJnZXQsIGVuZCkgJiYgKDAsIF90aW1lU3RyaW5nU21hbGxlcjIuZGVmYXVsdCkodGFyZ2V0LCBzdGFydCkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/timeStringIsBetween.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/timeStringSmaller.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/timeStringSmaller.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _timeStringBigger = __webpack_require__(/*! ./timeStringBigger */ \"../../node_modules/binary-utils/lib/date/timeStringBigger.js\");\n\nvar _timeStringBigger2 = _interopRequireDefault(_timeStringBigger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (a, b) {\n    if (a === b) {\n        return false;\n    }\n    return !(0, _timeStringBigger2.default)(a, b);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90aW1lU3RyaW5nU21hbGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3RpbWVTdHJpbmdTbWFsbGVyLmpzP2NiNTMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGltZVN0cmluZ0JpZ2dlciA9IHJlcXVpcmUoJy4vdGltZVN0cmluZ0JpZ2dlcicpO1xuXG52YXIgX3RpbWVTdHJpbmdCaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZVN0cmluZ0JpZ2dlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gISgwLCBfdGltZVN0cmluZ0JpZ2dlcjIuZGVmYXVsdCkoYSwgYik7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/timeStringSmaller.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/timeStringToSeconds.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/timeStringToSeconds.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\n// only supported format = \"hh:mm\", seconds are not supported\nexports[\"default\"] = function (timeString) {\n    var tokens = timeString.split(':');\n    if (tokens.length !== 2) {\n        throw new Error('Time string format incorrect, expecting HH:mm, actual: ' + timeString);\n    }\n    var h = +tokens[0];\n    var m = +tokens[1];\n\n    return h * 3600 + m * 60;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90aW1lU3RyaW5nVG9TZWNvbmRzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3RpbWVTdHJpbmdUb1NlY29uZHMuanM/MDhjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuLy8gb25seSBzdXBwb3J0ZWQgZm9ybWF0ID0gXCJoaDptbVwiLCBzZWNvbmRzIGFyZSBub3Qgc3VwcG9ydGVkXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodGltZVN0cmluZykge1xuICAgIHZhciB0b2tlbnMgPSB0aW1lU3RyaW5nLnNwbGl0KCc6Jyk7XG4gICAgaWYgKHRva2Vucy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lIHN0cmluZyBmb3JtYXQgaW5jb3JyZWN0LCBleHBlY3RpbmcgSEg6bW0sIGFjdHVhbDogJyArIHRpbWVTdHJpbmcpO1xuICAgIH1cbiAgICB2YXIgaCA9ICt0b2tlbnNbMF07XG4gICAgdmFyIG0gPSArdG9rZW5zWzFdO1xuXG4gICAgcmV0dXJuIGggKiAzNjAwICsgbSAqIDYwO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/timeStringToSeconds.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/todayEpoch.js":
/*!**************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/todayEpoch.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _xDayEpoch = __webpack_require__(/*! ./xDayEpoch */ \"../../node_modules/binary-utils/lib/date/xDayEpoch.js\");\n\nvar _xDayEpoch2 = _interopRequireDefault(_xDayEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n  return (0, _xDayEpoch2.default)(0);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90b2RheUVwb2NoLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RhdGUvdG9kYXlFcG9jaC5qcz8zMjlmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF94RGF5RXBvY2ggPSByZXF1aXJlKCcuL3hEYXlFcG9jaCcpO1xuXG52YXIgX3hEYXlFcG9jaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF94RGF5RXBvY2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAoMCwgX3hEYXlFcG9jaDIuZGVmYXVsdCkoMCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/todayEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/todayLocaleString.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/todayLocaleString.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _dateToDateString = __webpack_require__(/*! ./dateToDateString */ \"../../node_modules/binary-utils/lib/date/dateToDateString.js\");\n\nvar _dateToDateString2 = _interopRequireDefault(_dateToDateString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n    return (0, _dateToDateString2.default)(new Date());\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90b2RheUxvY2FsZVN0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3RvZGF5TG9jYWxlU3RyaW5nLmpzPzU5ZmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0ZVRvRGF0ZVN0cmluZyA9IHJlcXVpcmUoJy4vZGF0ZVRvRGF0ZVN0cmluZycpO1xuXG52YXIgX2RhdGVUb0RhdGVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZVRvRGF0ZVN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKDAsIF9kYXRlVG9EYXRlU3RyaW5nMi5kZWZhdWx0KShuZXcgRGF0ZSgpKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/todayLocaleString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/todayUTCString.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/todayUTCString.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function () {\n    return new Date().toISOString().slice(0, 10);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS90b2RheVVUQ1N0cmluZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3RvZGF5VVRDU3RyaW5nLmpzPzdkMjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/todayUTCString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/xDayEpoch.js":
/*!*************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/xDayEpoch.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (x) {\n    var secsAway = x * 60 * 60 * 24;\n    return Math.floor(Date.now() / 1000) + secsAway;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS94RGF5RXBvY2guanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3hEYXlFcG9jaC5qcz8wNzk1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdmFyIHNlY3NBd2F5ID0geCAqIDYwICogNjAgKiAyNDtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgKyBzZWNzQXdheTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/xDayEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/xMonthsAfter.js":
/*!****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/xMonthsAfter.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n\tvalue: true\n}));\n\nexports[\"default\"] = function (m) {\n\treturn new Date(new Date().setMonth(new Date().getMonth() + m));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS94TW9udGhzQWZ0ZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS94TW9udGhzQWZ0ZXIuanM/YTdmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG0pIHtcblx0cmV0dXJuIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TW9udGgobmV3IERhdGUoKS5nZXRNb250aCgpICsgbSkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/xMonthsAfter.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/yesterdayEpoch.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/yesterdayEpoch.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _xDayEpoch = __webpack_require__(/*! ./xDayEpoch */ \"../../node_modules/binary-utils/lib/date/xDayEpoch.js\");\n\nvar _xDayEpoch2 = _interopRequireDefault(_xDayEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n  return (0, _xDayEpoch2.default)(-1);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS95ZXN0ZXJkYXlFcG9jaC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3llc3RlcmRheUVwb2NoLmpzP2ZjYjYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3hEYXlFcG9jaCA9IHJlcXVpcmUoJy4veERheUVwb2NoJyk7XG5cbnZhciBfeERheUVwb2NoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3hEYXlFcG9jaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfeERheUVwb2NoMi5kZWZhdWx0KSgtMSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/yesterdayEpoch.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/yesterdayString.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/yesterdayString.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _dateToDateString = __webpack_require__(/*! ./dateToDateString */ \"../../node_modules/binary-utils/lib/date/dateToDateString.js\");\n\nvar _dateToDateString2 = _interopRequireDefault(_dateToDateString);\n\nvar _yesterdayEpoch = __webpack_require__(/*! ./yesterdayEpoch */ \"../../node_modules/binary-utils/lib/date/yesterdayEpoch.js\");\n\nvar _yesterdayEpoch2 = _interopRequireDefault(_yesterdayEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n    return (0, _dateToDateString2.default)(new Date((0, _yesterdayEpoch2.default)() * 1000));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS95ZXN0ZXJkYXlTdHJpbmcuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kYXRlL3llc3RlcmRheVN0cmluZy5qcz8wMjJhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdGVUb0RhdGVTdHJpbmcgPSByZXF1aXJlKCcuL2RhdGVUb0RhdGVTdHJpbmcnKTtcblxudmFyIF9kYXRlVG9EYXRlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVUb0RhdGVTdHJpbmcpO1xuXG52YXIgX3llc3RlcmRheUVwb2NoID0gcmVxdWlyZSgnLi95ZXN0ZXJkYXlFcG9jaCcpO1xuXG52YXIgX3llc3RlcmRheUVwb2NoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3llc3RlcmRheUVwb2NoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoMCwgX2RhdGVUb0RhdGVTdHJpbmcyLmRlZmF1bHQpKG5ldyBEYXRlKCgwLCBfeWVzdGVyZGF5RXBvY2gyLmRlZmF1bHQpKCkgKiAxMDAwKSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/yesterdayString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/date/yesterdayUTCString.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/date/yesterdayUTCString.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _yesterdayEpoch = __webpack_require__(/*! ./yesterdayEpoch */ \"../../node_modules/binary-utils/lib/date/yesterdayEpoch.js\");\n\nvar _yesterdayEpoch2 = _interopRequireDefault(_yesterdayEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function () {\n    return new Date((0, _yesterdayEpoch2.default)() * 1000).toISOString().slice(0, 10);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS95ZXN0ZXJkYXlVVENTdHJpbmcuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZGF0ZS95ZXN0ZXJkYXlVVENTdHJpbmcuanM/Y2IwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF95ZXN0ZXJkYXlFcG9jaCA9IHJlcXVpcmUoJy4veWVzdGVyZGF5RXBvY2gnKTtcblxudmFyIF95ZXN0ZXJkYXlFcG9jaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF95ZXN0ZXJkYXlFcG9jaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKDAsIF95ZXN0ZXJkYXlFcG9jaDIuZGVmYXVsdCkoKSAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/date/yesterdayUTCString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/addFullscreenEventListener.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/addFullscreenEventListener.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (handler) {\n    document.addEventListener('fullscreenchange', function () {\n        return handler(document.fullscreen);\n    });\n    document.addEventListener('webkitfullscreenchange', function () {\n        return handler(document.webkitIsFullScreen);\n    });\n    document.addEventListener('mozfullscreenchange', function () {\n        return handler(document.mozFullScreen);\n    });\n    document.addEventListener('MSFullscreenChange', function () {\n        return handler(document.msFullscreenElement);\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL2FkZEZ1bGxzY3JlZW5FdmVudExpc3RlbmVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kb20vYWRkRnVsbHNjcmVlbkV2ZW50TGlzdGVuZXIuanM/ZjQ0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcihkb2N1bWVudC5mdWxsc2NyZWVuKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcihkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4pO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKGRvY3VtZW50Lm1vekZ1bGxTY3JlZW4pO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIoZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCk7XG4gICAgfSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/addFullscreenEventListener.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/exitFullscreen.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/exitFullscreen.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function () {\n    if (document.exitFullscreen) {\n        document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n    } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL2V4aXRGdWxsc2NyZWVuLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kb20vZXhpdEZ1bGxzY3JlZW4uanM/MGFmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/exitFullscreen.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/removeFullscreenEventListener.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/removeFullscreenEventListener.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (handler) {\n    document.removeEventListener('fullscreenchange', handler);\n    document.removeEventListener('webkitfullscreenchange', handler);\n    document.removeEventListener('mozfullscreenchange', handler);\n    document.removeEventListener('MSFullscreenChange', handler);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL3JlbW92ZUZ1bGxzY3JlZW5FdmVudExpc3RlbmVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RvbS9yZW1vdmVGdWxsc2NyZWVuRXZlbnRMaXN0ZW5lci5qcz9mNWQ3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlcik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZXIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIGhhbmRsZXIpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/removeFullscreenEventListener.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/requestFullscreen.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/requestFullscreen.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (elem) {\n    if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n    } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n    } else if (elem.mozRequestFullScreen) {\n        elem.mozRequestFullScreen();\n    } else if (elem.webkitRequestFullscreen) {\n        elem.webkitRequestFullscreen();\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL3JlcXVlc3RGdWxsc2NyZWVuLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kb20vcmVxdWVzdEZ1bGxzY3JlZW4uanM/MDllYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgIGlmIChlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgZWxlbS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/requestFullscreen.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/showError.js":
/*!************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/showError.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = typeof alert !== 'undefined' ? alert : function () {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL3Nob3dFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kb20vc2hvd0Vycm9yLmpzP2MxYmEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIGFsZXJ0ICE9PSAndW5kZWZpbmVkJyA/IGFsZXJ0IDogZnVuY3Rpb24gKCkge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/showError.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/showInfo.js":
/*!***********************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/showInfo.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = typeof alert !== 'undefined' ? alert : function () {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL3Nob3dJbmZvLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RvbS9zaG93SW5mby5qcz8yYWM1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBhbGVydCAhPT0gJ3VuZGVmaW5lZCcgPyBhbGVydCA6IGZ1bmN0aW9uICgpIHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/showInfo.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/dom/windowResizeEvent.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/dom/windowResizeEvent.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function () {\n    if (typeof window === 'undefined') return;\n    setTimeout(function () {\n        return window.dispatchEvent(new Event('resize'));\n    }, 100);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZG9tL3dpbmRvd1Jlc2l6ZUV2ZW50LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2RvbS93aW5kb3dSZXNpemVFdmVudC5qcz8wYjM4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICB9LCAxMDApO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/dom/windowResizeEvent.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/durationSecHelper.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/durationSecHelper.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _durationToSecs = __webpack_require__(/*! ./durationToSecs */ \"../../node_modules/binary-utils/lib/duration/durationToSecs.js\");\n\nvar _durationToSecs2 = _interopRequireDefault(_durationToSecs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (duration) {\n    var d = +duration.slice(0, -1);\n    var u = duration.slice(-1);\n    return (0, _durationToSecs2.default)(d, u);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZHVyYXRpb25TZWNIZWxwZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2R1cmF0aW9uL2R1cmF0aW9uU2VjSGVscGVyLmpzPzIwNjAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZHVyYXRpb25Ub1NlY3MgPSByZXF1aXJlKCcuL2R1cmF0aW9uVG9TZWNzJyk7XG5cbnZhciBfZHVyYXRpb25Ub1NlY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHVyYXRpb25Ub1NlY3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgZCA9ICtkdXJhdGlvbi5zbGljZSgwLCAtMSk7XG4gICAgdmFyIHUgPSBkdXJhdGlvbi5zbGljZSgtMSk7XG4gICAgcmV0dXJuICgwLCBfZHVyYXRpb25Ub1NlY3MyLmRlZmF1bHQpKGQsIHUpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/durationSecHelper.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/durationText.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/durationText.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (unit) {\n    return {\n        t: 'Ticks',\n        s: 'Seconds',\n        m: 'Minutes',\n        h: 'Hours',\n        d: 'Days'\n    }[unit];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZHVyYXRpb25UZXh0LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2R1cmF0aW9uL2R1cmF0aW9uVGV4dC5qcz9mMzg3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHQ6ICdUaWNrcycsXG4gICAgICAgIHM6ICdTZWNvbmRzJyxcbiAgICAgICAgbTogJ01pbnV0ZXMnLFxuICAgICAgICBoOiAnSG91cnMnLFxuICAgICAgICBkOiAnRGF5cydcbiAgICB9W3VuaXRdO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/durationText.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/durationToSecs.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/durationToSecs.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (duration, unit) {\n    switch (unit) {\n        case 't':\n        case 's':\n            return duration;\n        case 'm':\n            return 60 * duration;\n        case 'h':\n            return 3600 * duration;\n        case 'd':\n            return 86400 * duration;\n        default:\n            throw new Error('Duration unit not valid: ' + unit + ', only allow [\\'t\\', \\'s\\', \\'m\\', \\'h\\', \\'d\\']');\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZHVyYXRpb25Ub1NlY3MuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZHVyYXRpb25Ub1NlY3MuanM/ZDk3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGR1cmF0aW9uLCB1bml0KSB7XG4gICAgc3dpdGNoICh1bml0KSB7XG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICByZXR1cm4gNjAgKiBkdXJhdGlvbjtcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICByZXR1cm4gMzYwMCAqIGR1cmF0aW9uO1xuICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgIHJldHVybiA4NjQwMCAqIGR1cmF0aW9uO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEdXJhdGlvbiB1bml0IG5vdCB2YWxpZDogJyArIHVuaXQgKyAnLCBvbmx5IGFsbG93IFtcXCd0XFwnLCBcXCdzXFwnLCBcXCdtXFwnLCBcXCdoXFwnLCBcXCdkXFwnXScpO1xuICAgIH1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/durationToSecs.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/durationUnits.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/durationUnits.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = ['t', 's', 'm', 'h', 'd'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZHVyYXRpb25Vbml0cy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kdXJhdGlvbi9kdXJhdGlvblVuaXRzLmpzP2Q1NDAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gWyd0JywgJ3MnLCAnbScsICdoJywgJ2QnXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/durationUnits.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/extractDuration.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/extractDuration.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _extractDurationHelper = __webpack_require__(/*! ./extractDurationHelper */ \"../../node_modules/binary-utils/lib/duration/extractDurationHelper.js\");\n\nvar _extractDurationHelper2 = _interopRequireDefault(_extractDurationHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contracts, type) {\n    var contractsOfType = contracts.filter(function (c) {\n        return c.contract_type === type;\n    });\n    var nonForwardStartingContracts = contractsOfType.filter(function (c) {\n        return !c.forward_starting_options;\n    });\n\n    if (nonForwardStartingContracts.length === 0) {\n        return undefined;\n    }\n\n    return (0, _extractDurationHelper2.default)(nonForwardStartingContracts, type);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZXh0cmFjdER1cmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kdXJhdGlvbi9leHRyYWN0RHVyYXRpb24uanM/ZThkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRyYWN0RHVyYXRpb25IZWxwZXIgPSByZXF1aXJlKCcuL2V4dHJhY3REdXJhdGlvbkhlbHBlcicpO1xuXG52YXIgX2V4dHJhY3REdXJhdGlvbkhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0RHVyYXRpb25IZWxwZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoY29udHJhY3RzLCB0eXBlKSB7XG4gICAgdmFyIGNvbnRyYWN0c09mVHlwZSA9IGNvbnRyYWN0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIGMuY29udHJhY3RfdHlwZSA9PT0gdHlwZTtcbiAgICB9KTtcbiAgICB2YXIgbm9uRm9yd2FyZFN0YXJ0aW5nQ29udHJhY3RzID0gY29udHJhY3RzT2ZUeXBlLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gIWMuZm9yd2FyZF9zdGFydGluZ19vcHRpb25zO1xuICAgIH0pO1xuXG4gICAgaWYgKG5vbkZvcndhcmRTdGFydGluZ0NvbnRyYWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gKDAsIF9leHRyYWN0RHVyYXRpb25IZWxwZXIyLmRlZmF1bHQpKG5vbkZvcndhcmRTdGFydGluZ0NvbnRyYWN0cywgdHlwZSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/extractDuration.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/extractDurationHelper.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/extractDurationHelper.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _durationSecHelper = __webpack_require__(/*! ./durationSecHelper */ \"../../node_modules/binary-utils/lib/duration/durationSecHelper.js\");\n\nvar _durationSecHelper2 = _interopRequireDefault(_durationSecHelper);\n\nvar _extractMinMaxInUnits = __webpack_require__(/*! ./extractMinMaxInUnits */ \"../../node_modules/binary-utils/lib/duration/extractMinMaxInUnits.js\");\n\nvar _extractMinMaxInUnits2 = _interopRequireDefault(_extractMinMaxInUnits);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contracts, type) {\n    if (type.indexOf('SPREAD') > -1) {\n        return [];\n    }\n\n    var tickContracts = contracts.filter(function (c) {\n        return c.min_contract_duration.slice(-1) === 't';\n    });\n    var tickDuration = tickContracts.length > 0 ? { min: 5, max: 10, unit: 't' } : undefined;\n\n    var nonTickContracts = contracts.filter(function (c) {\n        return c.min_contract_duration.slice(-1) !== 't';\n    });\n    if (nonTickContracts.length === 0) {\n        return tickDuration ? [tickDuration] : [];\n    }\n    var nonTickMinSec = nonTickContracts.map(function (c) {\n        return (0, _durationSecHelper2.default)(c.min_contract_duration);\n    }).filter(function (d) {\n        return !!d;\n    }).reduce(function (a, b) {\n        return Math.min(a, b);\n    });\n\n    var nonTickMaxSec = nonTickContracts.map(function (c) {\n        return (0, _durationSecHelper2.default)(c.max_contract_duration);\n    }).filter(function (d) {\n        return !!d;\n    }).reduce(function (a, b) {\n        return Math.max(a, b);\n    });\n\n    var nonTicksDuration = (0, _extractMinMaxInUnits2.default)(nonTickMinSec, nonTickMaxSec);\n    if (tickDuration) {\n        nonTicksDuration.unshift(tickDuration);\n    }\n\n    return nonTicksDuration;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZXh0cmFjdER1cmF0aW9uSGVscGVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZXh0cmFjdER1cmF0aW9uSGVscGVyLmpzPzA3NDgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZHVyYXRpb25TZWNIZWxwZXIgPSByZXF1aXJlKCcuL2R1cmF0aW9uU2VjSGVscGVyJyk7XG5cbnZhciBfZHVyYXRpb25TZWNIZWxwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHVyYXRpb25TZWNIZWxwZXIpO1xuXG52YXIgX2V4dHJhY3RNaW5NYXhJblVuaXRzID0gcmVxdWlyZSgnLi9leHRyYWN0TWluTWF4SW5Vbml0cycpO1xuXG52YXIgX2V4dHJhY3RNaW5NYXhJblVuaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dHJhY3RNaW5NYXhJblVuaXRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbnRyYWN0cywgdHlwZSkge1xuICAgIGlmICh0eXBlLmluZGV4T2YoJ1NQUkVBRCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciB0aWNrQ29udHJhY3RzID0gY29udHJhY3RzLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gYy5taW5fY29udHJhY3RfZHVyYXRpb24uc2xpY2UoLTEpID09PSAndCc7XG4gICAgfSk7XG4gICAgdmFyIHRpY2tEdXJhdGlvbiA9IHRpY2tDb250cmFjdHMubGVuZ3RoID4gMCA/IHsgbWluOiA1LCBtYXg6IDEwLCB1bml0OiAndCcgfSA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBub25UaWNrQ29udHJhY3RzID0gY29udHJhY3RzLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gYy5taW5fY29udHJhY3RfZHVyYXRpb24uc2xpY2UoLTEpICE9PSAndCc7XG4gICAgfSk7XG4gICAgaWYgKG5vblRpY2tDb250cmFjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aWNrRHVyYXRpb24gPyBbdGlja0R1cmF0aW9uXSA6IFtdO1xuICAgIH1cbiAgICB2YXIgbm9uVGlja01pblNlYyA9IG5vblRpY2tDb250cmFjdHMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHJldHVybiAoMCwgX2R1cmF0aW9uU2VjSGVscGVyMi5kZWZhdWx0KShjLm1pbl9jb250cmFjdF9kdXJhdGlvbik7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiAhIWQ7XG4gICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihhLCBiKTtcbiAgICB9KTtcblxuICAgIHZhciBub25UaWNrTWF4U2VjID0gbm9uVGlja0NvbnRyYWN0cy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfZHVyYXRpb25TZWNIZWxwZXIyLmRlZmF1bHQpKGMubWF4X2NvbnRyYWN0X2R1cmF0aW9uKTtcbiAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuICEhZDtcbiAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGEsIGIpO1xuICAgIH0pO1xuXG4gICAgdmFyIG5vblRpY2tzRHVyYXRpb24gPSAoMCwgX2V4dHJhY3RNaW5NYXhJblVuaXRzMi5kZWZhdWx0KShub25UaWNrTWluU2VjLCBub25UaWNrTWF4U2VjKTtcbiAgICBpZiAodGlja0R1cmF0aW9uKSB7XG4gICAgICAgIG5vblRpY2tzRHVyYXRpb24udW5zaGlmdCh0aWNrRHVyYXRpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBub25UaWNrc0R1cmF0aW9uO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/extractDurationHelper.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/extractForwardStartingDuration.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/extractForwardStartingDuration.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _arrayToObject = __webpack_require__(/*! ../array/arrayToObject */ \"../../node_modules/binary-utils/lib/array/arrayToObject.js\");\n\nvar _arrayToObject2 = _interopRequireDefault(_arrayToObject);\n\nvar _groupByKey = __webpack_require__(/*! ../object/groupByKey */ \"../../node_modules/binary-utils/lib/object/groupByKey.js\");\n\nvar _groupByKey2 = _interopRequireDefault(_groupByKey);\n\nvar _extractDurationHelper = __webpack_require__(/*! ./extractDurationHelper */ \"../../node_modules/binary-utils/lib/duration/extractDurationHelper.js\");\n\nvar _extractDurationHelper2 = _interopRequireDefault(_extractDurationHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contracts, type) {\n    var forwardStartingContracts = contracts.filter(function (c) {\n        return !!c.forward_starting_options && c.contract_type === type;\n    });\n    if (forwardStartingContracts.length === 0) {\n        return undefined;\n    }\n\n    var forwardOptions = forwardStartingContracts[0].forward_starting_options;\n    var groupByDate = (0, _groupByKey2.default)(forwardOptions || [], 'date');\n    var forwardStartingRange = [];\n    Object.keys(groupByDate).sort(function (a, b) {\n        return +a - +b;\n    }).forEach(function (date) {\n        var timesPerDateArr = groupByDate[date].map(function (obj) {\n            var open = new Date(obj.open * 1000);\n            var close = new Date(obj.close * 1000);\n            return { open: open, close: close };\n        });\n        var timesPerDateObj = (0, _arrayToObject2.default)(timesPerDateArr);\n        forwardStartingRange.push(_extends({ date: new Date(date * 1000) }, timesPerDateObj));\n    });\n\n    var forwardStartingDurations = (0, _extractDurationHelper2.default)(forwardStartingContracts, type);\n    return {\n        range: forwardStartingRange,\n        options: forwardStartingDurations\n    };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZXh0cmFjdEZvcndhcmRTdGFydGluZ0R1cmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL2R1cmF0aW9uL2V4dHJhY3RGb3J3YXJkU3RhcnRpbmdEdXJhdGlvbi5qcz9jMDk3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2FycmF5VG9PYmplY3QgPSByZXF1aXJlKCcuLi9hcnJheS9hcnJheVRvT2JqZWN0Jyk7XG5cbnZhciBfYXJyYXlUb09iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheVRvT2JqZWN0KTtcblxudmFyIF9ncm91cEJ5S2V5ID0gcmVxdWlyZSgnLi4vb2JqZWN0L2dyb3VwQnlLZXknKTtcblxudmFyIF9ncm91cEJ5S2V5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dyb3VwQnlLZXkpO1xuXG52YXIgX2V4dHJhY3REdXJhdGlvbkhlbHBlciA9IHJlcXVpcmUoJy4vZXh0cmFjdER1cmF0aW9uSGVscGVyJyk7XG5cbnZhciBfZXh0cmFjdER1cmF0aW9uSGVscGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dHJhY3REdXJhdGlvbkhlbHBlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb250cmFjdHMsIHR5cGUpIHtcbiAgICB2YXIgZm9yd2FyZFN0YXJ0aW5nQ29udHJhY3RzID0gY29udHJhY3RzLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gISFjLmZvcndhcmRfc3RhcnRpbmdfb3B0aW9ucyAmJiBjLmNvbnRyYWN0X3R5cGUgPT09IHR5cGU7XG4gICAgfSk7XG4gICAgaWYgKGZvcndhcmRTdGFydGluZ0NvbnRyYWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgZm9yd2FyZE9wdGlvbnMgPSBmb3J3YXJkU3RhcnRpbmdDb250cmFjdHNbMF0uZm9yd2FyZF9zdGFydGluZ19vcHRpb25zO1xuICAgIHZhciBncm91cEJ5RGF0ZSA9ICgwLCBfZ3JvdXBCeUtleTIuZGVmYXVsdCkoZm9yd2FyZE9wdGlvbnMgfHwgW10sICdkYXRlJyk7XG4gICAgdmFyIGZvcndhcmRTdGFydGluZ1JhbmdlID0gW107XG4gICAgT2JqZWN0LmtleXMoZ3JvdXBCeURhdGUpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuICthIC0gK2I7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB2YXIgdGltZXNQZXJEYXRlQXJyID0gZ3JvdXBCeURhdGVbZGF0ZV0ubWFwKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHZhciBvcGVuID0gbmV3IERhdGUob2JqLm9wZW4gKiAxMDAwKTtcbiAgICAgICAgICAgIHZhciBjbG9zZSA9IG5ldyBEYXRlKG9iai5jbG9zZSAqIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuIHsgb3Blbjogb3BlbiwgY2xvc2U6IGNsb3NlIH07XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdGltZXNQZXJEYXRlT2JqID0gKDAsIF9hcnJheVRvT2JqZWN0Mi5kZWZhdWx0KSh0aW1lc1BlckRhdGVBcnIpO1xuICAgICAgICBmb3J3YXJkU3RhcnRpbmdSYW5nZS5wdXNoKF9leHRlbmRzKHsgZGF0ZTogbmV3IERhdGUoZGF0ZSAqIDEwMDApIH0sIHRpbWVzUGVyRGF0ZU9iaikpO1xuICAgIH0pO1xuXG4gICAgdmFyIGZvcndhcmRTdGFydGluZ0R1cmF0aW9ucyA9ICgwLCBfZXh0cmFjdER1cmF0aW9uSGVscGVyMi5kZWZhdWx0KShmb3J3YXJkU3RhcnRpbmdDb250cmFjdHMsIHR5cGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJhbmdlOiBmb3J3YXJkU3RhcnRpbmdSYW5nZSxcbiAgICAgICAgb3B0aW9uczogZm9yd2FyZFN0YXJ0aW5nRHVyYXRpb25zXG4gICAgfTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/extractForwardStartingDuration.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/extractMinMaxInUnits.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/extractMinMaxInUnits.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _durationUnits = __webpack_require__(/*! ./durationUnits */ \"../../node_modules/binary-utils/lib/duration/durationUnits.js\");\n\nvar _durationUnits2 = _interopRequireDefault(_durationUnits);\n\nvar _splitSecsToUnits = __webpack_require__(/*! ../date/splitSecsToUnits */ \"../../node_modules/binary-utils/lib/date/splitSecsToUnits.js\");\n\nvar _splitSecsToUnits2 = _interopRequireDefault(_splitSecsToUnits);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// block is a structure that describes min and max of specific time unit\nvar blockIsValid = function blockIsValid(minArg, maxArg, unit) {\n    if (maxArg <= 1) {\n        return false;\n    }\n    switch (unit) {\n        case 's':\n            return minArg < 60;\n        case 'm':\n            return minArg < 60;\n        case 'h':\n            return minArg < 24;\n        case 'd':\n        default:\n            return true;\n    }\n};\n\nexports[\"default\"] = function (minInSecs, maxInSecs) {\n    var minInUnits = (0, _splitSecsToUnits2.default)(minInSecs);\n    var maxInUnits = (0, _splitSecsToUnits2.default)(maxInSecs);\n\n    var durations = [];\n    for (var i = 0; i < minInUnits.length; i++) {\n        var unit = _durationUnits2.default[i + 1];\n        var minI = minInUnits[i];\n        var maxI = maxInUnits[i];\n        if (blockIsValid(minI, maxI, unit)) {\n            durations.push({\n                unit: unit,\n                min: minI > 0 ? minI : 1,\n                max: maxI });\n        }\n    }\n    return durations;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vZXh0cmFjdE1pbk1heEluVW5pdHMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kdXJhdGlvbi9leHRyYWN0TWluTWF4SW5Vbml0cy5qcz8wZjE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2R1cmF0aW9uVW5pdHMgPSByZXF1aXJlKCcuL2R1cmF0aW9uVW5pdHMnKTtcblxudmFyIF9kdXJhdGlvblVuaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2R1cmF0aW9uVW5pdHMpO1xuXG52YXIgX3NwbGl0U2Vjc1RvVW5pdHMgPSByZXF1aXJlKCcuLi9kYXRlL3NwbGl0U2Vjc1RvVW5pdHMnKTtcblxudmFyIF9zcGxpdFNlY3NUb1VuaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NwbGl0U2Vjc1RvVW5pdHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBibG9jayBpcyBhIHN0cnVjdHVyZSB0aGF0IGRlc2NyaWJlcyBtaW4gYW5kIG1heCBvZiBzcGVjaWZpYyB0aW1lIHVuaXRcbnZhciBibG9ja0lzVmFsaWQgPSBmdW5jdGlvbiBibG9ja0lzVmFsaWQobWluQXJnLCBtYXhBcmcsIHVuaXQpIHtcbiAgICBpZiAobWF4QXJnIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICByZXR1cm4gbWluQXJnIDwgNjA7XG4gICAgICAgIGNhc2UgJ20nOlxuICAgICAgICAgICAgcmV0dXJuIG1pbkFyZyA8IDYwO1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgIHJldHVybiBtaW5BcmcgPCAyNDtcbiAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAobWluSW5TZWNzLCBtYXhJblNlY3MpIHtcbiAgICB2YXIgbWluSW5Vbml0cyA9ICgwLCBfc3BsaXRTZWNzVG9Vbml0czIuZGVmYXVsdCkobWluSW5TZWNzKTtcbiAgICB2YXIgbWF4SW5Vbml0cyA9ICgwLCBfc3BsaXRTZWNzVG9Vbml0czIuZGVmYXVsdCkobWF4SW5TZWNzKTtcblxuICAgIHZhciBkdXJhdGlvbnMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pbkluVW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHVuaXQgPSBfZHVyYXRpb25Vbml0czIuZGVmYXVsdFtpICsgMV07XG4gICAgICAgIHZhciBtaW5JID0gbWluSW5Vbml0c1tpXTtcbiAgICAgICAgdmFyIG1heEkgPSBtYXhJblVuaXRzW2ldO1xuICAgICAgICBpZiAoYmxvY2tJc1ZhbGlkKG1pbkksIG1heEksIHVuaXQpKSB7XG4gICAgICAgICAgICBkdXJhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdW5pdDogdW5pdCxcbiAgICAgICAgICAgICAgICBtaW46IG1pbkkgPiAwID8gbWluSSA6IDEsXG4gICAgICAgICAgICAgICAgbWF4OiBtYXhJIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkdXJhdGlvbnM7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/extractMinMaxInUnits.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/isDurationLessThan2Mins.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/isDurationLessThan2Mins.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _isDurationTick = __webpack_require__(/*! ./isDurationTick */ \"../../node_modules/binary-utils/lib/duration/isDurationTick.js\");\n\nvar _isDurationTick2 = _interopRequireDefault(_isDurationTick);\n\nvar _durationToSecs = __webpack_require__(/*! ./durationToSecs */ \"../../node_modules/binary-utils/lib/duration/durationToSecs.js\");\n\nvar _durationToSecs2 = _interopRequireDefault(_durationToSecs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (duration, durationUnit) {\n    return (0, _isDurationTick2.default)(durationUnit) || (0, _durationToSecs2.default)(duration, durationUnit) < 120;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vaXNEdXJhdGlvbkxlc3NUaGFuMk1pbnMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kdXJhdGlvbi9pc0R1cmF0aW9uTGVzc1RoYW4yTWlucy5qcz9lYjk3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2lzRHVyYXRpb25UaWNrID0gcmVxdWlyZSgnLi9pc0R1cmF0aW9uVGljaycpO1xuXG52YXIgX2lzRHVyYXRpb25UaWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRHVyYXRpb25UaWNrKTtcblxudmFyIF9kdXJhdGlvblRvU2VjcyA9IHJlcXVpcmUoJy4vZHVyYXRpb25Ub1NlY3MnKTtcblxudmFyIF9kdXJhdGlvblRvU2VjczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kdXJhdGlvblRvU2Vjcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChkdXJhdGlvbiwgZHVyYXRpb25Vbml0KSB7XG4gICAgcmV0dXJuICgwLCBfaXNEdXJhdGlvblRpY2syLmRlZmF1bHQpKGR1cmF0aW9uVW5pdCkgfHwgKDAsIF9kdXJhdGlvblRvU2VjczIuZGVmYXVsdCkoZHVyYXRpb24sIGR1cmF0aW9uVW5pdCkgPCAxMjA7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/isDurationLessThan2Mins.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/isDurationTick.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/isDurationTick.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (duration) {\n    return !!duration && duration.slice(-1) === 't';\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vaXNEdXJhdGlvblRpY2suanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vaXNEdXJhdGlvblRpY2suanM/ZDE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgcmV0dXJuICEhZHVyYXRpb24gJiYgZHVyYXRpb24uc2xpY2UoLTEpID09PSAndCc7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/isDurationTick.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/duration/isDurationWithinRange.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/duration/isDurationWithinRange.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (duration, durationUnit, ranges) {\n    var relatedBlock = ranges.find(function (r) {\n        return r.unit === durationUnit;\n    });\n\n    if (!relatedBlock) {\n        return false;\n    }\n\n    return duration <= relatedBlock.max && duration >= relatedBlock.min;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvZHVyYXRpb24vaXNEdXJhdGlvbldpdGhpblJhbmdlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9kdXJhdGlvbi9pc0R1cmF0aW9uV2l0aGluUmFuZ2UuanM/YmM5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZHVyYXRpb24sIGR1cmF0aW9uVW5pdCwgcmFuZ2VzKSB7XG4gICAgdmFyIHJlbGF0ZWRCbG9jayA9IHJhbmdlcy5maW5kKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHJldHVybiByLnVuaXQgPT09IGR1cmF0aW9uVW5pdDtcbiAgICB9KTtcblxuICAgIGlmICghcmVsYXRlZEJsb2NrKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZHVyYXRpb24gPD0gcmVsYXRlZEJsb2NrLm1heCAmJiBkdXJhdGlvbiA+PSByZWxhdGVkQmxvY2subWluO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/duration/isDurationWithinRange.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/index.js":
/*!****************************************************!*\
  !*** ../../node_modules/binary-utils/lib/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _arrayEqual = __webpack_require__(/*! ./array/arrayEqual */ \"../../node_modules/binary-utils/lib/array/arrayEqual.js\");\n\nObject.defineProperty(exports, \"arrayEqual\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_arrayEqual).default;\n  }\n}));\n\nvar _arrayMax = __webpack_require__(/*! ./array/arrayMax */ \"../../node_modules/binary-utils/lib/array/arrayMax.js\");\n\nObject.defineProperty(exports, \"arrayMax\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_arrayMax).default;\n  }\n}));\n\nvar _arrayMin = __webpack_require__(/*! ./array/arrayMin */ \"../../node_modules/binary-utils/lib/array/arrayMin.js\");\n\nObject.defineProperty(exports, \"arrayMin\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_arrayMin).default;\n  }\n}));\n\nvar _arrayToObject = __webpack_require__(/*! ./array/arrayToObject */ \"../../node_modules/binary-utils/lib/array/arrayToObject.js\");\n\nObject.defineProperty(exports, \"arrayToObject\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_arrayToObject).default;\n  }\n}));\n\nvar _getLast = __webpack_require__(/*! ./array/getLast */ \"../../node_modules/binary-utils/lib/array/getLast.js\");\n\nObject.defineProperty(exports, \"getLast\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getLast).default;\n  }\n}));\n\nvar _mergeSortedArrays = __webpack_require__(/*! ./array/mergeSortedArrays */ \"../../node_modules/binary-utils/lib/array/mergeSortedArrays.js\");\n\nObject.defineProperty(exports, \"mergeSortedArrays\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mergeSortedArrays).default;\n  }\n}));\n\nvar _sequence = __webpack_require__(/*! ./array/sequence */ \"../../node_modules/binary-utils/lib/array/sequence.js\");\n\nObject.defineProperty(exports, \"sequence\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_sequence).default;\n  }\n}));\n\nvar _groupArrayToNestedArray = __webpack_require__(/*! ./array/groupArrayToNestedArray */ \"../../node_modules/binary-utils/lib/array/groupArrayToNestedArray.js\");\n\nObject.defineProperty(exports, \"groupArrayToNestedArray\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_groupArrayToNestedArray).default;\n  }\n}));\n\nvar _barrier2FromContract = __webpack_require__(/*! ./barrier/barrier2FromContract */ \"../../node_modules/binary-utils/lib/barrier/barrier2FromContract.js\");\n\nObject.defineProperty(exports, \"barrier2FromContract\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_barrier2FromContract).default;\n  }\n}));\n\nvar _barrierFromContract = __webpack_require__(/*! ./barrier/barrierFromContract */ \"../../node_modules/binary-utils/lib/barrier/barrierFromContract.js\");\n\nObject.defineProperty(exports, \"barrierFromContract\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_barrierFromContract).default;\n  }\n}));\n\nvar _callPutBarrier = __webpack_require__(/*! ./barrier/callPutBarrier */ \"../../node_modules/binary-utils/lib/barrier/callPutBarrier.js\");\n\nObject.defineProperty(exports, \"callPutBarrier\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_callPutBarrier).default;\n  }\n}));\n\nvar _commonRelativeBarrier = __webpack_require__(/*! ./barrier/commonRelativeBarrier */ \"../../node_modules/binary-utils/lib/barrier/commonRelativeBarrier.js\");\n\nObject.defineProperty(exports, \"commonRelativeBarrier\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_commonRelativeBarrier).default;\n  }\n}));\n\nvar _extractBarrier = __webpack_require__(/*! ./barrier/extractBarrier */ \"../../node_modules/binary-utils/lib/barrier/extractBarrier.js\");\n\nObject.defineProperty(exports, \"extractBarrier\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_extractBarrier).default;\n  }\n}));\n\nvar _getAbsoluteBarrierFromContract = __webpack_require__(/*! ./barrier/getAbsoluteBarrierFromContract */ \"../../node_modules/binary-utils/lib/barrier/getAbsoluteBarrierFromContract.js\");\n\nObject.defineProperty(exports, \"getAbsoluteBarrierFromContract\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getAbsoluteBarrierFromContract).default;\n  }\n}));\n\nvar _relativeBarrier = __webpack_require__(/*! ./barrier/relativeBarrier */ \"../../node_modules/binary-utils/lib/barrier/relativeBarrier.js\");\n\nObject.defineProperty(exports, \"relativeBarrier\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_relativeBarrier).default;\n  }\n}));\n\nvar _relativeBarrier2 = __webpack_require__(/*! ./barrier/relativeBarrier2 */ \"../../node_modules/binary-utils/lib/barrier/relativeBarrier2.js\");\n\nObject.defineProperty(exports, \"relativeBarrier2\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_relativeBarrier2).default;\n  }\n}));\n\nvar _dateAsLocalISOString = __webpack_require__(/*! ./date/dateAsLocalISOString */ \"../../node_modules/binary-utils/lib/date/dateAsLocalISOString.js\");\n\nObject.defineProperty(exports, \"dateAsLocalISOString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dateAsLocalISOString).default;\n  }\n}));\n\nvar _dateToDateString = __webpack_require__(/*! ./date/dateToDateString */ \"../../node_modules/binary-utils/lib/date/dateToDateString.js\");\n\nObject.defineProperty(exports, \"dateToDateString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dateToDateString).default;\n  }\n}));\n\nvar _dateToEpoch = __webpack_require__(/*! ./date/dateToEpoch */ \"../../node_modules/binary-utils/lib/date/dateToEpoch.js\");\n\nObject.defineProperty(exports, \"dateToEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dateToEpoch).default;\n  }\n}));\n\nvar _dateToGMTString = __webpack_require__(/*! ./date/dateToGMTString */ \"../../node_modules/binary-utils/lib/date/dateToGMTString.js\");\n\nObject.defineProperty(exports, \"dateToGMTString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dateToGMTString).default;\n  }\n}));\n\nvar _dateToTimeString = __webpack_require__(/*! ./date/dateToTimeString */ \"../../node_modules/binary-utils/lib/date/dateToTimeString.js\");\n\nObject.defineProperty(exports, \"dateToTimeString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dateToTimeString).default;\n  }\n}));\n\nvar _dateToUTCTimeString = __webpack_require__(/*! ./date/dateToUTCTimeString */ \"../../node_modules/binary-utils/lib/date/dateToUTCTimeString.js\");\n\nObject.defineProperty(exports, \"dateToUTCTimeString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_dateToUTCTimeString).default;\n  }\n}));\n\nvar _epochToDate = __webpack_require__(/*! ./date/epochToDate */ \"../../node_modules/binary-utils/lib/date/epochToDate.js\");\n\nObject.defineProperty(exports, \"epochToDate\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_epochToDate).default;\n  }\n}));\n\nvar _epochToDateString = __webpack_require__(/*! ./date/epochToDateString */ \"../../node_modules/binary-utils/lib/date/epochToDateString.js\");\n\nObject.defineProperty(exports, \"epochToDateString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_epochToDateString).default;\n  }\n}));\n\nvar _epochToDateTimeString = __webpack_require__(/*! ./date/epochToDateTimeString */ \"../../node_modules/binary-utils/lib/date/epochToDateTimeString.js\");\n\nObject.defineProperty(exports, \"epochToDateTimeString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_epochToDateTimeString).default;\n  }\n}));\n\nvar _epochToTimeString = __webpack_require__(/*! ./date/epochToTimeString */ \"../../node_modules/binary-utils/lib/date/epochToTimeString.js\");\n\nObject.defineProperty(exports, \"epochToTimeString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_epochToTimeString).default;\n  }\n}));\n\nvar _epochToUTCDateString = __webpack_require__(/*! ./date/epochToUTCDateString */ \"../../node_modules/binary-utils/lib/date/epochToUTCDateString.js\");\n\nObject.defineProperty(exports, \"epochToUTCDateString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_epochToUTCDateString).default;\n  }\n}));\n\nvar _epochToUTCTimeString = __webpack_require__(/*! ./date/epochToUTCTimeString */ \"../../node_modules/binary-utils/lib/date/epochToUTCTimeString.js\");\n\nObject.defineProperty(exports, \"epochToUTCTimeString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_epochToUTCTimeString).default;\n  }\n}));\n\nvar _getLastXMonthEpoch = __webpack_require__(/*! ./date/getLastXMonthEpoch */ \"../../node_modules/binary-utils/lib/date/getLastXMonthEpoch.js\");\n\nObject.defineProperty(exports, \"getLastXMonthEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getLastXMonthEpoch).default;\n  }\n}));\n\nvar _isDateValid = __webpack_require__(/*! ./date/isDateValid */ \"../../node_modules/binary-utils/lib/date/isDateValid.js\");\n\nObject.defineProperty(exports, \"isDateValid\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isDateValid).default;\n  }\n}));\n\nvar _last30DaysEpoch = __webpack_require__(/*! ./date/last30DaysEpoch */ \"../../node_modules/binary-utils/lib/date/last30DaysEpoch.js\");\n\nObject.defineProperty(exports, \"last30DaysEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_last30DaysEpoch).default;\n  }\n}));\n\nvar _last7DaysEpoch = __webpack_require__(/*! ./date/last7DaysEpoch */ \"../../node_modules/binary-utils/lib/date/last7DaysEpoch.js\");\n\nObject.defineProperty(exports, \"last7DaysEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_last7DaysEpoch).default;\n  }\n}));\n\nvar _nextXDay = __webpack_require__(/*! ./date/nextXDay */ \"../../node_modules/binary-utils/lib/date/nextXDay.js\");\n\nObject.defineProperty(exports, \"nextXDay\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_nextXDay).default;\n  }\n}));\n\nvar _nowAsEpoch = __webpack_require__(/*! ./date/nowAsEpoch */ \"../../node_modules/binary-utils/lib/date/nowAsEpoch.js\");\n\nObject.defineProperty(exports, \"nowAsEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_nowAsEpoch).default;\n  }\n}));\n\nvar _oneYearAfterStr = __webpack_require__(/*! ./date/oneYearAfterStr */ \"../../node_modules/binary-utils/lib/date/oneYearAfterStr.js\");\n\nObject.defineProperty(exports, \"oneYearAfterStr\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_oneYearAfterStr).default;\n  }\n}));\n\nvar _secondsToTimeString = __webpack_require__(/*! ./date/secondsToTimeString */ \"../../node_modules/binary-utils/lib/date/secondsToTimeString.js\");\n\nObject.defineProperty(exports, \"secondsToTimeString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_secondsToTimeString).default;\n  }\n}));\n\nvar _splitSecsToUnits = __webpack_require__(/*! ./date/splitSecsToUnits */ \"../../node_modules/binary-utils/lib/date/splitSecsToUnits.js\");\n\nObject.defineProperty(exports, \"splitSecsToUnits\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_splitSecsToUnits).default;\n  }\n}));\n\nvar _timeStringBigger = __webpack_require__(/*! ./date/timeStringBigger */ \"../../node_modules/binary-utils/lib/date/timeStringBigger.js\");\n\nObject.defineProperty(exports, \"timeStringBigger\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_timeStringBigger).default;\n  }\n}));\n\nvar _timeStringIsBetween = __webpack_require__(/*! ./date/timeStringIsBetween */ \"../../node_modules/binary-utils/lib/date/timeStringIsBetween.js\");\n\nObject.defineProperty(exports, \"timeStringIsBetween\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_timeStringIsBetween).default;\n  }\n}));\n\nvar _timeStringSmaller = __webpack_require__(/*! ./date/timeStringSmaller */ \"../../node_modules/binary-utils/lib/date/timeStringSmaller.js\");\n\nObject.defineProperty(exports, \"timeStringSmaller\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_timeStringSmaller).default;\n  }\n}));\n\nvar _timeStringToSeconds = __webpack_require__(/*! ./date/timeStringToSeconds */ \"../../node_modules/binary-utils/lib/date/timeStringToSeconds.js\");\n\nObject.defineProperty(exports, \"timeStringToSeconds\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_timeStringToSeconds).default;\n  }\n}));\n\nvar _todayEpoch = __webpack_require__(/*! ./date/todayEpoch */ \"../../node_modules/binary-utils/lib/date/todayEpoch.js\");\n\nObject.defineProperty(exports, \"todayEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_todayEpoch).default;\n  }\n}));\n\nvar _todayLocaleString = __webpack_require__(/*! ./date/todayLocaleString */ \"../../node_modules/binary-utils/lib/date/todayLocaleString.js\");\n\nObject.defineProperty(exports, \"todayLocaleString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_todayLocaleString).default;\n  }\n}));\n\nvar _todayUTCString = __webpack_require__(/*! ./date/todayUTCString */ \"../../node_modules/binary-utils/lib/date/todayUTCString.js\");\n\nObject.defineProperty(exports, \"todayUTCString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_todayUTCString).default;\n  }\n}));\n\nvar _xDayEpoch = __webpack_require__(/*! ./date/xDayEpoch */ \"../../node_modules/binary-utils/lib/date/xDayEpoch.js\");\n\nObject.defineProperty(exports, \"xDayEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_xDayEpoch).default;\n  }\n}));\n\nvar _xMonthsAfter = __webpack_require__(/*! ./date/xMonthsAfter */ \"../../node_modules/binary-utils/lib/date/xMonthsAfter.js\");\n\nObject.defineProperty(exports, \"xMonthsAfter\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_xMonthsAfter).default;\n  }\n}));\n\nvar _yesterdayEpoch = __webpack_require__(/*! ./date/yesterdayEpoch */ \"../../node_modules/binary-utils/lib/date/yesterdayEpoch.js\");\n\nObject.defineProperty(exports, \"yesterdayEpoch\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_yesterdayEpoch).default;\n  }\n}));\n\nvar _yesterdayString = __webpack_require__(/*! ./date/yesterdayString */ \"../../node_modules/binary-utils/lib/date/yesterdayString.js\");\n\nObject.defineProperty(exports, \"yesterdayString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_yesterdayString).default;\n  }\n}));\n\nvar _yesterdayUTCString = __webpack_require__(/*! ./date/yesterdayUTCString */ \"../../node_modules/binary-utils/lib/date/yesterdayUTCString.js\");\n\nObject.defineProperty(exports, \"yesterdayUTCString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_yesterdayUTCString).default;\n  }\n}));\n\nvar _returnValidDate = __webpack_require__(/*! ./date/returnValidDate */ \"../../node_modules/binary-utils/lib/date/returnValidDate.js\");\n\nObject.defineProperty(exports, \"returnValidDate\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_returnValidDate).default;\n  }\n}));\n\nvar _returnValidTime = __webpack_require__(/*! ./date/returnValidTime */ \"../../node_modules/binary-utils/lib/date/returnValidTime.js\");\n\nObject.defineProperty(exports, \"returnValidTime\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_returnValidTime).default;\n  }\n}));\n\nvar _isValidTime = __webpack_require__(/*! ./date/isValidTime */ \"../../node_modules/binary-utils/lib/date/isValidTime.js\");\n\nObject.defineProperty(exports, \"isValidTime\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isValidTime).default;\n  }\n}));\n\nvar _timeLeftToNextRealityCheck = __webpack_require__(/*! ./date/timeLeftToNextRealityCheck */ \"../../node_modules/binary-utils/lib/date/timeLeftToNextRealityCheck.js\");\n\nObject.defineProperty(exports, \"timeLeftToNextRealityCheck\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_timeLeftToNextRealityCheck).default;\n  }\n}));\n\nvar _durationSecHelper = __webpack_require__(/*! ./duration/durationSecHelper */ \"../../node_modules/binary-utils/lib/duration/durationSecHelper.js\");\n\nObject.defineProperty(exports, \"durationSecHelper\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_durationSecHelper).default;\n  }\n}));\n\nvar _durationText = __webpack_require__(/*! ./duration/durationText */ \"../../node_modules/binary-utils/lib/duration/durationText.js\");\n\nObject.defineProperty(exports, \"durationText\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_durationText).default;\n  }\n}));\n\nvar _durationToSecs = __webpack_require__(/*! ./duration/durationToSecs */ \"../../node_modules/binary-utils/lib/duration/durationToSecs.js\");\n\nObject.defineProperty(exports, \"durationToSecs\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_durationToSecs).default;\n  }\n}));\n\nvar _durationUnits = __webpack_require__(/*! ./duration/durationUnits */ \"../../node_modules/binary-utils/lib/duration/durationUnits.js\");\n\nObject.defineProperty(exports, \"durationUnits\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_durationUnits).default;\n  }\n}));\n\nvar _extractDuration = __webpack_require__(/*! ./duration/extractDuration */ \"../../node_modules/binary-utils/lib/duration/extractDuration.js\");\n\nObject.defineProperty(exports, \"extractDuration\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_extractDuration).default;\n  }\n}));\n\nvar _extractDurationHelper = __webpack_require__(/*! ./duration/extractDurationHelper */ \"../../node_modules/binary-utils/lib/duration/extractDurationHelper.js\");\n\nObject.defineProperty(exports, \"extractDurationHelper\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_extractDurationHelper).default;\n  }\n}));\n\nvar _extractForwardStartingDuration = __webpack_require__(/*! ./duration/extractForwardStartingDuration */ \"../../node_modules/binary-utils/lib/duration/extractForwardStartingDuration.js\");\n\nObject.defineProperty(exports, \"extractForwardStartingDuration\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_extractForwardStartingDuration).default;\n  }\n}));\n\nvar _extractMinMaxInUnits = __webpack_require__(/*! ./duration/extractMinMaxInUnits */ \"../../node_modules/binary-utils/lib/duration/extractMinMaxInUnits.js\");\n\nObject.defineProperty(exports, \"extractMinMaxInUnits\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_extractMinMaxInUnits).default;\n  }\n}));\n\nvar _isDurationLessThan2Mins = __webpack_require__(/*! ./duration/isDurationLessThan2Mins */ \"../../node_modules/binary-utils/lib/duration/isDurationLessThan2Mins.js\");\n\nObject.defineProperty(exports, \"isDurationLessThan2Mins\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isDurationLessThan2Mins).default;\n  }\n}));\n\nvar _isDurationTick = __webpack_require__(/*! ./duration/isDurationTick */ \"../../node_modules/binary-utils/lib/duration/isDurationTick.js\");\n\nObject.defineProperty(exports, \"isDurationTick\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isDurationTick).default;\n  }\n}));\n\nvar _isDurationWithinRange = __webpack_require__(/*! ./duration/isDurationWithinRange */ \"../../node_modules/binary-utils/lib/duration/isDurationWithinRange.js\");\n\nObject.defineProperty(exports, \"isDurationWithinRange\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isDurationWithinRange).default;\n  }\n}));\n\nvar _calculateLastDigitStats = __webpack_require__(/*! ./number/calculateLastDigitStats */ \"../../node_modules/binary-utils/lib/number/calculateLastDigitStats.js\");\n\nObject.defineProperty(exports, \"calculateLastDigitStats\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_calculateLastDigitStats).default;\n  }\n}));\n\nvar _digitsToPips = __webpack_require__(/*! ./number/digitsToPips */ \"../../node_modules/binary-utils/lib/number/digitsToPips.js\");\n\nObject.defineProperty(exports, \"digitsToPips\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_digitsToPips).default;\n  }\n}));\n\nvar _getLastDigit = __webpack_require__(/*! ./number/getLastDigit */ \"../../node_modules/binary-utils/lib/number/getLastDigit.js\");\n\nObject.defineProperty(exports, \"getLastDigit\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getLastDigit).default;\n  }\n}));\n\nvar _noOfDecimals = __webpack_require__(/*! ./number/noOfDecimals */ \"../../node_modules/binary-utils/lib/number/noOfDecimals.js\");\n\nObject.defineProperty(exports, \"noOfDecimals\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_noOfDecimals).default;\n  }\n}));\n\nvar _numberToSignedString = __webpack_require__(/*! ./number/numberToSignedString */ \"../../node_modules/binary-utils/lib/number/numberToSignedString.js\");\n\nObject.defineProperty(exports, \"numberToSignedString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_numberToSignedString).default;\n  }\n}));\n\nvar _pipSizeToStepSize = __webpack_require__(/*! ./number/pipSizeToStepSize */ \"../../node_modules/binary-utils/lib/number/pipSizeToStepSize.js\");\n\nObject.defineProperty(exports, \"pipSizeToStepSize\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_pipSizeToStepSize).default;\n  }\n}));\n\nvar _pipsToDigits = __webpack_require__(/*! ./number/pipsToDigits */ \"../../node_modules/binary-utils/lib/number/pipsToDigits.js\");\n\nObject.defineProperty(exports, \"pipsToDigits\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_pipsToDigits).default;\n  }\n}));\n\nvar _toMoney = __webpack_require__(/*! ./number/toMoney */ \"../../node_modules/binary-utils/lib/number/toMoney.js\");\n\nObject.defineProperty(exports, \"toMoney\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_toMoney).default;\n  }\n}));\n\nvar _filterDeep = __webpack_require__(/*! ./object/filterDeep */ \"../../node_modules/binary-utils/lib/object/filterDeep.js\");\n\nObject.defineProperty(exports, \"filterDeep\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_filterDeep).default;\n  }\n}));\n\nvar _findDeep = __webpack_require__(/*! ./object/findDeep */ \"../../node_modules/binary-utils/lib/object/findDeep.js\");\n\nObject.defineProperty(exports, \"findDeep\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_findDeep).default;\n  }\n}));\n\nvar _groupByKey = __webpack_require__(/*! ./object/groupByKey */ \"../../node_modules/binary-utils/lib/object/groupByKey.js\");\n\nObject.defineProperty(exports, \"groupByKey\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_groupByKey).default;\n  }\n}));\n\nvar _immutableChildrenToJS = __webpack_require__(/*! ./object/immutableChildrenToJS */ \"../../node_modules/binary-utils/lib/object/immutableChildrenToJS.js\");\n\nObject.defineProperty(exports, \"immutableChildrenToJS\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_immutableChildrenToJS).default;\n  }\n}));\n\nvar _areArraysEqual = __webpack_require__(/*! ./ticks/areArraysEqual */ \"../../node_modules/binary-utils/lib/ticks/areArraysEqual.js\");\n\nObject.defineProperty(exports, \"areArraysEqual\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_areArraysEqual).default;\n  }\n}));\n\nvar _areCandleArrayEqual = __webpack_require__(/*! ./ticks/areCandleArrayEqual */ \"../../node_modules/binary-utils/lib/ticks/areCandleArrayEqual.js\");\n\nObject.defineProperty(exports, \"areCandleArrayEqual\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_areCandleArrayEqual).default;\n  }\n}));\n\nvar _areTickArraysEqual = __webpack_require__(/*! ./ticks/areTickArraysEqual */ \"../../node_modules/binary-utils/lib/ticks/areTickArraysEqual.js\");\n\nObject.defineProperty(exports, \"areTickArraysEqual\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_areTickArraysEqual).default;\n  }\n}));\n\nvar _doArrayDifferJustOneEntry = __webpack_require__(/*! ./ticks/doArrayDifferJustOneEntry */ \"../../node_modules/binary-utils/lib/ticks/doArrayDifferJustOneEntry.js\");\n\nObject.defineProperty(exports, \"doArrayDifferJustOneEntry\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_doArrayDifferJustOneEntry).default;\n  }\n}));\n\nvar _doCandleEqual = __webpack_require__(/*! ./ticks/doCandleEqual */ \"../../node_modules/binary-utils/lib/ticks/doCandleEqual.js\");\n\nObject.defineProperty(exports, \"doCandleEqual\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_doCandleEqual).default;\n  }\n}));\n\nvar _doCandlesDifferJustOneEntry = __webpack_require__(/*! ./ticks/doCandlesDifferJustOneEntry */ \"../../node_modules/binary-utils/lib/ticks/doCandlesDifferJustOneEntry.js\");\n\nObject.defineProperty(exports, \"doCandlesDifferJustOneEntry\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_doCandlesDifferJustOneEntry).default;\n  }\n}));\n\nvar _doTicksDifferJustOneEntry = __webpack_require__(/*! ./ticks/doTicksDifferJustOneEntry */ \"../../node_modules/binary-utils/lib/ticks/doTicksDifferJustOneEntry.js\");\n\nObject.defineProperty(exports, \"doTicksDifferJustOneEntry\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_doTicksDifferJustOneEntry).default;\n  }\n}));\n\nvar _doTicksEqual = __webpack_require__(/*! ./ticks/doTicksEqual */ \"../../node_modules/binary-utils/lib/ticks/doTicksEqual.js\");\n\nObject.defineProperty(exports, \"doTicksEqual\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_doTicksEqual).default;\n  }\n}));\n\nvar _getLastOHLCTick = __webpack_require__(/*! ./ticks/getLastOHLCTick */ \"../../node_modules/binary-utils/lib/ticks/getLastOHLCTick.js\");\n\nObject.defineProperty(exports, \"getLastOHLCTick\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getLastOHLCTick).default;\n  }\n}));\n\nvar _getLastTickQuote = __webpack_require__(/*! ./ticks/getLastTickQuote */ \"../../node_modules/binary-utils/lib/ticks/getLastTickQuote.js\");\n\nObject.defineProperty(exports, \"getLastTickQuote\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getLastTickQuote).default;\n  }\n}));\n\nvar _historyToTicks = __webpack_require__(/*! ./ticks/historyToTicks */ \"../../node_modules/binary-utils/lib/ticks/historyToTicks.js\");\n\nObject.defineProperty(exports, \"historyToTicks\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_historyToTicks).default;\n  }\n}));\n\nvar _ohlcToData = __webpack_require__(/*! ./ticks/ohlcToData */ \"../../node_modules/binary-utils/lib/ticks/ohlcToData.js\");\n\nObject.defineProperty(exports, \"ohlcToData\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ohlcToData).default;\n  }\n}));\n\nvar _ohlcToTicks = __webpack_require__(/*! ./ticks/ohlcToTicks */ \"../../node_modules/binary-utils/lib/ticks/ohlcToTicks.js\");\n\nObject.defineProperty(exports, \"ohlcToTicks\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ohlcToTicks).default;\n  }\n}));\n\nvar _tickToData = __webpack_require__(/*! ./ticks/tickToData */ \"../../node_modules/binary-utils/lib/ticks/tickToData.js\");\n\nObject.defineProperty(exports, \"tickToData\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_tickToData).default;\n  }\n}));\n\nvar _askPriceFromProposal = __webpack_require__(/*! ./trade/askPriceFromProposal */ \"../../node_modules/binary-utils/lib/trade/askPriceFromProposal.js\");\n\nObject.defineProperty(exports, \"askPriceFromProposal\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_askPriceFromProposal).default;\n  }\n}));\n\nvar _computeStartEndForContract = __webpack_require__(/*! ./trade/computeStartEndForContract */ \"../../node_modules/binary-utils/lib/trade/computeStartEndForContract.js\");\n\nObject.defineProperty(exports, \"computeStartEndForContract\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_computeStartEndForContract).default;\n  }\n}));\n\nvar _contractCategoryToText = __webpack_require__(/*! ./trade/contractCategoryToText */ \"../../node_modules/binary-utils/lib/trade/contractCategoryToText.js\");\n\nObject.defineProperty(exports, \"contractCategoryToText\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_contractCategoryToText).default;\n  }\n}));\n\nvar _contractCodeToText = __webpack_require__(/*! ./trade/contractCodeToText */ \"../../node_modules/binary-utils/lib/trade/contractCodeToText.js\");\n\nObject.defineProperty(exports, \"contractCodeToText\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_contractCodeToText).default;\n  }\n}));\n\nvar _extractSpreadInfo = __webpack_require__(/*! ./trade/extractSpreadInfo */ \"../../node_modules/binary-utils/lib/trade/extractSpreadInfo.js\");\n\nObject.defineProperty(exports, \"extractSpreadInfo\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_extractSpreadInfo).default;\n  }\n}));\n\nvar _isIntraday = __webpack_require__(/*! ./trade/isIntraday */ \"../../node_modules/binary-utils/lib/trade/isIntraday.js\");\n\nObject.defineProperty(exports, \"isIntraday\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isIntraday).default;\n  }\n}));\n\nvar _normalizedContractFor = __webpack_require__(/*! ./trade/normalizedContractFor */ \"../../node_modules/binary-utils/lib/trade/normalizedContractFor.js\");\n\nObject.defineProperty(exports, \"normalizedContractFor\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_normalizedContractFor).default;\n  }\n}));\n\nvar _tradeToFriendlyType = __webpack_require__(/*! ./trade/tradeToFriendlyType */ \"../../node_modules/binary-utils/lib/trade/tradeToFriendlyType.js\");\n\nObject.defineProperty(exports, \"tradeToFriendlyType\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_tradeToFriendlyType).default;\n  }\n}));\n\nvar _tradeTypeCodeToText = __webpack_require__(/*! ./trade/tradeTypeCodeToText */ \"../../node_modules/binary-utils/lib/trade/tradeTypeCodeToText.js\");\n\nObject.defineProperty(exports, \"tradeTypeCodeToText\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_tradeTypeCodeToText).default;\n  }\n}));\n\nvar _tradeTypeTextToCode = __webpack_require__(/*! ./trade/tradeTypeTextToCode */ \"../../node_modules/binary-utils/lib/trade/tradeTypeTextToCode.js\");\n\nObject.defineProperty(exports, \"tradeTypeTextToCode\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_tradeTypeTextToCode).default;\n  }\n}));\n\nvar _tradeTypes = __webpack_require__(/*! ./trade/tradeTypes */ \"../../node_modules/binary-utils/lib/trade/tradeTypes.js\");\n\nObject.defineProperty(exports, \"tradeTypes\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_tradeTypes).default;\n  }\n}));\n\nvar _typeHasBarrier = __webpack_require__(/*! ./trade/typeHasBarrier */ \"../../node_modules/binary-utils/lib/trade/typeHasBarrier.js\");\n\nObject.defineProperty(exports, \"typeHasBarrier\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_typeHasBarrier).default;\n  }\n}));\n\nvar _Analytics = __webpack_require__(/*! ./misc/Analytics */ \"../../node_modules/binary-utils/lib/misc/Analytics.js\");\n\nObject.defineProperty(exports, \"Analytics\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Analytics).default;\n  }\n}));\n\nvar _brandColor = __webpack_require__(/*! ./misc/brandColor */ \"../../node_modules/binary-utils/lib/misc/brandColor.js\");\n\nObject.defineProperty(exports, \"brandColor\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_brandColor).default;\n  }\n}));\n\nvar _directionClassName = __webpack_require__(/*! ./misc/directionClassName */ \"../../node_modules/binary-utils/lib/misc/directionClassName.js\");\n\nObject.defineProperty(exports, \"directionClassName\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_directionClassName).default;\n  }\n}));\n\nvar _errorToString = __webpack_require__(/*! ./misc/errorToString */ \"../../node_modules/binary-utils/lib/misc/errorToString.js\");\n\nObject.defineProperty(exports, \"errorToString\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_errorToString).default;\n  }\n}));\n\nvar _getUniqueId = __webpack_require__(/*! ./misc/getUniqueId */ \"../../node_modules/binary-utils/lib/misc/getUniqueId.js\");\n\nObject.defineProperty(exports, \"getUniqueId\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getUniqueId).default;\n  }\n}));\n\nvar _isMobile = __webpack_require__(/*! ./misc/isMobile */ \"../../node_modules/binary-utils/lib/misc/isMobile.js\");\n\nObject.defineProperty(exports, \"isMobile\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isMobile).default;\n  }\n}));\n\nvar _isValidEmail = __webpack_require__(/*! ./misc/isValidEmail */ \"../../node_modules/binary-utils/lib/misc/isValidEmail.js\");\n\nObject.defineProperty(exports, \"isValidEmail\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isValidEmail).default;\n  }\n}));\n\nvar _isValidPassword = __webpack_require__(/*! ./misc/isValidPassword */ \"../../node_modules/binary-utils/lib/misc/isValidPassword.js\");\n\nObject.defineProperty(exports, \"isValidPassword\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_isValidPassword).default;\n  }\n}));\n\nvar _addFullscreenEventListener = __webpack_require__(/*! ./dom/addFullscreenEventListener */ \"../../node_modules/binary-utils/lib/dom/addFullscreenEventListener.js\");\n\nObject.defineProperty(exports, \"addFullscreenEventListener\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_addFullscreenEventListener).default;\n  }\n}));\n\nvar _exitFullscreen = __webpack_require__(/*! ./dom/exitFullscreen */ \"../../node_modules/binary-utils/lib/dom/exitFullscreen.js\");\n\nObject.defineProperty(exports, \"exitFullscreen\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_exitFullscreen).default;\n  }\n}));\n\nvar _removeFullscreenEventListener = __webpack_require__(/*! ./dom/removeFullscreenEventListener */ \"../../node_modules/binary-utils/lib/dom/removeFullscreenEventListener.js\");\n\nObject.defineProperty(exports, \"removeFullscreenEventListener\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_removeFullscreenEventListener).default;\n  }\n}));\n\nvar _requestFullscreen = __webpack_require__(/*! ./dom/requestFullscreen */ \"../../node_modules/binary-utils/lib/dom/requestFullscreen.js\");\n\nObject.defineProperty(exports, \"requestFullscreen\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_requestFullscreen).default;\n  }\n}));\n\nvar _showInfo = __webpack_require__(/*! ./dom/showInfo */ \"../../node_modules/binary-utils/lib/dom/showInfo.js\");\n\nObject.defineProperty(exports, \"showInfo\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_showInfo).default;\n  }\n}));\n\nvar _showError = __webpack_require__(/*! ./dom/showError */ \"../../node_modules/binary-utils/lib/dom/showError.js\");\n\nObject.defineProperty(exports, \"showError\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_showError).default;\n  }\n}));\n\nvar _windowResizeEvent = __webpack_require__(/*! ./dom/windowResizeEvent */ \"../../node_modules/binary-utils/lib/dom/windowResizeEvent.js\");\n\nObject.defineProperty(exports, \"windowResizeEvent\", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_windowResizeEvent).default;\n  }\n}));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9pbmRleC5qcz9jYzg4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9hcnJheUVxdWFsID0gcmVxdWlyZSgnLi9hcnJheS9hcnJheUVxdWFsJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYXJyYXlFcXVhbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5RXF1YWwpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2FycmF5TWF4ID0gcmVxdWlyZSgnLi9hcnJheS9hcnJheU1heCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FycmF5TWF4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlNYXgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2FycmF5TWluID0gcmVxdWlyZSgnLi9hcnJheS9hcnJheU1pbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FycmF5TWluJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlNaW4pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2FycmF5VG9PYmplY3QgPSByZXF1aXJlKCcuL2FycmF5L2FycmF5VG9PYmplY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhcnJheVRvT2JqZWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlUb09iamVjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZ2V0TGFzdCA9IHJlcXVpcmUoJy4vYXJyYXkvZ2V0TGFzdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dldExhc3QnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRMYXN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9tZXJnZVNvcnRlZEFycmF5cyA9IHJlcXVpcmUoJy4vYXJyYXkvbWVyZ2VTb3J0ZWRBcnJheXMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdtZXJnZVNvcnRlZEFycmF5cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lcmdlU29ydGVkQXJyYXlzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9zZXF1ZW5jZSA9IHJlcXVpcmUoJy4vYXJyYXkvc2VxdWVuY2UnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdzZXF1ZW5jZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlcXVlbmNlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9ncm91cEFycmF5VG9OZXN0ZWRBcnJheSA9IHJlcXVpcmUoJy4vYXJyYXkvZ3JvdXBBcnJheVRvTmVzdGVkQXJyYXknKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdncm91cEFycmF5VG9OZXN0ZWRBcnJheScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dyb3VwQXJyYXlUb05lc3RlZEFycmF5KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9iYXJyaWVyMkZyb21Db250cmFjdCA9IHJlcXVpcmUoJy4vYmFycmllci9iYXJyaWVyMkZyb21Db250cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2JhcnJpZXIyRnJvbUNvbnRyYWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFycmllcjJGcm9tQ29udHJhY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2JhcnJpZXJGcm9tQ29udHJhY3QgPSByZXF1aXJlKCcuL2JhcnJpZXIvYmFycmllckZyb21Db250cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2JhcnJpZXJGcm9tQ29udHJhY3QnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXJyaWVyRnJvbUNvbnRyYWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9jYWxsUHV0QmFycmllciA9IHJlcXVpcmUoJy4vYmFycmllci9jYWxsUHV0QmFycmllcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NhbGxQdXRCYXJyaWVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsbFB1dEJhcnJpZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2NvbW1vblJlbGF0aXZlQmFycmllciA9IHJlcXVpcmUoJy4vYmFycmllci9jb21tb25SZWxhdGl2ZUJhcnJpZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb21tb25SZWxhdGl2ZUJhcnJpZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb25SZWxhdGl2ZUJhcnJpZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2V4dHJhY3RCYXJyaWVyID0gcmVxdWlyZSgnLi9iYXJyaWVyL2V4dHJhY3RCYXJyaWVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZXh0cmFjdEJhcnJpZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0QmFycmllcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZ2V0QWJzb2x1dGVCYXJyaWVyRnJvbUNvbnRyYWN0ID0gcmVxdWlyZSgnLi9iYXJyaWVyL2dldEFic29sdXRlQmFycmllckZyb21Db250cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dldEFic29sdXRlQmFycmllckZyb21Db250cmFjdCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEFic29sdXRlQmFycmllckZyb21Db250cmFjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfcmVsYXRpdmVCYXJyaWVyID0gcmVxdWlyZSgnLi9iYXJyaWVyL3JlbGF0aXZlQmFycmllcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3JlbGF0aXZlQmFycmllcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlbGF0aXZlQmFycmllcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfcmVsYXRpdmVCYXJyaWVyMiA9IHJlcXVpcmUoJy4vYmFycmllci9yZWxhdGl2ZUJhcnJpZXIyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncmVsYXRpdmVCYXJyaWVyMicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlbGF0aXZlQmFycmllcjIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2RhdGVBc0xvY2FsSVNPU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL2RhdGVBc0xvY2FsSVNPU3RyaW5nJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGF0ZUFzTG9jYWxJU09TdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlQXNMb2NhbElTT1N0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZGF0ZVRvRGF0ZVN0cmluZyA9IHJlcXVpcmUoJy4vZGF0ZS9kYXRlVG9EYXRlU3RyaW5nJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGF0ZVRvRGF0ZVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVUb0RhdGVTdHJpbmcpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2RhdGVUb0Vwb2NoID0gcmVxdWlyZSgnLi9kYXRlL2RhdGVUb0Vwb2NoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGF0ZVRvRXBvY2gnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlVG9FcG9jaCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZGF0ZVRvR01UU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL2RhdGVUb0dNVFN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RhdGVUb0dNVFN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVUb0dNVFN0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZGF0ZVRvVGltZVN0cmluZyA9IHJlcXVpcmUoJy4vZGF0ZS9kYXRlVG9UaW1lU3RyaW5nJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGF0ZVRvVGltZVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVUb1RpbWVTdHJpbmcpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2RhdGVUb1VUQ1RpbWVTdHJpbmcgPSByZXF1aXJlKCcuL2RhdGUvZGF0ZVRvVVRDVGltZVN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RhdGVUb1VUQ1RpbWVTdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlVG9VVENUaW1lU3RyaW5nKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9lcG9jaFRvRGF0ZSA9IHJlcXVpcmUoJy4vZGF0ZS9lcG9jaFRvRGF0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Vwb2NoVG9EYXRlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXBvY2hUb0RhdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2Vwb2NoVG9EYXRlU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL2Vwb2NoVG9EYXRlU3RyaW5nJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZXBvY2hUb0RhdGVTdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcG9jaFRvRGF0ZVN0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZXBvY2hUb0RhdGVUaW1lU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL2Vwb2NoVG9EYXRlVGltZVN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Vwb2NoVG9EYXRlVGltZVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vwb2NoVG9EYXRlVGltZVN0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZXBvY2hUb1RpbWVTdHJpbmcgPSByZXF1aXJlKCcuL2RhdGUvZXBvY2hUb1RpbWVTdHJpbmcnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdlcG9jaFRvVGltZVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vwb2NoVG9UaW1lU3RyaW5nKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9lcG9jaFRvVVRDRGF0ZVN0cmluZyA9IHJlcXVpcmUoJy4vZGF0ZS9lcG9jaFRvVVRDRGF0ZVN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Vwb2NoVG9VVENEYXRlU3RyaW5nJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXBvY2hUb1VUQ0RhdGVTdHJpbmcpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2Vwb2NoVG9VVENUaW1lU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL2Vwb2NoVG9VVENUaW1lU3RyaW5nJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZXBvY2hUb1VUQ1RpbWVTdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcG9jaFRvVVRDVGltZVN0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZ2V0TGFzdFhNb250aEVwb2NoID0gcmVxdWlyZSgnLi9kYXRlL2dldExhc3RYTW9udGhFcG9jaCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dldExhc3RYTW9udGhFcG9jaCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldExhc3RYTW9udGhFcG9jaCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaXNEYXRlVmFsaWQgPSByZXF1aXJlKCcuL2RhdGUvaXNEYXRlVmFsaWQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpc0RhdGVWYWxpZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRGF0ZVZhbGlkKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9sYXN0MzBEYXlzRXBvY2ggPSByZXF1aXJlKCcuL2RhdGUvbGFzdDMwRGF5c0Vwb2NoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbGFzdDMwRGF5c0Vwb2NoJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGFzdDMwRGF5c0Vwb2NoKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9sYXN0N0RheXNFcG9jaCA9IHJlcXVpcmUoJy4vZGF0ZS9sYXN0N0RheXNFcG9jaCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2xhc3Q3RGF5c0Vwb2NoJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGFzdDdEYXlzRXBvY2gpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX25leHRYRGF5ID0gcmVxdWlyZSgnLi9kYXRlL25leHRYRGF5Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbmV4dFhEYXknLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9uZXh0WERheSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfbm93QXNFcG9jaCA9IHJlcXVpcmUoJy4vZGF0ZS9ub3dBc0Vwb2NoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbm93QXNFcG9jaCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vd0FzRXBvY2gpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX29uZVllYXJBZnRlclN0ciA9IHJlcXVpcmUoJy4vZGF0ZS9vbmVZZWFyQWZ0ZXJTdHInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdvbmVZZWFyQWZ0ZXJTdHInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vbmVZZWFyQWZ0ZXJTdHIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3NlY29uZHNUb1RpbWVTdHJpbmcgPSByZXF1aXJlKCcuL2RhdGUvc2Vjb25kc1RvVGltZVN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3NlY29uZHNUb1RpbWVTdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWNvbmRzVG9UaW1lU3RyaW5nKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9zcGxpdFNlY3NUb1VuaXRzID0gcmVxdWlyZSgnLi9kYXRlL3NwbGl0U2Vjc1RvVW5pdHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdzcGxpdFNlY3NUb1VuaXRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3BsaXRTZWNzVG9Vbml0cykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfdGltZVN0cmluZ0JpZ2dlciA9IHJlcXVpcmUoJy4vZGF0ZS90aW1lU3RyaW5nQmlnZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAndGltZVN0cmluZ0JpZ2dlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbWVTdHJpbmdCaWdnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3RpbWVTdHJpbmdJc0JldHdlZW4gPSByZXF1aXJlKCcuL2RhdGUvdGltZVN0cmluZ0lzQmV0d2VlbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RpbWVTdHJpbmdJc0JldHdlZW4nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lU3RyaW5nSXNCZXR3ZWVuKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90aW1lU3RyaW5nU21hbGxlciA9IHJlcXVpcmUoJy4vZGF0ZS90aW1lU3RyaW5nU21hbGxlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RpbWVTdHJpbmdTbWFsbGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZVN0cmluZ1NtYWxsZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3RpbWVTdHJpbmdUb1NlY29uZHMgPSByZXF1aXJlKCcuL2RhdGUvdGltZVN0cmluZ1RvU2Vjb25kcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RpbWVTdHJpbmdUb1NlY29uZHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lU3RyaW5nVG9TZWNvbmRzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90b2RheUVwb2NoID0gcmVxdWlyZSgnLi9kYXRlL3RvZGF5RXBvY2gnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0b2RheUVwb2NoJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9kYXlFcG9jaCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfdG9kYXlMb2NhbGVTdHJpbmcgPSByZXF1aXJlKCcuL2RhdGUvdG9kYXlMb2NhbGVTdHJpbmcnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0b2RheUxvY2FsZVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvZGF5TG9jYWxlU3RyaW5nKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90b2RheVVUQ1N0cmluZyA9IHJlcXVpcmUoJy4vZGF0ZS90b2RheVVUQ1N0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RvZGF5VVRDU3RyaW5nJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9kYXlVVENTdHJpbmcpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3hEYXlFcG9jaCA9IHJlcXVpcmUoJy4vZGF0ZS94RGF5RXBvY2gnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd4RGF5RXBvY2gnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF94RGF5RXBvY2gpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3hNb250aHNBZnRlciA9IHJlcXVpcmUoJy4vZGF0ZS94TW9udGhzQWZ0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd4TW9udGhzQWZ0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF94TW9udGhzQWZ0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3llc3RlcmRheUVwb2NoID0gcmVxdWlyZSgnLi9kYXRlL3llc3RlcmRheUVwb2NoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAneWVzdGVyZGF5RXBvY2gnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF95ZXN0ZXJkYXlFcG9jaCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfeWVzdGVyZGF5U3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL3llc3RlcmRheVN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3llc3RlcmRheVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3llc3RlcmRheVN0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfeWVzdGVyZGF5VVRDU3RyaW5nID0gcmVxdWlyZSgnLi9kYXRlL3llc3RlcmRheVVUQ1N0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3llc3RlcmRheVVUQ1N0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3llc3RlcmRheVVUQ1N0cmluZykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfcmV0dXJuVmFsaWREYXRlID0gcmVxdWlyZSgnLi9kYXRlL3JldHVyblZhbGlkRGF0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3JldHVyblZhbGlkRGF0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JldHVyblZhbGlkRGF0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfcmV0dXJuVmFsaWRUaW1lID0gcmVxdWlyZSgnLi9kYXRlL3JldHVyblZhbGlkVGltZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3JldHVyblZhbGlkVGltZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JldHVyblZhbGlkVGltZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaXNWYWxpZFRpbWUgPSByZXF1aXJlKCcuL2RhdGUvaXNWYWxpZFRpbWUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpc1ZhbGlkVGltZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzVmFsaWRUaW1lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90aW1lTGVmdFRvTmV4dFJlYWxpdHlDaGVjayA9IHJlcXVpcmUoJy4vZGF0ZS90aW1lTGVmdFRvTmV4dFJlYWxpdHlDaGVjaycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RpbWVMZWZ0VG9OZXh0UmVhbGl0eUNoZWNrJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZUxlZnRUb05leHRSZWFsaXR5Q2hlY2spLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2R1cmF0aW9uU2VjSGVscGVyID0gcmVxdWlyZSgnLi9kdXJhdGlvbi9kdXJhdGlvblNlY0hlbHBlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2R1cmF0aW9uU2VjSGVscGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHVyYXRpb25TZWNIZWxwZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2R1cmF0aW9uVGV4dCA9IHJlcXVpcmUoJy4vZHVyYXRpb24vZHVyYXRpb25UZXh0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZHVyYXRpb25UZXh0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHVyYXRpb25UZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9kdXJhdGlvblRvU2VjcyA9IHJlcXVpcmUoJy4vZHVyYXRpb24vZHVyYXRpb25Ub1NlY3MnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdkdXJhdGlvblRvU2VjcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2R1cmF0aW9uVG9TZWNzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9kdXJhdGlvblVuaXRzID0gcmVxdWlyZSgnLi9kdXJhdGlvbi9kdXJhdGlvblVuaXRzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZHVyYXRpb25Vbml0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2R1cmF0aW9uVW5pdHMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2V4dHJhY3REdXJhdGlvbiA9IHJlcXVpcmUoJy4vZHVyYXRpb24vZXh0cmFjdER1cmF0aW9uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZXh0cmFjdER1cmF0aW9uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdER1cmF0aW9uKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9leHRyYWN0RHVyYXRpb25IZWxwZXIgPSByZXF1aXJlKCcuL2R1cmF0aW9uL2V4dHJhY3REdXJhdGlvbkhlbHBlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2V4dHJhY3REdXJhdGlvbkhlbHBlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dHJhY3REdXJhdGlvbkhlbHBlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZXh0cmFjdEZvcndhcmRTdGFydGluZ0R1cmF0aW9uID0gcmVxdWlyZSgnLi9kdXJhdGlvbi9leHRyYWN0Rm9yd2FyZFN0YXJ0aW5nRHVyYXRpb24nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdleHRyYWN0Rm9yd2FyZFN0YXJ0aW5nRHVyYXRpb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRyYWN0Rm9yd2FyZFN0YXJ0aW5nRHVyYXRpb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2V4dHJhY3RNaW5NYXhJblVuaXRzID0gcmVxdWlyZSgnLi9kdXJhdGlvbi9leHRyYWN0TWluTWF4SW5Vbml0cycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2V4dHJhY3RNaW5NYXhJblVuaXRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdE1pbk1heEluVW5pdHMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2lzRHVyYXRpb25MZXNzVGhhbjJNaW5zID0gcmVxdWlyZSgnLi9kdXJhdGlvbi9pc0R1cmF0aW9uTGVzc1RoYW4yTWlucycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2lzRHVyYXRpb25MZXNzVGhhbjJNaW5zJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNEdXJhdGlvbkxlc3NUaGFuMk1pbnMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2lzRHVyYXRpb25UaWNrID0gcmVxdWlyZSgnLi9kdXJhdGlvbi9pc0R1cmF0aW9uVGljaycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2lzRHVyYXRpb25UaWNrJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNEdXJhdGlvblRpY2spLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2lzRHVyYXRpb25XaXRoaW5SYW5nZSA9IHJlcXVpcmUoJy4vZHVyYXRpb24vaXNEdXJhdGlvbldpdGhpblJhbmdlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaXNEdXJhdGlvbldpdGhpblJhbmdlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNEdXJhdGlvbldpdGhpblJhbmdlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9jYWxjdWxhdGVMYXN0RGlnaXRTdGF0cyA9IHJlcXVpcmUoJy4vbnVtYmVyL2NhbGN1bGF0ZUxhc3REaWdpdFN0YXRzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FsY3VsYXRlTGFzdERpZ2l0U3RhdHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxjdWxhdGVMYXN0RGlnaXRTdGF0cykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZGlnaXRzVG9QaXBzID0gcmVxdWlyZSgnLi9udW1iZXIvZGlnaXRzVG9QaXBzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZGlnaXRzVG9QaXBzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGlnaXRzVG9QaXBzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9nZXRMYXN0RGlnaXQgPSByZXF1aXJlKCcuL251bWJlci9nZXRMYXN0RGlnaXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRMYXN0RGlnaXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRMYXN0RGlnaXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX25vT2ZEZWNpbWFscyA9IHJlcXVpcmUoJy4vbnVtYmVyL25vT2ZEZWNpbWFscycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ25vT2ZEZWNpbWFscycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vT2ZEZWNpbWFscykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfbnVtYmVyVG9TaWduZWRTdHJpbmcgPSByZXF1aXJlKCcuL251bWJlci9udW1iZXJUb1NpZ25lZFN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ251bWJlclRvU2lnbmVkU3RyaW5nJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbnVtYmVyVG9TaWduZWRTdHJpbmcpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3BpcFNpemVUb1N0ZXBTaXplID0gcmVxdWlyZSgnLi9udW1iZXIvcGlwU2l6ZVRvU3RlcFNpemUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdwaXBTaXplVG9TdGVwU2l6ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpcFNpemVUb1N0ZXBTaXplKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9waXBzVG9EaWdpdHMgPSByZXF1aXJlKCcuL251bWJlci9waXBzVG9EaWdpdHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdwaXBzVG9EaWdpdHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXBzVG9EaWdpdHMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3RvTW9uZXkgPSByZXF1aXJlKCcuL251bWJlci90b01vbmV5Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAndG9Nb25leScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvTW9uZXkpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2ZpbHRlckRlZXAgPSByZXF1aXJlKCcuL29iamVjdC9maWx0ZXJEZWVwJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZmlsdGVyRGVlcCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlckRlZXApLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2ZpbmREZWVwID0gcmVxdWlyZSgnLi9vYmplY3QvZmluZERlZXAnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdmaW5kRGVlcCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbmREZWVwKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9ncm91cEJ5S2V5ID0gcmVxdWlyZSgnLi9vYmplY3QvZ3JvdXBCeUtleScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dyb3VwQnlLZXknLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ncm91cEJ5S2V5KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9pbW11dGFibGVDaGlsZHJlblRvSlMgPSByZXF1aXJlKCcuL29iamVjdC9pbW11dGFibGVDaGlsZHJlblRvSlMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpbW11dGFibGVDaGlsZHJlblRvSlMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbW11dGFibGVDaGlsZHJlblRvSlMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2FyZUFycmF5c0VxdWFsID0gcmVxdWlyZSgnLi90aWNrcy9hcmVBcnJheXNFcXVhbCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FyZUFycmF5c0VxdWFsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJlQXJyYXlzRXF1YWwpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2FyZUNhbmRsZUFycmF5RXF1YWwgPSByZXF1aXJlKCcuL3RpY2tzL2FyZUNhbmRsZUFycmF5RXF1YWwnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhcmVDYW5kbGVBcnJheUVxdWFsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJlQ2FuZGxlQXJyYXlFcXVhbCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYXJlVGlja0FycmF5c0VxdWFsID0gcmVxdWlyZSgnLi90aWNrcy9hcmVUaWNrQXJyYXlzRXF1YWwnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhcmVUaWNrQXJyYXlzRXF1YWwnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcmVUaWNrQXJyYXlzRXF1YWwpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnkgPSByZXF1aXJlKCcuL3RpY2tzL2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnknKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdkb0FycmF5RGlmZmVySnVzdE9uZUVudHJ5Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9BcnJheURpZmZlckp1c3RPbmVFbnRyeSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZG9DYW5kbGVFcXVhbCA9IHJlcXVpcmUoJy4vdGlja3MvZG9DYW5kbGVFcXVhbCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RvQ2FuZGxlRXF1YWwnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb0NhbmRsZUVxdWFsKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9kb0NhbmRsZXNEaWZmZXJKdXN0T25lRW50cnkgPSByZXF1aXJlKCcuL3RpY2tzL2RvQ2FuZGxlc0RpZmZlckp1c3RPbmVFbnRyeScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RvQ2FuZGxlc0RpZmZlckp1c3RPbmVFbnRyeScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvQ2FuZGxlc0RpZmZlckp1c3RPbmVFbnRyeSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZG9UaWNrc0RpZmZlckp1c3RPbmVFbnRyeSA9IHJlcXVpcmUoJy4vdGlja3MvZG9UaWNrc0RpZmZlckp1c3RPbmVFbnRyeScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RvVGlja3NEaWZmZXJKdXN0T25lRW50cnknLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb1RpY2tzRGlmZmVySnVzdE9uZUVudHJ5KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9kb1RpY2tzRXF1YWwgPSByZXF1aXJlKCcuL3RpY2tzL2RvVGlja3NFcXVhbCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RvVGlja3NFcXVhbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvVGlja3NFcXVhbCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfZ2V0TGFzdE9ITENUaWNrID0gcmVxdWlyZSgnLi90aWNrcy9nZXRMYXN0T0hMQ1RpY2snKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRMYXN0T0hMQ1RpY2snLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRMYXN0T0hMQ1RpY2spLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2dldExhc3RUaWNrUXVvdGUgPSByZXF1aXJlKCcuL3RpY2tzL2dldExhc3RUaWNrUXVvdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRMYXN0VGlja1F1b3RlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TGFzdFRpY2tRdW90ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaGlzdG9yeVRvVGlja3MgPSByZXF1aXJlKCcuL3RpY2tzL2hpc3RvcnlUb1RpY2tzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaGlzdG9yeVRvVGlja3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oaXN0b3J5VG9UaWNrcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfb2hsY1RvRGF0YSA9IHJlcXVpcmUoJy4vdGlja3Mvb2hsY1RvRGF0YScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ29obGNUb0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vaGxjVG9EYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9vaGxjVG9UaWNrcyA9IHJlcXVpcmUoJy4vdGlja3Mvb2hsY1RvVGlja3MnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdvaGxjVG9UaWNrcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29obGNUb1RpY2tzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90aWNrVG9EYXRhID0gcmVxdWlyZSgnLi90aWNrcy90aWNrVG9EYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAndGlja1RvRGF0YScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpY2tUb0RhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2Fza1ByaWNlRnJvbVByb3Bvc2FsID0gcmVxdWlyZSgnLi90cmFkZS9hc2tQcmljZUZyb21Qcm9wb3NhbCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Fza1ByaWNlRnJvbVByb3Bvc2FsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNrUHJpY2VGcm9tUHJvcG9zYWwpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2NvbXB1dGVTdGFydEVuZEZvckNvbnRyYWN0ID0gcmVxdWlyZSgnLi90cmFkZS9jb21wdXRlU3RhcnRFbmRGb3JDb250cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NvbXB1dGVTdGFydEVuZEZvckNvbnRyYWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcHV0ZVN0YXJ0RW5kRm9yQ29udHJhY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2NvbnRyYWN0Q2F0ZWdvcnlUb1RleHQgPSByZXF1aXJlKCcuL3RyYWRlL2NvbnRyYWN0Q2F0ZWdvcnlUb1RleHQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb250cmFjdENhdGVnb3J5VG9UZXh0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29udHJhY3RDYXRlZ29yeVRvVGV4dCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfY29udHJhY3RDb2RlVG9UZXh0ID0gcmVxdWlyZSgnLi90cmFkZS9jb250cmFjdENvZGVUb1RleHQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjb250cmFjdENvZGVUb1RleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb250cmFjdENvZGVUb1RleHQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2V4dHJhY3RTcHJlYWRJbmZvID0gcmVxdWlyZSgnLi90cmFkZS9leHRyYWN0U3ByZWFkSW5mbycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2V4dHJhY3RTcHJlYWRJbmZvJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdFNwcmVhZEluZm8pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2lzSW50cmFkYXkgPSByZXF1aXJlKCcuL3RyYWRlL2lzSW50cmFkYXknKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpc0ludHJhZGF5Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbnRyYWRheSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfbm9ybWFsaXplZENvbnRyYWN0Rm9yID0gcmVxdWlyZSgnLi90cmFkZS9ub3JtYWxpemVkQ29udHJhY3RGb3InKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdub3JtYWxpemVkQ29udHJhY3RGb3InLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub3JtYWxpemVkQ29udHJhY3RGb3IpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3RyYWRlVG9GcmllbmRseVR5cGUgPSByZXF1aXJlKCcuL3RyYWRlL3RyYWRlVG9GcmllbmRseVR5cGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0cmFkZVRvRnJpZW5kbHlUeXBlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhZGVUb0ZyaWVuZGx5VHlwZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfdHJhZGVUeXBlQ29kZVRvVGV4dCA9IHJlcXVpcmUoJy4vdHJhZGUvdHJhZGVUeXBlQ29kZVRvVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RyYWRlVHlwZUNvZGVUb1RleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFkZVR5cGVDb2RlVG9UZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF90cmFkZVR5cGVUZXh0VG9Db2RlID0gcmVxdWlyZSgnLi90cmFkZS90cmFkZVR5cGVUZXh0VG9Db2RlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAndHJhZGVUeXBlVGV4dFRvQ29kZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYWRlVHlwZVRleHRUb0NvZGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3RyYWRlVHlwZXMgPSByZXF1aXJlKCcuL3RyYWRlL3RyYWRlVHlwZXMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0cmFkZVR5cGVzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhZGVUeXBlcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfdHlwZUhhc0JhcnJpZXIgPSByZXF1aXJlKCcuL3RyYWRlL3R5cGVIYXNCYXJyaWVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAndHlwZUhhc0JhcnJpZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlSGFzQmFycmllcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQW5hbHl0aWNzID0gcmVxdWlyZSgnLi9taXNjL0FuYWx5dGljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FuYWx5dGljcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FuYWx5dGljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYnJhbmRDb2xvciA9IHJlcXVpcmUoJy4vbWlzYy9icmFuZENvbG9yJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYnJhbmRDb2xvcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JyYW5kQ29sb3IpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2RpcmVjdGlvbkNsYXNzTmFtZSA9IHJlcXVpcmUoJy4vbWlzYy9kaXJlY3Rpb25DbGFzc05hbWUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdkaXJlY3Rpb25DbGFzc05hbWUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kaXJlY3Rpb25DbGFzc05hbWUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2Vycm9yVG9TdHJpbmcgPSByZXF1aXJlKCcuL21pc2MvZXJyb3JUb1N0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Vycm9yVG9TdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcnJvclRvU3RyaW5nKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9nZXRVbmlxdWVJZCA9IHJlcXVpcmUoJy4vbWlzYy9nZXRVbmlxdWVJZCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dldFVuaXF1ZUlkJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0VW5pcXVlSWQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2lzTW9iaWxlID0gcmVxdWlyZSgnLi9taXNjL2lzTW9iaWxlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaXNNb2JpbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc01vYmlsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaXNWYWxpZEVtYWlsID0gcmVxdWlyZSgnLi9taXNjL2lzVmFsaWRFbWFpbCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2lzVmFsaWRFbWFpbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzVmFsaWRFbWFpbCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaXNWYWxpZFBhc3N3b3JkID0gcmVxdWlyZSgnLi9taXNjL2lzVmFsaWRQYXNzd29yZCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2lzVmFsaWRQYXNzd29yZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzVmFsaWRQYXNzd29yZCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYWRkRnVsbHNjcmVlbkV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCcuL2RvbS9hZGRGdWxsc2NyZWVuRXZlbnRMaXN0ZW5lcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FkZEZ1bGxzY3JlZW5FdmVudExpc3RlbmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkRnVsbHNjcmVlbkV2ZW50TGlzdGVuZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2V4aXRGdWxsc2NyZWVuID0gcmVxdWlyZSgnLi9kb20vZXhpdEZ1bGxzY3JlZW4nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdleGl0RnVsbHNjcmVlbicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4aXRGdWxsc2NyZWVuKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9yZW1vdmVGdWxsc2NyZWVuRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJy4vZG9tL3JlbW92ZUZ1bGxzY3JlZW5FdmVudExpc3RlbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncmVtb3ZlRnVsbHNjcmVlbkV2ZW50TGlzdGVuZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVGdWxsc2NyZWVuRXZlbnRMaXN0ZW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfcmVxdWVzdEZ1bGxzY3JlZW4gPSByZXF1aXJlKCcuL2RvbS9yZXF1ZXN0RnVsbHNjcmVlbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3JlcXVlc3RGdWxsc2NyZWVuJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWVzdEZ1bGxzY3JlZW4pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3Nob3dJbmZvID0gcmVxdWlyZSgnLi9kb20vc2hvd0luZm8nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdzaG93SW5mbycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nob3dJbmZvKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9zaG93RXJyb3IgPSByZXF1aXJlKCcuL2RvbS9zaG93RXJyb3InKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdzaG93RXJyb3InLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaG93RXJyb3IpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3dpbmRvd1Jlc2l6ZUV2ZW50ID0gcmVxdWlyZSgnLi9kb20vd2luZG93UmVzaXplRXZlbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd3aW5kb3dSZXNpemVFdmVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpbmRvd1Jlc2l6ZUV2ZW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/index.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/Analytics.js":
/*!*************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/Analytics.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\n\nvar nullFunc = function nullFunc() {};\n\nvar analytics = function analytics(ga) {\n    return ga || typeof window !== 'undefined' && window.ga || nullFunc;\n};\n\nvar trackUserId = exports.trackUserId = function trackUserId(userId, ga) {\n    return analytics(ga)('set', 'userId', userId);\n};\n\nvar trackRoute = exports.trackRoute = function trackRoute(route, ga) {\n    return analytics(ga)('send', 'pageview', route);\n};\n\nvar trackEvent = exports.trackEvent = function trackEvent(category, action, label, ga) {\n    return analytics(ga)('send', {\n        hitType: 'event',\n        eventCategory: category,\n        eventAction: action,\n        eventLabel: label\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9BbmFseXRpY3MuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL21pc2MvQW5hbHl0aWNzLmpzPzEzZDYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cblxudmFyIG51bGxGdW5jID0gZnVuY3Rpb24gbnVsbEZ1bmMoKSB7fTtcblxudmFyIGFuYWx5dGljcyA9IGZ1bmN0aW9uIGFuYWx5dGljcyhnYSkge1xuICAgIHJldHVybiBnYSB8fCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZ2EgfHwgbnVsbEZ1bmM7XG59O1xuXG52YXIgdHJhY2tVc2VySWQgPSBleHBvcnRzLnRyYWNrVXNlcklkID0gZnVuY3Rpb24gdHJhY2tVc2VySWQodXNlcklkLCBnYSkge1xuICAgIHJldHVybiBhbmFseXRpY3MoZ2EpKCdzZXQnLCAndXNlcklkJywgdXNlcklkKTtcbn07XG5cbnZhciB0cmFja1JvdXRlID0gZXhwb3J0cy50cmFja1JvdXRlID0gZnVuY3Rpb24gdHJhY2tSb3V0ZShyb3V0ZSwgZ2EpIHtcbiAgICByZXR1cm4gYW5hbHl0aWNzKGdhKSgnc2VuZCcsICdwYWdldmlldycsIHJvdXRlKTtcbn07XG5cbnZhciB0cmFja0V2ZW50ID0gZXhwb3J0cy50cmFja0V2ZW50ID0gZnVuY3Rpb24gdHJhY2tFdmVudChjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgZ2EpIHtcbiAgICByZXR1cm4gYW5hbHl0aWNzKGdhKSgnc2VuZCcsIHtcbiAgICAgICAgaGl0VHlwZTogJ2V2ZW50JyxcbiAgICAgICAgZXZlbnRDYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIGV2ZW50QWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGV2ZW50TGFiZWw6IGxhYmVsXG4gICAgfSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/Analytics.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/brandColor.js":
/*!**************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/brandColor.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (percentage) {\n    return \"rgba(42, 48, 82, \" + percentage + \")\";\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9icmFuZENvbG9yLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL21pc2MvYnJhbmRDb2xvci5qcz84MDVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XG4gICAgcmV0dXJuIFwicmdiYSg0MiwgNDgsIDgyLCBcIiArIHBlcmNlbnRhZ2UgKyBcIilcIjtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/brandColor.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/directionClassName.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/directionClassName.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (value) {\n    return value < 0 && 'number-negative' || value > 0 && 'number-positive' || '';\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9kaXJlY3Rpb25DbGFzc05hbWUuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9kaXJlY3Rpb25DbGFzc05hbWUuanM/ODE5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDwgMCAmJiAnbnVtYmVyLW5lZ2F0aXZlJyB8fCB2YWx1ZSA+IDAgJiYgJ251bWJlci1wb3NpdGl2ZScgfHwgJyc7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/directionClassName.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/errorToString.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/errorToString.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (text) {\n    return text.split(')').length > 1 ? text.split(')')[1] : text;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9lcnJvclRvU3RyaW5nLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL21pc2MvZXJyb3JUb1N0cmluZy5qcz82NWJlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnNwbGl0KCcpJykubGVuZ3RoID4gMSA/IHRleHQuc3BsaXQoJyknKVsxXSA6IHRleHQ7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/errorToString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/getUniqueId.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/getUniqueId.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar uniqueId = 0;\n\nexports[\"default\"] = function () {\n  return uniqueId++;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9nZXRVbmlxdWVJZC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL21pc2MvZ2V0VW5pcXVlSWQuanM/NmJmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciB1bmlxdWVJZCA9IDA7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHVuaXF1ZUlkKys7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/getUniqueId.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/isMobile.js":
/*!************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/isMobile.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n/* eslint-disable wrap-iife, no-useless-escape, space-infix-ops */\nfunction isMobileBrowser() {\n    var check = false;\n    (function (a) {\n        // This regex is retrieved from http://detectmobilebrowsers.com/ on 27 Nov 2017.\n        // If this code below doesn't detect accordingly, update the regex from there.\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) {\n            check = true;\n        }\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n\nexports[\"default\"] = function () {\n    return typeof window !== 'undefined' && (isMobileBrowser() || !!window.cordova);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9pc01vYmlsZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9taXNjL2lzTW9iaWxlLmpzPzVkODkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4vKiBlc2xpbnQtZGlzYWJsZSB3cmFwLWlpZmUsIG5vLXVzZWxlc3MtZXNjYXBlLCBzcGFjZS1pbmZpeC1vcHMgKi9cbmZ1bmN0aW9uIGlzTW9iaWxlQnJvd3NlcigpIHtcbiAgICB2YXIgY2hlY2sgPSBmYWxzZTtcbiAgICAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgLy8gVGhpcyByZWdleCBpcyByZXRyaWV2ZWQgZnJvbSBodHRwOi8vZGV0ZWN0bW9iaWxlYnJvd3NlcnMuY29tLyBvbiAyNyBOb3YgMjAxNy5cbiAgICAgICAgLy8gSWYgdGhpcyBjb2RlIGJlbG93IGRvZXNuJ3QgZGV0ZWN0IGFjY29yZGluZ2x5LCB1cGRhdGUgdGhlIHJlZ2V4IGZyb20gdGhlcmUuXG4gICAgICAgIGlmICgvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChhKSB8fCAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsIDQpKSkge1xuICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgcmV0dXJuIGNoZWNrO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIChpc01vYmlsZUJyb3dzZXIoKSB8fCAhIXdpbmRvdy5jb3Jkb3ZhKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/isMobile.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/isValidEmail.js":
/*!****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/isValidEmail.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (email) {\n    return (/\\S+@\\S+\\.\\S+/.test(email)\n    );\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9pc1ZhbGlkRW1haWwuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9taXNjL2lzVmFsaWRFbWFpbC5qcz84NGQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgIHJldHVybiAoL1xcUytAXFxTK1xcLlxcUysvLnRlc3QoZW1haWwpXG4gICAgKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/isValidEmail.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/misc/isValidPassword.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/misc/isValidPassword.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (password) {\n    return (/^[ -~]{6,25}$/.test(password)\n    );\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbWlzYy9pc1ZhbGlkUGFzc3dvcmQuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9taXNjL2lzVmFsaWRQYXNzd29yZC5qcz83ZjRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgIHJldHVybiAoL15bIC1+XXs2LDI1fSQvLnRlc3QocGFzc3dvcmQpXG4gICAgKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/misc/isValidPassword.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/calculateLastDigitStats.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/calculateLastDigitStats.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _getLastDigit = __webpack_require__(/*! ./getLastDigit */ \"../../node_modules/binary-utils/lib/number/getLastDigit.js\");\n\nvar _getLastDigit2 = _interopRequireDefault(_getLastDigit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (ticks, pips) {\n    return ticks.reduce(function (acc, x) {\n        var digit = (0, _getLastDigit2.default)(x.quote, pips);\n        acc[digit]++;\n        return acc;\n    }, [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]).map(function (x) {\n        return ticks.length && x / ticks.length * 100;\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL2NhbGN1bGF0ZUxhc3REaWdpdFN0YXRzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL251bWJlci9jYWxjdWxhdGVMYXN0RGlnaXRTdGF0cy5qcz8xNGExIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldExhc3REaWdpdCA9IHJlcXVpcmUoJy4vZ2V0TGFzdERpZ2l0Jyk7XG5cbnZhciBfZ2V0TGFzdERpZ2l0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldExhc3REaWdpdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh0aWNrcywgcGlwcykge1xuICAgIHJldHVybiB0aWNrcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICB2YXIgZGlnaXQgPSAoMCwgX2dldExhc3REaWdpdDIuZGVmYXVsdCkoeC5xdW90ZSwgcGlwcyk7XG4gICAgICAgIGFjY1tkaWdpdF0rKztcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gdGlja3MubGVuZ3RoICYmIHggLyB0aWNrcy5sZW5ndGggKiAxMDA7XG4gICAgfSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/calculateLastDigitStats.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/digitsToPips.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/digitsToPips.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (digits) {\n    return Math.pow(10, -digits);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL2RpZ2l0c1RvUGlwcy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9udW1iZXIvZGlnaXRzVG9QaXBzLmpzP2U4N2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGRpZ2l0cykge1xuICAgIHJldHVybiBNYXRoLnBvdygxMCwgLWRpZ2l0cyk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/digitsToPips.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/getLastDigit.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/getLastDigit.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (value, pips) {\n    return +value.toFixed(pips).slice(-1);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL2dldExhc3REaWdpdC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9udW1iZXIvZ2V0TGFzdERpZ2l0LmpzPzk2N2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCBwaXBzKSB7XG4gICAgcmV0dXJuICt2YWx1ZS50b0ZpeGVkKHBpcHMpLnNsaWNlKC0xKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/getLastDigit.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/noOfDecimals.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/noOfDecimals.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (n) {\n    var numStr = n.toString();\n    return numStr.includes('.') ? numStr.split('.')[1].length : 0;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL25vT2ZEZWNpbWFscy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL251bWJlci9ub09mRGVjaW1hbHMuanM/MDA5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICB2YXIgbnVtU3RyID0gbi50b1N0cmluZygpO1xuICAgIHJldHVybiBudW1TdHIuaW5jbHVkZXMoJy4nKSA/IG51bVN0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA6IDA7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/noOfDecimals.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/numberToSignedString.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/numberToSignedString.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (n) {\n    return n > 0 ? '+' + n : n.toString();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL251bWJlclRvU2lnbmVkU3RyaW5nLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL251bWJlci9udW1iZXJUb1NpZ25lZFN0cmluZy5qcz8yNTRkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBuID4gMCA/ICcrJyArIG4gOiBuLnRvU3RyaW5nKCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/numberToSignedString.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/pipSizeToStepSize.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/pipSizeToStepSize.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (pipSize) {\n    if (isNaN(pipSize)) {\n        return '0.01';\n    }\n    var zeros = Array(pipSize).join('0');\n    return '0.' + zeros + 1;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL3BpcFNpemVUb1N0ZXBTaXplLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL3BpcFNpemVUb1N0ZXBTaXplLmpzPzdhZWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwaXBTaXplKSB7XG4gICAgaWYgKGlzTmFOKHBpcFNpemUpKSB7XG4gICAgICAgIHJldHVybiAnMC4wMSc7XG4gICAgfVxuICAgIHZhciB6ZXJvcyA9IEFycmF5KHBpcFNpemUpLmpvaW4oJzAnKTtcbiAgICByZXR1cm4gJzAuJyArIHplcm9zICsgMTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/pipSizeToStepSize.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/pipsToDigits.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/pipsToDigits.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (pips) {\n    return Math.abs(Math.log10(pips));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL3BpcHNUb0RpZ2l0cy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9udW1iZXIvcGlwc1RvRGlnaXRzLmpzP2Y5MDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHBpcHMpIHtcbiAgICByZXR1cm4gTWF0aC5hYnMoTWF0aC5sb2cxMChwaXBzKSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/pipsToDigits.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/number/toMoney.js":
/*!*************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/number/toMoney.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (value) {\n    return (+value).toFixed(2);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL3RvTW9uZXkuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvbnVtYmVyL3RvTW9uZXkuanM/YWUxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gKCt2YWx1ZSkudG9GaXhlZCgyKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/number/toMoney.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/object/filterDeep.js":
/*!****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/object/filterDeep.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (obj, predicate) {\n    return Object.keys(obj).reduce(function (acc, key) {\n        if (predicate(obj[key])) {\n            acc[key] = obj[key];\n        }\n        return acc;\n    }, {});\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvb2JqZWN0L2ZpbHRlckRlZXAuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL29iamVjdC9maWx0ZXJEZWVwLmpzP2YyYzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwgcHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldKSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/object/filterDeep.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/object/findDeep.js":
/*!**************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/object/findDeep.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Find if certain value is true in the object\n * @param obj\n * @param predicate     (object, index) => true|false\n * @returns {boolean}\n */\nvar findDeep = function findDeep(obj, predicate) {\n    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' || obj === null || obj === undefined) {\n        return false;\n    }\n\n    var allChildren = Object.keys(obj).map(function (k) {\n        return obj[k];\n    });\n    var childrenMeetPredicate = allChildren.map(function (child, k) {\n        return predicate(child, k);\n    });\n    if (childrenMeetPredicate.indexOf(true) > -1) {\n        return true;\n    }\n    var childrenResult = allChildren.map(function (child) {\n        return findDeep(child, predicate);\n    });\n    return childrenResult.indexOf(true) > -1;\n};\n\nexports[\"default\"] = findDeep;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvb2JqZWN0L2ZpbmREZWVwLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9vYmplY3QvZmluZERlZXAuanM/NTAwMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG4vKipcbiAqIEZpbmQgaWYgY2VydGFpbiB2YWx1ZSBpcyB0cnVlIGluIHRoZSBvYmplY3RcbiAqIEBwYXJhbSBvYmpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgICAgIChvYmplY3QsIGluZGV4KSA9PiB0cnVlfGZhbHNlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xudmFyIGZpbmREZWVwID0gZnVuY3Rpb24gZmluZERlZXAob2JqLCBwcmVkaWNhdGUpIHtcbiAgICBpZiAoKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9iaikpICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwgfHwgb2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBhbGxDaGlsZHJlbiA9IE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiBvYmpba107XG4gICAgfSk7XG4gICAgdmFyIGNoaWxkcmVuTWVldFByZWRpY2F0ZSA9IGFsbENoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQsIGspIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZShjaGlsZCwgayk7XG4gICAgfSk7XG4gICAgaWYgKGNoaWxkcmVuTWVldFByZWRpY2F0ZS5pbmRleE9mKHRydWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBjaGlsZHJlblJlc3VsdCA9IGFsbENoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpbmREZWVwKGNoaWxkLCBwcmVkaWNhdGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBjaGlsZHJlblJlc3VsdC5pbmRleE9mKHRydWUpID4gLTE7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmaW5kRGVlcDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/object/findDeep.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/object/groupByKey.js":
/*!****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/object/groupByKey.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr, key) {\n    var result = {};\n    arr.forEach(function (ele) {\n        var kv = ele[key];\n        if (!result[kv]) {\n            result[kv] = [];\n        }\n        result[kv].push(ele);\n    });\n    return result;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvb2JqZWN0L2dyb3VwQnlLZXkuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL29iamVjdC9ncm91cEJ5S2V5LmpzPzQ0MGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFyciwga2V5KSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgdmFyIGt2ID0gZWxlW2tleV07XG4gICAgICAgIGlmICghcmVzdWx0W2t2XSkge1xuICAgICAgICAgICAgcmVzdWx0W2t2XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrdl0ucHVzaChlbGUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/object/groupByKey.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/object/immutableChildrenToJS.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/object/immutableChildrenToJS.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar toPlainJS = exports.toPlainJS = function toPlainJS(obj) {\n    return obj && (typeof obj.toJS === 'undefined' ? obj : obj.toJS());\n};\n\nexports[\"default\"] = function (obj) {\n    return obj && Object.keys(obj).reduce(function (acc, key) {\n        acc[key] = toPlainJS(obj[key]);\n        return acc;\n    }, {});\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvb2JqZWN0L2ltbXV0YWJsZUNoaWxkcmVuVG9KUy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi9vYmplY3QvaW1tdXRhYmxlQ2hpbGRyZW5Ub0pTLmpzPzE1N2IiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgdG9QbGFpbkpTID0gZXhwb3J0cy50b1BsYWluSlMgPSBmdW5jdGlvbiB0b1BsYWluSlMob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiAodHlwZW9mIG9iai50b0pTID09PSAndW5kZWZpbmVkJyA/IG9iaiA6IG9iai50b0pTKCkpO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gdG9QbGFpbkpTKG9ialtrZXldKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/object/immutableChildrenToJS.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/areArraysEqual.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/areArraysEqual.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr1, arr2) {\n    return arr1.length === arr2.length && arr1.every(function (x, idx) {\n        return x === arr2[idx];\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvYXJlQXJyYXlzRXF1YWwuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL2FyZUFycmF5c0VxdWFsLmpzPzEzOWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycjEsIGFycjIpIHtcbiAgICByZXR1cm4gYXJyMS5sZW5ndGggPT09IGFycjIubGVuZ3RoICYmIGFycjEuZXZlcnkoZnVuY3Rpb24gKHgsIGlkeCkge1xuICAgICAgICByZXR1cm4geCA9PT0gYXJyMltpZHhdO1xuICAgIH0pO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/areArraysEqual.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/areCandleArrayEqual.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/areCandleArrayEqual.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (ohlc1, ohlc2) {\n    var o1Len = ohlc1.length;\n    var o2Len = ohlc2.length;\n\n    if (o1Len !== o2Len) {\n        return false;\n    }\n\n    if (o1Len === 0) {\n        return true;\n    }\n\n    var o1Last = ohlc1[o1Len - 1];\n    var o2Last = ohlc2[o2Len - 1];\n\n    return o1Last.epoch === o2Last.epoch && o1Last.close === o2Last.close;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvYXJlQ2FuZGxlQXJyYXlFcXVhbC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvYXJlQ2FuZGxlQXJyYXlFcXVhbC5qcz9iMjMyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvaGxjMSwgb2hsYzIpIHtcbiAgICB2YXIgbzFMZW4gPSBvaGxjMS5sZW5ndGg7XG4gICAgdmFyIG8yTGVuID0gb2hsYzIubGVuZ3RoO1xuXG4gICAgaWYgKG8xTGVuICE9PSBvMkxlbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG8xTGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBvMUxhc3QgPSBvaGxjMVtvMUxlbiAtIDFdO1xuICAgIHZhciBvMkxhc3QgPSBvaGxjMltvMkxlbiAtIDFdO1xuXG4gICAgcmV0dXJuIG8xTGFzdC5lcG9jaCA9PT0gbzJMYXN0LmVwb2NoICYmIG8xTGFzdC5jbG9zZSA9PT0gbzJMYXN0LmNsb3NlO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/areCandleArrayEqual.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/areTickArraysEqual.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/areTickArraysEqual.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (ticks1, ticks2) {\n    return ticks1.length === ticks2.length && (ticks1.length === 0 || ticks1[ticks1.length - 1].epoch === ticks2[ticks2.length - 1].epoch);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvYXJlVGlja0FycmF5c0VxdWFsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL2FyZVRpY2tBcnJheXNFcXVhbC5qcz9mYTk4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh0aWNrczEsIHRpY2tzMikge1xuICAgIHJldHVybiB0aWNrczEubGVuZ3RoID09PSB0aWNrczIubGVuZ3RoICYmICh0aWNrczEubGVuZ3RoID09PSAwIHx8IHRpY2tzMVt0aWNrczEubGVuZ3RoIC0gMV0uZXBvY2ggPT09IHRpY2tzMlt0aWNrczIubGVuZ3RoIC0gMV0uZXBvY2gpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/areTickArraysEqual.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/doArrayDifferJustOneEntry.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/doArrayDifferJustOneEntry.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (arr1, arr2) {\n    var eq = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (a, b) {\n        return a === b;\n    };\n\n    var len1 = arr1.length;\n    var len2 = arr2.length;\n    var lengthDiff = Math.abs(len1 - len2);\n\n    switch (lengthDiff) {\n        case 0:\n            if (len1 === 0) return false;\n            if (len1 === 1) return !eq(arr1[0], arr2[0]);\n\n            return eq(arr1[arr1.length - 1], arr2[arr2.length - 2]) || eq(arr1[arr1.length - 2], arr2[arr2.length - 1]);\n\n        case 1:\n            if (len1 === 0 || len2 === 0) return true;\n\n            return eq(arr1[arr1.length - 1], arr2[arr2.length - 2]) || eq(arr1[arr1.length - 2], arr2[arr2.length - 1]);\n\n        default:\n            return false;\n    }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZG9BcnJheURpZmZlckp1c3RPbmVFbnRyeS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnkuanM/MzNmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyMSwgYXJyMikge1xuICAgIHZhciBlcSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfTtcblxuICAgIHZhciBsZW4xID0gYXJyMS5sZW5ndGg7XG4gICAgdmFyIGxlbjIgPSBhcnIyLmxlbmd0aDtcbiAgICB2YXIgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGxlbjEgLSBsZW4yKTtcblxuICAgIHN3aXRjaCAobGVuZ3RoRGlmZikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAobGVuMSA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKGxlbjEgPT09IDEpIHJldHVybiAhZXEoYXJyMVswXSwgYXJyMlswXSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlcShhcnIxW2FycjEubGVuZ3RoIC0gMV0sIGFycjJbYXJyMi5sZW5ndGggLSAyXSkgfHwgZXEoYXJyMVthcnIxLmxlbmd0aCAtIDJdLCBhcnIyW2FycjIubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmIChsZW4xID09PSAwIHx8IGxlbjIgPT09IDApIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gZXEoYXJyMVthcnIxLmxlbmd0aCAtIDFdLCBhcnIyW2FycjIubGVuZ3RoIC0gMl0pIHx8IGVxKGFycjFbYXJyMS5sZW5ndGggLSAyXSwgYXJyMlthcnIyLmxlbmd0aCAtIDFdKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/doArrayDifferJustOneEntry.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/doCandleEqual.js":
/*!******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/doCandleEqual.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (ohlc1, ohlc2) {\n    return !ohlc1 && ohlc1 === ohlc2 || !!ohlc1 && !!ohlc2 && ohlc1.epoch === ohlc2.epoch && ohlc1.close === ohlc2.close;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZG9DYW5kbGVFcXVhbC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi90aWNrcy9kb0NhbmRsZUVxdWFsLmpzPzdmNGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9obGMxLCBvaGxjMikge1xuICAgIHJldHVybiAhb2hsYzEgJiYgb2hsYzEgPT09IG9obGMyIHx8ICEhb2hsYzEgJiYgISFvaGxjMiAmJiBvaGxjMS5lcG9jaCA9PT0gb2hsYzIuZXBvY2ggJiYgb2hsYzEuY2xvc2UgPT09IG9obGMyLmNsb3NlO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/doCandleEqual.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/doCandlesDifferJustOneEntry.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/doCandlesDifferJustOneEntry.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _doCandleEqual = __webpack_require__(/*! ./doCandleEqual */ \"../../node_modules/binary-utils/lib/ticks/doCandleEqual.js\");\n\nvar _doCandleEqual2 = _interopRequireDefault(_doCandleEqual);\n\nvar _doArrayDifferJustOneEntry = __webpack_require__(/*! ./doArrayDifferJustOneEntry */ \"../../node_modules/binary-utils/lib/ticks/doArrayDifferJustOneEntry.js\");\n\nvar _doArrayDifferJustOneEntry2 = _interopRequireDefault(_doArrayDifferJustOneEntry);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (candles1, candles2) {\n    return (0, _doArrayDifferJustOneEntry2.default)(candles1, candles2, _doCandleEqual2.default);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZG9DYW5kbGVzRGlmZmVySnVzdE9uZUVudHJ5LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZG9DYW5kbGVzRGlmZmVySnVzdE9uZUVudHJ5LmpzP2U5NjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZG9DYW5kbGVFcXVhbCA9IHJlcXVpcmUoJy4vZG9DYW5kbGVFcXVhbCcpO1xuXG52YXIgX2RvQ2FuZGxlRXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9DYW5kbGVFcXVhbCk7XG5cbnZhciBfZG9BcnJheURpZmZlckp1c3RPbmVFbnRyeSA9IHJlcXVpcmUoJy4vZG9BcnJheURpZmZlckp1c3RPbmVFbnRyeScpO1xuXG52YXIgX2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9BcnJheURpZmZlckp1c3RPbmVFbnRyeSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjYW5kbGVzMSwgY2FuZGxlczIpIHtcbiAgICByZXR1cm4gKDAsIF9kb0FycmF5RGlmZmVySnVzdE9uZUVudHJ5Mi5kZWZhdWx0KShjYW5kbGVzMSwgY2FuZGxlczIsIF9kb0NhbmRsZUVxdWFsMi5kZWZhdWx0KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/doCandlesDifferJustOneEntry.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/doTicksDifferJustOneEntry.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/doTicksDifferJustOneEntry.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _doTicksEqual = __webpack_require__(/*! ./doTicksEqual */ \"../../node_modules/binary-utils/lib/ticks/doTicksEqual.js\");\n\nvar _doTicksEqual2 = _interopRequireDefault(_doTicksEqual);\n\nvar _doArrayDifferJustOneEntry = __webpack_require__(/*! ./doArrayDifferJustOneEntry */ \"../../node_modules/binary-utils/lib/ticks/doArrayDifferJustOneEntry.js\");\n\nvar _doArrayDifferJustOneEntry2 = _interopRequireDefault(_doArrayDifferJustOneEntry);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (ticks1, ticks2) {\n    return (0, _doArrayDifferJustOneEntry2.default)(ticks1, ticks2, _doTicksEqual2.default);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZG9UaWNrc0RpZmZlckp1c3RPbmVFbnRyeS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL2RvVGlja3NEaWZmZXJKdXN0T25lRW50cnkuanM/Yzg0MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kb1RpY2tzRXF1YWwgPSByZXF1aXJlKCcuL2RvVGlja3NFcXVhbCcpO1xuXG52YXIgX2RvVGlja3NFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb1RpY2tzRXF1YWwpO1xuXG52YXIgX2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnkgPSByZXF1aXJlKCcuL2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnknKTtcblxudmFyIF9kb0FycmF5RGlmZmVySnVzdE9uZUVudHJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvQXJyYXlEaWZmZXJKdXN0T25lRW50cnkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodGlja3MxLCB0aWNrczIpIHtcbiAgICByZXR1cm4gKDAsIF9kb0FycmF5RGlmZmVySnVzdE9uZUVudHJ5Mi5kZWZhdWx0KSh0aWNrczEsIHRpY2tzMiwgX2RvVGlja3NFcXVhbDIuZGVmYXVsdCk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/doTicksDifferJustOneEntry.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/doTicksEqual.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/doTicksEqual.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (tick1, tick2) {\n    return !tick1 && tick1 === tick2 || !!tick1 && !!tick2 && tick1.epoch === tick2.epoch && tick1.quote === tick2.quote;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZG9UaWNrc0VxdWFsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL2RvVGlja3NFcXVhbC5qcz8wZTNmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh0aWNrMSwgdGljazIpIHtcbiAgICByZXR1cm4gIXRpY2sxICYmIHRpY2sxID09PSB0aWNrMiB8fCAhIXRpY2sxICYmICEhdGljazIgJiYgdGljazEuZXBvY2ggPT09IHRpY2syLmVwb2NoICYmIHRpY2sxLnF1b3RlID09PSB0aWNrMi5xdW90ZTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/doTicksEqual.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/getLastOHLCTick.js":
/*!********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/getLastOHLCTick.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (candles) {\n    return candles && (candles.length === 0 ? undefined : +candles[candles.length - 1].close);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZ2V0TGFzdE9ITENUaWNrLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL2dldExhc3RPSExDVGljay5qcz8yZDBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjYW5kbGVzKSB7XG4gICAgcmV0dXJuIGNhbmRsZXMgJiYgKGNhbmRsZXMubGVuZ3RoID09PSAwID8gdW5kZWZpbmVkIDogK2NhbmRsZXNbY2FuZGxlcy5sZW5ndGggLSAxXS5jbG9zZSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/getLastOHLCTick.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/getLastTickQuote.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/getLastTickQuote.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (ticks) {\n    return ticks && ticks.length > 0 ? ticks[ticks.length - 1].quote : undefined;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvZ2V0TGFzdFRpY2tRdW90ZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi90aWNrcy9nZXRMYXN0VGlja1F1b3RlLmpzPzE5MjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHRpY2tzKSB7XG4gICAgcmV0dXJuIHRpY2tzICYmIHRpY2tzLmxlbmd0aCA+IDAgPyB0aWNrc1t0aWNrcy5sZW5ndGggLSAxXS5xdW90ZSA6IHVuZGVmaW5lZDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/getLastTickQuote.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/historyToTicks.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/historyToTicks.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\n// a zip + map, but I do not find we need it much, so no need to generalize\nexports[\"default\"] = function (history) {\n    return history.times.map(function (t, idx) {\n        return {\n            epoch: +t,\n            quote: +history.prices[idx]\n        };\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvaGlzdG9yeVRvVGlja3MuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvaGlzdG9yeVRvVGlja3MuanM/OTBhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG4vLyBhIHppcCArIG1hcCwgYnV0IEkgZG8gbm90IGZpbmQgd2UgbmVlZCBpdCBtdWNoLCBzbyBubyBuZWVkIHRvIGdlbmVyYWxpemVcbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChoaXN0b3J5KSB7XG4gICAgcmV0dXJuIGhpc3RvcnkudGltZXMubWFwKGZ1bmN0aW9uICh0LCBpZHgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVwb2NoOiArdCxcbiAgICAgICAgICAgIHF1b3RlOiAraGlzdG9yeS5wcmljZXNbaWR4XVxuICAgICAgICB9O1xuICAgIH0pO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/historyToTicks.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/ohlcToData.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/ohlcToData.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\n// open_time is used when data is stream\nexports[\"default\"] = function (candle) {\n    return [+(candle.open_time || candle.epoch) * 1000, +candle.open, +candle.high, +candle.low, +candle.close];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3Mvb2hsY1RvRGF0YS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL29obGNUb0RhdGEuanM/MDVhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG4vLyBvcGVuX3RpbWUgaXMgdXNlZCB3aGVuIGRhdGEgaXMgc3RyZWFtXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoY2FuZGxlKSB7XG4gICAgcmV0dXJuIFsrKGNhbmRsZS5vcGVuX3RpbWUgfHwgY2FuZGxlLmVwb2NoKSAqIDEwMDAsICtjYW5kbGUub3BlbiwgK2NhbmRsZS5oaWdoLCArY2FuZGxlLmxvdywgK2NhbmRsZS5jbG9zZV07XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/ohlcToData.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/ohlcToTicks.js":
/*!****************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/ohlcToTicks.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (candles) {\n    return candles.map(function (data) {\n        return { quote: +data.open, epoch: +data.epoch };\n    });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3Mvb2hsY1RvVGlja3MuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RpY2tzL29obGNUb1RpY2tzLmpzP2UyMjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNhbmRsZXMpIHtcbiAgICByZXR1cm4gY2FuZGxlcy5tYXAoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHsgcXVvdGU6ICtkYXRhLm9wZW4sIGVwb2NoOiArZGF0YS5lcG9jaCB9O1xuICAgIH0pO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/ohlcToTicks.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/ticks/tickToData.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/ticks/tickToData.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (tick) {\n    return [+tick.epoch * 1000, +tick.quote];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdGlja3MvdGlja1RvRGF0YS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi90aWNrcy90aWNrVG9EYXRhLmpzPzIyYzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHRpY2spIHtcbiAgICByZXR1cm4gWyt0aWNrLmVwb2NoICogMTAwMCwgK3RpY2sucXVvdGVdO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/ticks/tickToData.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/askPriceFromProposal.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/askPriceFromProposal.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (proposal) {\n    return proposal && +proposal.ask_price;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvYXNrUHJpY2VGcm9tUHJvcG9zYWwuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvYXNrUHJpY2VGcm9tUHJvcG9zYWwuanM/NTZhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocHJvcG9zYWwpIHtcbiAgICByZXR1cm4gcHJvcG9zYWwgJiYgK3Byb3Bvc2FsLmFza19wcmljZTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/askPriceFromProposal.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/computeStartEndForContract.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/computeStartEndForContract.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _nowAsEpoch = __webpack_require__(/*! ../date/nowAsEpoch */ \"../../node_modules/binary-utils/lib/date/nowAsEpoch.js\");\n\nvar _nowAsEpoch2 = _interopRequireDefault(_nowAsEpoch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contract) {\n    var nowEpoch = (0, _nowAsEpoch2.default)();\n    if (contract.tick_count) {\n        var _start = +contract.date_start - 5;\n        var exitTime = +contract.exit_tick_time + 5;\n        var _end = exitTime || nowEpoch;\n        return { start: _start, end: _end };\n    }\n\n    var bufferSize = 0.05; // 5 % buffer\n    var contractStart = +contract.date_start;\n    var contractEnd = +contract.exit_tick_time || +contract.date_expiry;\n\n    if (contractEnd <= contractStart) {\n        var e = new RangeError('Contract ends time is earlier than start time');\n        e.name = 'ContractEndsBeforeStart';\n        throw e;\n    }\n\n    var buffer = (contractEnd - contractStart) * bufferSize;\n    var bufferedExitTime = contractEnd + buffer;\n\n    var start = buffer ? contractStart - buffer : contractStart;\n    var end = contractEnd ? bufferedExitTime : nowEpoch;\n\n    return {\n        end: Math.round(end),\n        start: Math.round(start)\n    };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvY29tcHV0ZVN0YXJ0RW5kRm9yQ29udHJhY3QuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvY29tcHV0ZVN0YXJ0RW5kRm9yQ29udHJhY3QuanM/MDU3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9ub3dBc0Vwb2NoID0gcmVxdWlyZSgnLi4vZGF0ZS9ub3dBc0Vwb2NoJyk7XG5cbnZhciBfbm93QXNFcG9jaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub3dBc0Vwb2NoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbnRyYWN0KSB7XG4gICAgdmFyIG5vd0Vwb2NoID0gKDAsIF9ub3dBc0Vwb2NoMi5kZWZhdWx0KSgpO1xuICAgIGlmIChjb250cmFjdC50aWNrX2NvdW50KSB7XG4gICAgICAgIHZhciBfc3RhcnQgPSArY29udHJhY3QuZGF0ZV9zdGFydCAtIDU7XG4gICAgICAgIHZhciBleGl0VGltZSA9ICtjb250cmFjdC5leGl0X3RpY2tfdGltZSArIDU7XG4gICAgICAgIHZhciBfZW5kID0gZXhpdFRpbWUgfHwgbm93RXBvY2g7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiBfc3RhcnQsIGVuZDogX2VuZCB9O1xuICAgIH1cblxuICAgIHZhciBidWZmZXJTaXplID0gMC4wNTsgLy8gNSAlIGJ1ZmZlclxuICAgIHZhciBjb250cmFjdFN0YXJ0ID0gK2NvbnRyYWN0LmRhdGVfc3RhcnQ7XG4gICAgdmFyIGNvbnRyYWN0RW5kID0gK2NvbnRyYWN0LmV4aXRfdGlja190aW1lIHx8ICtjb250cmFjdC5kYXRlX2V4cGlyeTtcblxuICAgIGlmIChjb250cmFjdEVuZCA8PSBjb250cmFjdFN0YXJ0KSB7XG4gICAgICAgIHZhciBlID0gbmV3IFJhbmdlRXJyb3IoJ0NvbnRyYWN0IGVuZHMgdGltZSBpcyBlYXJsaWVyIHRoYW4gc3RhcnQgdGltZScpO1xuICAgICAgICBlLm5hbWUgPSAnQ29udHJhY3RFbmRzQmVmb3JlU3RhcnQnO1xuICAgICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSAoY29udHJhY3RFbmQgLSBjb250cmFjdFN0YXJ0KSAqIGJ1ZmZlclNpemU7XG4gICAgdmFyIGJ1ZmZlcmVkRXhpdFRpbWUgPSBjb250cmFjdEVuZCArIGJ1ZmZlcjtcblxuICAgIHZhciBzdGFydCA9IGJ1ZmZlciA/IGNvbnRyYWN0U3RhcnQgLSBidWZmZXIgOiBjb250cmFjdFN0YXJ0O1xuICAgIHZhciBlbmQgPSBjb250cmFjdEVuZCA/IGJ1ZmZlcmVkRXhpdFRpbWUgOiBub3dFcG9jaDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGVuZDogTWF0aC5yb3VuZChlbmQpLFxuICAgICAgICBzdGFydDogTWF0aC5yb3VuZChzdGFydClcbiAgICB9O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/computeStartEndForContract.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/contractCategoryToText.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/contractCategoryToText.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (category) {\n    return {\n        callput: 'Up/Down',\n        risefall: 'Rise/Fall',\n        higherlower: 'Higher/Lower',\n        asian: 'Asians',\n        digits: 'Digits',\n        endsinout: 'Ends In/Out',\n        staysinout: 'Stays In/Out',\n        touchnotouch: 'Touch/No Touch',\n        spreads: 'Spreads'\n    }[category];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvY29udHJhY3RDYXRlZ29yeVRvVGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RyYWRlL2NvbnRyYWN0Q2F0ZWdvcnlUb1RleHQuanM/OGRlYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FsbHB1dDogJ1VwL0Rvd24nLFxuICAgICAgICByaXNlZmFsbDogJ1Jpc2UvRmFsbCcsXG4gICAgICAgIGhpZ2hlcmxvd2VyOiAnSGlnaGVyL0xvd2VyJyxcbiAgICAgICAgYXNpYW46ICdBc2lhbnMnLFxuICAgICAgICBkaWdpdHM6ICdEaWdpdHMnLFxuICAgICAgICBlbmRzaW5vdXQ6ICdFbmRzIEluL091dCcsXG4gICAgICAgIHN0YXlzaW5vdXQ6ICdTdGF5cyBJbi9PdXQnLFxuICAgICAgICB0b3VjaG5vdG91Y2g6ICdUb3VjaC9ObyBUb3VjaCcsXG4gICAgICAgIHNwcmVhZHM6ICdTcHJlYWRzJ1xuICAgIH1bY2F0ZWdvcnldO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/contractCategoryToText.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/contractCodeToText.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/contractCodeToText.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n\tvalue: true\n}));\n\nexports[\"default\"] = function (code) {\n\treturn {\n\t\tcontract_id: 'Contract ID',\n\t\tpurchase_time: 'Purchase Time',\n\t\task_price: 'Ask Price',\n\t\tbid_price: 'Bid Price',\n\t\tdate_start: 'Start Time',\n\t\tdate_expiry: 'Expiry Time',\n\t\tdate_settlement: 'Settlement Time',\n\t\texpiry_time: 'Expiry Time',\n\n\t\tcurrent_spot: 'Current Spot',\n\t\tcurrent_spot_time: 'Current Spot Time',\n\t\tentry_spot: 'Entry Spot',\n\t\tentry_tick_time: 'Entry Spot Time',\n\t\tsell_price: 'Sell Price',\n\t\tpayout: 'Potential Payout',\n\t\tbuy_price: 'Purchase Price',\n\n\t\tbarrier: 'Barrier',\n\t\tlow_barrier: 'Low Barrier',\n\t\thigh_barrier: 'High Barrier',\n\n\t\tsell_time: 'Sell Time',\n\n\t\texit_tick_time: 'Exit Spot Time', // to be confirmed\n\t\texit_tick: 'Exit Spot', // to show both or not?\n\n\t\tsell_spot_time: 'DO NOT USE',\n\t\tentry_tick: 'DO NOT USE',\n\t\tsell_spot: 'DO NOT USE'\n\t}[code];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvY29udHJhY3RDb2RlVG9UZXh0LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RyYWRlL2NvbnRyYWN0Q29kZVRvVGV4dC5qcz85MTc2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvZGUpIHtcblx0cmV0dXJuIHtcblx0XHRjb250cmFjdF9pZDogJ0NvbnRyYWN0IElEJyxcblx0XHRwdXJjaGFzZV90aW1lOiAnUHVyY2hhc2UgVGltZScsXG5cdFx0YXNrX3ByaWNlOiAnQXNrIFByaWNlJyxcblx0XHRiaWRfcHJpY2U6ICdCaWQgUHJpY2UnLFxuXHRcdGRhdGVfc3RhcnQ6ICdTdGFydCBUaW1lJyxcblx0XHRkYXRlX2V4cGlyeTogJ0V4cGlyeSBUaW1lJyxcblx0XHRkYXRlX3NldHRsZW1lbnQ6ICdTZXR0bGVtZW50IFRpbWUnLFxuXHRcdGV4cGlyeV90aW1lOiAnRXhwaXJ5IFRpbWUnLFxuXG5cdFx0Y3VycmVudF9zcG90OiAnQ3VycmVudCBTcG90Jyxcblx0XHRjdXJyZW50X3Nwb3RfdGltZTogJ0N1cnJlbnQgU3BvdCBUaW1lJyxcblx0XHRlbnRyeV9zcG90OiAnRW50cnkgU3BvdCcsXG5cdFx0ZW50cnlfdGlja190aW1lOiAnRW50cnkgU3BvdCBUaW1lJyxcblx0XHRzZWxsX3ByaWNlOiAnU2VsbCBQcmljZScsXG5cdFx0cGF5b3V0OiAnUG90ZW50aWFsIFBheW91dCcsXG5cdFx0YnV5X3ByaWNlOiAnUHVyY2hhc2UgUHJpY2UnLFxuXG5cdFx0YmFycmllcjogJ0JhcnJpZXInLFxuXHRcdGxvd19iYXJyaWVyOiAnTG93IEJhcnJpZXInLFxuXHRcdGhpZ2hfYmFycmllcjogJ0hpZ2ggQmFycmllcicsXG5cblx0XHRzZWxsX3RpbWU6ICdTZWxsIFRpbWUnLFxuXG5cdFx0ZXhpdF90aWNrX3RpbWU6ICdFeGl0IFNwb3QgVGltZScsIC8vIHRvIGJlIGNvbmZpcm1lZFxuXHRcdGV4aXRfdGljazogJ0V4aXQgU3BvdCcsIC8vIHRvIHNob3cgYm90aCBvciBub3Q/XG5cblx0XHRzZWxsX3Nwb3RfdGltZTogJ0RPIE5PVCBVU0UnLFxuXHRcdGVudHJ5X3RpY2s6ICdETyBOT1QgVVNFJyxcblx0XHRzZWxsX3Nwb3Q6ICdETyBOT1QgVVNFJ1xuXHR9W2NvZGVdO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/contractCodeToText.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/extractSpreadInfo.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/extractSpreadInfo.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nexports[\"default\"] = function (contracts) {\n    return {\n        amountPerPoint: contracts[0].amount_per_point,\n        stopType: contracts[0].stop_type,\n        stopLoss: contracts[0].stop_loss,\n        stopProfit: contracts[0].stop_profit\n    };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvZXh0cmFjdFNwcmVhZEluZm8uanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RyYWRlL2V4dHJhY3RTcHJlYWRJbmZvLmpzPzM5ODMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbnRyYWN0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFtb3VudFBlclBvaW50OiBjb250cmFjdHNbMF0uYW1vdW50X3Blcl9wb2ludCxcbiAgICAgICAgc3RvcFR5cGU6IGNvbnRyYWN0c1swXS5zdG9wX3R5cGUsXG4gICAgICAgIHN0b3BMb3NzOiBjb250cmFjdHNbMF0uc3RvcF9sb3NzLFxuICAgICAgICBzdG9wUHJvZml0OiBjb250cmFjdHNbMF0uc3RvcF9wcm9maXRcbiAgICB9O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/extractSpreadInfo.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/isIntraday.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/isIntraday.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _durationToSecs = __webpack_require__(/*! ../duration/durationToSecs */ \"../../node_modules/binary-utils/lib/duration/durationToSecs.js\");\n\nvar _durationToSecs2 = _interopRequireDefault(_durationToSecs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (duration, unit) {\n    return (0, _durationToSecs2.default)(duration, unit) < 60 * 60 * 24;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvaXNJbnRyYWRheS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi90cmFkZS9pc0ludHJhZGF5LmpzP2UzOTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZHVyYXRpb25Ub1NlY3MgPSByZXF1aXJlKCcuLi9kdXJhdGlvbi9kdXJhdGlvblRvU2VjcycpO1xuXG52YXIgX2R1cmF0aW9uVG9TZWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2R1cmF0aW9uVG9TZWNzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGR1cmF0aW9uLCB1bml0KSB7XG4gICAgcmV0dXJuICgwLCBfZHVyYXRpb25Ub1NlY3MyLmRlZmF1bHQpKGR1cmF0aW9uLCB1bml0KSA8IDYwICogNjAgKiAyNDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/isIntraday.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/normalizedContractFor.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/normalizedContractFor.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _groupByKey = __webpack_require__(/*! ../object/groupByKey */ \"../../node_modules/binary-utils/lib/object/groupByKey.js\");\n\nvar _groupByKey2 = _interopRequireDefault(_groupByKey);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (contracts) {\n    var extraRemoved = contracts.map(function (contract) {\n        return {\n            amount_per_point: contract.amount_per_point,\n            barrier: contract.barrier,\n            barriers: contract.barriers,\n            contract_category: contract.contract_category,\n            contract_category_display: contract.contract_category_display,\n            contract_display: contract.contract_display,\n            contract_type: contract.contract_type,\n            expiry_type: contract.expiry_type,\n            forward_starting_options: contract.forward_starting_options,\n            high_barrier: contract.high_barrier,\n            last_digit_range: contract.last_digit_range,\n            low_barrier: contract.low_barrier,\n            min_contract_duration: contract.min_contract_duration,\n            max_contract_duration: contract.max_contract_duration,\n            stop_type: contract.stop_type,\n            stop_loss: contract.stop_loss,\n            stop_profit: contract.stop_profit\n        };\n    });\n\n    var groupByCategory = (0, _groupByKey2.default)(extraRemoved, 'contract_category');\n    var allCategory = Object.keys(groupByCategory);\n    allCategory.forEach(function (c) {\n        var relatedContracts = groupByCategory[c];\n        var groupByType = (0, _groupByKey2.default)(relatedContracts, 'contract_type');\n        groupByCategory[c] = groupByType;\n    });\n\n    return groupByCategory;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvbm9ybWFsaXplZENvbnRyYWN0Rm9yLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RyYWRlL25vcm1hbGl6ZWRDb250cmFjdEZvci5qcz9mMzdlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dyb3VwQnlLZXkgPSByZXF1aXJlKCcuLi9vYmplY3QvZ3JvdXBCeUtleScpO1xuXG52YXIgX2dyb3VwQnlLZXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ3JvdXBCeUtleSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb250cmFjdHMpIHtcbiAgICB2YXIgZXh0cmFSZW1vdmVkID0gY29udHJhY3RzLm1hcChmdW5jdGlvbiAoY29udHJhY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFtb3VudF9wZXJfcG9pbnQ6IGNvbnRyYWN0LmFtb3VudF9wZXJfcG9pbnQsXG4gICAgICAgICAgICBiYXJyaWVyOiBjb250cmFjdC5iYXJyaWVyLFxuICAgICAgICAgICAgYmFycmllcnM6IGNvbnRyYWN0LmJhcnJpZXJzLFxuICAgICAgICAgICAgY29udHJhY3RfY2F0ZWdvcnk6IGNvbnRyYWN0LmNvbnRyYWN0X2NhdGVnb3J5LFxuICAgICAgICAgICAgY29udHJhY3RfY2F0ZWdvcnlfZGlzcGxheTogY29udHJhY3QuY29udHJhY3RfY2F0ZWdvcnlfZGlzcGxheSxcbiAgICAgICAgICAgIGNvbnRyYWN0X2Rpc3BsYXk6IGNvbnRyYWN0LmNvbnRyYWN0X2Rpc3BsYXksXG4gICAgICAgICAgICBjb250cmFjdF90eXBlOiBjb250cmFjdC5jb250cmFjdF90eXBlLFxuICAgICAgICAgICAgZXhwaXJ5X3R5cGU6IGNvbnRyYWN0LmV4cGlyeV90eXBlLFxuICAgICAgICAgICAgZm9yd2FyZF9zdGFydGluZ19vcHRpb25zOiBjb250cmFjdC5mb3J3YXJkX3N0YXJ0aW5nX29wdGlvbnMsXG4gICAgICAgICAgICBoaWdoX2JhcnJpZXI6IGNvbnRyYWN0LmhpZ2hfYmFycmllcixcbiAgICAgICAgICAgIGxhc3RfZGlnaXRfcmFuZ2U6IGNvbnRyYWN0Lmxhc3RfZGlnaXRfcmFuZ2UsXG4gICAgICAgICAgICBsb3dfYmFycmllcjogY29udHJhY3QubG93X2JhcnJpZXIsXG4gICAgICAgICAgICBtaW5fY29udHJhY3RfZHVyYXRpb246IGNvbnRyYWN0Lm1pbl9jb250cmFjdF9kdXJhdGlvbixcbiAgICAgICAgICAgIG1heF9jb250cmFjdF9kdXJhdGlvbjogY29udHJhY3QubWF4X2NvbnRyYWN0X2R1cmF0aW9uLFxuICAgICAgICAgICAgc3RvcF90eXBlOiBjb250cmFjdC5zdG9wX3R5cGUsXG4gICAgICAgICAgICBzdG9wX2xvc3M6IGNvbnRyYWN0LnN0b3BfbG9zcyxcbiAgICAgICAgICAgIHN0b3BfcHJvZml0OiBjb250cmFjdC5zdG9wX3Byb2ZpdFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGdyb3VwQnlDYXRlZ29yeSA9ICgwLCBfZ3JvdXBCeUtleTIuZGVmYXVsdCkoZXh0cmFSZW1vdmVkLCAnY29udHJhY3RfY2F0ZWdvcnknKTtcbiAgICB2YXIgYWxsQ2F0ZWdvcnkgPSBPYmplY3Qua2V5cyhncm91cEJ5Q2F0ZWdvcnkpO1xuICAgIGFsbENhdGVnb3J5LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgdmFyIHJlbGF0ZWRDb250cmFjdHMgPSBncm91cEJ5Q2F0ZWdvcnlbY107XG4gICAgICAgIHZhciBncm91cEJ5VHlwZSA9ICgwLCBfZ3JvdXBCeUtleTIuZGVmYXVsdCkocmVsYXRlZENvbnRyYWN0cywgJ2NvbnRyYWN0X3R5cGUnKTtcbiAgICAgICAgZ3JvdXBCeUNhdGVnb3J5W2NdID0gZ3JvdXBCeVR5cGU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZ3JvdXBCeUNhdGVnb3J5O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/normalizedContractFor.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/tradeToFriendlyType.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/tradeToFriendlyType.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _tradeTypeCodeToText = __webpack_require__(/*! ./tradeTypeCodeToText */ \"../../node_modules/binary-utils/lib/trade/tradeTypeCodeToText.js\");\n\nvar _tradeTypeCodeToText2 = _interopRequireDefault(_tradeTypeCodeToText);\n\nvar _typeHasBarrier = __webpack_require__(/*! ./typeHasBarrier */ \"../../node_modules/binary-utils/lib/trade/typeHasBarrier.js\");\n\nvar _typeHasBarrier2 = _interopRequireDefault(_typeHasBarrier);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (code, barrier) {\n    return (0, _tradeTypeCodeToText2.default)(code) + ((0, _typeHasBarrier2.default)(code) ? ' ' + barrier : '');\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvdHJhZGVUb0ZyaWVuZGx5VHlwZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RyYWRlL3RyYWRlVG9GcmllbmRseVR5cGUuanM/MjE1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90cmFkZVR5cGVDb2RlVG9UZXh0ID0gcmVxdWlyZSgnLi90cmFkZVR5cGVDb2RlVG9UZXh0Jyk7XG5cbnZhciBfdHJhZGVUeXBlQ29kZVRvVGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFkZVR5cGVDb2RlVG9UZXh0KTtcblxudmFyIF90eXBlSGFzQmFycmllciA9IHJlcXVpcmUoJy4vdHlwZUhhc0JhcnJpZXInKTtcblxudmFyIF90eXBlSGFzQmFycmllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlSGFzQmFycmllcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb2RlLCBiYXJyaWVyKSB7XG4gICAgcmV0dXJuICgwLCBfdHJhZGVUeXBlQ29kZVRvVGV4dDIuZGVmYXVsdCkoY29kZSkgKyAoKDAsIF90eXBlSGFzQmFycmllcjIuZGVmYXVsdCkoY29kZSkgPyAnICcgKyBiYXJyaWVyIDogJycpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/tradeToFriendlyType.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/tradeTypeCodeToText.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/tradeTypeCodeToText.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _tradeTypes = __webpack_require__(/*! ./tradeTypes */ \"../../node_modules/binary-utils/lib/trade/tradeTypes.js\");\n\nvar _tradeTypes2 = _interopRequireDefault(_tradeTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (code) {\n    var tradeType = _tradeTypes2.default.find(function (x) {\n        return x.value === code;\n    });\n    return tradeType ? tradeType.text : 'Unknown';\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvdHJhZGVUeXBlQ29kZVRvVGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi90cmFkZS90cmFkZVR5cGVDb2RlVG9UZXh0LmpzP2Q2NzQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHJhZGVUeXBlcyA9IHJlcXVpcmUoJy4vdHJhZGVUeXBlcycpO1xuXG52YXIgX3RyYWRlVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJhZGVUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgdmFyIHRyYWRlVHlwZSA9IF90cmFkZVR5cGVzMi5kZWZhdWx0LmZpbmQoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHgudmFsdWUgPT09IGNvZGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyYWRlVHlwZSA/IHRyYWRlVHlwZS50ZXh0IDogJ1Vua25vd24nO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/tradeTypeCodeToText.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/tradeTypeTextToCode.js":
/*!************************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/tradeTypeTextToCode.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _tradeTypes = __webpack_require__(/*! ./tradeTypes */ \"../../node_modules/binary-utils/lib/trade/tradeTypes.js\");\n\nvar _tradeTypes2 = _interopRequireDefault(_tradeTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (text) {\n    var tradeType = _tradeTypes2.default.find(function (x) {\n        return x.text === text;\n    });\n    if (!tradeType) throw new Error('Unknown trade type text');\n    return tradeType.value;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvdHJhZGVUeXBlVGV4dFRvQ29kZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9iaW5hcnktdXRpbHMvbGliL3RyYWRlL3RyYWRlVHlwZVRleHRUb0NvZGUuanM/NzkxOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90cmFkZVR5cGVzID0gcmVxdWlyZSgnLi90cmFkZVR5cGVzJyk7XG5cbnZhciBfdHJhZGVUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFkZVR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgdHJhZGVUeXBlID0gX3RyYWRlVHlwZXMyLmRlZmF1bHQuZmluZChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC50ZXh0ID09PSB0ZXh0O1xuICAgIH0pO1xuICAgIGlmICghdHJhZGVUeXBlKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHJhZGUgdHlwZSB0ZXh0Jyk7XG4gICAgcmV0dXJuIHRyYWRlVHlwZS52YWx1ZTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/tradeTypeTextToCode.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/tradeTypes.js":
/*!***************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/tradeTypes.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n\tvalue: true\n}));\nexports[\"default\"] = [{ value: 'CALL', text: 'Rise', img: 'img/trade-call.svg', ticks: true, barrier: false }, { value: 'PUT', text: 'Fall', img: 'img/trade-put.svg', ticks: true, barrier: false }, { value: 'HIGHER', text: 'Higher', img: 'img/trade-higher.svg', ticks: false, barrier: false }, { value: 'LOWER', text: 'Lower', img: 'img/trade-lower.svg', ticks: false, barrier: false }, { value: 'DIGITMATCH', text: 'Digit Match', img: 'img/trade-digitmatch.svg', ticks: true, barrier: true }, { value: 'DIGITDIFF', text: 'Digit Differs', img: 'img/trade-digitdiff.svg', tick: true, barrier: true }, { value: 'DIGITOVER', text: 'Digit Over', img: 'img/trade-digitover.svg', tick: true, barrier: true }, { value: 'DIGITUNDER', text: 'Digit Under', img: 'img/trade-digitunder.svg', tick: true, barrier: true }, { value: 'DIGITEVEN', text: 'Digit Even', img: 'img/trade-digiteven.svg', tick: true, barrier: false }, { value: 'DIGITODD', text: 'Digit Odd', img: 'img/trade-digitodd.svg', tick: true, barrier: false }, { value: 'ASIANU', text: 'Asian Up', img: 'img/trade-asianu.svg', ticks: true, barrier: false }, { value: 'ASIAND', text: 'Asian Down', img: 'img/trade-asiand.svg', ticks: true, barrier: false }, { value: 'EXPIRYRANGE', text: 'Ends Between', img: 'img/trade-expiryrange.svg', ticks: false, barrier: false }, { value: 'EXPIRYMISS', text: 'Ends Outside', img: 'img/trade-expirymiss.svg', ticks: false, barrier: false }, { value: 'RANGE', text: 'Stays Between', img: 'img/trade-range.svg', ticks: false, barrier: false }, { value: 'UPORDOWN', text: 'Goes Outside', img: 'img/trade-upordown.svg', ticks: false, barrier: false }, { value: 'ONETOUCH', text: 'Touches', img: 'img/trade-onetouch.svg', ticks: false, barrier: false }, { value: 'NOTOUCH', text: 'Does Not Touch', img: 'img/trade-notouch.svg', ticks: false, barrier: false }, { value: 'SPREADU', text: 'Spread Long', img: 'img/trade-spreadu.svg', ticks: false, barrier: false }, { value: 'SPREADD', text: 'Spread Short', img: 'img/trade-spreadu.svg', ticks: false, barrier: false }];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvdHJhZGVUeXBlcy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvYm90LXRyYWRlLWVuZ2luZS8uLi8uLi9ub2RlX21vZHVsZXMvYmluYXJ5LXV0aWxzL2xpYi90cmFkZS90cmFkZVR5cGVzLmpzPzZkZTciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gW3sgdmFsdWU6ICdDQUxMJywgdGV4dDogJ1Jpc2UnLCBpbWc6ICdpbWcvdHJhZGUtY2FsbC5zdmcnLCB0aWNrczogdHJ1ZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ1BVVCcsIHRleHQ6ICdGYWxsJywgaW1nOiAnaW1nL3RyYWRlLXB1dC5zdmcnLCB0aWNrczogdHJ1ZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ0hJR0hFUicsIHRleHQ6ICdIaWdoZXInLCBpbWc6ICdpbWcvdHJhZGUtaGlnaGVyLnN2ZycsIHRpY2tzOiBmYWxzZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ0xPV0VSJywgdGV4dDogJ0xvd2VyJywgaW1nOiAnaW1nL3RyYWRlLWxvd2VyLnN2ZycsIHRpY2tzOiBmYWxzZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ0RJR0lUTUFUQ0gnLCB0ZXh0OiAnRGlnaXQgTWF0Y2gnLCBpbWc6ICdpbWcvdHJhZGUtZGlnaXRtYXRjaC5zdmcnLCB0aWNrczogdHJ1ZSwgYmFycmllcjogdHJ1ZSB9LCB7IHZhbHVlOiAnRElHSVRESUZGJywgdGV4dDogJ0RpZ2l0IERpZmZlcnMnLCBpbWc6ICdpbWcvdHJhZGUtZGlnaXRkaWZmLnN2ZycsIHRpY2s6IHRydWUsIGJhcnJpZXI6IHRydWUgfSwgeyB2YWx1ZTogJ0RJR0lUT1ZFUicsIHRleHQ6ICdEaWdpdCBPdmVyJywgaW1nOiAnaW1nL3RyYWRlLWRpZ2l0b3Zlci5zdmcnLCB0aWNrOiB0cnVlLCBiYXJyaWVyOiB0cnVlIH0sIHsgdmFsdWU6ICdESUdJVFVOREVSJywgdGV4dDogJ0RpZ2l0IFVuZGVyJywgaW1nOiAnaW1nL3RyYWRlLWRpZ2l0dW5kZXIuc3ZnJywgdGljazogdHJ1ZSwgYmFycmllcjogdHJ1ZSB9LCB7IHZhbHVlOiAnRElHSVRFVkVOJywgdGV4dDogJ0RpZ2l0IEV2ZW4nLCBpbWc6ICdpbWcvdHJhZGUtZGlnaXRldmVuLnN2ZycsIHRpY2s6IHRydWUsIGJhcnJpZXI6IGZhbHNlIH0sIHsgdmFsdWU6ICdESUdJVE9ERCcsIHRleHQ6ICdEaWdpdCBPZGQnLCBpbWc6ICdpbWcvdHJhZGUtZGlnaXRvZGQuc3ZnJywgdGljazogdHJ1ZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ0FTSUFOVScsIHRleHQ6ICdBc2lhbiBVcCcsIGltZzogJ2ltZy90cmFkZS1hc2lhbnUuc3ZnJywgdGlja3M6IHRydWUsIGJhcnJpZXI6IGZhbHNlIH0sIHsgdmFsdWU6ICdBU0lBTkQnLCB0ZXh0OiAnQXNpYW4gRG93bicsIGltZzogJ2ltZy90cmFkZS1hc2lhbmQuc3ZnJywgdGlja3M6IHRydWUsIGJhcnJpZXI6IGZhbHNlIH0sIHsgdmFsdWU6ICdFWFBJUllSQU5HRScsIHRleHQ6ICdFbmRzIEJldHdlZW4nLCBpbWc6ICdpbWcvdHJhZGUtZXhwaXJ5cmFuZ2Uuc3ZnJywgdGlja3M6IGZhbHNlLCBiYXJyaWVyOiBmYWxzZSB9LCB7IHZhbHVlOiAnRVhQSVJZTUlTUycsIHRleHQ6ICdFbmRzIE91dHNpZGUnLCBpbWc6ICdpbWcvdHJhZGUtZXhwaXJ5bWlzcy5zdmcnLCB0aWNrczogZmFsc2UsIGJhcnJpZXI6IGZhbHNlIH0sIHsgdmFsdWU6ICdSQU5HRScsIHRleHQ6ICdTdGF5cyBCZXR3ZWVuJywgaW1nOiAnaW1nL3RyYWRlLXJhbmdlLnN2ZycsIHRpY2tzOiBmYWxzZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ1VQT1JET1dOJywgdGV4dDogJ0dvZXMgT3V0c2lkZScsIGltZzogJ2ltZy90cmFkZS11cG9yZG93bi5zdmcnLCB0aWNrczogZmFsc2UsIGJhcnJpZXI6IGZhbHNlIH0sIHsgdmFsdWU6ICdPTkVUT1VDSCcsIHRleHQ6ICdUb3VjaGVzJywgaW1nOiAnaW1nL3RyYWRlLW9uZXRvdWNoLnN2ZycsIHRpY2tzOiBmYWxzZSwgYmFycmllcjogZmFsc2UgfSwgeyB2YWx1ZTogJ05PVE9VQ0gnLCB0ZXh0OiAnRG9lcyBOb3QgVG91Y2gnLCBpbWc6ICdpbWcvdHJhZGUtbm90b3VjaC5zdmcnLCB0aWNrczogZmFsc2UsIGJhcnJpZXI6IGZhbHNlIH0sIHsgdmFsdWU6ICdTUFJFQURVJywgdGV4dDogJ1NwcmVhZCBMb25nJywgaW1nOiAnaW1nL3RyYWRlLXNwcmVhZHUuc3ZnJywgdGlja3M6IGZhbHNlLCBiYXJyaWVyOiBmYWxzZSB9LCB7IHZhbHVlOiAnU1BSRUFERCcsIHRleHQ6ICdTcHJlYWQgU2hvcnQnLCBpbWc6ICdpbWcvdHJhZGUtc3ByZWFkdS5zdmcnLCB0aWNrczogZmFsc2UsIGJhcnJpZXI6IGZhbHNlIH1dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/tradeTypes.js\n");

/***/ }),

/***/ "../../node_modules/binary-utils/lib/trade/typeHasBarrier.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/binary-utils/lib/trade/typeHasBarrier.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n\nvar _tradeTypes = __webpack_require__(/*! ./tradeTypes */ \"../../node_modules/binary-utils/lib/trade/tradeTypes.js\");\n\nvar _tradeTypes2 = _interopRequireDefault(_tradeTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function (type) {\n    var typeDetails = _tradeTypes2.default.find(function (x) {\n        return x.value === type;\n    });\n    return !!(typeDetails && typeDetails.barrier);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvdHlwZUhhc0JhcnJpZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2JpbmFyeS11dGlscy9saWIvdHJhZGUvdHlwZUhhc0JhcnJpZXIuanM/ZDUyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90cmFkZVR5cGVzID0gcmVxdWlyZSgnLi90cmFkZVR5cGVzJyk7XG5cbnZhciBfdHJhZGVUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmFkZVR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgdHlwZURldGFpbHMgPSBfdHJhZGVUeXBlczIuZGVmYXVsdC5maW5kKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LnZhbHVlID09PSB0eXBlO1xuICAgIH0pO1xuICAgIHJldHVybiAhISh0eXBlRGV0YWlscyAmJiB0eXBlRGV0YWlscy5iYXJyaWVyKTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/binary-utils/lib/trade/typeHasBarrier.js\n");

/***/ }),

/***/ "../../node_modules/immutable/dist/immutable.js":
/*!******************************************************!*\
  !*** ../../node_modules/immutable/dist/immutable.js ***!
  \******************************************************/
/***/ (function(module) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (global, factory) {\n   true ? module.exports = factory() :\n  0;\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level :  false || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2ltbXV0YWJsZS9kaXN0L2ltbXV0YWJsZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL2ltbXV0YWJsZS9kaXN0L2ltbXV0YWJsZS5qcz80YWZjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsLkltbXV0YWJsZSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO3ZhciBTTElDRSQwID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKGN0b3IsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAoc3VwZXJDbGFzcykge1xuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICB9XG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gSXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0l0ZXJhYmxlKHZhbHVlKSA/IHZhbHVlIDogU2VxKHZhbHVlKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhLZXllZEl0ZXJhYmxlLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gS2V5ZWRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUgOiBLZXllZFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZEl0ZXJhYmxlLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gSW5kZXhlZEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbmRleGVkKHZhbHVlKSA/IHZhbHVlIDogSW5kZXhlZFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoU2V0SXRlcmFibGUsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBTZXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSXRlcmFibGUodmFsdWUpICYmICFpc0Fzc29jaWF0aXZlKHZhbHVlKSA/IHZhbHVlIDogU2V0U2VxKHZhbHVlKTtcbiAgICB9XG5cblxuXG4gIGZ1bmN0aW9uIGlzSXRlcmFibGUobWF5YmVJdGVyYWJsZSkge1xuICAgIHJldHVybiAhIShtYXliZUl0ZXJhYmxlICYmIG1heWJlSXRlcmFibGVbSVNfSVRFUkFCTEVfU0VOVElORUxdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzS2V5ZWQobWF5YmVLZXllZCkge1xuICAgIHJldHVybiAhIShtYXliZUtleWVkICYmIG1heWJlS2V5ZWRbSVNfS0VZRURfU0VOVElORUxdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSW5kZXhlZChtYXliZUluZGV4ZWQpIHtcbiAgICByZXR1cm4gISEobWF5YmVJbmRleGVkICYmIG1heWJlSW5kZXhlZFtJU19JTkRFWEVEX1NFTlRJTkVMXSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0Fzc29jaWF0aXZlKG1heWJlQXNzb2NpYXRpdmUpIHtcbiAgICByZXR1cm4gaXNLZXllZChtYXliZUFzc29jaWF0aXZlKSB8fCBpc0luZGV4ZWQobWF5YmVBc3NvY2lhdGl2ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc09yZGVyZWQobWF5YmVPcmRlcmVkKSB7XG4gICAgcmV0dXJuICEhKG1heWJlT3JkZXJlZCAmJiBtYXliZU9yZGVyZWRbSVNfT1JERVJFRF9TRU5USU5FTF0pO1xuICB9XG5cbiAgSXRlcmFibGUuaXNJdGVyYWJsZSA9IGlzSXRlcmFibGU7XG4gIEl0ZXJhYmxlLmlzS2V5ZWQgPSBpc0tleWVkO1xuICBJdGVyYWJsZS5pc0luZGV4ZWQgPSBpc0luZGV4ZWQ7XG4gIEl0ZXJhYmxlLmlzQXNzb2NpYXRpdmUgPSBpc0Fzc29jaWF0aXZlO1xuICBJdGVyYWJsZS5pc09yZGVyZWQgPSBpc09yZGVyZWQ7XG5cbiAgSXRlcmFibGUuS2V5ZWQgPSBLZXllZEl0ZXJhYmxlO1xuICBJdGVyYWJsZS5JbmRleGVkID0gSW5kZXhlZEl0ZXJhYmxlO1xuICBJdGVyYWJsZS5TZXQgPSBTZXRJdGVyYWJsZTtcblxuXG4gIHZhciBJU19JVEVSQUJMRV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lURVJBQkxFX19AQCc7XG4gIHZhciBJU19LRVlFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG4gIHZhciBJU19JTkRFWEVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSU5ERVhFRF9fQEAnO1xuICB2YXIgSVNfT1JERVJFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX09SREVSRURfX0BAJztcblxuICAvLyBVc2VkIGZvciBzZXR0aW5nIHByb3RvdHlwZSBtZXRob2RzIHRoYXQgSUU4IGNob2tlcyBvbi5cbiAgdmFyIERFTEVURSA9ICdkZWxldGUnO1xuXG4gIC8vIENvbnN0YW50cyBkZXNjcmliaW5nIHRoZSBzaXplIG9mIHRyaWUgbm9kZXMuXG4gIHZhciBTSElGVCA9IDU7IC8vIFJlc3VsdGVkIGluIGJlc3QgcGVyZm9ybWFuY2UgYWZ0ZXIgX19fX19fP1xuICB2YXIgU0laRSA9IDEgPDwgU0hJRlQ7XG4gIHZhciBNQVNLID0gU0laRSAtIDE7XG5cbiAgLy8gQSBjb25zaXN0ZW50IHNoYXJlZCB2YWx1ZSByZXByZXNlbnRpbmcgXCJub3Qgc2V0XCIgd2hpY2ggZXF1YWxzIG5vdGhpbmcgb3RoZXJcbiAgLy8gdGhhbiBpdHNlbGYsIGFuZCBub3RoaW5nIHRoYXQgY291bGQgYmUgcHJvdmlkZWQgZXh0ZXJuYWxseS5cbiAgdmFyIE5PVF9TRVQgPSB7fTtcblxuICAvLyBCb29sZWFuIHJlZmVyZW5jZXMsIFJvdWdoIGVxdWl2YWxlbnQgb2YgYGJvb2wgJmAuXG4gIHZhciBDSEFOR0VfTEVOR1RIID0geyB2YWx1ZTogZmFsc2UgfTtcbiAgdmFyIERJRF9BTFRFUiA9IHsgdmFsdWU6IGZhbHNlIH07XG5cbiAgZnVuY3Rpb24gTWFrZVJlZihyZWYpIHtcbiAgICByZWYudmFsdWUgPSBmYWxzZTtcbiAgICByZXR1cm4gcmVmO1xuICB9XG5cbiAgZnVuY3Rpb24gU2V0UmVmKHJlZikge1xuICAgIHJlZiAmJiAocmVmLnZhbHVlID0gdHJ1ZSk7XG4gIH1cblxuICAvLyBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSByZXByZXNlbnRpbmcgYW4gXCJvd25lclwiIGZvciB0cmFuc2llbnQgd3JpdGVzXG4gIC8vIHRvIHRyaWVzLiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgb25seSBldmVyIGVxdWFsIGl0c2VsZiwgYW5kIHdpbGwgbm90IGVxdWFsXG4gIC8vIHRoZSByZXR1cm4gb2YgYW55IHN1YnNlcXVlbnQgY2FsbCBvZiB0aGlzIGZ1bmN0aW9uLlxuICBmdW5jdGlvbiBPd25lcklEKCkge31cblxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9jb3B5LWFycmF5LWlubGluZVxuICBmdW5jdGlvbiBhcnJDb3B5KGFyciwgb2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgdmFyIGxlbiA9IE1hdGgubWF4KDAsIGFyci5sZW5ndGggLSBvZmZzZXQpO1xuICAgIHZhciBuZXdBcnIgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICBuZXdBcnJbaWldID0gYXJyW2lpICsgb2Zmc2V0XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuc3VyZVNpemUoaXRlcikge1xuICAgIGlmIChpdGVyLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaXRlci5zaXplID0gaXRlci5fX2l0ZXJhdGUocmV0dXJuVHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVyLnNpemU7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwSW5kZXgoaXRlciwgaW5kZXgpIHtcbiAgICAvLyBUaGlzIGltcGxlbWVudHMgXCJpcyBhcnJheSBpbmRleFwiIHdoaWNoIHRoZSBFQ01BU3RyaW5nIHNwZWMgZGVmaW5lcyBhczpcbiAgICAvL1xuICAgIC8vICAgICBBIFN0cmluZyBwcm9wZXJ0eSBuYW1lIFAgaXMgYW4gYXJyYXkgaW5kZXggaWYgYW5kIG9ubHkgaWZcbiAgICAvLyAgICAgVG9TdHJpbmcoVG9VaW50MzIoUCkpIGlzIGVxdWFsIHRvIFAgYW5kIFRvVWludDMyKFApIGlzIG5vdCBlcXVhbFxuICAgIC8vICAgICB0byAyXjMy4oiSMS5cbiAgICAvL1xuICAgIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1hcnJheS1leG90aWMtb2JqZWN0c1xuICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICB2YXIgdWludDMySW5kZXggPSBpbmRleCA+Pj4gMDsgLy8gTiA+Pj4gMCBpcyBzaG9ydGhhbmQgZm9yIFRvVWludDMyXG4gICAgICBpZiAoJycgKyB1aW50MzJJbmRleCAhPT0gaW5kZXggfHwgdWludDMySW5kZXggPT09IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gdWludDMySW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBpbmRleCA8IDAgPyBlbnN1cmVTaXplKGl0ZXIpICsgaW5kZXggOiBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpIHtcbiAgICByZXR1cm4gKGJlZ2luID09PSAwIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgYmVnaW4gPD0gLXNpemUpKSAmJlxuICAgICAgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgZW5kID49IHNpemUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSkge1xuICAgIHJldHVybiByZXNvbHZlSW5kZXgoYmVnaW4sIHNpemUsIDApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUVuZChlbmQsIHNpemUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUluZGV4KGVuZCwgc2l6ZSwgc2l6ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlSW5kZXgoaW5kZXgsIHNpemUsIGRlZmF1bHRJbmRleCkge1xuICAgIHJldHVybiBpbmRleCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIGRlZmF1bHRJbmRleCA6XG4gICAgICBpbmRleCA8IDAgP1xuICAgICAgICBNYXRoLm1heCgwLCBzaXplICsgaW5kZXgpIDpcbiAgICAgICAgc2l6ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICBpbmRleCA6XG4gICAgICAgICAgTWF0aC5taW4oc2l6ZSwgaW5kZXgpO1xuICB9XG5cbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXG4gIHZhciBJVEVSQVRFX0tFWVMgPSAwO1xuICB2YXIgSVRFUkFURV9WQUxVRVMgPSAxO1xuICB2YXIgSVRFUkFURV9FTlRSSUVTID0gMjtcblxuICB2YXIgUkVBTF9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSBSRUFMX0lURVJBVE9SX1NZTUJPTCB8fCBGQVVYX0lURVJBVE9SX1NZTUJPTDtcblxuXG4gIGZ1bmN0aW9uIEl0ZXJhdG9yKG5leHQpIHtcbiAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuXG4gICAgSXRlcmF0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1tJdGVyYXRvcl0nO1xuICAgIH07XG5cblxuICBJdGVyYXRvci5LRVlTID0gSVRFUkFURV9LRVlTO1xuICBJdGVyYXRvci5WQUxVRVMgPSBJVEVSQVRFX1ZBTFVFUztcbiAgSXRlcmF0b3IuRU5UUklFUyA9IElURVJBVEVfRU5UUklFUztcblxuICBJdGVyYXRvci5wcm90b3R5cGUuaW5zcGVjdCA9XG4gIEl0ZXJhdG9yLnByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsgfVxuICBJdGVyYXRvci5wcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgaXRlcmF0b3JSZXN1bHQpIHtcbiAgICB2YXIgdmFsdWUgPSB0eXBlID09PSAwID8gayA6IHR5cGUgPT09IDEgPyB2IDogW2ssIHZdO1xuICAgIGl0ZXJhdG9yUmVzdWx0ID8gKGl0ZXJhdG9yUmVzdWx0LnZhbHVlID0gdmFsdWUpIDogKGl0ZXJhdG9yUmVzdWx0ID0ge1xuICAgICAgdmFsdWU6IHZhbHVlLCBkb25lOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvclJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRG9uZSgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJdGVyYXRvcihtYXliZUl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuICEhZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSXRlcmF0b3IobWF5YmVJdGVyYXRvcikge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yICYmIHR5cGVvZiBtYXliZUl0ZXJhdG9yLm5leHQgPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJdGVyYXRvcihpdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm4gJiYgaXRlcmF0b3JGbi5jYWxsKGl0ZXJhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGl0ZXJhYmxlICYmIChcbiAgICAgIChSRUFMX0lURVJBVE9SX1NZTUJPTCAmJiBpdGVyYWJsZVtSRUFMX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICBpdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF1cbiAgICApO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcic7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhTZXEsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXF1ZW5jZSgpIDpcbiAgICAgICAgaXNJdGVyYWJsZSh2YWx1ZSkgPyB2YWx1ZS50b1NlcSgpIDogc2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBTZXEub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gU2VxKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFNlcS5wcm90b3R5cGUudG9TZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBTZXEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5fY2FjaGUgJiYgdGhpcy5fX2l0ZXJhdGVVbmNhY2hlZCkge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHRoaXMuZW50cnlTZXEoKS50b0FycmF5KCk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2NhY2hlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSlcblxuICAgIFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRlKHRoaXMsIGZuLCByZXZlcnNlLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRvclVuY2FjaGVkKHR5cGUsIHJldmVyc2UpXG5cbiAgICBTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSwgdHJ1ZSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoS2V5ZWRTZXEsIFNlcSk7XG4gICAgZnVuY3Rpb24gS2V5ZWRTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgZW1wdHlTZXF1ZW5jZSgpLnRvS2V5ZWRTZXEoKSA6XG4gICAgICAgIGlzSXRlcmFibGUodmFsdWUpID9cbiAgICAgICAgICAoaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS50b1NlcSgpIDogdmFsdWUuZnJvbUVudHJ5U2VxKCkpIDpcbiAgICAgICAgICBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgS2V5ZWRTZXEucHJvdG90eXBlLnRvS2V5ZWRTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEluZGV4ZWRTZXEsIFNlcSk7XG4gICAgZnVuY3Rpb24gSW5kZXhlZFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNlcXVlbmNlKCkgOlxuICAgICAgICAhaXNJdGVyYWJsZSh2YWx1ZSkgPyBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSA6XG4gICAgICAgIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUuZW50cnlTZXEoKSA6IHZhbHVlLnRvSW5kZXhlZFNlcSgpO1xuICAgIH1cblxuICAgIEluZGV4ZWRTZXEub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gSW5kZXhlZFNlcShhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS50b0luZGV4ZWRTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIFsnLCAnXScpO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdGUodGhpcywgZm4sIHJldmVyc2UsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlLCBmYWxzZSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoU2V0U2VxLCBTZXEpO1xuICAgIGZ1bmN0aW9uIFNldFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2VxdWVuY2UoKSA6XG4gICAgICAgICFpc0l0ZXJhYmxlKHZhbHVlKSA/IGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIDpcbiAgICAgICAgaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS5lbnRyeVNlcSgpIDogdmFsdWVcbiAgICAgICkudG9TZXRTZXEoKTtcbiAgICB9XG5cbiAgICBTZXRTZXEub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gU2V0U2VxKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFNldFNlcS5wcm90b3R5cGUudG9TZXRTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cblxuXG4gIFNlcS5pc1NlcSA9IGlzU2VxO1xuICBTZXEuS2V5ZWQgPSBLZXllZFNlcTtcbiAgU2VxLlNldCA9IFNldFNlcTtcbiAgU2VxLkluZGV4ZWQgPSBJbmRleGVkU2VxO1xuXG4gIHZhciBJU19TRVFfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TRVFfX0BAJztcblxuICBTZXEucHJvdG90eXBlW0lTX1NFUV9TRU5USU5FTF0gPSB0cnVlO1xuXG5cblxuICBjcmVhdGVDbGFzcyhBcnJheVNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gQXJyYXlTZXEoYXJyYXkpIHtcbiAgICAgIHRoaXMuX2FycmF5ID0gYXJyYXk7XG4gICAgICB0aGlzLnNpemUgPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX2FycmF5W3dyYXBJbmRleCh0aGlzLCBpbmRleCldIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgICB2YXIgbWF4SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICBpZiAoZm4oYXJyYXlbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0sIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgICB2YXIgbWF4SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSBcbiAgICAgICAge3JldHVybiBpaSA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSwgYXJyYXlbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkrKyA6IGlpKytdKX1cbiAgICAgICk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoT2JqZWN0U2VxLCBLZXllZFNlcSk7XG4gICAgZnVuY3Rpb24gT2JqZWN0U2VxKG9iamVjdCkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgICAgdGhpcy5fb2JqZWN0ID0gb2JqZWN0O1xuICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICB0aGlzLnNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGlmIChub3RTZXRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3Rba2V5XTtcbiAgICB9O1xuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICAgIHZhciBtYXhJbmRleCA9IGtleXMubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIGlmIChmbihvYmplY3Rba2V5XSwga2V5LCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgICB2YXIgbWF4SW5kZXggPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICByZXR1cm4gaWkrKyA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBrZXksIG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuICBjcmVhdGVDbGFzcyhJdGVyYWJsZVNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gSXRlcmFibGVTZXEoaXRlcmFibGUpIHtcbiAgICAgIHRoaXMuX2l0ZXJhYmxlID0gaXRlcmFibGU7XG4gICAgICB0aGlzLnNpemUgPSBpdGVyYWJsZS5sZW5ndGggfHwgaXRlcmFibGUuc2l6ZTtcbiAgICB9XG5cbiAgICBJdGVyYWJsZVNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhYmxlID0gdGhpcy5faXRlcmFibGU7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpZiAoaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIEl0ZXJhYmxlU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmFibGUgPSB0aGlzLl9pdGVyYWJsZTtcbiAgICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICAgIGlmICghaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihpdGVyYXRvckRvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEl0ZXJhdG9yU2VxLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBJdGVyYXRvclNlcShpdGVyYXRvcikge1xuICAgICAgdGhpcy5faXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgIHRoaXMuX2l0ZXJhdG9yQ2FjaGUgPSBbXTtcbiAgICB9XG5cbiAgICBJdGVyYXRvclNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgICB2YXIgY2FjaGUgPSB0aGlzLl9pdGVyYXRvckNhY2hlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgd2hpbGUgKGl0ZXJhdGlvbnMgPCBjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGZuKGNhY2hlW2l0ZXJhdGlvbnNdLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgdmFyIHZhbCA9IHN0ZXAudmFsdWU7XG4gICAgICAgIGNhY2hlW2l0ZXJhdGlvbnNdID0gdmFsO1xuICAgICAgICBpZiAoZm4odmFsLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgSXRlcmF0b3JTZXEucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXJhdG9yO1xuICAgICAgdmFyIGNhY2hlID0gdGhpcy5faXRlcmF0b3JDYWNoZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoaXRlcmF0aW9ucyA+PSBjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSBzdGVwLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMsIGNhY2hlW2l0ZXJhdGlvbnMrK10pO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cblxuICAvLyAjIHByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gaXNTZXEobWF5YmVTZXEpIHtcbiAgICByZXR1cm4gISEobWF5YmVTZXEgJiYgbWF5YmVTZXFbSVNfU0VRX1NFTlRJTkVMXSk7XG4gIH1cblxuICB2YXIgRU1QVFlfU0VRO1xuXG4gIGZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIEVNUFRZX1NFUSB8fCAoRU1QVFlfU0VRID0gbmV3IEFycmF5U2VxKFtdKSk7XG4gIH1cblxuICBmdW5jdGlvbiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPVxuICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBuZXcgQXJyYXlTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIGlzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmFibGVTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyBuZXcgT2JqZWN0U2VxKHZhbHVlKSA6XG4gICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgW2ssIHZdIGVudHJpZXMsICcrXG4gICAgICAgICdvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICBpZiAoIXNlcSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0V4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiB2YWx1ZXM6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHx8XG4gICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBuZXcgT2JqZWN0U2VxKHZhbHVlKSk7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgdmFsdWVzLCBvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICBpc0FycmF5TGlrZSh2YWx1ZSkgPyBuZXcgQXJyYXlTZXEodmFsdWUpIDpcbiAgICAgIGlzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKSA6XG4gICAgICBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmFibGVTZXEodmFsdWUpIDpcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFJdGVyYXRlKHNlcSwgZm4sIHJldmVyc2UsIHVzZUtleXMpIHtcbiAgICB2YXIgY2FjaGUgPSBzZXEuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gY2FjaGUubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIGlmIChmbihlbnRyeVsxXSwgdXNlS2V5cyA/IGVudHJ5WzBdIDogaWksIHNlcSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH1cbiAgICByZXR1cm4gc2VxLl9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUl0ZXJhdG9yKHNlcSwgdHlwZSwgcmV2ZXJzZSwgdXNlS2V5cykge1xuICAgIHZhciBjYWNoZSA9IHNlcS5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSBjYWNoZS5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgcmV0dXJuIGlpKysgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGVudHJ5WzBdIDogaWkgLSAxLCBlbnRyeVsxXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcS5fX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBmcm9tSlMoanNvbiwgY29udmVydGVyKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRlciA/XG4gICAgICBmcm9tSlNXaXRoKGNvbnZlcnRlciwganNvbiwgJycsIHsnJzoganNvbn0pIDpcbiAgICAgIGZyb21KU0RlZmF1bHQoanNvbik7XG4gIH1cblxuICBmdW5jdGlvbiBmcm9tSlNXaXRoKGNvbnZlcnRlciwganNvbiwga2V5LCBwYXJlbnRKU09OKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgIHJldHVybiBjb252ZXJ0ZXIuY2FsbChwYXJlbnRKU09OLCBrZXksIEluZGV4ZWRTZXEoanNvbikubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZyb21KU1dpdGgoY29udmVydGVyLCB2LCBrLCBqc29uKX0pKTtcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmooanNvbikpIHtcbiAgICAgIHJldHVybiBjb252ZXJ0ZXIuY2FsbChwYXJlbnRKU09OLCBrZXksIEtleWVkU2VxKGpzb24pLm1hcChmdW5jdGlvbih2LCBrKSAge3JldHVybiBmcm9tSlNXaXRoKGNvbnZlcnRlciwgdiwgaywganNvbil9KSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbUpTRGVmYXVsdChqc29uKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgIHJldHVybiBJbmRleGVkU2VxKGpzb24pLm1hcChmcm9tSlNEZWZhdWx0KS50b0xpc3QoKTtcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmooanNvbikpIHtcbiAgICAgIHJldHVybiBLZXllZFNlcShqc29uKS5tYXAoZnJvbUpTRGVmYXVsdCkudG9NYXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICBmdW5jdGlvbiBpc1BsYWluT2JqKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGV4dGVuc2lvbiBvZiB0aGUgXCJzYW1lLXZhbHVlXCIgYWxnb3JpdGhtIGFzIFtkZXNjcmliZWQgZm9yIHVzZSBieSBFUzYgTWFwXG4gICAqIGFuZCBTZXRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hcCNLZXlfZXF1YWxpdHkpXG4gICAqXG4gICAqIE5hTiBpcyBjb25zaWRlcmVkIHRoZSBzYW1lIGFzIE5hTiwgaG93ZXZlciAtMCBhbmQgMCBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICAgKiB2YWx1ZSwgd2hpY2ggaXMgZGlmZmVyZW50IGZyb20gdGhlIGFsZ29yaXRobSBkZXNjcmliZWQgYnlcbiAgICogW2BPYmplY3QuaXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXMpLlxuICAgKlxuICAgKiBUaGlzIGlzIGV4dGVuZGVkIGZ1cnRoZXIgdG8gYWxsb3cgT2JqZWN0cyB0byBkZXNjcmliZSB0aGUgdmFsdWVzIHRoZXlcbiAgICogcmVwcmVzZW50LCBieSB3YXkgb2YgYHZhbHVlT2ZgIG9yIGBlcXVhbHNgIChhbmQgYGhhc2hDb2RlYCkuXG4gICAqXG4gICAqIE5vdGU6IGJlY2F1c2Ugb2YgdGhpcyBleHRlbnNpb24sIHRoZSBrZXkgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLk1hcCBhbmQgdGhlXG4gICAqIHZhbHVlIGVxdWFsaXR5IG9mIEltbXV0YWJsZS5TZXQgd2lsbCBkaWZmZXIgZnJvbSBFUzYgTWFwIGFuZCBTZXQuXG4gICAqXG4gICAqICMjIyBEZWZpbmluZyBjdXN0b20gdmFsdWVzXG4gICAqXG4gICAqIFRoZSBlYXNpZXN0IHdheSB0byBkZXNjcmliZSB0aGUgdmFsdWUgYW4gb2JqZWN0IHJlcHJlc2VudHMgaXMgYnkgaW1wbGVtZW50aW5nXG4gICAqIGB2YWx1ZU9mYC4gRm9yIGV4YW1wbGUsIGBEYXRlYCByZXByZXNlbnRzIGEgdmFsdWUgYnkgcmV0dXJuaW5nIGEgdW5peFxuICAgKiB0aW1lc3RhbXAgZm9yIGB2YWx1ZU9mYDpcbiAgICpcbiAgICogICAgIHZhciBkYXRlMSA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApOyAvLyBGcmkgRmViIDEzIDIwMDkgLi4uXG4gICAqICAgICB2YXIgZGF0ZTIgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTtcbiAgICogICAgIGRhdGUxLnZhbHVlT2YoKTsgLy8gMTIzNDU2Nzg5MDAwMFxuICAgKiAgICAgYXNzZXJ0KCBkYXRlMSAhPT0gZGF0ZTIgKTtcbiAgICogICAgIGFzc2VydCggSW1tdXRhYmxlLmlzKCBkYXRlMSwgZGF0ZTIgKSApO1xuICAgKlxuICAgKiBOb3RlOiBvdmVycmlkaW5nIGB2YWx1ZU9mYCBtYXkgaGF2ZSBvdGhlciBpbXBsaWNhdGlvbnMgaWYgeW91IHVzZSB0aGlzIG9iamVjdFxuICAgKiB3aGVyZSBKYXZhU2NyaXB0IGV4cGVjdHMgYSBwcmltaXRpdmUsIHN1Y2ggYXMgaW1wbGljaXQgc3RyaW5nIGNvZXJjaW9uLlxuICAgKlxuICAgKiBGb3IgbW9yZSBjb21wbGV4IHR5cGVzLCBlc3BlY2lhbGx5IGNvbGxlY3Rpb25zLCBpbXBsZW1lbnRpbmcgYHZhbHVlT2ZgIG1heVxuICAgKiBub3QgYmUgcGVyZm9ybWFudC4gQW4gYWx0ZXJuYXRpdmUgaXMgdG8gaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICAgKlxuICAgKiBgZXF1YWxzYCB0YWtlcyBhbm90aGVyIG9iamVjdCwgcHJlc3VtYWJseSBvZiBzaW1pbGFyIHR5cGUsIGFuZCByZXR1cm5zIHRydWVcbiAgICogaWYgdGhlIGl0IGlzIGVxdWFsLiBFcXVhbGl0eSBpcyBzeW1tZXRyaWNhbCwgc28gdGhlIHNhbWUgcmVzdWx0IHNob3VsZCBiZVxuICAgKiByZXR1cm5lZCBpZiB0aGlzIGFuZCB0aGUgYXJndW1lbnQgYXJlIGZsaXBwZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQoIGEuZXF1YWxzKGIpID09PSBiLmVxdWFscyhhKSApO1xuICAgKlxuICAgKiBgaGFzaENvZGVgIHJldHVybnMgYSAzMmJpdCBpbnRlZ2VyIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9iamVjdCB3aGljaCB3aWxsXG4gICAqIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGhvdyB0byBzdG9yZSB0aGUgdmFsdWUgb2JqZWN0IGluIGEgTWFwIG9yIFNldC4gWW91IG11c3RcbiAgICogcHJvdmlkZSBib3RoIG9yIG5laXRoZXIgbWV0aG9kcywgb25lIG11c3Qgbm90IGV4aXN0IHdpdGhvdXQgdGhlIG90aGVyLlxuICAgKlxuICAgKiBBbHNvLCBhbiBpbXBvcnRhbnQgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlc2UgbWV0aG9kcyBtdXN0IGJlIHVwaGVsZDogaWYgdHdvXG4gICAqIHZhbHVlcyBhcmUgZXF1YWwsIHRoZXkgKm11c3QqIHJldHVybiB0aGUgc2FtZSBoYXNoQ29kZS4gSWYgdGhlIHZhbHVlcyBhcmUgbm90XG4gICAqIGVxdWFsLCB0aGV5IG1pZ2h0IGhhdmUgdGhlIHNhbWUgaGFzaENvZGU7IHRoaXMgaXMgY2FsbGVkIGEgaGFzaCBjb2xsaXNpb24sXG4gICAqIGFuZCB3aGlsZSB1bmRlc2lyYWJsZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgaXQgaXMgYWNjZXB0YWJsZS5cbiAgICpcbiAgICogICAgIGlmIChhLmVxdWFscyhiKSkge1xuICAgKiAgICAgICBhc3NlcnQoIGEuaGFzaENvZGUoKSA9PT0gYi5oYXNoQ29kZSgpICk7XG4gICAqICAgICB9XG4gICAqXG4gICAqIEFsbCBJbW11dGFibGUgY29sbGVjdGlvbnMgaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gaXModmFsdWVBLCB2YWx1ZUIpIHtcbiAgICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZUEudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWVCLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlQSA9IHZhbHVlQS52YWx1ZU9mKCk7XG4gICAgICB2YWx1ZUIgPSB2YWx1ZUIudmFsdWVPZigpO1xuICAgICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZUEuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZUIuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHZhbHVlQS5lcXVhbHModmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICFpc0l0ZXJhYmxlKGIpIHx8XG4gICAgICBhLnNpemUgIT09IHVuZGVmaW5lZCAmJiBiLnNpemUgIT09IHVuZGVmaW5lZCAmJiBhLnNpemUgIT09IGIuc2l6ZSB8fFxuICAgICAgYS5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJiBiLl9faGFzaCAhPT0gdW5kZWZpbmVkICYmIGEuX19oYXNoICE9PSBiLl9faGFzaCB8fFxuICAgICAgaXNLZXllZChhKSAhPT0gaXNLZXllZChiKSB8fFxuICAgICAgaXNJbmRleGVkKGEpICE9PSBpc0luZGV4ZWQoYikgfHxcbiAgICAgIGlzT3JkZXJlZChhKSAhPT0gaXNPcmRlcmVkKGIpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGEuc2l6ZSA9PT0gMCAmJiBiLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBub3RBc3NvY2lhdGl2ZSA9ICFpc0Fzc29jaWF0aXZlKGEpO1xuXG4gICAgaWYgKGlzT3JkZXJlZChhKSkge1xuICAgICAgdmFyIGVudHJpZXMgPSBhLmVudHJpZXMoKTtcbiAgICAgIHJldHVybiBiLmV2ZXJ5KGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXMubmV4dCgpLnZhbHVlO1xuICAgICAgICByZXR1cm4gZW50cnkgJiYgaXMoZW50cnlbMV0sIHYpICYmIChub3RBc3NvY2lhdGl2ZSB8fCBpcyhlbnRyeVswXSwgaykpO1xuICAgICAgfSkgJiYgZW50cmllcy5uZXh0KCkuZG9uZTtcbiAgICB9XG5cbiAgICB2YXIgZmxpcHBlZCA9IGZhbHNlO1xuXG4gICAgaWYgKGEuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoYi5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhLmNhY2hlUmVzdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgYS5jYWNoZVJlc3VsdCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbGlwcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIF8gPSBhO1xuICAgICAgICBhID0gYjtcbiAgICAgICAgYiA9IF87XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFsbEVxdWFsID0gdHJ1ZTtcbiAgICB2YXIgYlNpemUgPSBiLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgaWYgKG5vdEFzc29jaWF0aXZlID8gIWEuaGFzKHYpIDpcbiAgICAgICAgICBmbGlwcGVkID8gIWlzKHYsIGEuZ2V0KGssIE5PVF9TRVQpKSA6ICFpcyhhLmdldChrLCBOT1RfU0VUKSwgdikpIHtcbiAgICAgICAgYWxsRXF1YWwgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFsbEVxdWFsICYmIGEuc2l6ZSA9PT0gYlNpemU7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhSZXBlYXQsIEluZGV4ZWRTZXEpO1xuXG4gICAgZnVuY3Rpb24gUmVwZWF0KHZhbHVlLCB0aW1lcykge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlcGVhdCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXBlYXQodmFsdWUsIHRpbWVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLnNpemUgPSB0aW1lcyA9PT0gdW5kZWZpbmVkID8gSW5maW5pdHkgOiBNYXRoLm1heCgwLCB0aW1lcyk7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIGlmIChFTVBUWV9SRVBFQVQpIHtcbiAgICAgICAgICByZXR1cm4gRU1QVFlfUkVQRUFUO1xuICAgICAgICB9XG4gICAgICAgIEVNUFRZX1JFUEVBVCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgUmVwZWF0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJ1JlcGVhdCBbXSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ1JlcGVhdCBbICcgKyB0aGlzLl92YWx1ZSArICcgJyArIHRoaXMuc2l6ZSArICcgdGltZXMgXSc7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkgPyB0aGlzIDpcbiAgICAgICAgbmV3IFJlcGVhdCh0aGlzLl92YWx1ZSwgcmVzb2x2ZUVuZChlbmQsIHNpemUpIC0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdGhpcy5zaXplOyBpaSsrKSB7XG4gICAgICAgIGlmIChmbih0aGlzLl92YWx1ZSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSBcbiAgICAgICAge3JldHVybiBpaSA8IHRoaXMkMC5zaXplID8gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSsrLCB0aGlzJDAuX3ZhbHVlKSA6IGl0ZXJhdG9yRG9uZSgpfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmVwZWF0ID9cbiAgICAgICAgaXModGhpcy5fdmFsdWUsIG90aGVyLl92YWx1ZSkgOlxuICAgICAgICBkZWVwRXF1YWwob3RoZXIpO1xuICAgIH07XG5cblxuICB2YXIgRU1QVFlfUkVQRUFUO1xuXG4gIGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGVycm9yKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhSYW5nZSwgSW5kZXhlZFNlcSk7XG5cbiAgICBmdW5jdGlvbiBSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCk7XG4gICAgICB9XG4gICAgICBpbnZhcmlhbnQoc3RlcCAhPT0gMCwgJ0Nhbm5vdCBzdGVwIGEgUmFuZ2UgYnkgMCcpO1xuICAgICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IEluZmluaXR5O1xuICAgICAgfVxuICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLmFicyhzdGVwKTtcbiAgICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICBzdGVwID0gLXN0ZXA7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdGFydCA9IHN0YXJ0O1xuICAgICAgdGhpcy5fZW5kID0gZW5kO1xuICAgICAgdGhpcy5fc3RlcCA9IHN0ZXA7XG4gICAgICB0aGlzLnNpemUgPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKGVuZCAtIHN0YXJ0KSAvIHN0ZXAgLSAxKSArIDEpO1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBpZiAoRU1QVFlfUkFOR0UpIHtcbiAgICAgICAgICByZXR1cm4gRU1QVFlfUkFOR0U7XG4gICAgICAgIH1cbiAgICAgICAgRU1QVFlfUkFOR0UgPSB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJ1JhbmdlIFtdJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnUmFuZ2UgWyAnICtcbiAgICAgICAgdGhpcy5fc3RhcnQgKyAnLi4uJyArIHRoaXMuX2VuZCArXG4gICAgICAgICh0aGlzLl9zdGVwICE9PSAxID8gJyBieSAnICsgdGhpcy5fc3RlcCA6ICcnKSArXG4gICAgICAnIF0nO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID9cbiAgICAgICAgdGhpcy5fc3RhcnQgKyB3cmFwSW5kZXgodGhpcywgaW5kZXgpICogdGhpcy5fc3RlcCA6XG4gICAgICAgIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIHBvc3NpYmxlSW5kZXggPSAoc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydCkgLyB0aGlzLl9zdGVwO1xuICAgICAgcmV0dXJuIHBvc3NpYmxlSW5kZXggPj0gMCAmJlxuICAgICAgICBwb3NzaWJsZUluZGV4IDwgdGhpcy5zaXplICYmXG4gICAgICAgIHBvc3NpYmxlSW5kZXggPT09IE1hdGguZmxvb3IocG9zc2libGVJbmRleCk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBiZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICAgIGVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgICAgaWYgKGVuZCA8PSBiZWdpbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKDAsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLmdldChiZWdpbiwgdGhpcy5fZW5kKSwgdGhpcy5nZXQoZW5kLCB0aGlzLl9lbmQpLCB0aGlzLl9zdGVwKTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIG9mZnNldFZhbHVlID0gc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydDtcbiAgICAgIGlmIChvZmZzZXRWYWx1ZSAlIHRoaXMuX3N0ZXAgPT09IDApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gb2Zmc2V0VmFsdWUgLyB0aGlzLl9zdGVwO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgICAgIHJldHVybiBpbmRleFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaFZhbHVlKTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnNpemUgLSAxO1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgbWF4SW5kZXggKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIGlmIChmbih2YWx1ZSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnNpemUgLSAxO1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgbWF4SW5kZXggKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciB2ID0gdmFsdWU7XG4gICAgICAgIHZhbHVlICs9IHJldmVyc2UgPyAtc3RlcCA6IHN0ZXA7XG4gICAgICAgIHJldHVybiBpaSA+IG1heEluZGV4ID8gaXRlcmF0b3JEb25lKCkgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGlpKyssIHYpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmFuZ2UgP1xuICAgICAgICB0aGlzLl9zdGFydCA9PT0gb3RoZXIuX3N0YXJ0ICYmXG4gICAgICAgIHRoaXMuX2VuZCA9PT0gb3RoZXIuX2VuZCAmJlxuICAgICAgICB0aGlzLl9zdGVwID09PSBvdGhlci5fc3RlcCA6XG4gICAgICAgIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfTtcblxuXG4gIHZhciBFTVBUWV9SQU5HRTtcblxuICBjcmVhdGVDbGFzcyhDb2xsZWN0aW9uLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignQWJzdHJhY3QnKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhLZXllZENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIEtleWVkQ29sbGVjdGlvbigpIHt9XG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIEluZGV4ZWRDb2xsZWN0aW9uKCkge31cblxuICBjcmVhdGVDbGFzcyhTZXRDb2xsZWN0aW9uLCBDb2xsZWN0aW9uKTtmdW5jdGlvbiBTZXRDb2xsZWN0aW9uKCkge31cblxuXG4gIENvbGxlY3Rpb24uS2V5ZWQgPSBLZXllZENvbGxlY3Rpb247XG4gIENvbGxlY3Rpb24uSW5kZXhlZCA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuICBDb2xsZWN0aW9uLlNldCA9IFNldENvbGxlY3Rpb247XG5cbiAgdmFyIGltdWwgPVxuICAgIHR5cGVvZiBNYXRoLmltdWwgPT09ICdmdW5jdGlvbicgJiYgTWF0aC5pbXVsKDB4ZmZmZmZmZmYsIDIpID09PSAtMiA/XG4gICAgTWF0aC5pbXVsIDpcbiAgICBmdW5jdGlvbiBpbXVsKGEsIGIpIHtcbiAgICAgIGEgPSBhIHwgMDsgLy8gaW50XG4gICAgICBiID0gYiB8IDA7IC8vIGludFxuICAgICAgdmFyIGMgPSBhICYgMHhmZmZmO1xuICAgICAgdmFyIGQgPSBiICYgMHhmZmZmO1xuICAgICAgLy8gU2hpZnQgYnkgMCBmaXhlcyB0aGUgc2lnbiBvbiB0aGUgaGlnaCBwYXJ0LlxuICAgICAgcmV0dXJuIChjICogZCkgKyAoKCgoYSA+Pj4gMTYpICogZCArIGMgKiAoYiA+Pj4gMTYpKSA8PCAxNikgPj4+IDApIHwgMDsgLy8gaW50XG4gICAgfTtcblxuICAvLyB2OCBoYXMgYW4gb3B0aW1pemF0aW9uIGZvciBzdG9yaW5nIDMxLWJpdCBzaWduZWQgbnVtYmVycy5cbiAgLy8gVmFsdWVzIHdoaWNoIGhhdmUgZWl0aGVyIDAwIG9yIDExIGFzIHRoZSBoaWdoIG9yZGVyIGJpdHMgcXVhbGlmeS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBkcm9wcyB0aGUgaGlnaGVzdCBvcmRlciBiaXQgaW4gYSBzaWduZWQgbnVtYmVyLCBtYWludGFpbmluZ1xuICAvLyB0aGUgc2lnbiBiaXQuXG4gIGZ1bmN0aW9uIHNtaShpMzIpIHtcbiAgICByZXR1cm4gKChpMzIgPj4+IDEpICYgMHg0MDAwMDAwMCkgfCAoaTMyICYgMHhCRkZGRkZGRik7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoKG8pIHtcbiAgICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8udmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbyA9IG8udmFsdWVPZigpO1xuICAgICAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobyA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciB0eXBlID0gdHlwZW9mIG87XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAobyAhPT0gbyB8fCBvID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIHZhciBoID0gbyB8IDA7XG4gICAgICBpZiAoaCAhPT0gbykge1xuICAgICAgICBoIF49IG8gKiAweEZGRkZGRkZGO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG8gPiAweEZGRkZGRkZGKSB7XG4gICAgICAgIG8gLz0gMHhGRkZGRkZGRjtcbiAgICAgICAgaCBePSBvO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNtaShoKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gby5sZW5ndGggPiBTVFJJTkdfSEFTSF9DQUNIRV9NSU5fU1RSTEVOID8gY2FjaGVkSGFzaFN0cmluZyhvKSA6IGhhc2hTdHJpbmcobyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygby5oYXNoQ29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG8uaGFzaENvZGUoKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gaGFzaEpTT2JqKG8pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8udG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBoYXNoU3RyaW5nKG8udG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgdHlwZSAnICsgdHlwZSArICcgY2Fubm90IGJlIGhhc2hlZC4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlZEhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gICAgdmFyIGhhc2ggPSBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXTtcbiAgICBpZiAoaGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoYXNoID0gaGFzaFN0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPT09IFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFKSB7XG4gICAgICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xuICAgICAgICBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcbiAgICAgIH1cbiAgICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUrKztcbiAgICAgIHN0cmluZ0hhc2hDYWNoZVtzdHJpbmddID0gaGFzaDtcbiAgICB9XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9oYXNoaW5nLXN0cmluZ3NcbiAgZnVuY3Rpb24gaGFzaFN0cmluZyhzdHJpbmcpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBoYXNoIGZyb20gSlZNXG4gICAgLy8gVGhlIGhhc2ggY29kZSBmb3IgYSBzdHJpbmcgaXMgY29tcHV0ZWQgYXNcbiAgICAvLyBzWzBdICogMzEgXiAobiAtIDEpICsgc1sxXSAqIDMxIF4gKG4gLSAyKSArIC4uLiArIHNbbiAtIDFdLFxuICAgIC8vIHdoZXJlIHNbaV0gaXMgdGhlIGl0aCBjaGFyYWN0ZXIgb2YgdGhlIHN0cmluZyBhbmQgbiBpcyB0aGUgbGVuZ3RoIG9mXG4gICAgLy8gdGhlIHN0cmluZy4gV2UgXCJtb2RcIiB0aGUgcmVzdWx0IHRvIG1ha2UgaXQgYmV0d2VlbiAwIChpbmNsdXNpdmUpIGFuZCAyXjMxXG4gICAgLy8gKGV4Y2x1c2l2ZSkgYnkgZHJvcHBpbmcgaGlnaCBiaXRzLlxuICAgIHZhciBoYXNoID0gMDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgc3RyaW5nLmxlbmd0aDsgaWkrKykge1xuICAgICAgaGFzaCA9IDMxICogaGFzaCArIHN0cmluZy5jaGFyQ29kZUF0KGlpKSB8IDA7XG4gICAgfVxuICAgIHJldHVybiBzbWkoaGFzaCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoSlNPYmoob2JqKSB7XG4gICAgdmFyIGhhc2g7XG4gICAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgICAgaGFzaCA9IHdlYWtNYXAuZ2V0KG9iaik7XG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhc2ggPSBvYmpbVUlEX0hBU0hfS0VZXTtcbiAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG5cbiAgICBpZiAoIWNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICBoYXNoID0gb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICYmIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldO1xuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgIH1cblxuICAgICAgaGFzaCA9IGdldElFTm9kZUhhc2gob2JqKTtcbiAgICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFzaCA9ICsrb2JqSGFzaFVJRDtcbiAgICBpZiAob2JqSGFzaFVJRCAmIDB4NDAwMDAwMDApIHtcbiAgICAgIG9iakhhc2hVSUQgPSAwO1xuICAgIH1cblxuICAgIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICAgIHdlYWtNYXAuc2V0KG9iaiwgaGFzaCk7XG4gICAgfSBlbHNlIGlmIChpc0V4dGVuc2libGUgIT09IHVuZGVmaW5lZCAmJiBpc0V4dGVuc2libGUob2JqKSA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm9uLWV4dGVuc2libGUgb2JqZWN0cyBhcmUgbm90IGFsbG93ZWQgYXMga2V5cy4nKTtcbiAgICB9IGVsc2UgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBVSURfSEFTSF9LRVksIHtcbiAgICAgICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IGZhbHNlLFxuICAgICAgICAnd3JpdGFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3ZhbHVlJzogaGFzaFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChvYmoucHJvcGVydHlJc0VudW1lcmFibGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID09PSBvYmouY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBkZWZpbmUgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0XG4gICAgICAvLyB3ZSdsbCBoaWphY2sgb25lIG9mIHRoZSBsZXNzLXVzZWQgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyB0b1xuICAgICAgLy8gc2F2ZSBvdXIgaGFzaCBvbiBpdC4gU2luY2UgdGhpcyBpcyBhIGZ1bmN0aW9uIGl0IHdpbGwgbm90IHNob3cgdXAgaW5cbiAgICAgIC8vIGBKU09OLnN0cmluZ2lmeWAgd2hpY2ggaXMgd2hhdCB3ZSB3YW50LlxuICAgICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgICB9IGVsc2UgaWYgKG9iai5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGNvdWxkbid0IGdldCB0aGUgSUUgYHVuaXF1ZUlEYCB0byB1c2UgYXMgYSBoYXNoXG4gICAgICAvLyBhbmQgd2UgY291bGRuJ3QgdXNlIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgdG8gZXhwbG9pdCB0aGVcbiAgICAgIC8vIGRvbnRFbnVtIGJ1ZyBzbyB3ZSBzaW1wbHkgYWRkIHRoZSBgVUlEX0hBU0hfS0VZYCBvbiB0aGUgbm9kZVxuICAgICAgLy8gaXRzZWxmLlxuICAgICAgb2JqW1VJRF9IQVNIX0tFWV0gPSBoYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICAvLyBHZXQgcmVmZXJlbmNlcyB0byBFUzUgb2JqZWN0IG1ldGhvZHMuXG4gIHZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4gIC8vIFRydWUgaWYgT2JqZWN0LmRlZmluZVByb3BlcnR5IHdvcmtzIGFzIGV4cGVjdGVkLiBJRTggZmFpbHMgdGhpcyB0ZXN0LlxuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ0AnLCB7fSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KCkpO1xuXG4gIC8vIElFIGhhcyBhIGB1bmlxdWVJRGAgcHJvcGVydHkgb24gRE9NIG5vZGVzLiBXZSBjYW4gY29uc3RydWN0IHRoZSBoYXNoIGZyb20gaXRcbiAgLy8gYW5kIGF2b2lkIG1lbW9yeSBsZWFrcyBmcm9tIHRoZSBJRSBjbG9uZU5vZGUgYnVnLlxuICBmdW5jdGlvbiBnZXRJRU5vZGVIYXNoKG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID4gMCkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMTogLy8gRWxlbWVudFxuICAgICAgICAgIHJldHVybiBub2RlLnVuaXF1ZUlEO1xuICAgICAgICBjYXNlIDk6IC8vIERvY3VtZW50XG4gICAgICAgICAgcmV0dXJuIG5vZGUuZG9jdW1lbnRFbGVtZW50ICYmIG5vZGUuZG9jdW1lbnRFbGVtZW50LnVuaXF1ZUlEO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIElmIHBvc3NpYmxlLCB1c2UgYSBXZWFrTWFwLlxuICB2YXIgdXNpbmdXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbic7XG4gIHZhciB3ZWFrTWFwO1xuICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgd2Vha01hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cblxuICB2YXIgb2JqSGFzaFVJRCA9IDA7XG5cbiAgdmFyIFVJRF9IQVNIX0tFWSA9ICdfX2ltbXV0YWJsZWhhc2hfXyc7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gICAgVUlEX0hBU0hfS0VZID0gU3ltYm9sKFVJRF9IQVNIX0tFWSk7XG4gIH1cblxuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA9IDE2O1xuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUFYX1NJWkUgPSAyNTU7XG4gIHZhciBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbiAgdmFyIHN0cmluZ0hhc2hDYWNoZSA9IHt9O1xuXG4gIGZ1bmN0aW9uIGFzc2VydE5vdEluZmluaXRlKHNpemUpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBzaXplICE9PSBJbmZpbml0eSxcbiAgICAgICdDYW5ub3QgcGVyZm9ybSB0aGlzIGFjdGlvbiB3aXRoIGFuIGluZmluaXRlIHNpemUuJ1xuICAgICk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhNYXAsIEtleWVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5TWFwKCkgOlxuICAgICAgICBpc01hcCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5TWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihtYXAgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2LCBrKSAge3JldHVybiBtYXAuc2V0KGssIHYpfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIE1hcC5vZiA9IGZ1bmN0aW9uKCkge3ZhciBrZXlWYWx1ZXMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIHJldHVybiBlbXB0eU1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obWFwICkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleVZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgIGlmIChpICsgMSA+PSBrZXlWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmFsdWUgZm9yIGtleTogJyArIGtleVZhbHVlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcC5zZXQoa2V5VmFsdWVzW2ldLCBrZXlWYWx1ZXNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ01hcCB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290ID9cbiAgICAgICAgdGhpcy5fcm9vdC5nZXQoMCwgdW5kZWZpbmVkLCBrLCBub3RTZXRWYWx1ZSkgOlxuICAgICAgICBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaywgdikge1xuICAgICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCB2KTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5zZXRJbiA9IGZ1bmN0aW9uKGtleVBhdGgsIHYpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKGtleVBhdGgsIE5PVF9TRVQsIGZ1bmN0aW9uKCkgIHtyZXR1cm4gdn0pO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuZGVsZXRlSW4gPSBmdW5jdGlvbihrZXlQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihrZXlQYXRoLCBmdW5jdGlvbigpICB7cmV0dXJuIE5PVF9TRVR9KTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuICAgICAgICBrKHRoaXMpIDpcbiAgICAgICAgdGhpcy51cGRhdGVJbihba10sIG5vdFNldFZhbHVlLCB1cGRhdGVyKTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS51cGRhdGVJbiA9IGZ1bmN0aW9uKGtleVBhdGgsIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgICBpZiAoIXVwZGF0ZXIpIHtcbiAgICAgICAgdXBkYXRlciA9IG5vdFNldFZhbHVlO1xuICAgICAgICBub3RTZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciB1cGRhdGVkVmFsdWUgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGZvcmNlSXRlcmF0b3Ioa2V5UGF0aCksXG4gICAgICAgIG5vdFNldFZhbHVlLFxuICAgICAgICB1cGRhdGVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIHVwZGF0ZWRWYWx1ZSA9PT0gTk9UX1NFVCA/IHVuZGVmaW5lZCA6IHVwZGF0ZWRWYWx1ZTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlNYXAoKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gICAgTWFwLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKC8qLi4uaXRlcnMqLykge1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgbWVyZ2VyLCBpdGVycyk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUubWVyZ2VJbiA9IGZ1bmN0aW9uKGtleVBhdGgpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKFxuICAgICAgICBrZXlQYXRoLFxuICAgICAgICBlbXB0eU1hcCgpLFxuICAgICAgICBmdW5jdGlvbihtICkge3JldHVybiB0eXBlb2YgbS5tZXJnZSA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgbS5tZXJnZS5hcHBseShtLCBpdGVycykgOlxuICAgICAgICAgIGl0ZXJzW2l0ZXJzLmxlbmd0aCAtIDFdfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5tZXJnZURlZXAgPSBmdW5jdGlvbigvKi4uLml0ZXJzKi8pIHtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIGRlZXBNZXJnZXIsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlcldpdGgobWVyZ2VyKSwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLm1lcmdlRGVlcEluID0gZnVuY3Rpb24oa2V5UGF0aCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICAgIGtleVBhdGgsXG4gICAgICAgIGVtcHR5TWFwKCksXG4gICAgICAgIGZ1bmN0aW9uKG0gKSB7cmV0dXJuIHR5cGVvZiBtLm1lcmdlRGVlcCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgbS5tZXJnZURlZXAuYXBwbHkobSwgaXRlcnMpIDpcbiAgICAgICAgICBpdGVyc1tpdGVycy5sZW5ndGggLSAxXX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgICBNYXAucHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBmdW5jdGlvbihmbikge1xuICAgICAgdmFyIG11dGFibGUgPSB0aGlzLmFzTXV0YWJsZSgpO1xuICAgICAgZm4obXV0YWJsZSk7XG4gICAgICByZXR1cm4gbXV0YWJsZS53YXNBbHRlcmVkKCkgPyBtdXRhYmxlLl9fZW5zdXJlT3duZXIodGhpcy5fX293bmVySUQpIDogdGhpcztcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5hc011dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fb3duZXJJRCA/IHRoaXMgOiB0aGlzLl9fZW5zdXJlT3duZXIobmV3IE93bmVySUQoKSk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuYXNJbW11dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZW5zdXJlT3duZXIoKTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2FsdGVyZWQ7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHRoaXMuX3Jvb3QgJiYgdGhpcy5fcm9vdC5pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMCk7XG4gICAgICB9LCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTWFwKHRoaXMuc2l6ZSwgdGhpcy5fcm9vdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc01hcChtYXliZU1hcCkge1xuICAgIHJldHVybiAhIShtYXliZU1hcCAmJiBtYXliZU1hcFtJU19NQVBfU0VOVElORUxdKTtcbiAgfVxuXG4gIE1hcC5pc01hcCA9IGlzTWFwO1xuXG4gIHZhciBJU19NQVBfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9NQVBfX0BAJztcblxuICB2YXIgTWFwUHJvdG90eXBlID0gTWFwLnByb3RvdHlwZTtcbiAgTWFwUHJvdG90eXBlW0lTX01BUF9TRU5USU5FTF0gPSB0cnVlO1xuICBNYXBQcm90b3R5cGVbREVMRVRFXSA9IE1hcFByb3RvdHlwZS5yZW1vdmU7XG4gIE1hcFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5kZWxldGVJbjtcblxuXG4gIC8vICNwcmFnbWEgVHJpZSBOb2Rlc1xuXG5cblxuICAgIGZ1bmN0aW9uIEFycmF5TWFwTm9kZShvd25lcklELCBlbnRyaWVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG5cbiAgICBBcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgaWR4ID0gMDtcbiAgICAgIGZvciAodmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICAgICAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gICAgICBpZiAocmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm47IC8vIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBpZiAoIWV4aXN0cyAmJiAhcmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA+PSBNQVhfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld0VudHJpZXMgPSBpc0VkaXRhYmxlID8gZW50cmllcyA6IGFyckNvcHkoZW50cmllcyk7XG5cbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICBpZHggPT09IGxlbiAtIDEgPyBuZXdFbnRyaWVzLnBvcCgpIDogKG5ld0VudHJpZXNbaWR4XSA9IG5ld0VudHJpZXMucG9wKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEFycmF5TWFwTm9kZShvd25lcklELCBuZXdFbnRyaWVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBub2Rlcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cblxuICAgIEJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGJpdCA9ICgxIDw8ICgoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSykpO1xuICAgICAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICAgICAgcmV0dXJuIChiaXRtYXAgJiBiaXQpID09PSAwID8gbm90U2V0VmFsdWUgOlxuICAgICAgICB0aGlzLm5vZGVzW3BvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSldLmdldChzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKTtcbiAgICB9O1xuXG4gICAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGtleUhhc2hGcmFnID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgYml0ID0gMSA8PCBrZXlIYXNoRnJhZztcbiAgICAgIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgICAgIHZhciBleGlzdHMgPSAoYml0bWFwICYgYml0KSAhPT0gMDtcblxuICAgICAgaWYgKCFleGlzdHMgJiYgdmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBpZHggPSBwb3BDb3VudChiaXRtYXAgJiAoYml0IC0gMSkpO1xuICAgICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICAgIHZhciBub2RlID0gZXhpc3RzID8gbm9kZXNbaWR4XSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG5cbiAgICAgIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA+PSBNQVhfQklUTUFQX0lOREVYRURfU0laRSkge1xuICAgICAgICByZXR1cm4gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwga2V5SGFzaEZyYWcsIG5ld05vZGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RzICYmICFuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMiAmJiBpc0xlYWZOb2RlKG5vZGVzW2lkeCBeIDFdKSkge1xuICAgICAgICByZXR1cm4gbm9kZXNbaWR4IF4gMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPT09IDEgJiYgaXNMZWFmTm9kZShuZXdOb2RlKSkge1xuICAgICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdCaXRtYXAgPSBleGlzdHMgPyBuZXdOb2RlID8gYml0bWFwIDogYml0bWFwIF4gYml0IDogYml0bWFwIHwgYml0O1xuICAgICAgdmFyIG5ld05vZGVzID0gZXhpc3RzID8gbmV3Tm9kZSA/XG4gICAgICAgIHNldEluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpIDpcbiAgICAgICAgc3BsaWNlT3V0KG5vZGVzLCBpZHgsIGlzRWRpdGFibGUpIDpcbiAgICAgICAgc3BsaWNlSW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuYml0bWFwID0gbmV3Qml0bWFwO1xuICAgICAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIG5ld0JpdG1hcCwgbmV3Tm9kZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50LCBub2Rlcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgIHRoaXMubm9kZXMgPSBub2RlcztcbiAgICB9XG5cbiAgICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2lkeF07XG4gICAgICByZXR1cm4gbm9kZSA/IG5vZGUuZ2V0KHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW2lkeF07XG5cbiAgICAgIGlmIChyZW1vdmVkICYmICFub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgbmV3Q291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoIW5ld05vZGUpIHtcbiAgICAgICAgbmV3Q291bnQtLTtcbiAgICAgICAgaWYgKG5ld0NvdW50IDwgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgICAgICByZXR1cm4gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBuZXdDb3VudCwgaWR4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld05vZGVzID0gc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBuZXdDb3VudDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0NvdW50LCBuZXdOb2Rlcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJpZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG5cbiAgICBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICAgICAgaWYgKGtleUhhc2ggIT09IHRoaXMua2V5SGFzaCkge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICBmb3IgKHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgICAgIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICAgICAgaWYgKHJlbW92ZWQgJiYgbGVuID09PSAyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgZW50cmllc1tpZHggXiAxXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIGlkeCA9PT0gbGVuIC0gMSA/IG5ld0VudHJpZXMucG9wKCkgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBuZXdFbnRyaWVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgICAgIHRoaXMuZW50cnkgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBWYWx1ZU5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKSA/IHRoaXMuZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgVmFsdWVOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gICAgICB2YXIga2V5TWF0Y2ggPSBpcyhrZXksIHRoaXMuZW50cnlbMF0pO1xuICAgICAgaWYgKGtleU1hdGNoID8gdmFsdWUgPT09IHRoaXMuZW50cnlbMV0gOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGlmIChrZXlNYXRjaCkge1xuICAgICAgICBpZiAob3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQpIHtcbiAgICAgICAgICB0aGlzLmVudHJ5WzFdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICAgIH07XG5cblxuXG4gIC8vICNwcmFnbWEgSXRlcmF0b3JzXG5cbiAgQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID1cbiAgSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gZW50cmllcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgaWYgKGZuKGVudHJpZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPVxuICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgIHZhciBub2RlID0gbm9kZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICBpZiAobm9kZSAmJiBub2RlLml0ZXJhdGUoZm4sIHJldmVyc2UpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgVmFsdWVOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIGZuKHRoaXMuZW50cnkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoTWFwSXRlcmF0b3IsIEl0ZXJhdG9yKTtcblxuICAgIGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKG1hcCwgdHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICB0aGlzLl9yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICAgIHRoaXMuX3N0YWNrID0gbWFwLl9yb290ICYmIG1hcEl0ZXJhdG9yRnJhbWUobWFwLl9yb290KTtcbiAgICB9XG5cbiAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLl90eXBlO1xuICAgICAgdmFyIHN0YWNrID0gdGhpcy5fc3RhY2s7XG4gICAgICB3aGlsZSAoc3RhY2spIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzdGFjay5ub2RlO1xuICAgICAgICB2YXIgaW5kZXggPSBzdGFjay5pbmRleCsrO1xuICAgICAgICB2YXIgbWF4SW5kZXg7XG4gICAgICAgIGlmIChub2RlLmVudHJ5KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBub2RlLmVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgbWF4SW5kZXggPSBub2RlLmVudHJpZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIG5vZGUuZW50cmllc1t0aGlzLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1heEluZGV4ID0gbm9kZS5ub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgdmFyIHN1Yk5vZGUgPSBub2RlLm5vZGVzW3RoaXMuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHN1Yk5vZGUpIHtcbiAgICAgICAgICAgICAgaWYgKHN1Yk5vZGUuZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBzdWJOb2RlLmVudHJ5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGFjayA9IHRoaXMuX3N0YWNrID0gbWFwSXRlcmF0b3JGcmFtZShzdWJOb2RlLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sgPSB0aGlzLl9zdGFjayA9IHRoaXMuX3N0YWNrLl9fcHJldjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeSkge1xuICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBJdGVyYXRvckZyYW1lKG5vZGUsIHByZXYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIGluZGV4OiAwLFxuICAgICAgX19wcmV2OiBwcmV2XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VNYXAoc2l6ZSwgcm9vdCwgb3duZXJJRCwgaGFzaCkge1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKE1hcFByb3RvdHlwZSk7XG4gICAgbWFwLnNpemUgPSBzaXplO1xuICAgIG1hcC5fcm9vdCA9IHJvb3Q7XG4gICAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfTUFQO1xuICBmdW5jdGlvbiBlbXB0eU1hcCgpIHtcbiAgICByZXR1cm4gRU1QVFlfTUFQIHx8IChFTVBUWV9NQVAgPSBtYWtlTWFwKDApKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1hcChtYXAsIGssIHYpIHtcbiAgICB2YXIgbmV3Um9vdDtcbiAgICB2YXIgbmV3U2l6ZTtcbiAgICBpZiAoIW1hcC5fcm9vdCkge1xuICAgICAgaWYgKHYgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH1cbiAgICAgIG5ld1NpemUgPSAxO1xuICAgICAgbmV3Um9vdCA9IG5ldyBBcnJheU1hcE5vZGUobWFwLl9fb3duZXJJRCwgW1trLCB2XV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZGlkQ2hhbmdlU2l6ZSA9IE1ha2VSZWYoQ0hBTkdFX0xFTkdUSCk7XG4gICAgICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKERJRF9BTFRFUik7XG4gICAgICBuZXdSb290ID0gdXBkYXRlTm9kZShtYXAuX3Jvb3QsIG1hcC5fX293bmVySUQsIDAsIHVuZGVmaW5lZCwgaywgdiwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfVxuICAgICAgbmV3U2l6ZSA9IG1hcC5zaXplICsgKGRpZENoYW5nZVNpemUudmFsdWUgPyB2ID09PSBOT1RfU0VUID8gLTEgOiAxIDogMCk7XG4gICAgfVxuICAgIGlmIChtYXAuX19vd25lcklEKSB7XG4gICAgICBtYXAuc2l6ZSA9IG5ld1NpemU7XG4gICAgICBtYXAuX3Jvb3QgPSBuZXdSb290O1xuICAgICAgbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIG1hcC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1Jvb3QgPyBtYWtlTWFwKG5ld1NpemUsIG5ld1Jvb3QpIDogZW1wdHlNYXAoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU5vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBpZiAodmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudXBkYXRlKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBpc0xlYWZOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5jb25zdHJ1Y3RvciA9PT0gVmFsdWVOb2RlIHx8IG5vZGUuY29uc3RydWN0b3IgPT09IEhhc2hDb2xsaXNpb25Ob2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgZW50cnkpIHtcbiAgICBpZiAobm9kZS5rZXlIYXNoID09PSBrZXlIYXNoKSB7XG4gICAgICByZXR1cm4gbmV3IEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIFtub2RlLmVudHJ5LCBlbnRyeV0pO1xuICAgIH1cblxuICAgIHZhciBpZHgxID0gKHNoaWZ0ID09PSAwID8gbm9kZS5rZXlIYXNoIDogbm9kZS5rZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgIHZhciBpZHgyID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG5cbiAgICB2YXIgbmV3Tm9kZTtcbiAgICB2YXIgbm9kZXMgPSBpZHgxID09PSBpZHgyID9cbiAgICAgIFttZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGVudHJ5KV0gOlxuICAgICAgKChuZXdOb2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyeSkpLCBpZHgxIDwgaWR4MiA/IFtub2RlLCBuZXdOb2RlXSA6IFtuZXdOb2RlLCBub2RlXSk7XG5cbiAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsICgxIDw8IGlkeDEpIHwgKDEgPDwgaWR4MiksIG5vZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIG93bmVySUQgPSBuZXcgT3duZXJJRCgpO1xuICAgIH1cbiAgICB2YXIgbm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBlbnRyaWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpaV07XG4gICAgICBub2RlID0gbm9kZS51cGRhdGUob3duZXJJRCwgMCwgdW5kZWZpbmVkLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhY2tOb2Rlcyhvd25lcklELCBub2RlcywgY291bnQsIGV4Y2x1ZGluZykge1xuICAgIHZhciBiaXRtYXAgPSAwO1xuICAgIHZhciBwYWNrZWRJSSA9IDA7XG4gICAgdmFyIHBhY2tlZE5vZGVzID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IgKHZhciBpaSA9IDAsIGJpdCA9IDEsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyssIGJpdCA8PD0gMSkge1xuICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkICYmIGlpICE9PSBleGNsdWRpbmcpIHtcbiAgICAgICAgYml0bWFwIHw9IGJpdDtcbiAgICAgICAgcGFja2VkTm9kZXNbcGFja2VkSUkrK10gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgcGFja2VkTm9kZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwgaW5jbHVkaW5nLCBub2RlKSB7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgZXhwYW5kZWROb2RlcyA9IG5ldyBBcnJheShTSVpFKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGJpdG1hcCAhPT0gMDsgaWkrKywgYml0bWFwID4+Pj0gMSkge1xuICAgICAgZXhwYW5kZWROb2Rlc1tpaV0gPSBiaXRtYXAgJiAxID8gbm9kZXNbY291bnQrK10gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGV4cGFuZGVkTm9kZXNbaW5jbHVkaW5nXSA9IG5vZGU7XG4gICAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50ICsgMSwgZXhwYW5kZWROb2Rlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUludG9NYXBXaXRoKG1hcCwgbWVyZ2VyLCBpdGVyYWJsZXMpIHtcbiAgICB2YXIgaXRlcnMgPSBbXTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcmFibGVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVzW2lpXTtcbiAgICAgIHZhciBpdGVyID0gS2V5ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICBpZiAoIWlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgIGl0ZXIgPSBpdGVyLm1hcChmdW5jdGlvbih2ICkge3JldHVybiBmcm9tSlModil9KTtcbiAgICAgIH1cbiAgICAgIGl0ZXJzLnB1c2goaXRlcik7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChtYXAsIG1lcmdlciwgaXRlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVlcE1lcmdlcihleGlzdGluZywgdmFsdWUsIGtleSkge1xuICAgIHJldHVybiBleGlzdGluZyAmJiBleGlzdGluZy5tZXJnZURlZXAgJiYgaXNJdGVyYWJsZSh2YWx1ZSkgP1xuICAgICAgZXhpc3RpbmcubWVyZ2VEZWVwKHZhbHVlKSA6XG4gICAgICBpcyhleGlzdGluZywgdmFsdWUpID8gZXhpc3RpbmcgOiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBNZXJnZXJXaXRoKG1lcmdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihleGlzdGluZywgdmFsdWUsIGtleSkgIHtcbiAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5tZXJnZURlZXBXaXRoICYmIGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZy5tZXJnZURlZXBXaXRoKG1lcmdlciwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFyIG5leHRWYWx1ZSA9IG1lcmdlcihleGlzdGluZywgdmFsdWUsIGtleSk7XG4gICAgICByZXR1cm4gaXMoZXhpc3RpbmcsIG5leHRWYWx1ZSkgPyBleGlzdGluZyA6IG5leHRWYWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgoY29sbGVjdGlvbiwgbWVyZ2VyLCBpdGVycykge1xuICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uKHggKSB7cmV0dXJuIHguc2l6ZSAhPT0gMH0pO1xuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoY29sbGVjdGlvbi5zaXplID09PSAwICYmICFjb2xsZWN0aW9uLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24ud2l0aE11dGF0aW9ucyhmdW5jdGlvbihjb2xsZWN0aW9uICkge1xuICAgICAgdmFyIG1lcmdlSW50b01hcCA9IG1lcmdlciA/XG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBrZXkpICB7XG4gICAgICAgICAgY29sbGVjdGlvbi51cGRhdGUoa2V5LCBOT1RfU0VULCBmdW5jdGlvbihleGlzdGluZyApXG4gICAgICAgICAgICB7cmV0dXJuIGV4aXN0aW5nID09PSBOT1RfU0VUID8gdmFsdWUgOiBtZXJnZXIoZXhpc3RpbmcsIHZhbHVlLCBrZXkpfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbih2YWx1ZSwga2V5KSAge1xuICAgICAgICAgIGNvbGxlY3Rpb24uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGl0ZXJzW2lpXS5mb3JFYWNoKG1lcmdlSW50b01hcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVJbkRlZXBNYXAoZXhpc3RpbmcsIGtleVBhdGhJdGVyLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgIHZhciBpc05vdFNldCA9IGV4aXN0aW5nID09PSBOT1RfU0VUO1xuICAgIHZhciBzdGVwID0ga2V5UGF0aEl0ZXIubmV4dCgpO1xuICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgIHZhciBleGlzdGluZ1ZhbHVlID0gaXNOb3RTZXQgPyBub3RTZXRWYWx1ZSA6IGV4aXN0aW5nO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXBkYXRlcihleGlzdGluZ1ZhbHVlKTtcbiAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gZXhpc3RpbmdWYWx1ZSA/IGV4aXN0aW5nIDogbmV3VmFsdWU7XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGlzTm90U2V0IHx8IChleGlzdGluZyAmJiBleGlzdGluZy5zZXQpLFxuICAgICAgJ2ludmFsaWQga2V5UGF0aCdcbiAgICApO1xuICAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgIHZhciBuZXh0RXhpc3RpbmcgPSBpc05vdFNldCA/IE5PVF9TRVQgOiBleGlzdGluZy5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICB2YXIgbmV4dFVwZGF0ZWQgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgICBuZXh0RXhpc3RpbmcsXG4gICAgICBrZXlQYXRoSXRlcixcbiAgICAgIG5vdFNldFZhbHVlLFxuICAgICAgdXBkYXRlclxuICAgICk7XG4gICAgcmV0dXJuIG5leHRVcGRhdGVkID09PSBuZXh0RXhpc3RpbmcgPyBleGlzdGluZyA6XG4gICAgICBuZXh0VXBkYXRlZCA9PT0gTk9UX1NFVCA/IGV4aXN0aW5nLnJlbW92ZShrZXkpIDpcbiAgICAgIChpc05vdFNldCA/IGVtcHR5TWFwKCkgOiBleGlzdGluZykuc2V0KGtleSwgbmV4dFVwZGF0ZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wQ291bnQoeCkge1xuICAgIHggPSB4IC0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSk7XG4gICAgeCA9ICh4ICYgMHgzMzMzMzMzMykgKyAoKHggPj4gMikgJiAweDMzMzMzMzMzKTtcbiAgICB4ID0gKHggKyAoeCA+PiA0KSkgJiAweDBmMGYwZjBmO1xuICAgIHggPSB4ICsgKHggPj4gOCk7XG4gICAgeCA9IHggKyAoeCA+PiAxNik7XG4gICAgcmV0dXJuIHggJiAweDdmO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0FycmF5ID0gY2FuRWRpdCA/IGFycmF5IDogYXJyQ29weShhcnJheSk7XG4gICAgbmV3QXJyYXlbaWR4XSA9IHZhbDtcbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpY2VJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoICsgMTtcbiAgICBpZiAoY2FuRWRpdCAmJiBpZHggKyAxID09PSBuZXdMZW4pIHtcbiAgICAgIGFycmF5W2lkeF0gPSB2YWw7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICAgIHZhciBhZnRlciA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgICAgbmV3QXJyYXlbaWldID0gdmFsO1xuICAgICAgICBhZnRlciA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGljZU91dChhcnJheSwgaWR4LCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKGNhbkVkaXQgJiYgaWR4ID09PSBuZXdMZW4pIHtcbiAgICAgIGFycmF5LnBvcCgpO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgICB2YXIgYWZ0ZXIgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICAgIGFmdGVyID0gMTtcbiAgICAgIH1cbiAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICB2YXIgTUFYX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG4gIHZhciBNQVhfQklUTUFQX0lOREVYRURfU0laRSA9IFNJWkUgLyAyO1xuICB2YXIgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcblxuICBjcmVhdGVDbGFzcyhMaXN0LCBJbmRleGVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gTGlzdCh2YWx1ZSkge1xuICAgICAgdmFyIGVtcHR5ID0gZW1wdHlMaXN0KCk7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICB9XG4gICAgICBpZiAoaXNMaXN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXRlciA9IEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICB2YXIgc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICAgIH1cbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHNpemUpO1xuICAgICAgaWYgKHNpemUgPiAwICYmIHNpemUgPCBTSVpFKSB7XG4gICAgICAgIHJldHVybiBtYWtlTGlzdCgwLCBzaXplLCBTSElGVCwgbnVsbCwgbmV3IFZOb2RlKGl0ZXIudG9BcnJheSgpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBsaXN0LnNldFNpemUoc2l6ZSk7XG4gICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2LCBpKSAge3JldHVybiBsaXN0LnNldChpLCB2KX0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgTGlzdC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdMaXN0IFsnLCAnXScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgICBpbmRleCArPSB0aGlzLl9vcmlnaW47XG4gICAgICAgIHZhciBub2RlID0gbGlzdE5vZGVGb3IodGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gbm9kZSAmJiBub2RlLmFycmF5W2luZGV4ICYgTUFTS107XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBMaXN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVMaXN0KHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKGluZGV4KSA/IHRoaXMgOlxuICAgICAgICBpbmRleCA9PT0gMCA/IHRoaXMuc2hpZnQoKSA6XG4gICAgICAgIGluZGV4ID09PSB0aGlzLnNpemUgLSAxID8gdGhpcy5wb3AoKSA6XG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fb3JpZ2luID0gdGhpcy5fY2FwYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IFNISUZUO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBvbGRTaXplID0gdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIG9sZFNpemUgKyB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChvbGRTaXplICsgaWksIHZhbHVlc1tpaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCAtMSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIC12YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChpaSwgdmFsdWVzW2lpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlciwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIGRlZXBNZXJnZXJXaXRoKG1lcmdlciksIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDAsIHNpemUpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEl0ZXJhdGlvblxuXG4gICAgTGlzdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHMoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSksXG4gICAgICAgIHJlc29sdmVFbmQoZW5kLCBzaXplKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gRE9ORSA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaW5kZXgrKywgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgd2hpbGUgKCh2YWx1ZSA9IHZhbHVlcygpKSAhPT0gRE9ORSkge1xuICAgICAgICBpZiAoZm4odmFsdWUsIGluZGV4KyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTGlzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2NhcGFjaXR5LCB0aGlzLl9sZXZlbCwgdGhpcy5fcm9vdCwgdGhpcy5fdGFpbCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc0xpc3QobWF5YmVMaXN0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlTGlzdCAmJiBtYXliZUxpc3RbSVNfTElTVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgTGlzdC5pc0xpc3QgPSBpc0xpc3Q7XG5cbiAgdmFyIElTX0xJU1RfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5cbiAgdmFyIExpc3RQcm90b3R5cGUgPSBMaXN0LnByb3RvdHlwZTtcbiAgTGlzdFByb3RvdHlwZVtJU19MSVNUX1NFTlRJTkVMXSA9IHRydWU7XG4gIExpc3RQcm90b3R5cGVbREVMRVRFXSA9IExpc3RQcm90b3R5cGUucmVtb3ZlO1xuICBMaXN0UHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuICBMaXN0UHJvdG90eXBlLmRlbGV0ZUluID1cbiAgTGlzdFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbjtcbiAgTGlzdFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuICBMaXN0UHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuICBMaXN0UHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbiAgTGlzdFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbiAgTGlzdFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIExpc3RQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cblxuXG4gICAgZnVuY3Rpb24gVk5vZGUoYXJyYXksIG93bmVySUQpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogc2VlbXMgbGlrZSB0aGVzZSBtZXRob2RzIGFyZSB2ZXJ5IHNpbWlsYXJcblxuICAgIFZOb2RlLnByb3RvdHlwZS5yZW1vdmVCZWZvcmUgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvcmlnaW5JbmRleCA9IChpbmRleCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChvcmlnaW5JbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFZOb2RlKFtdLCBvd25lcklEKTtcbiAgICAgIH1cbiAgICAgIHZhciByZW1vdmluZ0ZpcnN0ID0gb3JpZ2luSW5kZXggPT09IDA7XG4gICAgICB2YXIgbmV3Q2hpbGQ7XG4gICAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbb3JpZ2luSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUJlZm9yZShvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZpbmdGaXJzdCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICAgICAgaWYgKCFyZW1vdmluZ0ZpcnN0KSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBvcmlnaW5JbmRleDsgaWkrKykge1xuICAgICAgICAgIGVkaXRhYmxlLmFycmF5W2lpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgIGVkaXRhYmxlLmFycmF5W29yaWdpbkluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cbiAgICBWTm9kZS5wcm90b3R5cGUucmVtb3ZlQWZ0ZXIgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gKGxldmVsID8gMSA8PCBsZXZlbCA6IDApIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHNpemVJbmRleCA9ICgoaW5kZXggLSAxKSA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChzaXplSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDaGlsZDtcbiAgICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtzaXplSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUFmdGVyKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICAgICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiBzaXplSW5kZXggPT09IHRoaXMuYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gICAgICBlZGl0YWJsZS5hcnJheS5zcGxpY2Uoc2l6ZUluZGV4ICsgMSk7XG4gICAgICBpZiAobmV3Q2hpbGQpIHtcbiAgICAgICAgZWRpdGFibGUuYXJyYXlbc2l6ZUluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cblxuXG4gIHZhciBET05FID0ge307XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZUxpc3QobGlzdCwgcmV2ZXJzZSkge1xuICAgIHZhciBsZWZ0ID0gbGlzdC5fb3JpZ2luO1xuICAgIHZhciByaWdodCA9IGxpc3QuX2NhcGFjaXR5O1xuICAgIHZhciB0YWlsUG9zID0gZ2V0VGFpbE9mZnNldChyaWdodCk7XG4gICAgdmFyIHRhaWwgPSBsaXN0Ll90YWlsO1xuXG4gICAgcmV0dXJuIGl0ZXJhdGVOb2RlT3JMZWFmKGxpc3QuX3Jvb3QsIGxpc3QuX2xldmVsLCAwKTtcblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlT3JMZWFmKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBsZXZlbCA9PT0gMCA/XG4gICAgICAgIGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldCkgOlxuICAgICAgICBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpIHtcbiAgICAgIHZhciBhcnJheSA9IG9mZnNldCA9PT0gdGFpbFBvcyA/IHRhaWwgJiYgdGFpbC5hcnJheSA6IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiBsZWZ0IC0gb2Zmc2V0O1xuICAgICAgdmFyIHRvID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgICBpZiAodG8gPiBTSVpFKSB7XG4gICAgICAgIHRvID0gU0laRTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpICB7XG4gICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgIHJldHVybiBET05FO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgcmV0dXJuIGFycmF5ICYmIGFycmF5W2lkeF07XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICAgIHZhciB2YWx1ZXM7XG4gICAgICB2YXIgYXJyYXkgPSBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogKGxlZnQgLSBvZmZzZXQpID4+IGxldmVsO1xuICAgICAgdmFyIHRvID0gKChyaWdodCAtIG9mZnNldCkgPj4gbGV2ZWwpICsgMTtcbiAgICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgICAgdG8gPSBTSVpFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBET05FKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgICB2YWx1ZXMgPSBpdGVyYXRlTm9kZU9yTGVhZihcbiAgICAgICAgICAgIGFycmF5ICYmIGFycmF5W2lkeF0sIGxldmVsIC0gU0hJRlQsIG9mZnNldCArIChpZHggPDwgbGV2ZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VMaXN0KG9yaWdpbiwgY2FwYWNpdHksIGxldmVsLCByb290LCB0YWlsLCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIGxpc3QgPSBPYmplY3QuY3JlYXRlKExpc3RQcm90b3R5cGUpO1xuICAgIGxpc3Quc2l6ZSA9IGNhcGFjaXR5IC0gb3JpZ2luO1xuICAgIGxpc3QuX29yaWdpbiA9IG9yaWdpbjtcbiAgICBsaXN0Ll9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIGxpc3QuX2xldmVsID0gbGV2ZWw7XG4gICAgbGlzdC5fcm9vdCA9IHJvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IHRhaWw7XG4gICAgbGlzdC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIGxpc3QuX19oYXNoID0gaGFzaDtcbiAgICBsaXN0Ll9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgdmFyIEVNUFRZX0xJU1Q7XG4gIGZ1bmN0aW9uIGVtcHR5TGlzdCgpIHtcbiAgICByZXR1cm4gRU1QVFlfTElTVCB8fCAoRU1QVFlfTElTVCA9IG1ha2VMaXN0KDAsIDAsIFNISUZUKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaXN0KGxpc3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KGxpc3QsIGluZGV4KTtcblxuICAgIGlmIChpbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIGlmIChpbmRleCA+PSBsaXN0LnNpemUgfHwgaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gbGlzdC53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGxpc3QgKSB7XG4gICAgICAgIGluZGV4IDwgMCA/XG4gICAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCBpbmRleCkuc2V0KDAsIHZhbHVlKSA6XG4gICAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBpbmRleCArIDEpLnNldChpbmRleCwgdmFsdWUpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbmRleCArPSBsaXN0Ll9vcmlnaW47XG5cbiAgICB2YXIgbmV3VGFpbCA9IGxpc3QuX3RhaWw7XG4gICAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgICBpZiAoaW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICAgIG5ld1RhaWwgPSB1cGRhdGVWTm9kZShuZXdUYWlsLCBsaXN0Ll9fb3duZXJJRCwgMCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1Jvb3QgPSB1cGRhdGVWTm9kZShuZXdSb290LCBsaXN0Ll9fb3duZXJJRCwgbGlzdC5fbGV2ZWwsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgIH1cblxuICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgICBsaXN0Ll90YWlsID0gbmV3VGFpbDtcbiAgICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTGlzdChsaXN0Ll9vcmlnaW4sIGxpc3QuX2NhcGFjaXR5LCBsaXN0Ll9sZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWTm9kZShub2RlLCBvd25lcklELCBsZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcikge1xuICAgIHZhciBpZHggPSAoaW5kZXggPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgdmFyIG5vZGVIYXMgPSBub2RlICYmIGlkeCA8IG5vZGUuYXJyYXkubGVuZ3RoO1xuICAgIGlmICghbm9kZUhhcyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICB2YXIgbmV3Tm9kZTtcblxuICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgIHZhciBsb3dlck5vZGUgPSBub2RlICYmIG5vZGUuYXJyYXlbaWR4XTtcbiAgICAgIHZhciBuZXdMb3dlck5vZGUgPSB1cGRhdGVWTm9kZShsb3dlck5vZGUsIG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKG5ld0xvd2VyTm9kZSA9PT0gbG93ZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSBuZXdMb3dlck5vZGU7XG4gICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZUhhcyAmJiBub2RlLmFycmF5W2lkeF0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaWR4ID09PSBuZXdOb2RlLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIG5ld05vZGUuYXJyYXkucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCkge1xuICAgIGlmIChvd25lcklEICYmIG5vZGUgJiYgb3duZXJJRCA9PT0gbm9kZS5vd25lcklEKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWTm9kZShub2RlID8gbm9kZS5hcnJheS5zbGljZSgpIDogW10sIG93bmVySUQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdE5vZGVGb3IobGlzdCwgcmF3SW5kZXgpIHtcbiAgICBpZiAocmF3SW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICAgIHJldHVybiBsaXN0Ll90YWlsO1xuICAgIH1cbiAgICBpZiAocmF3SW5kZXggPCAxIDw8IChsaXN0Ll9sZXZlbCArIFNISUZUKSkge1xuICAgICAgdmFyIG5vZGUgPSBsaXN0Ll9yb290O1xuICAgICAgdmFyIGxldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgICB3aGlsZSAobm9kZSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbKHJhd0luZGV4ID4+PiBsZXZlbCkgJiBNQVNLXTtcbiAgICAgICAgbGV2ZWwgLT0gU0hJRlQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRMaXN0Qm91bmRzKGxpc3QsIGJlZ2luLCBlbmQpIHtcbiAgICAvLyBTYW5pdGl6ZSBiZWdpbiAmIGVuZCB1c2luZyB0aGlzIHNob3J0aGFuZCBmb3IgVG9JbnQzMihhcmd1bWVudClcbiAgICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdG9pbnQzMlxuICAgIGlmIChiZWdpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBiZWdpbiA9IGJlZ2luIHwgMDtcbiAgICB9XG4gICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSBlbmQgfCAwO1xuICAgIH1cbiAgICB2YXIgb3duZXIgPSBsaXN0Ll9fb3duZXJJRCB8fCBuZXcgT3duZXJJRCgpO1xuICAgIHZhciBvbGRPcmlnaW4gPSBsaXN0Ll9vcmlnaW47XG4gICAgdmFyIG9sZENhcGFjaXR5ID0gbGlzdC5fY2FwYWNpdHk7XG4gICAgdmFyIG5ld09yaWdpbiA9IG9sZE9yaWdpbiArIGJlZ2luO1xuICAgIHZhciBuZXdDYXBhY2l0eSA9IGVuZCA9PT0gdW5kZWZpbmVkID8gb2xkQ2FwYWNpdHkgOiBlbmQgPCAwID8gb2xkQ2FwYWNpdHkgKyBlbmQgOiBvbGRPcmlnaW4gKyBlbmQ7XG4gICAgaWYgKG5ld09yaWdpbiA9PT0gb2xkT3JpZ2luICYmIG5ld0NhcGFjaXR5ID09PSBvbGRDYXBhY2l0eSkge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgLy8gSWYgaXQncyBnb2luZyB0byBlbmQgYWZ0ZXIgaXQgc3RhcnRzLCBpdCdzIGVtcHR5LlxuICAgIGlmIChuZXdPcmlnaW4gPj0gbmV3Q2FwYWNpdHkpIHtcbiAgICAgIHJldHVybiBsaXN0LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdmFyIG5ld0xldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuXG4gICAgLy8gTmV3IG9yaWdpbiBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gICAgdmFyIG9mZnNldFNoaWZ0ID0gMDtcbiAgICB3aGlsZSAobmV3T3JpZ2luICsgb2Zmc2V0U2hpZnQgPCAwKSB7XG4gICAgICBuZXdSb290ID0gbmV3IFZOb2RlKG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbdW5kZWZpbmVkLCBuZXdSb290XSA6IFtdLCBvd25lcik7XG4gICAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICAgIG9mZnNldFNoaWZ0ICs9IDEgPDwgbmV3TGV2ZWw7XG4gICAgfVxuICAgIGlmIChvZmZzZXRTaGlmdCkge1xuICAgICAgbmV3T3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgICAgb2xkT3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgICAgbmV3Q2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBvbGRDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgICB9XG5cbiAgICB2YXIgb2xkVGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQob2xkQ2FwYWNpdHkpO1xuICAgIHZhciBuZXdUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChuZXdDYXBhY2l0eSk7XG5cbiAgICAvLyBOZXcgc2l6ZSBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gICAgd2hpbGUgKG5ld1RhaWxPZmZzZXQgPj0gMSA8PCAobmV3TGV2ZWwgKyBTSElGVCkpIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUobmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFtuZXdSb290XSA6IFtdLCBvd25lcik7XG4gICAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICB9XG5cbiAgICAvLyBMb2NhdGUgb3IgY3JlYXRlIHRoZSBuZXcgdGFpbC5cbiAgICB2YXIgb2xkVGFpbCA9IGxpc3QuX3RhaWw7XG4gICAgdmFyIG5ld1RhaWwgPSBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCA/XG4gICAgICBsaXN0Tm9kZUZvcihsaXN0LCBuZXdDYXBhY2l0eSAtIDEpIDpcbiAgICAgIG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0ID8gbmV3IFZOb2RlKFtdLCBvd25lcikgOiBvbGRUYWlsO1xuXG4gICAgLy8gTWVyZ2UgVGFpbCBpbnRvIHRyZWUuXG4gICAgaWYgKG9sZFRhaWwgJiYgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgJiYgbmV3T3JpZ2luIDwgb2xkQ2FwYWNpdHkgJiYgb2xkVGFpbC5hcnJheS5sZW5ndGgpIHtcbiAgICAgIG5ld1Jvb3QgPSBlZGl0YWJsZVZOb2RlKG5ld1Jvb3QsIG93bmVyKTtcbiAgICAgIHZhciBub2RlID0gbmV3Um9vdDtcbiAgICAgIGZvciAodmFyIGxldmVsID0gbmV3TGV2ZWw7IGxldmVsID4gU0hJRlQ7IGxldmVsIC09IFNISUZUKSB7XG4gICAgICAgIHZhciBpZHggPSAob2xkVGFpbE9mZnNldCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbaWR4XSA9IGVkaXRhYmxlVk5vZGUobm9kZS5hcnJheVtpZHhdLCBvd25lcik7XG4gICAgICB9XG4gICAgICBub2RlLmFycmF5WyhvbGRUYWlsT2Zmc2V0ID4+PiBTSElGVCkgJiBNQVNLXSA9IG9sZFRhaWw7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNpemUgaGFzIGJlZW4gcmVkdWNlZCwgdGhlcmUncyBhIGNoYW5jZSB0aGUgdGFpbCBuZWVkcyB0byBiZSB0cmltbWVkLlxuICAgIGlmIChuZXdDYXBhY2l0eSA8IG9sZENhcGFjaXR5KSB7XG4gICAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUFmdGVyKG93bmVyLCAwLCBuZXdDYXBhY2l0eSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBvcmlnaW4gaXMgd2l0aGluIHRoZSB0YWlsLCB0aGVuIHdlIGRvIG5vdCBuZWVkIGEgcm9vdC5cbiAgICBpZiAobmV3T3JpZ2luID49IG5ld1RhaWxPZmZzZXQpIHtcbiAgICAgIG5ld09yaWdpbiAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgICAgbmV3Q2FwYWNpdHkgLT0gbmV3VGFpbE9mZnNldDtcbiAgICAgIG5ld0xldmVsID0gU0hJRlQ7XG4gICAgICBuZXdSb290ID0gbnVsbDtcbiAgICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQmVmb3JlKG93bmVyLCAwLCBuZXdPcmlnaW4pO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgcm9vdCBoYXMgYmVlbiB0cmltbWVkLCBnYXJiYWdlIGNvbGxlY3QuXG4gICAgfSBlbHNlIGlmIChuZXdPcmlnaW4gPiBvbGRPcmlnaW4gfHwgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICAgIG9mZnNldFNoaWZ0ID0gMDtcblxuICAgICAgLy8gSWRlbnRpZnkgdGhlIG5ldyB0b3Agcm9vdCBub2RlIG9mIHRoZSBzdWJ0cmVlIG9mIHRoZSBvbGQgcm9vdC5cbiAgICAgIHdoaWxlIChuZXdSb290KSB7XG4gICAgICAgIHZhciBiZWdpbkluZGV4ID0gKG5ld09yaWdpbiA+Pj4gbmV3TGV2ZWwpICYgTUFTSztcbiAgICAgICAgaWYgKGJlZ2luSW5kZXggIT09IChuZXdUYWlsT2Zmc2V0ID4+PiBuZXdMZXZlbCkgJiBNQVNLKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJlZ2luSW5kZXgpIHtcbiAgICAgICAgICBvZmZzZXRTaGlmdCArPSAoMSA8PCBuZXdMZXZlbCkgKiBiZWdpbkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIG5ld0xldmVsIC09IFNISUZUO1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5hcnJheVtiZWdpbkluZGV4XTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJpbSB0aGUgbmV3IHNpZGVzIG9mIHRoZSBuZXcgcm9vdC5cbiAgICAgIGlmIChuZXdSb290ICYmIG5ld09yaWdpbiA+IG9sZE9yaWdpbikge1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVCZWZvcmUob3duZXIsIG5ld0xldmVsLCBuZXdPcmlnaW4gLSBvZmZzZXRTaGlmdCk7XG4gICAgICB9XG4gICAgICBpZiAobmV3Um9vdCAmJiBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVBZnRlcihvd25lciwgbmV3TGV2ZWwsIG5ld1RhaWxPZmZzZXQgLSBvZmZzZXRTaGlmdCk7XG4gICAgICB9XG4gICAgICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICAgICAgbmV3T3JpZ2luIC09IG9mZnNldFNoaWZ0O1xuICAgICAgICBuZXdDYXBhY2l0eSAtPSBvZmZzZXRTaGlmdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICAgIGxpc3Quc2l6ZSA9IG5ld0NhcGFjaXR5IC0gbmV3T3JpZ2luO1xuICAgICAgbGlzdC5fb3JpZ2luID0gbmV3T3JpZ2luO1xuICAgICAgbGlzdC5fY2FwYWNpdHkgPSBuZXdDYXBhY2l0eTtcbiAgICAgIGxpc3QuX2xldmVsID0gbmV3TGV2ZWw7XG4gICAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VMaXN0KG5ld09yaWdpbiwgbmV3Q2FwYWNpdHksIG5ld0xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b0xpc3RXaXRoKGxpc3QsIG1lcmdlciwgaXRlcmFibGVzKSB7XG4gICAgdmFyIGl0ZXJzID0gW107XG4gICAgdmFyIG1heFNpemUgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVyYWJsZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZXNbaWldO1xuICAgICAgdmFyIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgaWYgKGl0ZXIuc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgbWF4U2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZyb21KUyh2KX0pO1xuICAgICAgfVxuICAgICAgaXRlcnMucHVzaChpdGVyKTtcbiAgICB9XG4gICAgaWYgKG1heFNpemUgPiBsaXN0LnNpemUpIHtcbiAgICAgIGxpc3QgPSBsaXN0LnNldFNpemUobWF4U2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChsaXN0LCBtZXJnZXIsIGl0ZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhaWxPZmZzZXQoc2l6ZSkge1xuICAgIHJldHVybiBzaXplIDwgU0laRSA/IDAgOiAoKChzaXplIC0gMSkgPj4+IFNISUZUKSA8PCBTSElGVCk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhPcmRlcmVkTWFwLCBNYXApO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIE9yZGVyZWRNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlPcmRlcmVkTWFwKCkgOlxuICAgICAgICBpc09yZGVyZWRNYXAodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eU9yZGVyZWRNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG1hcCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIG1hcC5zZXQoaywgdil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgT3JkZXJlZE1hcC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkTWFwIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuX21hcC5nZXQoayk7XG4gICAgICByZXR1cm4gaW5kZXggIT09IHVuZGVmaW5lZCA/IHRoaXMuX2xpc3QuZ2V0KGluZGV4KVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpc3QuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIHYpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCkgfHwgdGhpcy5fbGlzdC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5fbGlzdC5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uKGVudHJ5ICkge3JldHVybiBlbnRyeSAmJiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMCl9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuZnJvbUVudHJ5U2VxKCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIHZhciBuZXdMaXN0ID0gdGhpcy5fbGlzdC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICB0aGlzLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzT3JkZXJlZE1hcChtYXliZU9yZGVyZWRNYXApIHtcbiAgICByZXR1cm4gaXNNYXAobWF5YmVPcmRlcmVkTWFwKSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkTWFwKTtcbiAgfVxuXG4gIE9yZGVyZWRNYXAuaXNPcmRlcmVkTWFwID0gaXNPcmRlcmVkTWFwO1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcbiAgT3JkZXJlZE1hcC5wcm90b3R5cGVbREVMRVRFXSA9IE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZTtcblxuXG5cbiAgZnVuY3Rpb24gbWFrZU9yZGVyZWRNYXAobWFwLCBsaXN0LCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG9tYXAgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRNYXAucHJvdG90eXBlKTtcbiAgICBvbWFwLnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgb21hcC5fbWFwID0gbWFwO1xuICAgIG9tYXAuX2xpc3QgPSBsaXN0O1xuICAgIG9tYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBvbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgcmV0dXJuIG9tYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfT1JERVJFRF9NQVA7XG4gIGZ1bmN0aW9uIGVtcHR5T3JkZXJlZE1hcCgpIHtcbiAgICByZXR1cm4gRU1QVFlfT1JERVJFRF9NQVAgfHwgKEVNUFRZX09SREVSRURfTUFQID0gbWFrZU9yZGVyZWRNYXAoZW1wdHlNYXAoKSwgZW1wdHlMaXN0KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyZWRNYXAob21hcCwgaywgdikge1xuICAgIHZhciBtYXAgPSBvbWFwLl9tYXA7XG4gICAgdmFyIGxpc3QgPSBvbWFwLl9saXN0O1xuICAgIHZhciBpID0gbWFwLmdldChrKTtcbiAgICB2YXIgaGFzID0gaSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBuZXdNYXA7XG4gICAgdmFyIG5ld0xpc3Q7XG4gICAgaWYgKHYgPT09IE5PVF9TRVQpIHsgLy8gcmVtb3ZlZFxuICAgICAgaWYgKCFoYXMpIHtcbiAgICAgICAgcmV0dXJuIG9tYXA7XG4gICAgICB9XG4gICAgICBpZiAobGlzdC5zaXplID49IFNJWkUgJiYgbGlzdC5zaXplID49IG1hcC5zaXplICogMikge1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24oZW50cnksIGlkeCkgIHtyZXR1cm4gZW50cnkgIT09IHVuZGVmaW5lZCAmJiBpICE9PSBpZHh9KTtcbiAgICAgICAgbmV3TWFwID0gbmV3TGlzdC50b0tleWVkU2VxKCkubWFwKGZ1bmN0aW9uKGVudHJ5ICkge3JldHVybiBlbnRyeVswXX0pLmZsaXAoKS50b01hcCgpO1xuICAgICAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgICAgICBuZXdNYXAuX19vd25lcklEID0gbmV3TGlzdC5fX293bmVySUQgPSBvbWFwLl9fb3duZXJJRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TWFwID0gbWFwLnJlbW92ZShrKTtcbiAgICAgICAgbmV3TGlzdCA9IGkgPT09IGxpc3Quc2l6ZSAtIDEgPyBsaXN0LnBvcCgpIDogbGlzdC5zZXQoaSwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcykge1xuICAgICAgICBpZiAodiA9PT0gbGlzdC5nZXQoaSlbMV0pIHtcbiAgICAgICAgICByZXR1cm4gb21hcDtcbiAgICAgICAgfVxuICAgICAgICBuZXdNYXAgPSBtYXA7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LnNldChpLCBbaywgdl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TWFwID0gbWFwLnNldChrLCBsaXN0LnNpemUpO1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5zZXQobGlzdC5zaXplLCBbaywgdl0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgIG9tYXAuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgICAgb21hcC5fbWFwID0gbmV3TWFwO1xuICAgICAgb21hcC5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgICBvbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0KTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFRvS2V5ZWRTZXF1ZW5jZSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIFRvS2V5ZWRTZXF1ZW5jZShpbmRleGVkLCB1c2VLZXlzKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaW5kZXhlZDtcbiAgICAgIHRoaXMuX3VzZUtleXMgPSB1c2VLZXlzO1xuICAgICAgdGhpcy5zaXplID0gaW5kZXhlZC5zaXplO1xuICAgIH1cblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KGtleSwgbm90U2V0VmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaGFzKGtleSk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUudmFsdWVTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKTtcbiAgICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgICByZXZlcnNlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24oKSAge3JldHVybiB0aGlzJDAuX2l0ZXIudG9TZXEoKS5yZXZlcnNlKCl9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCk7XG4gICAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgICAgbWFwcGVkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbigpICB7cmV0dXJuIHRoaXMkMC5faXRlci50b1NlcSgpLm1hcChtYXBwZXIsIGNvbnRleHQpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGlpO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgICB0aGlzLl91c2VLZXlzID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbih2LCBrLCB0aGlzJDApfSA6XG4gICAgICAgICAgKChpaSA9IHJldmVyc2UgPyByZXNvbHZlU2l6ZSh0aGlzKSA6IDApLFxuICAgICAgICAgICAgZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgcmV2ZXJzZSA/IC0taWkgOiBpaSsrLCB0aGlzJDApfSksXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmICh0aGlzLl91c2VLZXlzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHJlc29sdmVTaXplKHRoaXMpIDogMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IC0taWkgOiBpaSsrLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuICBjcmVhdGVDbGFzcyhUb0luZGV4ZWRTZXF1ZW5jZSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gVG9JbmRleGVkU2VxdWVuY2UoaXRlcikge1xuICAgICAgdGhpcy5faXRlciA9IGl0ZXI7XG4gICAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gICAgfVxuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgaXRlcmF0aW9ucysrLCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlLCBzdGVwKVxuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoVG9TZXRTZXF1ZW5jZSwgU2V0U2VxKTtcbiAgICBmdW5jdGlvbiBUb1NldFNlcXVlbmNlKGl0ZXIpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgICAgdGhpcy5zaXplID0gaXRlci5zaXplO1xuICAgIH1cblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXMoa2V5KTtcbiAgICB9O1xuXG4gICAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2ICkge3JldHVybiBmbih2LCB2LCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBzdGVwLnZhbHVlLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEZyb21FbnRyaWVzU2VxdWVuY2UsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBGcm9tRW50cmllc1NlcXVlbmNlKGVudHJpZXMpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBlbnRyaWVzO1xuICAgICAgdGhpcy5zaXplID0gZW50cmllcy5zaXplO1xuICAgIH1cblxuICAgIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmVudHJ5U2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci50b1NlcSgpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGZuKFxuICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIHRoaXMkMFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgICAgICAvLyBpbiB0aGUgcGFyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICAgICAgdmFyIGluZGV4ZWRJdGVyYWJsZSA9IGlzSXRlcmFibGUoZW50cnkpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgwKSA6IGVudHJ5WzBdLFxuICAgICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMSkgOiBlbnRyeVsxXSxcbiAgICAgICAgICAgICAgc3RlcFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gICAgY2FjaGVSZXN1bHRUaHJvdWdoO1xuXG5cbiAgZnVuY3Rpb24gZmxpcEZhY3RvcnkoaXRlcmFibGUpIHtcbiAgICB2YXIgZmxpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBmbGlwU2VxdWVuY2UuX2l0ZXIgPSBpdGVyYWJsZTtcbiAgICBmbGlwU2VxdWVuY2Uuc2l6ZSA9IGl0ZXJhYmxlLnNpemU7XG4gICAgZmxpcFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlfTtcbiAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gaXRlcmFibGUucmV2ZXJzZS5hcHBseSh0aGlzKTsgLy8gc3VwZXIucmV2ZXJzZSgpXG4gICAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlLnJldmVyc2UoKX07XG4gICAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgICB9O1xuICAgIGZsaXBTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKSB7cmV0dXJuIGl0ZXJhYmxlLmluY2x1ZGVzKGtleSl9O1xuICAgIGZsaXBTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaGFzKGtleSl9O1xuICAgIGZsaXBTZXF1ZW5jZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaDtcbiAgICBmbGlwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4oaywgdiwgdGhpcyQwKSAhPT0gZmFsc2V9LCByZXZlcnNlKTtcbiAgICB9XG4gICAgZmxpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKCFzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHZhciBrID0gc3RlcC52YWx1ZVswXTtcbiAgICAgICAgICAgIHN0ZXAudmFsdWVbMF0gPSBzdGVwLnZhbHVlWzFdO1xuICAgICAgICAgICAgc3RlcC52YWx1ZVsxXSA9IGs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yKFxuICAgICAgICB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUyA/IElURVJBVEVfS0VZUyA6IElURVJBVEVfVkFMVUVTLFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmxpcFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBtYXBGYWN0b3J5KGl0ZXJhYmxlLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIG1hcHBlZFNlcXVlbmNlLnNpemUgPSBpdGVyYWJsZS5zaXplO1xuICAgIG1hcHBlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaGFzKGtleSl9O1xuICAgIG1hcHBlZFNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpICB7XG4gICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgcmV0dXJuIHYgPT09IE5PVF9TRVQgP1xuICAgICAgICBub3RTZXRWYWx1ZSA6XG4gICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGtleSwgaXRlcmFibGUpO1xuICAgIH07XG4gICAgbWFwcGVkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uKHYsIGssIGMpICB7cmV0dXJuIGZuKG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGssIGMpLCBrLCB0aGlzJDApICE9PSBmYWxzZX0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfVxuICAgIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIGVudHJ5WzFdLCBrZXksIGl0ZXJhYmxlKSxcbiAgICAgICAgICBzdGVwXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiByZXZlcnNlRmFjdG9yeShpdGVyYWJsZSwgdXNlS2V5cykge1xuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLl9pdGVyID0gaXRlcmFibGU7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlfTtcbiAgICBpZiAoaXRlcmFibGUuZmxpcCkge1xuICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmxpcFNlcXVlbmNlID0gZmxpcEZhY3RvcnkoaXRlcmFibGUpO1xuICAgICAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUuZmxpcCgpfTtcbiAgICAgICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldmVyc2VkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkgXG4gICAgICB7cmV0dXJuIGl0ZXJhYmxlLmdldCh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXksIG5vdFNldFZhbHVlKX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKVxuICAgICAge3JldHVybiBpdGVyYWJsZS5oYXModXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5KX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpdGVyYWJsZS5pbmNsdWRlcyh2YWx1ZSl9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4odiwgaywgdGhpcyQwKX0sICFyZXZlcnNlKTtcbiAgICB9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRvciA9XG4gICAgICBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSAge3JldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsICFyZXZlcnNlKX07XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZpbHRlckZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBmaWx0ZXJTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgaWYgKHVzZUtleXMpIHtcbiAgICAgIGZpbHRlclNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtcbiAgICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgISFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICAgIH07XG4gICAgICBmaWx0ZXJTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKSA/XG4gICAgICAgICAgdiA6IG5vdFNldFZhbHVlO1xuICAgICAgfTtcbiAgICB9XG4gICAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2YWx1ZSwga2V5LCBpdGVyYWJsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIHVzZUtleXMgPyBrZXkgOiBpdGVyYXRpb25zKyssIHZhbHVlLCBzdGVwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvdW50QnlGYWN0b3J5KGl0ZXJhYmxlLCBncm91cGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIGdyb3VwcyA9IE1hcCgpLmFzTXV0YWJsZSgpO1xuICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgZ3JvdXBzLnVwZGF0ZShcbiAgICAgICAgZ3JvdXBlci5jYWxsKGNvbnRleHQsIHYsIGssIGl0ZXJhYmxlKSxcbiAgICAgICAgMCxcbiAgICAgICAgZnVuY3Rpb24oYSApIHtyZXR1cm4gYSArIDF9XG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiBncm91cHMuYXNJbW11dGFibGUoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ3JvdXBCeUZhY3RvcnkoaXRlcmFibGUsIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgaXNLZXllZEl0ZXIgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgZ3JvdXBzID0gKGlzT3JkZXJlZChpdGVyYWJsZSkgPyBPcmRlcmVkTWFwKCkgOiBNYXAoKSkuYXNNdXRhYmxlKCk7XG4gICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBncm91cHMudXBkYXRlKFxuICAgICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpLFxuICAgICAgICBmdW5jdGlvbihhICkge3JldHVybiAoYSA9IGEgfHwgW10sIGEucHVzaChpc0tleWVkSXRlciA/IFtrLCB2XSA6IHYpLCBhKX1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgdmFyIGNvZXJjZSA9IGl0ZXJhYmxlQ2xhc3MoaXRlcmFibGUpO1xuICAgIHJldHVybiBncm91cHMubWFwKGZ1bmN0aW9uKGFyciApIHtyZXR1cm4gcmVpZnkoaXRlcmFibGUsIGNvZXJjZShhcnIpKX0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBzbGljZUZhY3RvcnkoaXRlcmFibGUsIGJlZ2luLCBlbmQsIHVzZUtleXMpIHtcbiAgICB2YXIgb3JpZ2luYWxTaXplID0gaXRlcmFibGUuc2l6ZTtcblxuICAgIC8vIFNhbml0aXplIGJlZ2luICYgZW5kIHVzaW5nIHRoaXMgc2hvcnRoYW5kIGZvciBUb0ludDMyKGFyZ3VtZW50KVxuICAgIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2ludDMyXG4gICAgaWYgKGJlZ2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJlZ2luID0gYmVnaW4gfCAwO1xuICAgIH1cbiAgICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChlbmQgPT09IEluZmluaXR5KSB7XG4gICAgICAgIGVuZCA9IG9yaWdpbmFsU2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IGVuZCB8IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgb3JpZ2luYWxTaXplKSkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBvcmlnaW5hbFNpemUpO1xuICAgIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCBvcmlnaW5hbFNpemUpO1xuXG4gICAgLy8gYmVnaW4gb3IgZW5kIHdpbGwgYmUgTmFOIGlmIHRoZXkgd2VyZSBwcm92aWRlZCBhcyBuZWdhdGl2ZSBudW1iZXJzIGFuZFxuICAgIC8vIHRoaXMgaXRlcmFibGUncyBzaXplIGlzIHVua25vd24uIEluIHRoYXQgY2FzZSwgY2FjaGUgZmlyc3Qgc28gdGhlcmUgaXNcbiAgICAvLyBhIGtub3duIHNpemUgYW5kIHRoZXNlIGRvIG5vdCByZXNvbHZlIHRvIE5hTi5cbiAgICBpZiAocmVzb2x2ZWRCZWdpbiAhPT0gcmVzb2x2ZWRCZWdpbiB8fCByZXNvbHZlZEVuZCAhPT0gcmVzb2x2ZWRFbmQpIHtcbiAgICAgIHJldHVybiBzbGljZUZhY3RvcnkoaXRlcmFibGUudG9TZXEoKS5jYWNoZVJlc3VsdCgpLCBiZWdpbiwgZW5kLCB1c2VLZXlzKTtcbiAgICB9XG5cbiAgICAvLyBOb3RlOiByZXNvbHZlZEVuZCBpcyB1bmRlZmluZWQgd2hlbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UncyBsZW5ndGggaXNcbiAgICAvLyB1bmtub3duIGFuZCB0aGlzIHNsaWNlIGRpZCBub3Qgc3VwcGx5IGFuIGVuZCBhbmQgc2hvdWxkIGNvbnRhaW4gYWxsXG4gICAgLy8gZWxlbWVudHMgYWZ0ZXIgcmVzb2x2ZWRCZWdpbi5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHJlc29sdmVkU2l6ZSB3aWxsIGJlIE5hTiBhbmQgc2xpY2VTaXplIHdpbGwgcmVtYWluIHVuZGVmaW5lZC5cbiAgICB2YXIgcmVzb2x2ZWRTaXplID0gcmVzb2x2ZWRFbmQgLSByZXNvbHZlZEJlZ2luO1xuICAgIHZhciBzbGljZVNpemU7XG4gICAgaWYgKHJlc29sdmVkU2l6ZSA9PT0gcmVzb2x2ZWRTaXplKSB7XG4gICAgICBzbGljZVNpemUgPSByZXNvbHZlZFNpemUgPCAwID8gMCA6IHJlc29sdmVkU2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgc2xpY2VTZXEgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuXG4gICAgLy8gSWYgaXRlcmFibGUuc2l6ZSBpcyB1bmRlZmluZWQsIHRoZSBzaXplIG9mIHRoZSByZWFsaXplZCBzbGljZVNlcSBpc1xuICAgIC8vIHVua25vd24gYXQgdGhpcyBwb2ludCB1bmxlc3MgdGhlIG51bWJlciBvZiBpdGVtcyB0byBzbGljZSBpcyAwXG4gICAgc2xpY2VTZXEuc2l6ZSA9IHNsaWNlU2l6ZSA9PT0gMCA/IHNsaWNlU2l6ZSA6IGl0ZXJhYmxlLnNpemUgJiYgc2xpY2VTaXplIHx8IHVuZGVmaW5lZDtcblxuICAgIGlmICghdXNlS2V5cyAmJiBpc1NlcShpdGVyYWJsZSkgJiYgc2xpY2VTaXplID49IDApIHtcbiAgICAgIHNsaWNlU2VxLmdldCA9IGZ1bmN0aW9uIChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IHNsaWNlU2l6ZSA/XG4gICAgICAgICAgaXRlcmFibGUuZ2V0KGluZGV4ICsgcmVzb2x2ZWRCZWdpbiwgbm90U2V0VmFsdWUpIDpcbiAgICAgICAgICBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzbGljZVNlcS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAoc2xpY2VTaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIHNraXBwZWQgPSAwO1xuICAgICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSkpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCkgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMgIT09IHNsaWNlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgc2xpY2VTZXEuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHNsaWNlU2l6ZSAhPT0gMCAmJiByZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IGJvdGhlciBpbnN0YW50aWF0aW5nIHBhcmVudCBpdGVyYXRvciBpZiB0YWtpbmcgMC5cbiAgICAgIHZhciBpdGVyYXRvciA9IHNsaWNlU2l6ZSAhPT0gMCAmJiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgdmFyIHNraXBwZWQgPSAwO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlIChza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSB7XG4gICAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgrK2l0ZXJhdGlvbnMgPiBzbGljZVNpemUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSVRFUkFURV9LRVlTKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2xpY2VTZXE7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHRha2VXaGlsZUZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciB0YWtlU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgXG4gICAgICAgIHtyZXR1cm4gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykgJiYgKytpdGVyYXRpb25zICYmIGZuKHYsIGssIHRoaXMkMCl9XG4gICAgICApO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICB0YWtlU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKCFpdGVyYXRpbmcpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIgayA9IGVudHJ5WzBdO1xuICAgICAgICB2YXIgdiA9IGVudHJ5WzFdO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMCkpIHtcbiAgICAgICAgICBpdGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB0YWtlU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNraXBXaGlsZUZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBza2lwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkpKSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgc2tpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBza2lwcGluZyA9IHRydWU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAsIGssIHY7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBrID0gZW50cnlbMF07XG4gICAgICAgICAgdiA9IGVudHJ5WzFdO1xuICAgICAgICAgIHNraXBwaW5nICYmIChza2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMCkpO1xuICAgICAgICB9IHdoaWxlIChza2lwcGluZyk7XG4gICAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gc2tpcFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb25jYXRGYWN0b3J5KGl0ZXJhYmxlLCB2YWx1ZXMpIHtcbiAgICB2YXIgaXNLZXllZEl0ZXJhYmxlID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGl0ZXJzID0gW2l0ZXJhYmxlXS5jb25jYXQodmFsdWVzKS5tYXAoZnVuY3Rpb24odiApIHtcbiAgICAgIGlmICghaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICB2ID0gaXNLZXllZEl0ZXJhYmxlID9cbiAgICAgICAgICBrZXllZFNlcUZyb21WYWx1ZSh2KSA6XG4gICAgICAgICAgaW5kZXhlZFNlcUZyb21WYWx1ZShBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XSk7XG4gICAgICB9IGVsc2UgaWYgKGlzS2V5ZWRJdGVyYWJsZSkge1xuICAgICAgICB2ID0gS2V5ZWRJdGVyYWJsZSh2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2O1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbih2ICkge3JldHVybiB2LnNpemUgIT09IDB9KTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICB9XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgc2luZ2xldG9uID0gaXRlcnNbMF07XG4gICAgICBpZiAoc2luZ2xldG9uID09PSBpdGVyYWJsZSB8fFxuICAgICAgICAgIGlzS2V5ZWRJdGVyYWJsZSAmJiBpc0tleWVkKHNpbmdsZXRvbikgfHxcbiAgICAgICAgICBpc0luZGV4ZWQoaXRlcmFibGUpICYmIGlzSW5kZXhlZChzaW5nbGV0b24pKSB7XG4gICAgICAgIHJldHVybiBzaW5nbGV0b247XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNvbmNhdFNlcSA9IG5ldyBBcnJheVNlcShpdGVycyk7XG4gICAgaWYgKGlzS2V5ZWRJdGVyYWJsZSkge1xuICAgICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvS2V5ZWRTZXEoKTtcbiAgICB9IGVsc2UgaWYgKCFpc0luZGV4ZWQoaXRlcmFibGUpKSB7XG4gICAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9TZXRTZXEoKTtcbiAgICB9XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLmZsYXR0ZW4odHJ1ZSk7XG4gICAgY29uY2F0U2VxLnNpemUgPSBpdGVycy5yZWR1Y2UoXG4gICAgICBmdW5jdGlvbihzdW0sIHNlcSkgIHtcbiAgICAgICAgaWYgKHN1bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHNpemUgPSBzZXEuc2l6ZTtcbiAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtICsgc2l6ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAwXG4gICAgKTtcbiAgICByZXR1cm4gY29uY2F0U2VxO1xuICB9XG5cblxuICBmdW5jdGlvbiBmbGF0dGVuRmFjdG9yeShpdGVyYWJsZSwgZGVwdGgsIHVzZUtleXMpIHtcbiAgICB2YXIgZmxhdFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBmbGF0U2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGZsYXREZWVwKGl0ZXIsIGN1cnJlbnREZXB0aCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgICBpdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgICAgIGlmICgoIWRlcHRoIHx8IGN1cnJlbnREZXB0aCA8IGRlcHRoKSAmJiBpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICBmbGF0RGVlcCh2LCBjdXJyZW50RGVwdGggKyAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucysrLCB0aGlzJDApID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhc3RvcHBlZDtcbiAgICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICBmbGF0RGVlcChpdGVyYWJsZSwgMCk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9XG4gICAgZmxhdFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAoaXRlcmF0b3IpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgaXRlcmF0b3IgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdiA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICAgICAgdiA9IHZbMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoIWRlcHRoIHx8IHN0YWNrLmxlbmd0aCA8IGRlcHRoKSAmJiBpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gdi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlS2V5cyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdiwgc3RlcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmxhdFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBmbGF0TWFwRmFjdG9yeShpdGVyYWJsZSwgbWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIGNvZXJjZSA9IGl0ZXJhYmxlQ2xhc3MoaXRlcmFibGUpO1xuICAgIHJldHVybiBpdGVyYWJsZS50b1NlcSgpLm1hcChcbiAgICAgIGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGNvZXJjZShtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBpdGVyYWJsZSkpfVxuICAgICkuZmxhdHRlbih0cnVlKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gaW50ZXJwb3NlRmFjdG9yeShpdGVyYWJsZSwgc2VwYXJhdG9yKSB7XG4gICAgdmFyIGludGVycG9zZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgaW50ZXJwb3NlZFNlcXVlbmNlLnNpemUgPSBpdGVyYWJsZS5zaXplICYmIGl0ZXJhYmxlLnNpemUgKiAyIC0xO1xuICAgIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgXG4gICAgICAgIHtyZXR1cm4gKCFpdGVyYXRpb25zIHx8IGZuKHNlcGFyYXRvciwgaXRlcmF0aW9ucysrLCB0aGlzJDApICE9PSBmYWxzZSkgJiZcbiAgICAgICAgZm4odiwgaXRlcmF0aW9ucysrLCB0aGlzJDApICE9PSBmYWxzZX0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmICghc3RlcCB8fCBpdGVyYXRpb25zICUgMikge1xuICAgICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRpb25zICUgMiA/XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHNlcGFyYXRvcikgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGludGVycG9zZWRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gc29ydEZhY3RvcnkoaXRlcmFibGUsIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICAgIGlmICghY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICAgIH1cbiAgICB2YXIgaXNLZXllZEl0ZXJhYmxlID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgZW50cmllcyA9IGl0ZXJhYmxlLnRvU2VxKCkubWFwKFxuICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gW2ssIHYsIGluZGV4KyssIG1hcHBlciA/IG1hcHBlcih2LCBrLCBpdGVyYWJsZSkgOiB2XX1cbiAgICApLnRvQXJyYXkoKTtcbiAgICBlbnRyaWVzLnNvcnQoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gY29tcGFyYXRvcihhWzNdLCBiWzNdKSB8fCBhWzJdIC0gYlsyXX0pLmZvckVhY2goXG4gICAgICBpc0tleWVkSXRlcmFibGUgP1xuICAgICAgZnVuY3Rpb24odiwgaSkgIHsgZW50cmllc1tpXS5sZW5ndGggPSAyOyB9IDpcbiAgICAgIGZ1bmN0aW9uKHYsIGkpICB7IGVudHJpZXNbaV0gPSB2WzFdOyB9XG4gICAgKTtcbiAgICByZXR1cm4gaXNLZXllZEl0ZXJhYmxlID8gS2V5ZWRTZXEoZW50cmllcykgOlxuICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRTZXEoZW50cmllcykgOlxuICAgICAgU2V0U2VxKGVudHJpZXMpO1xuICB9XG5cblxuICBmdW5jdGlvbiBtYXhGYWN0b3J5KGl0ZXJhYmxlLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgICB9XG4gICAgaWYgKG1hcHBlcikge1xuICAgICAgdmFyIGVudHJ5ID0gaXRlcmFibGUudG9TZXEoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIFt2LCBtYXBwZXIodiwgaywgaXRlcmFibGUpXX0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhWzFdLCBiWzFdKSA/IGIgOiBhfSk7XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSA/IGIgOiBhfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSB7XG4gICAgdmFyIGNvbXAgPSBjb21wYXJhdG9yKGIsIGEpO1xuICAgIC8vIGIgaXMgY29uc2lkZXJlZCB0aGUgbmV3IG1heCBpZiB0aGUgY29tcGFyYXRvciBkZWNsYXJlcyB0aGVtIGVxdWFsLCBidXRcbiAgICAvLyB0aGV5IGFyZSBub3QgZXF1YWwgYW5kIGIgaXMgaW4gZmFjdCBhIG51bGxpc2ggdmFsdWUuXG4gICAgcmV0dXJuIChjb21wID09PSAwICYmIGIgIT09IGEgJiYgKGIgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgIT09IGIpKSB8fCBjb21wID4gMDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gemlwV2l0aEZhY3Rvcnkoa2V5SXRlciwgemlwcGVyLCBpdGVycykge1xuICAgIHZhciB6aXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShrZXlJdGVyKTtcbiAgICB6aXBTZXF1ZW5jZS5zaXplID0gbmV3IEFycmF5U2VxKGl0ZXJzKS5tYXAoZnVuY3Rpb24oaSApIHtyZXR1cm4gaS5zaXplfSkubWluKCk7XG4gICAgLy8gTm90ZTogdGhpcyBhIGdlbmVyaWMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBfX2l0ZXJhdGUgaW4gdGVybXMgb2ZcbiAgICAvLyBfX2l0ZXJhdG9yIHdoaWNoIG1heSBiZSBtb3JlIGdlbmVyaWNhbGx5IHVzZWZ1bCBpbiB0aGUgZnV0dXJlLlxuICAgIHppcFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICAvKiBnZW5lcmljOlxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZVsxXSwgc3RlcC52YWx1ZVswXSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICAgKi9cbiAgICAgIC8vIGluZGV4ZWQ6XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHppcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24oaSApXG4gICAgICAgIHtyZXR1cm4gKGkgPSBJdGVyYWJsZShpKSwgZ2V0SXRlcmF0b3IocmV2ZXJzZSA/IGkucmV2ZXJzZSgpIDogaSkpfVxuICAgICAgKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBpc0RvbmUgPSBmYWxzZTtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgIGlmICghaXNEb25lKSB7XG4gICAgICAgICAgc3RlcHMgPSBpdGVyYXRvcnMubWFwKGZ1bmN0aW9uKGkgKSB7cmV0dXJuIGkubmV4dCgpfSk7XG4gICAgICAgICAgaXNEb25lID0gc3RlcHMuc29tZShmdW5jdGlvbihzICkge3JldHVybiBzLmRvbmV9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgaXRlcmF0aW9ucysrLFxuICAgICAgICAgIHppcHBlci5hcHBseShudWxsLCBzdGVwcy5tYXAoZnVuY3Rpb24ocyApIHtyZXR1cm4gcy52YWx1ZX0pKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gemlwU2VxdWVuY2VcbiAgfVxuXG5cbiAgLy8gI3ByYWdtYSBIZWxwZXIgRnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gcmVpZnkoaXRlciwgc2VxKSB7XG4gICAgcmV0dXJuIGlzU2VxKGl0ZXIpID8gc2VxIDogaXRlci5jb25zdHJ1Y3RvcihzZXEpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVFbnRyeShlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gT2JqZWN0KGVudHJ5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgW0ssIFZdIHR1cGxlOiAnICsgZW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVTaXplKGl0ZXIpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgIHJldHVybiBlbnN1cmVTaXplKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSkge1xuICAgIHJldHVybiBpc0tleWVkKGl0ZXJhYmxlKSA/IEtleWVkSXRlcmFibGUgOlxuICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRJdGVyYWJsZSA6XG4gICAgICBTZXRJdGVyYWJsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VTZXF1ZW5jZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgICAgKFxuICAgICAgICBpc0tleWVkKGl0ZXJhYmxlKSA/IEtleWVkU2VxIDpcbiAgICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRTZXEgOlxuICAgICAgICBTZXRTZXFcbiAgICAgICkucHJvdG90eXBlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlUmVzdWx0VGhyb3VnaCgpIHtcbiAgICBpZiAodGhpcy5faXRlci5jYWNoZVJlc3VsdCkge1xuICAgICAgdGhpcy5faXRlci5jYWNoZVJlc3VsdCgpO1xuICAgICAgdGhpcy5zaXplID0gdGhpcy5faXRlci5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0LmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdENvbXBhcmF0b3IoYSwgYikge1xuICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcmNlSXRlcmF0b3Ioa2V5UGF0aCkge1xuICAgIHZhciBpdGVyID0gZ2V0SXRlcmF0b3Ioa2V5UGF0aCk7XG4gICAgaWYgKCFpdGVyKSB7XG4gICAgICAvLyBBcnJheSBtaWdodCBub3QgYmUgaXRlcmFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCwgc28gd2UgbmVlZCBhIGZhbGxiYWNrXG4gICAgICAvLyB0byBvdXIgd3JhcHBlZCB0eXBlLlxuICAgICAgaWYgKCFpc0FycmF5TGlrZShrZXlQYXRoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBpdGVyYWJsZSBvciBhcnJheS1saWtlOiAnICsga2V5UGF0aCk7XG4gICAgICB9XG4gICAgICBpdGVyID0gZ2V0SXRlcmF0b3IoSXRlcmFibGUoa2V5UGF0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFJlY29yZCwgS2V5ZWRDb2xsZWN0aW9uKTtcblxuICAgIGZ1bmN0aW9uIFJlY29yZChkZWZhdWx0VmFsdWVzLCBuYW1lKSB7XG4gICAgICB2YXIgaGFzSW5pdGlhbGl6ZWQ7XG5cbiAgICAgIHZhciBSZWNvcmRUeXBlID0gZnVuY3Rpb24gUmVjb3JkKHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRUeXBlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNJbml0aWFsaXplZCkge1xuICAgICAgICAgIGhhc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZXMpO1xuICAgICAgICAgIHNldFByb3BzKFJlY29yZFR5cGVQcm90b3R5cGUsIGtleXMpO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2tleXMgPSBrZXlzO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2RlZmF1bHRWYWx1ZXMgPSBkZWZhdWx0VmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IE1hcCh2YWx1ZXMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIFJlY29yZFR5cGVQcm90b3R5cGUgPSBSZWNvcmRUeXBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVjb3JkUHJvdG90eXBlKTtcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWNvcmRUeXBlO1xuXG4gICAgICByZXR1cm4gUmVjb3JkVHlwZTtcbiAgICB9XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKHJlY29yZE5hbWUodGhpcykgKyAnIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlcy5oYXNPd25Qcm9wZXJ0eShrKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbCA9IHRoaXMuX2RlZmF1bHRWYWx1ZXNba107XG4gICAgICByZXR1cm4gdGhpcy5fbWFwID8gdGhpcy5fbWFwLmdldChrLCBkZWZhdWx0VmFsKSA6IGRlZmF1bHRWYWw7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5fbWFwICYmIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBSZWNvcmRUeXBlID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiBSZWNvcmRUeXBlLl9lbXB0eSB8fCAoUmVjb3JkVHlwZS5fZW1wdHkgPSBtYWtlUmVjb3JkKHRoaXMsIGVtcHR5TWFwKCkpKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrLCB2KSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCB1bmtub3duIGtleSBcIicgKyBrICsgJ1wiIG9uICcgKyByZWNvcmROYW1lKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9tYXAgJiYgIXRoaXMuX21hcC5oYXMoaykpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRWYWwgPSB0aGlzLl9kZWZhdWx0VmFsdWVzW2tdO1xuICAgICAgICBpZiAodiA9PT0gZGVmYXVsdFZhbCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5zZXQoaywgdik7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQgfHwgbmV3TWFwID09PSB0aGlzLl9tYXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdNYXApO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5yZW1vdmUoayk7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQgfHwgbmV3TWFwID09PSB0aGlzLl9tYXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdNYXApO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gS2V5ZWRJdGVyYWJsZSh0aGlzLl9kZWZhdWx0VmFsdWVzKS5tYXAoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4gdGhpcyQwLmdldChrKX0pLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBLZXllZEl0ZXJhYmxlKHRoaXMuX2RlZmF1bHRWYWx1ZXMpLm1hcChmdW5jdGlvbihfLCBrKSAge3JldHVybiB0aGlzJDAuZ2V0KGspfSkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdNYXAsIG93bmVySUQpO1xuICAgIH07XG5cblxuICB2YXIgUmVjb3JkUHJvdG90eXBlID0gUmVjb3JkLnByb3RvdHlwZTtcbiAgUmVjb3JkUHJvdG90eXBlW0RFTEVURV0gPSBSZWNvcmRQcm90b3R5cGUucmVtb3ZlO1xuICBSZWNvcmRQcm90b3R5cGUuZGVsZXRlSW4gPVxuICBSZWNvcmRQcm90b3R5cGUucmVtb3ZlSW4gPSBNYXBQcm90b3R5cGUucmVtb3ZlSW47XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZSA9IE1hcFByb3RvdHlwZS5tZXJnZTtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlV2l0aCA9IE1hcFByb3RvdHlwZS5tZXJnZVdpdGg7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZUluID0gTWFwUHJvdG90eXBlLm1lcmdlSW47XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZURlZXAgPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBXaXRoO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwSW47XG4gIFJlY29yZFByb3RvdHlwZS5zZXRJbiA9IE1hcFByb3RvdHlwZS5zZXRJbjtcbiAgUmVjb3JkUHJvdG90eXBlLnVwZGF0ZSA9IE1hcFByb3RvdHlwZS51cGRhdGU7XG4gIFJlY29yZFByb3RvdHlwZS51cGRhdGVJbiA9IE1hcFByb3RvdHlwZS51cGRhdGVJbjtcbiAgUmVjb3JkUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbiAgUmVjb3JkUHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG4gIFJlY29yZFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcblxuXG4gIGZ1bmN0aW9uIG1ha2VSZWNvcmQobGlrZVJlY29yZCwgbWFwLCBvd25lcklEKSB7XG4gICAgdmFyIHJlY29yZCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGxpa2VSZWNvcmQpKTtcbiAgICByZWNvcmQuX21hcCA9IG1hcDtcbiAgICByZWNvcmQuX19vd25lcklEID0gb3duZXJJRDtcbiAgICByZXR1cm4gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkTmFtZShyZWNvcmQpIHtcbiAgICByZXR1cm4gcmVjb3JkLl9uYW1lIHx8IHJlY29yZC5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdSZWNvcmQnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0UHJvcHMocHJvdG90eXBlLCBuYW1lcykge1xuICAgIHRyeSB7XG4gICAgICBuYW1lcy5mb3JFYWNoKHNldFByb3AuYmluZCh1bmRlZmluZWQsIHByb3RvdHlwZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydHkgZmFpbGVkLiBQcm9iYWJseSBJRTguXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0UHJvcChwcm90b3R5cGUsIG5hbWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5fX293bmVySUQsICdDYW5ub3Qgc2V0IG9uIGFuIGltbXV0YWJsZSByZWNvcmQuJyk7XG4gICAgICAgIHRoaXMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFNldCwgU2V0Q29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2V0KCkgOlxuICAgICAgICBpc1NldCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5U2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBTZXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiApIHtyZXR1cm4gc2V0LmFkZCh2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBTZXQub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTZXQuZnJvbUtleXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMoS2V5ZWRJdGVyYWJsZSh2YWx1ZSkua2V5U2VxKCkpO1xuICAgIH07XG5cbiAgICBTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXQgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5zZXQodmFsdWUsIHRydWUpKTtcbiAgICB9O1xuXG4gICAgU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAucmVtb3ZlKHZhbHVlKSk7XG4gICAgfTtcblxuICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLmNsZWFyKCkpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgICBTZXQucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24oKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbih4ICkge3JldHVybiB4LnNpemUgIT09IDB9KTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwICYmICF0aGlzLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBTZXRJdGVyYWJsZShpdGVyc1tpaV0pLmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHNldC5hZGQodmFsdWUpfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBTZXQucHJvdG90eXBlLmludGVyc2VjdCA9IGZ1bmN0aW9uKCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIFNldEl0ZXJhYmxlKGl0ZXIpfSk7XG4gICAgICB2YXIgb3JpZ2luYWxTZXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIG9yaWdpbmFsU2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7XG4gICAgICAgICAgaWYgKCFpdGVycy5ldmVyeShmdW5jdGlvbihpdGVyICkge3JldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKX0pKSB7XG4gICAgICAgICAgICBzZXQucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIFNldC5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbigpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbihpdGVyICkge3JldHVybiBTZXRJdGVyYWJsZShpdGVyKX0pO1xuICAgICAgdmFyIG9yaWdpbmFsU2V0ID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICBvcmlnaW5hbFNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge1xuICAgICAgICAgIGlmIChpdGVycy5zb21lKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpfSkpIHtcbiAgICAgICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2V0LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU2V0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgU2V0LnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gICAgfTtcblxuICAgIFNldC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICAgIH07XG5cbiAgICBTZXQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpO1xuICAgIH07XG5cbiAgICBTZXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLl9faXRlcmF0ZShmdW5jdGlvbihfLCBrKSAge3JldHVybiBmbihrLCBrLCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFNldC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIGt9KS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBTZXQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX19tYWtlKG5ld01hcCwgb3duZXJJRCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzU2V0KG1heWJlU2V0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlU2V0ICYmIG1heWJlU2V0W0lTX1NFVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgU2V0LmlzU2V0ID0gaXNTZXQ7XG5cbiAgdmFyIElTX1NFVF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFVF9fQEAnO1xuXG4gIHZhciBTZXRQcm90b3R5cGUgPSBTZXQucHJvdG90eXBlO1xuICBTZXRQcm90b3R5cGVbSVNfU0VUX1NFTlRJTkVMXSA9IHRydWU7XG4gIFNldFByb3RvdHlwZVtERUxFVEVdID0gU2V0UHJvdG90eXBlLnJlbW92ZTtcbiAgU2V0UHJvdG90eXBlLm1lcmdlRGVlcCA9IFNldFByb3RvdHlwZS5tZXJnZTtcbiAgU2V0UHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBTZXRQcm90b3R5cGUubWVyZ2VXaXRoO1xuICBTZXRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBTZXRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgU2V0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuXG4gIFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlTZXQ7XG4gIFNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlU2V0O1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNldChzZXQsIG5ld01hcCkge1xuICAgIGlmIChzZXQuX19vd25lcklEKSB7XG4gICAgICBzZXQuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgICAgc2V0Ll9tYXAgPSBuZXdNYXA7XG4gICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3TWFwID09PSBzZXQuX21hcCA/IHNldCA6XG4gICAgICBuZXdNYXAuc2l6ZSA9PT0gMCA/IHNldC5fX2VtcHR5KCkgOlxuICAgICAgc2V0Ll9fbWFrZShuZXdNYXApO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVNldChtYXAsIG93bmVySUQpIHtcbiAgICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShTZXRQcm90b3R5cGUpO1xuICAgIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIHNldC5fbWFwID0gbWFwO1xuICAgIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICB2YXIgRU1QVFlfU0VUO1xuICBmdW5jdGlvbiBlbXB0eVNldCgpIHtcbiAgICByZXR1cm4gRU1QVFlfU0VUIHx8IChFTVBUWV9TRVQgPSBtYWtlU2V0KGVtcHR5TWFwKCkpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKE9yZGVyZWRTZXQsIFNldCk7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gT3JkZXJlZFNldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU9yZGVyZWRTZXQoKSA6XG4gICAgICAgIGlzT3JkZXJlZFNldCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5T3JkZXJlZFNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICAgIHZhciBpdGVyID0gU2V0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIHNldC5hZGQodil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgT3JkZXJlZFNldC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRTZXQuZnJvbUtleXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMoS2V5ZWRJdGVyYWJsZSh2YWx1ZSkua2V5U2VxKCkpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZFNldCB7JywgJ30nKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkU2V0KG1heWJlT3JkZXJlZFNldCkge1xuICAgIHJldHVybiBpc1NldChtYXliZU9yZGVyZWRTZXQpICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRTZXQpO1xuICB9XG5cbiAgT3JkZXJlZFNldC5pc09yZGVyZWRTZXQgPSBpc09yZGVyZWRTZXQ7XG5cbiAgdmFyIE9yZGVyZWRTZXRQcm90b3R5cGUgPSBPcmRlcmVkU2V0LnByb3RvdHlwZTtcbiAgT3JkZXJlZFNldFByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cbiAgT3JkZXJlZFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlPcmRlcmVkU2V0O1xuICBPcmRlcmVkU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VPcmRlcmVkU2V0O1xuXG4gIGZ1bmN0aW9uIG1ha2VPcmRlcmVkU2V0KG1hcCwgb3duZXJJRCkge1xuICAgIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRTZXRQcm90b3R5cGUpO1xuICAgIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIHNldC5fbWFwID0gbWFwO1xuICAgIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICB2YXIgRU1QVFlfT1JERVJFRF9TRVQ7XG4gIGZ1bmN0aW9uIGVtcHR5T3JkZXJlZFNldCgpIHtcbiAgICByZXR1cm4gRU1QVFlfT1JERVJFRF9TRVQgfHwgKEVNUFRZX09SREVSRURfU0VUID0gbWFrZU9yZGVyZWRTZXQoZW1wdHlPcmRlcmVkTWFwKCkpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFN0YWNrLCBJbmRleGVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gU3RhY2sodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTdGFjaygpIDpcbiAgICAgICAgaXNTdGFjayh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5U3RhY2soKS51bnNoaWZ0QWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICBTdGFjay5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU3RhY2sgWycsICddJyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICB3aGlsZSAoaGVhZCAmJiBpbmRleC0tKSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVhZCA/IGhlYWQudmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oZWFkICYmIHRoaXMuX2hlYWQudmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgKyBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgZm9yICh2YXIgaWkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgaWktLSkge1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiBhcmd1bWVudHNbaWldLFxuICAgICAgICAgIG5leHQ6IGhlYWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaEFsbCA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUoaXRlcik7XG4gICAgICBpZiAoaXRlci5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgaXRlci5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtcbiAgICAgICAgbmV3U2l6ZSsrO1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBuZXh0OiBoZWFkXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS51bnNoaWZ0QWxsID0gZnVuY3Rpb24oaXRlcikge1xuICAgICAgcmV0dXJuIHRoaXMucHVzaEFsbChpdGVyKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wb3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2hlYWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAocmVzb2x2ZWRFbmQgIT09IHRoaXMuc2l6ZSkge1xuICAgICAgICAvLyBzdXBlci5zbGljZShiZWdpbiwgZW5kKTtcbiAgICAgICAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMsIGJlZ2luLCBlbmQpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgLSByZXNvbHZlZEJlZ2luO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgd2hpbGUgKHJlc29sdmVkQmVnaW4tLSkge1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gICAgU3RhY2sucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sodGhpcy5zaXplLCB0aGlzLl9oZWFkLCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdGUoZm4pO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKGZuKG5vZGUudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdG9yKHR5cGUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbm9kZS52YWx1ZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc1N0YWNrKG1heWJlU3RhY2spIHtcbiAgICByZXR1cm4gISEobWF5YmVTdGFjayAmJiBtYXliZVN0YWNrW0lTX1NUQUNLX1NFTlRJTkVMXSk7XG4gIH1cblxuICBTdGFjay5pc1N0YWNrID0gaXNTdGFjaztcblxuICB2YXIgSVNfU1RBQ0tfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TVEFDS19fQEAnO1xuXG4gIHZhciBTdGFja1Byb3RvdHlwZSA9IFN0YWNrLnByb3RvdHlwZTtcbiAgU3RhY2tQcm90b3R5cGVbSVNfU1RBQ0tfU0VOVElORUxdID0gdHJ1ZTtcbiAgU3RhY2tQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBTdGFja1Byb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBTdGFja1Byb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbiAgU3RhY2tQcm90b3R5cGUud2FzQWx0ZXJlZCA9IE1hcFByb3RvdHlwZS53YXNBbHRlcmVkO1xuXG5cbiAgZnVuY3Rpb24gbWFrZVN0YWNrKHNpemUsIGhlYWQsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShTdGFja1Byb3RvdHlwZSk7XG4gICAgbWFwLnNpemUgPSBzaXplO1xuICAgIG1hcC5faGVhZCA9IGhlYWQ7XG4gICAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfU1RBQ0s7XG4gIGZ1bmN0aW9uIGVtcHR5U3RhY2soKSB7XG4gICAgcmV0dXJuIEVNUFRZX1NUQUNLIHx8IChFTVBUWV9TVEFDSyA9IG1ha2VTdGFjaygwKSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udHJpYnV0ZXMgYWRkaXRpb25hbCBtZXRob2RzIHRvIGEgY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIG1peGluKGN0b3IsIG1ldGhvZHMpIHtcbiAgICB2YXIga2V5Q29waWVyID0gZnVuY3Rpb24oa2V5ICkgeyBjdG9yLnByb3RvdHlwZVtrZXldID0gbWV0aG9kc1trZXldOyB9O1xuICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmXG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgICByZXR1cm4gY3RvcjtcbiAgfVxuXG4gIEl0ZXJhYmxlLkl0ZXJhdG9yID0gSXRlcmF0b3I7XG5cbiAgbWl4aW4oSXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBDb252ZXJzaW9uIHRvIG90aGVyIHR5cGVzXG5cbiAgICB0b0FycmF5OiBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkodGhpcy5zaXplIHx8IDApO1xuICAgICAgdGhpcy52YWx1ZVNlcSgpLl9faXRlcmF0ZShmdW5jdGlvbih2LCBpKSAgeyBhcnJheVtpXSA9IHY7IH0pO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sXG5cbiAgICB0b0luZGV4ZWRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb0luZGV4ZWRTZXF1ZW5jZSh0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9KUzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChcbiAgICAgICAgZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50b0pTID09PSAnZnVuY3Rpb24nID8gdmFsdWUudG9KUygpIDogdmFsdWV9XG4gICAgICApLl9fdG9KUygpO1xuICAgIH0sXG5cbiAgICB0b0pTT046IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nID8gdmFsdWUudG9KU09OKCkgOiB2YWx1ZX1cbiAgICAgICkuX190b0pTKCk7XG4gICAgfSxcblxuICAgIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgdHJ1ZSk7XG4gICAgfSxcblxuICAgIHRvTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICAgIH0sXG5cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHsgb2JqZWN0W2tdID0gdjsgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICB0b09yZGVyZWRNYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIE9yZGVyZWRNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICAgIH0sXG5cbiAgICB0b09yZGVyZWRTZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIE9yZGVyZWRTZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b1NldDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9TZXRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb1NldFNlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b1NlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNJbmRleGVkKHRoaXMpID8gdGhpcy50b0luZGV4ZWRTZXEoKSA6XG4gICAgICAgIGlzS2V5ZWQodGhpcykgPyB0aGlzLnRvS2V5ZWRTZXEoKSA6XG4gICAgICAgIHRoaXMudG9TZXRTZXEoKTtcbiAgICB9LFxuXG4gICAgdG9TdGFjazogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gU3RhY2soaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b0xpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIExpc3QoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBDb21tb24gSmF2YVNjcmlwdCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXG5cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1tJdGVyYWJsZV0nO1xuICAgIH0sXG5cbiAgICBfX3RvU3RyaW5nOiBmdW5jdGlvbihoZWFkLCB0YWlsKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoZWFkICsgdGFpbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWFkICsgJyAnICsgdGhpcy50b1NlcSgpLm1hcCh0aGlzLl9fdG9TdHJpbmdNYXBwZXIpLmpvaW4oJywgJykgKyAnICcgKyB0YWlsO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGNvbmNhdDogZnVuY3Rpb24oKSB7dmFyIHZhbHVlcyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGNvbmNhdEZhY3RvcnkodGhpcywgdmFsdWVzKSk7XG4gICAgfSxcblxuICAgIGluY2x1ZGVzOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc29tZShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKX0pO1xuICAgIH0sXG5cbiAgICBlbnRyaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTKTtcbiAgICB9LFxuXG4gICAgZXZlcnk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgICAgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH0sXG5cbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCB0cnVlKSk7XG4gICAgfSxcblxuICAgIGZpbmQ6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgPyBlbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH0sXG5cbiAgICBmb3JFYWNoOiBmdW5jdGlvbihzaWRlRWZmZWN0LCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlKGNvbnRleHQgPyBzaWRlRWZmZWN0LmJpbmQoY29udGV4dCkgOiBzaWRlRWZmZWN0KTtcbiAgICB9LFxuXG4gICAgam9pbjogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyAnJyArIHNlcGFyYXRvciA6ICcsJztcbiAgICAgIHZhciBqb2luZWQgPSAnJztcbiAgICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYgKSB7XG4gICAgICAgIGlzRmlyc3QgPyAoaXNGaXJzdCA9IGZhbHNlKSA6IChqb2luZWQgKz0gc2VwYXJhdG9yKTtcbiAgICAgICAgam9pbmVkICs9IHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkID8gdi50b1N0cmluZygpIDogJyc7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBqb2luZWQ7XG4gICAgfSxcblxuICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0tFWVMpO1xuICAgIH0sXG5cbiAgICBtYXA6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIHJlZHVjZTogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciByZWR1Y3Rpb247XG4gICAgICB2YXIgdXNlRmlyc3Q7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdXNlRmlyc3QgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdWN0aW9uID0gaW5pdGlhbFJlZHVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICh1c2VGaXJzdCkge1xuICAgICAgICAgIHVzZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgcmVkdWN0aW9uID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWR1Y3Rpb24gPSByZWR1Y2VyLmNhbGwoY29udGV4dCwgcmVkdWN0aW9uLCB2LCBrLCBjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVkdWN0aW9uO1xuICAgIH0sXG5cbiAgICByZWR1Y2VSaWdodDogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHJldmVyc2VkID0gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpO1xuICAgICAgcmV0dXJuIHJldmVyc2VkLnJlZHVjZS5hcHBseShyZXZlcnNlZCwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBzbGljZTogZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIHNvbWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuICF0aGlzLmV2ZXJ5KG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAgYnV0TGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCAtMSk7XG4gICAgfSxcblxuICAgIGlzRW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5zaXplID09PSAwIDogIXRoaXMuc29tZShmdW5jdGlvbigpICB7cmV0dXJuIHRydWV9KTtcbiAgICB9LFxuXG4gICAgY291bnQ6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGVuc3VyZVNpemUoXG4gICAgICAgIHByZWRpY2F0ZSA/IHRoaXMudG9TZXEoKS5maWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSA6IHRoaXNcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNvdW50Qnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb3VudEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfSxcblxuICAgIGVudHJ5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXM7XG4gICAgICBpZiAoaXRlcmFibGUuX2NhY2hlKSB7XG4gICAgICAgIC8vIFdlIGNhY2hlIGFzIGFuIGVudHJpZXMgYXJyYXksIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgY2FjaGUhXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEoaXRlcmFibGUuX2NhY2hlKTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyaWVzU2VxdWVuY2UgPSBpdGVyYWJsZS50b1NlcSgpLm1hcChlbnRyeU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgICBlbnRyaWVzU2VxdWVuY2UuZnJvbUVudHJ5U2VxID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZS50b1NlcSgpfTtcbiAgICAgIHJldHVybiBlbnRyaWVzU2VxdWVuY2U7XG4gICAgfSxcblxuICAgIGZpbHRlck5vdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmaW5kRW50cnk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBmb3VuZCA9IG5vdFNldFZhbHVlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgICAgZm91bmQgPSBbaywgdl07XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9LFxuXG4gICAgZmluZEtleTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzBdO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdEVudHJ5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKTtcbiAgICB9LFxuXG4gICAgZmluZExhc3RLZXk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kS2V5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmQocmV0dXJuVHJ1ZSk7XG4gICAgfSxcblxuICAgIGZsYXRNYXA6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXRNYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCkpO1xuICAgIH0sXG5cbiAgICBmbGF0dGVuOiBmdW5jdGlvbihkZXB0aCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIGZyb21FbnRyeVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEZyb21FbnRyaWVzU2VxdWVuY2UodGhpcyk7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24oc2VhcmNoS2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZChmdW5jdGlvbihfLCBrZXkpICB7cmV0dXJuIGlzKGtleSwgc2VhcmNoS2V5KX0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBnZXRJbjogZnVuY3Rpb24oc2VhcmNoS2V5UGF0aCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBuZXN0ZWQgPSB0aGlzO1xuICAgICAgLy8gTm90ZTogaW4gYW4gRVM2IGVudmlyb25tZW50LCB3ZSB3b3VsZCBwcmVmZXI6XG4gICAgICAvLyBmb3IgKHZhciBrZXkgb2Ygc2VhcmNoS2V5UGF0aCkge1xuICAgICAgdmFyIGl0ZXIgPSBmb3JjZUl0ZXJhdG9yKHNlYXJjaEtleVBhdGgpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgdmFyIGtleSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIG5lc3RlZCA9IG5lc3RlZCAmJiBuZXN0ZWQuZ2V0ID8gbmVzdGVkLmdldChrZXksIE5PVF9TRVQpIDogTk9UX1NFVDtcbiAgICAgICAgaWYgKG5lc3RlZCA9PT0gTk9UX1NFVCkge1xuICAgICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5lc3RlZDtcbiAgICB9LFxuXG4gICAgZ3JvdXBCeTogZnVuY3Rpb24oZ3JvdXBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGdyb3VwQnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBoYXM6IGZ1bmN0aW9uKHNlYXJjaEtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHNlYXJjaEtleSwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gICAgfSxcblxuICAgIGhhc0luOiBmdW5jdGlvbihzZWFyY2hLZXlQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbihzZWFyY2hLZXlQYXRoLCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbiAgICB9LFxuXG4gICAgaXNTdWJzZXQ6IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pbmNsdWRlcyA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBJdGVyYWJsZShpdGVyKTtcbiAgICAgIHJldHVybiB0aGlzLmV2ZXJ5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKX0pO1xuICAgIH0sXG5cbiAgICBpc1N1cGVyc2V0OiBmdW5jdGlvbihpdGVyKSB7XG4gICAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaXNTdWJzZXQgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogSXRlcmFibGUoaXRlcik7XG4gICAgICByZXR1cm4gaXRlci5pc1N1YnNldCh0aGlzKTtcbiAgICB9LFxuXG4gICAga2V5T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kS2V5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGtleVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChrZXlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpcnN0KCk7XG4gICAgfSxcblxuICAgIGxhc3RLZXlPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgIH0sXG5cbiAgICBtYXg6IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpO1xuICAgIH0sXG5cbiAgICBtYXhCeTogZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpO1xuICAgIH0sXG5cbiAgICBtaW46IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvcik7XG4gICAgfSxcblxuICAgIG1pbkJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvciwgbWFwcGVyKTtcbiAgICB9LFxuXG4gICAgcmVzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgICB9LFxuXG4gICAgc2tpcDogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZShNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgICB9LFxuXG4gICAgc2tpcExhc3Q6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuc2tpcChhbW91bnQpLnJldmVyc2UoKSk7XG4gICAgfSxcblxuICAgIHNraXBXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgc2tpcFVudGlsOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNraXBXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIHNvcnRCeTogZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gICAgfSxcblxuICAgIHRha2U6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gICAgfSxcblxuICAgIHRha2VMYXN0OiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLnRha2UoYW1vdW50KS5yZXZlcnNlKCkpO1xuICAgIH0sXG5cbiAgICB0YWtlV2hpbGU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRha2VXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIHRha2VVbnRpbDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlV2hpbGUobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICB2YWx1ZVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0luZGV4ZWRTZXEoKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgSGFzaGFibGUgT2JqZWN0XG5cbiAgICBoYXNoQ29kZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2hhc2ggfHwgKHRoaXMuX19oYXNoID0gaGFzaEl0ZXJhYmxlKHRoaXMpKTtcbiAgICB9XG5cblxuICAgIC8vICMjIyBJbnRlcm5hbFxuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRlKGZuLCByZXZlcnNlKVxuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKVxuICB9KTtcblxuICAvLyB2YXIgSVNfSVRFUkFCTEVfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xuICAvLyB2YXIgSVNfS0VZRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xuICAvLyB2YXIgSVNfSU5ERVhFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcbiAgLy8gdmFyIElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5cbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICBJdGVyYWJsZVByb3RvdHlwZVtJU19JVEVSQUJMRV9TRU5USU5FTF0gPSB0cnVlO1xuICBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gSXRlcmFibGVQcm90b3R5cGUudmFsdWVzO1xuICBJdGVyYWJsZVByb3RvdHlwZS5fX3RvSlMgPSBJdGVyYWJsZVByb3RvdHlwZS50b0FycmF5O1xuICBJdGVyYWJsZVByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gcXVvdGVTdHJpbmc7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLmluc3BlY3QgPVxuICBJdGVyYWJsZVByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50b1N0cmluZygpOyB9O1xuICBJdGVyYWJsZVByb3RvdHlwZS5jaGFpbiA9IEl0ZXJhYmxlUHJvdG90eXBlLmZsYXRNYXA7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLmNvbnRhaW5zID0gSXRlcmFibGVQcm90b3R5cGUuaW5jbHVkZXM7XG5cbiAgbWl4aW4oS2V5ZWRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgICBmbGlwOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGlwRmFjdG9yeSh0aGlzKSk7XG4gICAgfSxcblxuICAgIG1hcEVudHJpZXM6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsXG4gICAgICAgIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgW2ssIHZdLCBpdGVyYXRpb25zKyssIHRoaXMkMCl9XG4gICAgICAgICkuZnJvbUVudHJ5U2VxKClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIG1hcEtleXM6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsXG4gICAgICAgIHRoaXMudG9TZXEoKS5mbGlwKCkubWFwKFxuICAgICAgICAgIGZ1bmN0aW9uKGssIHYpICB7cmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIGssIHYsIHRoaXMkMCl9XG4gICAgICAgICkuZmxpcCgpXG4gICAgICApO1xuICAgIH1cblxuICB9KTtcblxuICB2YXIgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZSA9IEtleWVkSXRlcmFibGUucHJvdG90eXBlO1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlW0lTX0tFWUVEX1NFTlRJTkVMXSA9IHRydWU7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IEl0ZXJhYmxlUHJvdG90eXBlLmVudHJpZXM7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGUuX190b0pTID0gSXRlcmFibGVQcm90b3R5cGUudG9PYmplY3Q7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGUuX190b1N0cmluZ01hcHBlciA9IGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGspICsgJzogJyArIHF1b3RlU3RyaW5nKHYpfTtcblxuXG5cbiAgbWl4aW4oSW5kZXhlZEl0ZXJhYmxlLCB7XG5cbiAgICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gICAgdG9LZXllZFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCBmYWxzZSk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gICAgZmlsdGVyOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmaWx0ZXJGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgZmluZEluZGV4OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgPyBlbnRyeVswXSA6IC0xO1xuICAgIH0sXG5cbiAgICBpbmRleE9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIGtleSA9IHRoaXMua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gICAgfSxcblxuICAgIGxhc3RJbmRleE9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIGtleSA9IHRoaXMubGFzdEtleU9mKHNlYXJjaFZhbHVlKTtcbiAgICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICAgIH0sXG5cbiAgICByZXZlcnNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBzbGljZTogZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBzcGxpY2U6IGZ1bmN0aW9uKGluZGV4LCByZW1vdmVOdW0gLyosIC4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgbnVtQXJncyA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICByZW1vdmVOdW0gPSBNYXRoLm1heChyZW1vdmVOdW0gfCAwLCAwKTtcbiAgICAgIGlmIChudW1BcmdzID09PSAwIHx8IChudW1BcmdzID09PSAyICYmICFyZW1vdmVOdW0pKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLy8gSWYgaW5kZXggaXMgbmVnYXRpdmUsIGl0IHNob3VsZCByZXNvbHZlIHJlbGF0aXZlIHRvIHRoZSBzaXplIG9mIHRoZVxuICAgICAgLy8gY29sbGVjdGlvbi4gSG93ZXZlciBzaXplIG1heSBiZSBleHBlbnNpdmUgdG8gY29tcHV0ZSBpZiBub3QgY2FjaGVkLCBzb1xuICAgICAgLy8gb25seSBjYWxsIGNvdW50KCkgaWYgdGhlIG51bWJlciBpcyBpbiBmYWN0IG5lZ2F0aXZlLlxuICAgICAgaW5kZXggPSByZXNvbHZlQmVnaW4oaW5kZXgsIGluZGV4IDwgMCA/IHRoaXMuY291bnQoKSA6IHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgc3BsaWNlZCA9IHRoaXMuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBudW1BcmdzID09PSAxID9cbiAgICAgICAgICBzcGxpY2VkIDpcbiAgICAgICAgICBzcGxpY2VkLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cywgMiksIHRoaXMuc2xpY2UoaW5kZXggKyByZW1vdmVOdW0pKVxuICAgICAgKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgTW9yZSBjb2xsZWN0aW9uIG1ldGhvZHNcblxuICAgIGZpbmRMYXN0SW5kZXg6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kTGFzdEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgPyBlbnRyeVswXSA6IC0xO1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoMCk7XG4gICAgfSxcblxuICAgIGZsYXR0ZW46IGZ1bmN0aW9uKGRlcHRoKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gKGluZGV4IDwgMCB8fCAodGhpcy5zaXplID09PSBJbmZpbml0eSB8fFxuICAgICAgICAgICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IHRoaXMuc2l6ZSkpKSA/XG4gICAgICAgIG5vdFNldFZhbHVlIDpcbiAgICAgICAgdGhpcy5maW5kKGZ1bmN0aW9uKF8sIGtleSkgIHtyZXR1cm4ga2V5ID09PSBpbmRleH0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBoYXM6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiAodGhpcy5zaXplICE9PSB1bmRlZmluZWQgP1xuICAgICAgICB0aGlzLnNpemUgPT09IEluZmluaXR5IHx8IGluZGV4IDwgdGhpcy5zaXplIDpcbiAgICAgICAgdGhpcy5pbmRleE9mKGluZGV4KSAhPT0gLTFcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGludGVycG9zZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJwb3NlRmFjdG9yeSh0aGlzLCBzZXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgaW50ZXJsZWF2ZTogZnVuY3Rpb24oLyouLi5pdGVyYWJsZXMqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICAgIHZhciB6aXBwZWQgPSB6aXBXaXRoRmFjdG9yeSh0aGlzLnRvU2VxKCksIEluZGV4ZWRTZXEub2YsIGl0ZXJhYmxlcyk7XG4gICAgICB2YXIgaW50ZXJsZWF2ZWQgPSB6aXBwZWQuZmxhdHRlbih0cnVlKTtcbiAgICAgIGlmICh6aXBwZWQuc2l6ZSkge1xuICAgICAgICBpbnRlcmxlYXZlZC5zaXplID0gemlwcGVkLnNpemUgKiBpdGVyYWJsZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVybGVhdmVkKTtcbiAgICB9LFxuXG4gICAga2V5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBSYW5nZSgwLCB0aGlzLnNpemUpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgtMSk7XG4gICAgfSxcblxuICAgIHNraXBXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHppcDogZnVuY3Rpb24oLyosIC4uLml0ZXJhYmxlcyAqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCBkZWZhdWx0WmlwcGVyLCBpdGVyYWJsZXMpKTtcbiAgICB9LFxuXG4gICAgemlwV2l0aDogZnVuY3Rpb24oemlwcGVyLyosIC4uLml0ZXJhYmxlcyAqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IGFyckNvcHkoYXJndW1lbnRzKTtcbiAgICAgIGl0ZXJhYmxlc1swXSA9IHRoaXM7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgemlwcGVyLCBpdGVyYWJsZXMpKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZVtJU19JTkRFWEVEX1NFTlRJTkVMXSA9IHRydWU7XG4gIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG5cblxuICBtaXhpbihTZXRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gICAgZ2V0OiBmdW5jdGlvbih2YWx1ZSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSkgPyB2YWx1ZSA6IG5vdFNldFZhbHVlO1xuICAgIH0sXG5cbiAgICBpbmNsdWRlczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgICBrZXlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVTZXEoKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgU2V0SXRlcmFibGUucHJvdG90eXBlLmhhcyA9IEl0ZXJhYmxlUHJvdG90eXBlLmluY2x1ZGVzO1xuICBTZXRJdGVyYWJsZS5wcm90b3R5cGUuY29udGFpbnMgPSBTZXRJdGVyYWJsZS5wcm90b3R5cGUuaW5jbHVkZXM7XG5cblxuICAvLyBNaXhpbiBzdWJjbGFzc2VzXG5cbiAgbWl4aW4oS2V5ZWRTZXEsIEtleWVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oSW5kZXhlZFNlcSwgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKFNldFNlcSwgU2V0SXRlcmFibGUucHJvdG90eXBlKTtcblxuICBtaXhpbihLZXllZENvbGxlY3Rpb24sIEtleWVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oSW5kZXhlZENvbGxlY3Rpb24sIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihTZXRDb2xsZWN0aW9uLCBTZXRJdGVyYWJsZS5wcm90b3R5cGUpO1xuXG5cbiAgLy8gI3ByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24ga2V5TWFwcGVyKHYsIGspIHtcbiAgICByZXR1cm4gaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVudHJ5TWFwcGVyKHYsIGspIHtcbiAgICByZXR1cm4gW2ssIHZdO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90KHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmVnKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAtcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcXVvdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0WmlwcGVyKCkge1xuICAgIHJldHVybiBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0TmVnQ29tcGFyYXRvcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gMSA6IGEgPiBiID8gLTEgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaEl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlLnNpemUgPT09IEluZmluaXR5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIG9yZGVyZWQgPSBpc09yZGVyZWQoaXRlcmFibGUpO1xuICAgIHZhciBrZXllZCA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBoID0gb3JkZXJlZCA/IDEgOiAwO1xuICAgIHZhciBzaXplID0gaXRlcmFibGUuX19pdGVyYXRlKFxuICAgICAga2V5ZWQgP1xuICAgICAgICBvcmRlcmVkID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAgeyBoID0gMzEgKiBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDsgfSA6XG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHsgaCA9IGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkgfCAwOyB9IDpcbiAgICAgICAgb3JkZXJlZCA/XG4gICAgICAgICAgZnVuY3Rpb24odiApIHsgaCA9IDMxICogaCArIGhhc2godikgfCAwOyB9IDpcbiAgICAgICAgICBmdW5jdGlvbih2ICkgeyBoID0gaCArIGhhc2godikgfCAwOyB9XG4gICAgKTtcbiAgICByZXR1cm4gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCkge1xuICAgIGggPSBpbXVsKGgsIDB4Q0M5RTJENTEpO1xuICAgIGggPSBpbXVsKGggPDwgMTUgfCBoID4+PiAtMTUsIDB4MUI4NzM1OTMpO1xuICAgIGggPSBpbXVsKGggPDwgMTMgfCBoID4+PiAtMTMsIDUpO1xuICAgIGggPSAoaCArIDB4RTY1NDZCNjQgfCAwKSBeIHNpemU7XG4gICAgaCA9IGltdWwoaCBeIGggPj4+IDE2LCAweDg1RUJDQTZCKTtcbiAgICBoID0gaW11bChoIF4gaCA+Pj4gMTMsIDB4QzJCMkFFMzUpO1xuICAgIGggPSBzbWkoaCBeIGggPj4+IDE2KTtcbiAgICByZXR1cm4gaDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hNZXJnZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgXiBiICsgMHg5RTM3NzlCOSArIChhIDw8IDYpICsgKGEgPj4gMikgfCAwOyAvLyBpbnRcbiAgfVxuXG4gIHZhciBJbW11dGFibGUgPSB7XG5cbiAgICBJdGVyYWJsZTogSXRlcmFibGUsXG5cbiAgICBTZXE6IFNlcSxcbiAgICBDb2xsZWN0aW9uOiBDb2xsZWN0aW9uLFxuICAgIE1hcDogTWFwLFxuICAgIE9yZGVyZWRNYXA6IE9yZGVyZWRNYXAsXG4gICAgTGlzdDogTGlzdCxcbiAgICBTdGFjazogU3RhY2ssXG4gICAgU2V0OiBTZXQsXG4gICAgT3JkZXJlZFNldDogT3JkZXJlZFNldCxcblxuICAgIFJlY29yZDogUmVjb3JkLFxuICAgIFJhbmdlOiBSYW5nZSxcbiAgICBSZXBlYXQ6IFJlcGVhdCxcblxuICAgIGlzOiBpcyxcbiAgICBmcm9tSlM6IGZyb21KU1xuXG4gIH07XG5cbiAgcmV0dXJuIEltbXV0YWJsZTtcblxufSkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/immutable/dist/immutable.js\n");

/***/ }),

/***/ "../../node_modules/redux-thunk/es/index.js":
/*!**************************************************!*\
  !*** ../../node_modules/redux-thunk/es/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (thunk);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LXRodW5rL2VzL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LXRodW5rL2VzL2luZGV4LmpzPzU3YzIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgcG90ZW50aWFsIFwiZXh0cmEgYXJndW1lbnRcIiB2YWx1ZSB0byBiZSBpbmplY3RlZCBsYXRlcixcclxuICogYW5kIHJldHVybnMgYW4gaW5zdGFuY2Ugb2YgdGhlIHRodW5rIG1pZGRsZXdhcmUgdGhhdCB1c2VzIHRoYXQgdmFsdWVcclxuICovXG5mdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICAvLyBTdGFuZGFyZCBSZWR1eCBtaWRkbGV3YXJlIGRlZmluaXRpb24gcGF0dGVybjpcbiAgLy8gU2VlOiBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSN3cml0aW5nLWN1c3RvbS1taWRkbGV3YXJlXG4gIHZhciBtaWRkbGV3YXJlID0gZnVuY3Rpb24gbWlkZGxld2FyZShfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcbiAgICAgICAgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgLy8gVGhlIHRodW5rIG1pZGRsZXdhcmUgbG9va3MgZm9yIGFueSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCB0byBgc3RvcmUuZGlzcGF0Y2hgLlxuICAgICAgICAvLyBJZiB0aGlzIFwiYWN0aW9uXCIgaXMgcmVhbGx5IGEgZnVuY3Rpb24sIGNhbGwgaXQgYW5kIHJldHVybiB0aGUgcmVzdWx0LlxuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIC8vIEluamVjdCB0aGUgc3RvcmUncyBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIG1ldGhvZHMsIGFzIHdlbGwgYXMgYW55IFwiZXh0cmEgYXJnXCJcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmFBcmd1bWVudCk7XG4gICAgICAgIH0gLy8gT3RoZXJ3aXNlLCBwYXNzIHRoZSBhY3Rpb24gZG93biB0aGUgbWlkZGxld2FyZSBjaGFpbiBhcyB1c3VhbFxuXG5cbiAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gbWlkZGxld2FyZTtcbn1cblxudmFyIHRodW5rID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKCk7IC8vIEF0dGFjaCB0aGUgZmFjdG9yeSBmdW5jdGlvbiBzbyB1c2VycyBjYW4gY3JlYXRlIGEgY3VzdG9taXplZCB2ZXJzaW9uXG4vLyB3aXRoIHdoYXRldmVyIFwiZXh0cmEgYXJnXCIgdGhleSB3YW50IHRvIGluamVjdCBpbnRvIHRoZWlyIHRodW5rc1xuXG50aHVuay53aXRoRXh0cmFBcmd1bWVudCA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZTtcbmV4cG9ydCBkZWZhdWx0IHRodW5rOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/redux-thunk/es/index.js\n");

/***/ }),

/***/ "../../node_modules/redux/es/redux.js":
/*!********************************************!*\
  !*** ../../node_modules/redux/es/redux.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__DO_NOT_USE__ActionTypes\": () => (/* binding */ ActionTypes),\n/* harmony export */   \"applyMiddleware\": () => (/* binding */ applyMiddleware),\n/* harmony export */   \"bindActionCreators\": () => (/* binding */ bindActionCreators),\n/* harmony export */   \"combineReducers\": () => (/* binding */ combineReducers),\n/* harmony export */   \"compose\": () => (/* binding */ compose),\n/* harmony export */   \"createStore\": () => (/* binding */ createStore),\n/* harmony export */   \"legacy_createStore\": () => (/* binding */ legacy_createStore)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js\");\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (true) {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( false ? 0 : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( false ? 0 : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( false ? 0 : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( false ? 0 : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( false ? 0 : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error( false ? 0 : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( false ? 0 : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( false ? 0 : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( false ? 0 : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error( false ? 0 : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( false ? 0 : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( false ? 0 : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( false ? 0 : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( false ? 0 : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (true) {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (true) {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (true) {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( false ? 0 : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( false ? 0 : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( false ? 0 : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL3JlZHV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL3JlZHV4LmpzP2Y0ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMic7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIFJlYWN0OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9tYXN0ZXIvcGFja2FnZXMvc2hhcmVkL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UuanNcbiAqXG4gKiBEbyBub3QgcmVxdWlyZSB0aGlzIG1vZHVsZSBkaXJlY3RseSEgVXNlIG5vcm1hbCB0aHJvdyBlcnJvciBjYWxscy4gVGhlc2UgbWVzc2FnZXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGVycm9yIGNvZGVzXG4gKiBkdXJpbmcgYnVpbGQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZVxuICovXG5mdW5jdGlvbiBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgcmV0dXJuIFwiTWluaWZpZWQgUmVkdXggZXJyb3IgI1wiICsgY29kZSArIFwiOyB2aXNpdCBodHRwczovL3JlZHV4LmpzLm9yZy9FcnJvcnM/Y29kZT1cIiArIGNvZGUgKyBcIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciBcIiArICd1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzLiAnO1xufVxuXG4vLyBJbmxpbmVkIHZlcnNpb24gb2YgdGhlIGBzeW1ib2wtb2JzZXJ2YWJsZWAgcG9seWZpbGxcbnZhciAkJG9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbn0pKCk7XG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG52YXIgcmFuZG9tU3RyaW5nID0gZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG59O1xuXG52YXIgQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6IFwiQEByZWR1eC9JTklUXCIgKyByYW5kb21TdHJpbmcoKSxcbiAgUkVQTEFDRTogXCJAQHJlZHV4L1JFUExBQ0VcIiArIHJhbmRvbVN0cmluZygpLFxuICBQUk9CRV9VTktOT1dOX0FDVElPTjogZnVuY3Rpb24gUFJPQkVfVU5LTk9XTl9BQ1RJT04oKSB7XG4gICAgcmV0dXJuIFwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTlwiICsgcmFuZG9tU3RyaW5nKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IG9iaiBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYXJndW1lbnQgYXBwZWFycyB0byBiZSBhIHBsYWluIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJvdG8gPSBvYmo7XG5cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IHByb3RvO1xufVxuXG4vLyBJbmxpbmVkIC8gc2hvcnRlbmVkIHZlcnNpb24gb2YgYGtpbmRPZmAgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9raW5kLW9mXG5mdW5jdGlvbiBtaW5pS2luZE9mKHZhbCkge1xuICBpZiAodmFsID09PSB2b2lkIDApIHJldHVybiAndW5kZWZpbmVkJztcbiAgaWYgKHZhbCA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICBjYXNlICdzeW1ib2wnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSByZXR1cm4gJ2FycmF5JztcbiAgaWYgKGlzRGF0ZSh2YWwpKSByZXR1cm4gJ2RhdGUnO1xuICBpZiAoaXNFcnJvcih2YWwpKSByZXR1cm4gJ2Vycm9yJztcbiAgdmFyIGNvbnN0cnVjdG9yTmFtZSA9IGN0b3JOYW1lKHZhbCk7XG5cbiAgc3dpdGNoIChjb25zdHJ1Y3Rvck5hbWUpIHtcbiAgICBjYXNlICdTeW1ib2wnOlxuICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgIGNhc2UgJ1dlYWtNYXAnOlxuICAgIGNhc2UgJ1dlYWtTZXQnOlxuICAgIGNhc2UgJ01hcCc6XG4gICAgY2FzZSAnU2V0JzpcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvck5hbWU7XG4gIH0gLy8gb3RoZXJcblxuXG4gIHJldHVybiB0eXBlLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGN0b3JOYW1lKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbC5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyA/IHZhbC5jb25zdHJ1Y3Rvci5uYW1lIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNFcnJvcih2YWwpIHtcbiAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIEVycm9yIHx8IHR5cGVvZiB2YWwubWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgdmFsLmNvbnN0cnVjdG9yICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3Iuc3RhY2tUcmFjZUxpbWl0ID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiB0eXBlb2YgdmFsLnRvRGF0ZVN0cmluZyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLmdldERhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbC5zZXREYXRlID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBraW5kT2YodmFsKSB7XG4gIHZhciB0eXBlT2ZWYWwgPSB0eXBlb2YgdmFsO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdHlwZU9mVmFsID0gbWluaUtpbmRPZih2YWwpO1xuICB9XG5cbiAgcmV0dXJuIHR5cGVPZlZhbDtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqICoqV2UgcmVjb21tZW5kIHVzaW5nIHRoZSBgY29uZmlndXJlU3RvcmVgIG1ldGhvZFxuICogb2YgdGhlIGBAcmVkdXhqcy90b29sa2l0YCBwYWNrYWdlKiosIHdoaWNoIHJlcGxhY2VzIGBjcmVhdGVTdG9yZWAuXG4gKlxuICogUmVkdXggVG9vbGtpdCBpcyBvdXIgcmVjb21tZW5kZWQgYXBwcm9hY2ggZm9yIHdyaXRpbmcgUmVkdXggbG9naWMgdG9kYXksXG4gKiBpbmNsdWRpbmcgc3RvcmUgc2V0dXAsIHJlZHVjZXJzLCBkYXRhIGZldGNoaW5nLCBhbmQgbW9yZS5cbiAqXG4gKiAqKkZvciBtb3JlIGRldGFpbHMsIHBsZWFzZSByZWFkIHRoaXMgUmVkdXggZG9jcyBwYWdlOioqXG4gKiAqKmh0dHBzOi8vcmVkdXguanMub3JnL2ludHJvZHVjdGlvbi93aHktcnRrLWlzLXJlZHV4LXRvZGF5KipcbiAqXG4gKiBgY29uZmlndXJlU3RvcmVgIGZyb20gUmVkdXggVG9vbGtpdCBpcyBhbiBpbXByb3ZlZCB2ZXJzaW9uIG9mIGBjcmVhdGVTdG9yZWAgdGhhdFxuICogc2ltcGxpZmllcyBzZXR1cCBhbmQgaGVscHMgYXZvaWQgY29tbW9uIGJ1Z3MuXG4gKlxuICogWW91IHNob3VsZCBub3QgYmUgdXNpbmcgdGhlIGByZWR1eGAgY29yZSBwYWNrYWdlIGJ5IGl0c2VsZiB0b2RheSwgZXhjZXB0IGZvciBsZWFybmluZyBwdXJwb3Nlcy5cbiAqIFRoZSBgY3JlYXRlU3RvcmVgIG1ldGhvZCBmcm9tIHRoZSBjb3JlIGByZWR1eGAgcGFja2FnZSB3aWxsIG5vdCBiZSByZW1vdmVkLCBidXQgd2UgZW5jb3VyYWdlXG4gKiBhbGwgdXNlcnMgdG8gbWlncmF0ZSB0byB1c2luZyBSZWR1eCBUb29sa2l0IGZvciBhbGwgUmVkdXggY29kZS5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byB1c2UgYGNyZWF0ZVN0b3JlYCB3aXRob3V0IHRoaXMgdmlzdWFsIGRlcHJlY2F0aW9uIHdhcm5pbmcsIHVzZVxuICogdGhlIGBsZWdhY3lfY3JlYXRlU3RvcmVgIGltcG9ydCBpbnN0ZWFkOlxuICpcbiAqIGBpbXBvcnQgeyBsZWdhY3lfY3JlYXRlU3RvcmUgYXMgY3JlYXRlU3RvcmV9IGZyb20gJ3JlZHV4J2BcbiAqXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDApIDogJ0l0IGxvb2tzIGxpa2UgeW91IGFyZSBwYXNzaW5nIHNldmVyYWwgc3RvcmUgZW5oYW5jZXJzIHRvICcgKyAnY3JlYXRlU3RvcmUoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkLCBjb21wb3NlIHRoZW0gJyArICd0b2dldGhlciB0byBhIHNpbmdsZSBmdW5jdGlvbi4gU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL3R1dG9yaWFscy9mdW5kYW1lbnRhbHMvcGFydC00LXN0b3JlI2NyZWF0aW5nLWEtc3RvcmUtd2l0aC1lbmhhbmNlcnMgZm9yIGFuIGV4YW1wbGUuJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IHByZWxvYWRlZFN0YXRlO1xuICAgIHByZWxvYWRlZFN0YXRlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxKSA6IFwiRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YoZW5oYW5jZXIpICsgXCInXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMikgOiBcIkV4cGVjdGVkIHRoZSByb290IHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihyZWR1Y2VyKSArIFwiJ1wiKTtcbiAgfVxuXG4gIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gIHZhciBjdXJyZW50U3RhdGUgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAvKipcbiAgICogVGhpcyBtYWtlcyBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50TGlzdGVuZXJzIHNvIHdlIGNhbiB1c2VcbiAgICogbmV4dExpc3RlbmVycyBhcyBhIHRlbXBvcmFyeSBsaXN0IHdoaWxlIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBUaGlzIHByZXZlbnRzIGFueSBidWdzIGFyb3VuZCBjb25zdW1lcnMgY2FsbGluZ1xuICAgKiBzdWJzY3JpYmUvdW5zdWJzY3JpYmUgaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLlxuICAgKi9cblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMykgOiAnWW91IG1heSBub3QgY2FsbCBzdG9yZS5nZXRTdGF0ZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdUaGUgcmVkdWNlciBoYXMgYWxyZWFkeSByZWNlaXZlZCB0aGUgc3RhdGUgYXMgYW4gYXJndW1lbnQuICcgKyAnUGFzcyBpdCBkb3duIGZyb20gdGhlIHRvcCByZWR1Y2VyIGluc3RlYWQgb2YgcmVhZGluZyBpdCBmcm9tIHRoZSBzdG9yZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIGxpc3RlbmVyLiBJdCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSBhbiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCxcbiAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cbiAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG4gICAqIGNhdmVhdHM6XG4gICAqXG4gICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cbiAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG4gICAqIHdpbGwgbm90IGhhdmUgYW55IGVmZmVjdCBvbiB0aGUgYGRpc3BhdGNoKClgIHRoYXQgaXMgY3VycmVudGx5IGluIHByb2dyZXNzLlxuICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcbiAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cbiAgICpcbiAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG4gICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG4gICAqIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuIEl0IGlzLCBob3dldmVyLCBndWFyYW50ZWVkIHRoYXQgYWxsIHN1YnNjcmliZXJzXG4gICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3RcbiAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg0KSA6IFwiRXhwZWN0ZWQgdGhlIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YobGlzdGVuZXIpICsgXCInXCIpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg1KSA6ICdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLnN1YnNjcmliZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdJZiB5b3Ugd291bGQgbGlrZSB0byBiZSBub3RpZmllZCBhZnRlciB0aGUgc3RvcmUgaGFzIGJlZW4gdXBkYXRlZCwgc3Vic2NyaWJlIGZyb20gYSAnICsgJ2NvbXBvbmVudCBhbmQgaW52b2tlIHN0b3JlLmdldFN0YXRlKCkgaW4gdGhlIGNhbGxiYWNrIHRvIGFjY2VzcyB0aGUgbGF0ZXN0IHN0YXRlLiAnICsgJ1NlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGkvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDYpIDogJ1lvdSBtYXkgbm90IHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBsaXN0ZW5lciB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBjdXJyZW50TGlzdGVuZXJzID0gbnVsbDtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGFjdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDcpIDogXCJBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gSW5zdGVhZCwgdGhlIGFjdHVhbCB0eXBlIHdhczogJ1wiICsga2luZE9mKGFjdGlvbikgKyBcIicuIFlvdSBtYXkgbmVlZCB0byBhZGQgbWlkZGxld2FyZSB0byB5b3VyIHN0b3JlIHNldHVwIHRvIGhhbmRsZSBkaXNwYXRjaGluZyBvdGhlciB2YWx1ZXMsIHN1Y2ggYXMgJ3JlZHV4LXRodW5rJyB0byBoYW5kbGUgZGlzcGF0Y2hpbmcgZnVuY3Rpb25zLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTQtc3RvcmUjbWlkZGxld2FyZSBhbmQgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTYtYXN5bmMtbG9naWMjdXNpbmctdGhlLXJlZHV4LXRodW5rLW1pZGRsZXdhcmUgZm9yIGV4YW1wbGVzLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoOCkgOiAnQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiBZb3UgbWF5IGhhdmUgbWlzc3BlbGxlZCBhbiBhY3Rpb24gdHlwZSBzdHJpbmcgY29uc3RhbnQuJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDkpIDogJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgcmVkdWNlciBjdXJyZW50bHkgdXNlZCBieSB0aGUgc3RvcmUgdG8gY2FsY3VsYXRlIHRoZSBzdGF0ZS5cbiAgICpcbiAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuICAgKiBsb2FkIHNvbWUgb2YgdGhlIHJlZHVjZXJzIGR5bmFtaWNhbGx5LiBZb3UgbWlnaHQgYWxzbyBuZWVkIHRoaXMgaWYgeW91XG4gICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFJlZHVjZXIgVGhlIHJlZHVjZXIgZm9yIHRoZSBzdG9yZSB0byB1c2UgaW5zdGVhZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxMCkgOiBcIkV4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKG5leHRSZWR1Y2VyKSk7XG4gICAgfVxuXG4gICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjsgLy8gVGhpcyBhY3Rpb24gaGFzIGEgc2ltaWxpYXIgZWZmZWN0IHRvIEFjdGlvblR5cGVzLklOSVQuXG4gICAgLy8gQW55IHJlZHVjZXJzIHRoYXQgZXhpc3RlZCBpbiBib3RoIHRoZSBuZXcgYW5kIG9sZCByb290UmVkdWNlclxuICAgIC8vIHdpbGwgcmVjZWl2ZSB0aGUgcHJldmlvdXMgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gICAgLy8gdGhlIG5ldyBzdGF0ZSB0cmVlIHdpdGggYW55IHJlbGV2YW50IGRhdGEgZnJvbSB0aGUgb2xkIG9uZS5cblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFUExBQ0VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDExKSA6IFwiRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihvYnNlcnZlcikgKyBcIidcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX3JlZlskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX3JlZjtcbiAgfSAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gIH0pO1xuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbJCRvYnNlcnZhYmxlXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgUmVkdXggc3RvcmUgdGhhdCBob2xkcyB0aGUgc3RhdGUgdHJlZS5cbiAqXG4gKiAqKldlIHJlY29tbWVuZCB1c2luZyBgY29uZmlndXJlU3RvcmVgIGZyb20gdGhlXG4gKiBgQHJlZHV4anMvdG9vbGtpdGAgcGFja2FnZSoqLCB3aGljaCByZXBsYWNlcyBgY3JlYXRlU3RvcmVgOlxuICogKipodHRwczovL3JlZHV4LmpzLm9yZy9pbnRyb2R1Y3Rpb24vd2h5LXJ0ay1pcy1yZWR1eC10b2RheSoqXG4gKlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5cbnZhciBsZWdhY3lfY3JlYXRlU3RvcmUgPSBjcmVhdGVTdG9yZTtcblxuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuXG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiBcIlRoZSBcIiArIGFyZ3VtZW50TmFtZSArIFwiIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXFxcIlwiICsga2luZE9mKGlucHV0U3RhdGUpICsgXCJcXFwiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIFwiICsgKFwia2V5czogXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCJcIik7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5SRVBMQUNFKSByZXR1cm47XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gXCJVbmV4cGVjdGVkIFwiICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyBcIiBcIiArIChcIlxcXCJcIiArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiIGZvdW5kIGluIFwiICsgYXJndW1lbnROYW1lICsgXCIuIFwiKSArIFwiRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiBcIiArIChcIlxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLlwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTIpIDogXCJUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBcIiArIFwiSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IFwiICsgXCJleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IFwiICsgXCJub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCBcIiArIFwieW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKVxuICAgIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTMpIDogXCJUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiBcIiArIChcIkRvbid0IHRyeSB0byBoYW5kbGUgJ1wiICsgQWN0aW9uVHlwZXMuSU5JVCArIFwiJyBvciBvdGhlciBhY3Rpb25zIGluIFxcXCJyZWR1eC8qXFxcIiBcIikgKyBcIm5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIFwiICsgXCJjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBcIiArIFwiaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIFwiICsgXCJhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQsIGJ1dCBjYW4gYmUgbnVsbC5cIik7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG4gKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG4gKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG4gKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcbiAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdhcm5pbmcoXCJObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpOyAvLyBUaGlzIGlzIHVzZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHdhcm4gYWJvdXQgdGhlIHNhbWVcbiAgLy8ga2V5cyBtdWx0aXBsZSB0aW1lcy5cblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cblxuICB2YXIgc2hhcGVBc3NlcnRpb25FcnJvcjtcblxuICB0cnkge1xuICAgIGFzc2VydFJlZHVjZXJTaGFwZShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgc3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoc2hhcGVBc3NlcnRpb25FcnJvcikge1xuICAgICAgdGhyb3cgc2hhcGVBc3NlcnRpb25FcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuXG4gICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcbiAgICAgICAgd2FybmluZyh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcblxuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxNCkgOiBcIldoZW4gY2FsbGVkIHdpdGggYW4gYWN0aW9uIG9mIHR5cGUgXCIgKyAoYWN0aW9uVHlwZSA/IFwiXFxcIlwiICsgU3RyaW5nKGFjdGlvblR5cGUpICsgXCJcXFwiXCIgOiAnKHVua25vd24gdHlwZSknKSArIFwiLCB0aGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIF9rZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBcIiArIFwiVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBcIiArIFwiSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYW4gYWN0aW9uIGNyZWF0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGRpc3BhdGNoIHdyYXBwZWQgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTYpIDogXCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGJ1dCBpbnN0ZWFkIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YoYWN0aW9uQ3JlYXRvcnMpICsgXCInLiBcIiArIFwiRGlkIHlvdSB3cml0ZSBcXFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiIGluc3RlYWQgb2YgXFxcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiP1wiKTtcbiAgfVxuXG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuXG4gICAgICB2YXIgX2Rpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDE1KSA6ICdEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiAnICsgJ090aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC4nKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gY29tcG9zZS5hcHBseSh2b2lkIDAsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdG9yZSksIHt9LCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB7IEFjdGlvblR5cGVzIGFzIF9fRE9fTk9UX1VTRV9fQWN0aW9uVHlwZXMsIGFwcGx5TWlkZGxld2FyZSwgYmluZEFjdGlvbkNyZWF0b3JzLCBjb21iaW5lUmVkdWNlcnMsIGNvbXBvc2UsIGNyZWF0ZVN0b3JlLCBsZWdhY3lfY3JlYXRlU3RvcmUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/redux/es/redux.js\n");

/***/ }),

/***/ "@deriv/shared":
/*!********************************!*\
  !*** external "@deriv/shared" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_shared__;

/***/ }),

/***/ "@deriv/translations":
/*!**************************************!*\
  !*** external "@deriv/translations" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_translations__;

/***/ }),

/***/ "../../node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _defineProperty)\n/* harmony export */ });\n/* harmony import */ var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toPropertyKey.js */ \"../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\");\n\nfunction _defineProperty(obj, key, value) {\n  key = (0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzPzA0OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRvUHJvcGVydHlLZXkgZnJvbSBcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBrZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@babel/runtime/helpers/esm/defineProperty.js\n");

/***/ }),

/***/ "../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _objectSpread2)\n/* harmony export */ });\n/* harmony import */ var _defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defineProperty.js */ \"../../node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      (0,_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzPzA0OGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmluZVByb3BlcnR5IGZyb20gXCIuL2RlZmluZVByb3BlcnR5LmpzXCI7XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHtcbiAgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7XG4gICAgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlO1xuICAgIH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pO1xuICB9XG4gIHJldHVybiB0O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIoZSkge1xuICBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykge1xuICAgIHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTtcbiAgICByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7XG4gICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGU7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n");

/***/ }),

/***/ "../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _toPrimitive)\n/* harmony export */ });\n/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeof.js */ \"../../node_modules/@babel/runtime/helpers/esm/typeof.js\");\n\nfunction _toPrimitive(input, hint) {\n  if ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJpbWl0aXZlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9ib3QtdHJhZGUtZW5naW5lLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b1ByaW1pdGl2ZS5qcz84ZjExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfdHlwZW9mIGZyb20gXCIuL3R5cGVvZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js\n");

/***/ }),

/***/ "../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _toPropertyKey)\n/* harmony export */ });\n/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeof.js */ \"../../node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var _toPrimitive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toPrimitive.js */ \"../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js\");\n\n\nfunction _toPropertyKey(arg) {\n  var key = (0,_toPrimitive_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(arg, \"string\");\n  return (0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key) === \"symbol\" ? key : String(key);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJvcGVydHlLZXkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJvcGVydHlLZXkuanM/YTU3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiLi90eXBlb2YuanNcIjtcbmltcG9ydCB0b1ByaW1pdGl2ZSBmcm9tIFwiLi90b1ByaW1pdGl2ZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\n");

/***/ }),

/***/ "../../node_modules/@babel/runtime/helpers/esm/typeof.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@babel/runtime/helpers/esm/typeof.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _typeof)\n/* harmony export */ });\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2JvdC10cmFkZS1lbmdpbmUvLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcz8zYzc0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90eXBlb2Yobykge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykge1xuICAgIHJldHVybiB0eXBlb2YgbztcbiAgfSA6IGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87XG4gIH0sIF90eXBlb2Yobyk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/@babel/runtime/helpers/esm/typeof.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./tradeEngine/utils/index.js");
/******/ 	__webpack_exports__ = __webpack_exports__["default"];
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});